/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------------------------------------------*/

var N8=Object.create;var pd=Object.defineProperty,L8=Object.defineProperties,F8=Object.getOwnPropertyDescriptor,M8=Object.getOwnPropertyDescriptors,j8=Object.getOwnPropertyNames,yA=Object.getOwnPropertySymbols,q8=Object.getPrototypeOf,wA=Object.prototype.hasOwnProperty,$8=Object.prototype.propertyIsEnumerable;var CA=(e,t,r)=>t in e?pd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,K=(e,t)=>{for(var r in t||(t={}))wA.call(t,r)&&CA(e,r,t[r]);if(yA)for(var r of yA(t))$8.call(t,r)&&CA(e,r,t[r]);return e},me=(e,t)=>L8(e,M8(t)),bA=e=>pd(e,"__esModule",{value:!0});var qe=(e,t)=>()=>(e&&(t=e(e=0)),t);var T=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),lb=(e,t)=>{bA(e);for(var r in t)pd(e,r,{get:t[r],enumerable:!0})},U8=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of j8(t))!wA.call(e,n)&&n!=="default"&&pd(e,n,{get:()=>t[n],enumerable:!(r=F8(t,n))||r.enumerable});return e},te=e=>U8(bA(pd(e!=null?N8(q8(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var jl=T((tbe,xA)=>{"use strict";var SA=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);xA.exports=e=>e?Object.keys(e).map(t=>[SA.has(t)?SA.get(t):t,e[t]]).reduce((t,r)=>(t[r[0]]=r[1],t),Object.create(null)):{}});var kA=T((rbe,PA)=>{"use strict";PA.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var vd=T((nbe,IA)=>{"use strict";IA.exports=gt;gt.Node=tc;gt.create=gt;function gt(e){var t=this;if(t instanceof gt||(t=new gt),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}gt.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};gt.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};gt.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};gt.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)H8(this,arguments[e]);return this.length};gt.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)V8(this,arguments[e]);return this.length};gt.prototype.pop=function(){if(!!this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};gt.prototype.shift=function(){if(!!this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};gt.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};gt.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};gt.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};gt.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};gt.prototype.map=function(e,t){t=t||this;for(var r=new gt,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};gt.prototype.mapReverse=function(e,t){t=t||this;for(var r=new gt,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};gt.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};gt.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};gt.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};gt.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};gt.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new gt;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};gt.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new gt;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};gt.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var o=[],n=0;i&&n<t;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=B8(this,i,r[n]);return o};gt.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function B8(e,t,r){var n=t===e.head?new tc(r,null,t,e):new tc(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function H8(e,t){e.tail=new tc(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function V8(e,t){e.head=new tc(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function tc(e,t,r,n){if(!(this instanceof tc))return new tc(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{kA()(gt)}catch{}});var ql=T((ibe,MA)=>{"use strict";var W8=require("events"),TA=require("stream"),yd=vd(),AA=require("string_decoder").StringDecoder,Wo=Symbol("EOF"),wd=Symbol("maybeEmitEnd"),Ds=Symbol("emittedEnd"),Bm=Symbol("emittingEnd"),Hm=Symbol("closed"),DA=Symbol("read"),ub=Symbol("flush"),RA=Symbol("flushChunk"),ln=Symbol("encoding"),zo=Symbol("decoder"),Vm=Symbol("flowing"),Cd=Symbol("paused"),bd=Symbol("resume"),Qr=Symbol("bufferLength"),OA=Symbol("bufferPush"),fb=Symbol("bufferShift"),Ur=Symbol("objectMode"),Br=Symbol("destroyed"),NA=global._MP_NO_ITERATOR_SYMBOLS_!=="1",z8=NA&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),G8=NA&&Symbol.iterator||Symbol("iterator not implemented"),LA=e=>e==="end"||e==="finish"||e==="prefinish",K8=e=>e instanceof ArrayBuffer||typeof e=="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0,Y8=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e);MA.exports=class FA extends TA{constructor(t){super();this[Vm]=!1,this[Cd]=!1,this.pipes=new yd,this.buffer=new yd,this[Ur]=t&&t.objectMode||!1,this[Ur]?this[ln]=null:this[ln]=t&&t.encoding||null,this[ln]==="buffer"&&(this[ln]=null),this[zo]=this[ln]?new AA(this[ln]):null,this[Wo]=!1,this[Ds]=!1,this[Bm]=!1,this[Hm]=!1,this.writable=!0,this.readable=!0,this[Qr]=0,this[Br]=!1}get bufferLength(){return this[Qr]}get encoding(){return this[ln]}set encoding(t){if(this[Ur])throw new Error("cannot set encoding in objectMode");if(this[ln]&&t!==this[ln]&&(this[zo]&&this[zo].lastNeed||this[Qr]))throw new Error("cannot change encoding");this[ln]!==t&&(this[zo]=t?new AA(t):null,this.buffer.length&&(this.buffer=this.buffer.map(r=>this[zo].write(r)))),this[ln]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[Ur]}set objectMode(t){this[Ur]=this[Ur]||!!t}write(t,r,n){if(this[Wo])throw new Error("write after end");return this[Br]?(this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0):(typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8"),!this[Ur]&&!Buffer.isBuffer(t)&&(Y8(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):K8(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),!this.objectMode&&!t.length?(this[Qr]!==0&&this.emit("readable"),n&&n(),this.flowing):(typeof t=="string"&&!this[Ur]&&!(r===this[ln]&&!this[zo].lastNeed)&&(t=Buffer.from(t,r)),Buffer.isBuffer(t)&&this[ln]&&(t=this[zo].write(t)),this.flowing?(this[Qr]!==0&&this[ub](!0),this.emit("data",t)):this[OA](t),this[Qr]!==0&&this.emit("readable"),n&&n(),this.flowing))}read(t){if(this[Br])return null;try{return this[Qr]===0||t===0||t>this[Qr]?null:(this[Ur]&&(t=null),this.buffer.length>1&&!this[Ur]&&(this.encoding?this.buffer=new yd([Array.from(this.buffer).join("")]):this.buffer=new yd([Buffer.concat(Array.from(this.buffer),this[Qr])])),this[DA](t||null,this.buffer.head.value))}finally{this[wd]()}}[DA](t,r){return t===r.length||t===null?this[fb]():(this.buffer.head.value=r.slice(t),r=r.slice(0,t),this[Qr]-=t),this.emit("data",r),!this.buffer.length&&!this[Wo]&&this.emit("drain"),r}end(t,r,n){return typeof t=="function"&&(n=t,t=null),typeof r=="function"&&(n=r,r="utf8"),t&&this.write(t,r),n&&this.once("end",n),this[Wo]=!0,this.writable=!1,(this.flowing||!this[Cd])&&this[wd](),this}[bd](){this[Br]||(this[Cd]=!1,this[Vm]=!0,this.emit("resume"),this.buffer.length?this[ub]():this[Wo]?this[wd]():this.emit("drain"))}resume(){return this[bd]()}pause(){this[Vm]=!1,this[Cd]=!0}get destroyed(){return this[Br]}get flowing(){return this[Vm]}get paused(){return this[Cd]}[OA](t){return this[Ur]?this[Qr]+=1:this[Qr]+=t.length,this.buffer.push(t)}[fb](){return this.buffer.length&&(this[Ur]?this[Qr]-=1:this[Qr]-=this.buffer.head.value.length),this.buffer.shift()}[ub](t){do;while(this[RA](this[fb]()));!t&&!this.buffer.length&&!this[Wo]&&this.emit("drain")}[RA](t){return t?(this.emit("data",t),this.flowing):!1}pipe(t,r){if(this[Br])return;let n=this[Ds];r=r||{},t===process.stdout||t===process.stderr?r.end=!1:r.end=r.end!==!1;let i={dest:t,opts:r,ondrain:o=>this[bd]()};return this.pipes.push(i),t.on("drain",i.ondrain),this[bd](),n&&i.opts.end&&i.dest.end(),t}addListener(t,r){return this.on(t,r)}on(t,r){try{return super.on(t,r)}finally{t==="data"&&!this.pipes.length&&!this.flowing?this[bd]():LA(t)&&this[Ds]&&(super.emit(t),this.removeAllListeners(t))}}get emittedEnd(){return this[Ds]}[wd](){!this[Bm]&&!this[Ds]&&!this[Br]&&this.buffer.length===0&&this[Wo]&&(this[Bm]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Hm]&&this.emit("close"),this[Bm]=!1)}emit(t,r){if(t!=="error"&&t!=="close"&&t!==Br&&this[Br])return;if(t==="data"){if(!r)return;this.pipes.length&&this.pipes.forEach(i=>i.dest.write(r)===!1&&this.pause())}else if(t==="end"){if(this[Ds]===!0)return;this[Ds]=!0,this.readable=!1,this[zo]&&(r=this[zo].end(),r&&(this.pipes.forEach(i=>i.dest.write(r)),super.emit("data",r))),this.pipes.forEach(i=>{i.dest.removeListener("drain",i.ondrain),i.opts.end&&i.dest.end()})}else if(t==="close"&&(this[Hm]=!0,!this[Ds]&&!this[Br]))return;let n=new Array(arguments.length);if(n[0]=t,n[1]=r,arguments.length>2)for(let i=2;i<arguments.length;i++)n[i]=arguments[i];try{return super.emit.apply(this,n)}finally{LA(t)?this.removeAllListeners(t):this[wd]()}}collect(){let t=[];this[Ur]||(t.dataLength=0);let r=this.promise();return this.on("data",n=>{t.push(n),this[Ur]||(t.dataLength+=n.length)}),r.then(()=>t)}concat(){return this[Ur]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[Ur]?Promise.reject(new Error("cannot concat in objectMode")):this[ln]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,r)=>{this.on(Br,()=>r(new Error("stream destroyed"))),this.on("end",()=>t()),this.on("error",n=>r(n))})}[z8](){return{next:()=>{let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[Wo])return Promise.resolve({done:!0});let n=null,i=null,o=l=>{this.removeListener("data",s),this.removeListener("end",a),i(l)},s=l=>{this.removeListener("error",o),this.removeListener("end",a),this.pause(),n({value:l,done:!!this[Wo]})},a=()=>{this.removeListener("error",o),this.removeListener("data",s),n({done:!0})},c=()=>o(new Error("stream destroyed"));return new Promise((l,u)=>{i=u,n=l,this.once(Br,c),this.once("error",o),this.once("end",a),this.once("data",s)})}}}[G8](){return{next:()=>{let r=this.read();return{value:r,done:r===null}}}}destroy(t){return this[Br]?(t?this.emit("error",t):this.emit(Br),this):(this[Br]=!0,this.buffer=new yd,this[Qr]=0,typeof this.close=="function"&&!this[Hm]&&this.close(),t?this.emit("error",t):this.emit(Br),this)}static isStream(t){return!!t&&(t instanceof FA||t instanceof TA||t instanceof W8&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}});var qA=T((obe,jA)=>{var J8=require("zlib").constants||{ZLIB_VERNUM:4736};jA.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},J8))});var Cb=T(Rn=>{"use strict";var db=require("assert"),Rs=require("buffer").Buffer,$A=require("zlib"),rc=Rn.constants=qA(),Q8=ql(),UA=Rs.concat,nc=Symbol("_superWrite"),Ed=class extends Error{constructor(t){super("zlib: "+t.message);this.code=t.code,this.errno=t.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+t.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},X8=Symbol("opts"),_d=Symbol("flushFlag"),BA=Symbol("finishFlushFlag"),pb=Symbol("fullFlushFlag"),Nt=Symbol("handle"),Wm=Symbol("onError"),$l=Symbol("sawError"),hb=Symbol("level"),mb=Symbol("strategy"),gb=Symbol("ended"),sbe=Symbol("_defaultFullFlush"),vb=class extends Q8{constructor(t,r){if(!t||typeof t!="object")throw new TypeError("invalid options for ZlibBase constructor");super(t);this[$l]=!1,this[gb]=!1,this[X8]=t,this[_d]=t.flush,this[BA]=t.finishFlush;try{this[Nt]=new $A[r](t)}catch(n){throw new Ed(n)}this[Wm]=n=>{this[$l]||(this[$l]=!0,this.close(),this.emit("error",n))},this[Nt].on("error",n=>this[Wm](new Ed(n))),this.once("end",()=>this.close)}close(){this[Nt]&&(this[Nt].close(),this[Nt]=null,this.emit("close"))}reset(){if(!this[$l])return db(this[Nt],"zlib binding closed"),this[Nt].reset()}flush(t){this.ended||(typeof t!="number"&&(t=this[pb]),this.write(Object.assign(Rs.alloc(0),{[_d]:t})))}end(t,r,n){return t&&this.write(t,r),this.flush(this[BA]),this[gb]=!0,super.end(null,null,n)}get ended(){return this[gb]}write(t,r,n){if(typeof r=="function"&&(n=r,r="utf8"),typeof t=="string"&&(t=Rs.from(t,r)),this[$l])return;db(this[Nt],"zlib binding closed");let i=this[Nt]._handle,o=i.close;i.close=()=>{};let s=this[Nt].close;this[Nt].close=()=>{},Rs.concat=l=>l;let a;try{let l=typeof t[_d]=="number"?t[_d]:this[_d];a=this[Nt]._processChunk(t,l),Rs.concat=UA}catch(l){Rs.concat=UA,this[Wm](new Ed(l))}finally{this[Nt]&&(this[Nt]._handle=i,i.close=o,this[Nt].close=s,this[Nt].removeAllListeners("error"))}this[Nt]&&this[Nt].on("error",l=>this[Wm](new Ed(l)));let c;if(a)if(Array.isArray(a)&&a.length>0){c=this[nc](Rs.from(a[0]));for(let l=1;l<a.length;l++)c=this[nc](a[l])}else c=this[nc](Rs.from(a));return n&&n(),c}[nc](t){return super.write(t)}},Os=class extends vb{constructor(t,r){t=t||{},t.flush=t.flush||rc.Z_NO_FLUSH,t.finishFlush=t.finishFlush||rc.Z_FINISH;super(t,r);this[pb]=rc.Z_FULL_FLUSH,this[hb]=t.level,this[mb]=t.strategy}params(t,r){if(!this[$l]){if(!this[Nt])throw new Error("cannot switch params when binding is closed");if(!this[Nt].params)throw new Error("not supported in this implementation");if(this[hb]!==t||this[mb]!==r){this.flush(rc.Z_SYNC_FLUSH),db(this[Nt],"zlib binding closed");let n=this[Nt].flush;this[Nt].flush=(i,o)=>{this.flush(i),o()};try{this[Nt].params(t,r)}finally{this[Nt].flush=n}this[Nt]&&(this[hb]=t,this[mb]=r)}}}},HA=class extends Os{constructor(t){super(t,"Deflate")}},VA=class extends Os{constructor(t){super(t,"Inflate")}},yb=Symbol("_portable"),WA=class extends Os{constructor(t){super(t,"Gzip");this[yb]=t&&!!t.portable}[nc](t){return this[yb]?(this[yb]=!1,t[9]=255,super[nc](t)):super[nc](t)}},zA=class extends Os{constructor(t){super(t,"Gunzip")}},GA=class extends Os{constructor(t){super(t,"DeflateRaw")}},KA=class extends Os{constructor(t){super(t,"InflateRaw")}},YA=class extends Os{constructor(t){super(t,"Unzip")}},wb=class extends vb{constructor(t,r){t=t||{},t.flush=t.flush||rc.BROTLI_OPERATION_PROCESS,t.finishFlush=t.finishFlush||rc.BROTLI_OPERATION_FINISH;super(t,r);this[pb]=rc.BROTLI_OPERATION_FLUSH}},JA=class extends wb{constructor(t){super(t,"BrotliCompress")}},QA=class extends wb{constructor(t){super(t,"BrotliDecompress")}};Rn.Deflate=HA;Rn.Inflate=VA;Rn.Gzip=WA;Rn.Gunzip=zA;Rn.DeflateRaw=GA;Rn.InflateRaw=KA;Rn.Unzip=YA;typeof $A.BrotliCompress=="function"?(Rn.BrotliCompress=JA,Rn.BrotliDecompress=QA):Rn.BrotliCompress=Rn.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var Ul=T((cbe,XA)=>{var Z8=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;XA.exports=Z8!=="win32"?e=>e:e=>e&&e.replace(/\\/g,"/")});var zm=T((ube,ZA)=>{"use strict";var eY=ql(),bb=Ul(),Eb=Symbol("slurp");ZA.exports=class extends eY{constructor(t,r,n){super();switch(this.pause(),this.extended=r,this.globalExtended=n,this.header=t,this.startBlockSize=512*Math.ceil(t.size/512),this.blockRemain=this.startBlockSize,this.remain=t.size,this.type=t.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=bb(t.path),this.mode=t.mode,this.mode&&(this.mode=this.mode&4095),this.uid=t.uid,this.gid=t.gid,this.uname=t.uname,this.gname=t.gname,this.size=t.size,this.mtime=t.mtime,this.atime=t.atime,this.ctime=t.ctime,this.linkpath=bb(t.linkpath),this.uname=t.uname,this.gname=t.gname,r&&this[Eb](r),n&&this[Eb](n,!0)}write(t){let r=t.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");let n=this.remain,i=this.blockRemain;return this.remain=Math.max(0,n-r),this.blockRemain=Math.max(0,i-r),this.ignore?!0:n>=r?super.write(t):super.write(t.slice(0,n))}[Eb](t,r){for(let n in t)t[n]!==null&&t[n]!==void 0&&!(r&&n==="path")&&(this[n]=n==="path"||n==="linkpath"?bb(t[n]):t[n])}}});var _b=T(Gm=>{"use strict";Gm.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);Gm.code=new Map(Array.from(Gm.name).map(e=>[e[1],e[0]]))});var nD=T((dbe,rD)=>{"use strict";var tY=(e,t)=>{if(Number.isSafeInteger(e))e<0?nY(e,t):rY(e,t);else throw Error("cannot encode number outside of javascript safe integer range");return t},rY=(e,t)=>{t[0]=128;for(var r=t.length;r>1;r--)t[r-1]=e&255,e=Math.floor(e/256)},nY=(e,t)=>{t[0]=255;var r=!1;e=e*-1;for(var n=t.length;n>1;n--){var i=e&255;e=Math.floor(e/256),r?t[n-1]=eD(i):i===0?t[n-1]=0:(r=!0,t[n-1]=tD(i))}},iY=e=>{let t=e[0],r=t===128?sY(e.slice(1,e.length)):t===255?oY(e):null;if(r===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(r))throw Error("parsed number outside of javascript safe integer range");return r},oY=e=>{for(var t=e.length,r=0,n=!1,i=t-1;i>-1;i--){var o=e[i],s;n?s=eD(o):o===0?s=o:(n=!0,s=tD(o)),s!==0&&(r-=s*Math.pow(256,t-i-1))}return r},sY=e=>{for(var t=e.length,r=0,n=t-1;n>-1;n--){var i=e[n];i!==0&&(r+=i*Math.pow(256,t-n-1))}return r},eD=e=>(255^e)&255,tD=e=>(255^e)+1&255;rD.exports={encode:tY,parse:iY}});var Hl=T((pbe,sD)=>{"use strict";var Sb=_b(),Bl=require("path").posix,iD=nD(),xb=Symbol("slurp"),On=Symbol("type"),oD=class{constructor(t,r,n,i){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[On]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(t)?this.decode(t,r||0,n,i):t&&this.set(t)}decode(t,r,n,i){if(r||(r=0),!t||!(t.length>=r+512))throw new Error("need 512 bytes for header");if(this.path=ic(t,r,100),this.mode=Ns(t,r+100,8),this.uid=Ns(t,r+108,8),this.gid=Ns(t,r+116,8),this.size=Ns(t,r+124,12),this.mtime=Pb(t,r+136,12),this.cksum=Ns(t,r+148,12),this[xb](n),this[xb](i,!0),this[On]=ic(t,r+156,1),this[On]===""&&(this[On]="0"),this[On]==="0"&&this.path.substr(-1)==="/"&&(this[On]="5"),this[On]==="5"&&(this.size=0),this.linkpath=ic(t,r+157,100),t.slice(r+257,r+265).toString()==="ustar\x0000")if(this.uname=ic(t,r+265,32),this.gname=ic(t,r+297,32),this.devmaj=Ns(t,r+329,8),this.devmin=Ns(t,r+337,8),t[r+475]!==0){let s=ic(t,r+345,155);this.path=s+"/"+this.path}else{let s=ic(t,r+345,130);s&&(this.path=s+"/"+this.path),this.atime=Pb(t,r+476,12),this.ctime=Pb(t,r+488,12)}let o=8*32;for(let s=r;s<r+148;s++)o+=t[s];for(let s=r+156;s<r+512;s++)o+=t[s];this.cksumValid=o===this.cksum,this.cksum===null&&o===8*32&&(this.nullBlock=!0)}[xb](t,r){for(let n in t)t[n]!==null&&t[n]!==void 0&&!(r&&n==="path")&&(this[n]=t[n])}encode(t,r){if(t||(t=this.block=Buffer.alloc(512),r=0),r||(r=0),!(t.length>=r+512))throw new Error("need 512 bytes for header");let n=this.ctime||this.atime?130:155,i=aY(this.path||"",n),o=i[0],s=i[1];this.needPax=i[2],this.needPax=oc(t,r,100,o)||this.needPax,this.needPax=Ls(t,r+100,8,this.mode)||this.needPax,this.needPax=Ls(t,r+108,8,this.uid)||this.needPax,this.needPax=Ls(t,r+116,8,this.gid)||this.needPax,this.needPax=Ls(t,r+124,12,this.size)||this.needPax,this.needPax=kb(t,r+136,12,this.mtime)||this.needPax,t[r+156]=this[On].charCodeAt(0),this.needPax=oc(t,r+157,100,this.linkpath)||this.needPax,t.write("ustar\x0000",r+257,8),this.needPax=oc(t,r+265,32,this.uname)||this.needPax,this.needPax=oc(t,r+297,32,this.gname)||this.needPax,this.needPax=Ls(t,r+329,8,this.devmaj)||this.needPax,this.needPax=Ls(t,r+337,8,this.devmin)||this.needPax,this.needPax=oc(t,r+345,n,s)||this.needPax,t[r+475]!==0?this.needPax=oc(t,r+345,155,s)||this.needPax:(this.needPax=oc(t,r+345,130,s)||this.needPax,this.needPax=kb(t,r+476,12,this.atime)||this.needPax,this.needPax=kb(t,r+488,12,this.ctime)||this.needPax);let a=8*32;for(let c=r;c<r+148;c++)a+=t[c];for(let c=r+156;c<r+512;c++)a+=t[c];return this.cksum=a,Ls(t,r+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(t){for(let r in t)t[r]!==null&&t[r]!==void 0&&(this[r]=t[r])}get type(){return Sb.name.get(this[On])||this[On]}get typeKey(){return this[On]}set type(t){Sb.code.has(t)?this[On]=Sb.code.get(t):this[On]=t}},aY=(e,t)=>{let r=100,n=e,i="",o,s=Bl.parse(e).root||".";if(Buffer.byteLength(n)<r)o=[n,i,!1];else{i=Bl.dirname(n),n=Bl.basename(n);do Buffer.byteLength(n)<=r&&Buffer.byteLength(i)<=t?o=[n,i,!1]:Buffer.byteLength(n)>r&&Buffer.byteLength(i)<=t?o=[n.substr(0,r-1),i,!0]:(n=Bl.join(Bl.basename(i),n),i=Bl.dirname(i));while(i!==s&&!o);o||(o=[e.substr(0,r-1),"",!0])}return o},ic=(e,t,r)=>e.slice(t,t+r).toString("utf8").replace(/\0.*/,""),Pb=(e,t,r)=>cY(Ns(e,t,r)),cY=e=>e===null?null:new Date(e*1e3),Ns=(e,t,r)=>e[t]&128?iD.parse(e.slice(t,t+r)):uY(e,t,r),lY=e=>isNaN(e)?null:e,uY=(e,t,r)=>lY(parseInt(e.slice(t,t+r).toString("utf8").replace(/\0.*$/,"").trim(),8)),fY={12:8589934591,8:2097151},Ls=(e,t,r,n)=>n===null?!1:n>fY[r]||n<0?(iD.encode(n,e.slice(t,t+r)),!0):(dY(e,t,r,n),!1),dY=(e,t,r,n)=>e.write(pY(n,r),t,r,"ascii"),pY=(e,t)=>hY(Math.floor(e).toString(8),t),hY=(e,t)=>(e.length===t-1?e:new Array(t-e.length-1).join("0")+e+" ")+"\0",kb=(e,t,r,n)=>n===null?!1:Ls(e,t,r,n.getTime()/1e3),mY=new Array(156).join("\0"),oc=(e,t,r,n)=>n===null?!1:(e.write(n+mY,t,r,"utf8"),n.length!==Buffer.byteLength(n)||n.length>r);sD.exports=oD});var Ym=T((hbe,aD)=>{"use strict";var gY=Hl(),vY=require("path"),Km=class{constructor(t,r){this.atime=t.atime||null,this.charset=t.charset||null,this.comment=t.comment||null,this.ctime=t.ctime||null,this.gid=t.gid||null,this.gname=t.gname||null,this.linkpath=t.linkpath||null,this.mtime=t.mtime||null,this.path=t.path||null,this.size=t.size||null,this.uid=t.uid||null,this.uname=t.uname||null,this.dev=t.dev||null,this.ino=t.ino||null,this.nlink=t.nlink||null,this.global=r||!1}encode(){let t=this.encodeBody();if(t==="")return null;let r=Buffer.byteLength(t),n=512*Math.ceil(1+r/512),i=Buffer.allocUnsafe(n);for(let o=0;o<512;o++)i[o]=0;new gY({path:("PaxHeader/"+vY.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:r,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(i),i.write(t,512,r,"utf8");for(let o=r+512;o<i.length;o++)i[o]=0;return i}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(t){if(this[t]===null||this[t]===void 0)return"";let r=this[t]instanceof Date?this[t].getTime()/1e3:this[t],n=" "+(t==="dev"||t==="ino"||t==="nlink"?"SCHILY.":"")+t+"="+r+`
`,i=Buffer.byteLength(n),o=Math.floor(Math.log(i)/Math.log(10))+1;return i+o>=Math.pow(10,o)&&(o+=1),o+i+n}};Km.parse=(e,t,r)=>new Km(yY(wY(e),t),r);var yY=(e,t)=>t?Object.keys(e).reduce((r,n)=>(r[n]=e[n],r),t):e,wY=e=>e.replace(/\n$/,"").split(`
`).reduce(CY,Object.create(null)),CY=(e,t)=>{let r=parseInt(t,10);if(r!==Buffer.byteLength(t)+1)return e;t=t.substr((r+" ").length);let n=t.split("="),i=n.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!i)return e;let o=n.join("=");return e[i]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(i)?new Date(o*1e3):/^[0-9]+$/.test(o)?+o:o,e};aD.exports=Km});var Vl=T((mbe,cD)=>{cD.exports=e=>{let t=e.length-1,r=-1;for(;t>-1&&e.charAt(t)==="/";)r=t,t--;return r===-1?e:e.slice(0,r)}});var Jm=T((gbe,lD)=>{"use strict";lD.exports=e=>class extends e{warn(t,r,n={}){this.file&&(n.file=this.file),this.cwd&&(n.cwd=this.cwd),n.code=r instanceof Error&&r.code||t,n.tarCode=t,!this.strict&&n.recoverable!==!1?(r instanceof Error&&(n=Object.assign(r,n),r=r.message),this.emit("warn",n.tarCode,r,n)):r instanceof Error?this.emit("error",Object.assign(r,n)):this.emit("error",Object.assign(new Error(`${t}: ${r}`),n))}}});var Tb=T((vbe,uD)=>{"use strict";var Qm=["|","<",">","?",":"],Ib=Qm.map(e=>String.fromCharCode(61440+e.charCodeAt(0))),bY=new Map(Qm.map((e,t)=>[e,Ib[t]])),EY=new Map(Ib.map((e,t)=>[e,Qm[t]]));uD.exports={encode:e=>Qm.reduce((t,r)=>t.split(r).join(bY.get(r)),e),decode:e=>Ib.reduce((t,r)=>t.split(r).join(EY.get(r)),e)}});var Ab=T((ybe,dD)=>{var{isAbsolute:_Y,parse:fD}=require("path").win32;dD.exports=e=>{let t="",r=fD(e);for(;_Y(e)||r.root;){let n=e.charAt(0)==="/"&&e.slice(0,4)!=="//?/"?"/":r.root;e=e.substr(n.length),t+=n,r=fD(e)}return[t,e]}});var hD=T((wbe,pD)=>{"use strict";pD.exports=(e,t,r)=>(e&=4095,r&&(e=(e|384)&~18),t&&(e&256&&(e|=64),e&32&&(e|=8),e&4&&(e|=1)),e)});var qb=T((Ebe,TD)=>{"use strict";var mD=ql(),gD=Ym(),vD=Hl(),ao=require("fs"),yD=require("path"),co=Ul(),SY=Vl(),wD=(e,t)=>t?(e=co(e).replace(/^\.(\/|$)/,""),SY(t)+"/"+e):co(e),xY=16*1024*1024,CD=Symbol("process"),bD=Symbol("file"),ED=Symbol("directory"),Db=Symbol("symlink"),_D=Symbol("hardlink"),Sd=Symbol("header"),Xm=Symbol("read"),Rb=Symbol("lstat"),Zm=Symbol("onlstat"),Ob=Symbol("onread"),Nb=Symbol("onreadlink"),Lb=Symbol("openfile"),Fb=Symbol("onopenfile"),Fs=Symbol("close"),eg=Symbol("mode"),Mb=Symbol("awaitDrain"),jb=Symbol("ondrain"),lo=Symbol("prefix"),SD=Symbol("hadError"),xD=Jm(),PY=Tb(),PD=Ab(),kD=hD(),tg=xD(class extends mD{constructor(t,r){r=r||{};super(r);if(typeof t!="string")throw new TypeError("path is required");this.path=co(t),this.portable=!!r.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=r.maxReadSize||xY,this.linkCache=r.linkCache||new Map,this.statCache=r.statCache||new Map,this.preservePaths=!!r.preservePaths,this.cwd=co(r.cwd||process.cwd()),this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.mtime=r.mtime||null,this.prefix=r.prefix?co(r.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[i,o]=PD(this.path);i&&(this.path=o,n=i)}this.win32=!!r.win32||process.platform==="win32",this.win32&&(this.path=PY.decode(this.path.replace(/\\/g,"/")),t=t.replace(/\\/g,"/")),this.absolute=co(r.absolute||yD.resolve(this.cwd,t)),this.path===""&&(this.path="./"),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.statCache.has(this.absolute)?this[Zm](this.statCache.get(this.absolute)):this[Rb]()}emit(t,...r){return t==="error"&&(this[SD]=!0),super.emit(t,...r)}[Rb](){ao.lstat(this.absolute,(t,r)=>{if(t)return this.emit("error",t);this[Zm](r)})}[Zm](t){this.statCache.set(this.absolute,t),this.stat=t,t.isFile()||(t.size=0),this.type=IY(t),this.emit("stat",t),this[CD]()}[CD](){switch(this.type){case"File":return this[bD]();case"Directory":return this[ED]();case"SymbolicLink":return this[Db]();default:return this.end()}}[eg](t){return kD(t,this.type==="Directory",this.portable)}[lo](t){return wD(t,this.prefix)}[Sd](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new vD({path:this[lo](this.path),linkpath:this.type==="Link"?this[lo](this.linkpath):this.linkpath,mode:this[eg](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new gD({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[lo](this.path),linkpath:this.type==="Link"?this[lo](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[ED](){this.path.substr(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[Sd](),this.end()}[Db](){ao.readlink(this.absolute,(t,r)=>{if(t)return this.emit("error",t);this[Nb](r)})}[Nb](t){this.linkpath=co(t),this[Sd](),this.end()}[_D](t){this.type="Link",this.linkpath=co(yD.relative(this.cwd,t)),this.stat.size=0,this[Sd](),this.end()}[bD](){if(this.stat.nlink>1){let t=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(t)){let r=this.linkCache.get(t);if(r.indexOf(this.cwd)===0)return this[_D](r)}this.linkCache.set(t,this.absolute)}if(this[Sd](),this.stat.size===0)return this.end();this[Lb]()}[Lb](){ao.open(this.absolute,"r",(t,r)=>{if(t)return this.emit("error",t);this[Fb](r)})}[Fb](t){if(this.fd=t,this[SD])return this[Fs]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let r=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(r),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[Xm]()}[Xm](){let{fd:t,buf:r,offset:n,length:i,pos:o}=this;ao.read(t,r,n,i,o,(s,a)=>{if(s)return this[Fs](()=>this.emit("error",s));this[Ob](a)})}[Fs](t){ao.close(this.fd,t)}[Ob](t){if(t<=0&&this.remain>0){let i=new Error("encountered unexpected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[Fs](()=>this.emit("error",i))}if(t>this.remain){let i=new Error("did not encounter expected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[Fs](()=>this.emit("error",i))}if(t===this.remain)for(let i=t;i<this.length&&t<this.blockRemain;i++)this.buf[i+this.offset]=0,t++,this.remain++;let r=this.offset===0&&t===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+t);this.write(r)?this[jb]():this[Mb](()=>this[jb]())}[Mb](t){this.once("drain",t)}write(t){if(this.blockRemain<t.length){let r=new Error("writing more data than expected");return r.path=this.absolute,this.emit("error",r)}return this.remain-=t.length,this.blockRemain-=t.length,this.pos+=t.length,this.offset+=t.length,super.write(t)}[jb](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[Fs](t=>t?this.emit("error",t):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[Xm]()}}),ID=class extends tg{[Rb](){this[Zm](ao.lstatSync(this.absolute))}[Db](){this[Nb](ao.readlinkSync(this.absolute))}[Lb](){this[Fb](ao.openSync(this.absolute,"r"))}[Xm](){let t=!0;try{let{fd:r,buf:n,offset:i,length:o,pos:s}=this,a=ao.readSync(r,n,i,o,s);this[Ob](a),t=!1}finally{if(t)try{this[Fs](()=>{})}catch{}}}[Mb](t){t()}[Fs](t){ao.closeSync(this.fd),t()}},kY=xD(class extends mD{constructor(t,r){r=r||{};super(r);this.preservePaths=!!r.preservePaths,this.portable=!!r.portable,this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.readEntry=t,this.type=t.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=r.prefix||null,this.path=co(t.path),this.mode=this[eg](t.mode),this.uid=this.portable?null:t.uid,this.gid=this.portable?null:t.gid,this.uname=this.portable?null:t.uname,this.gname=this.portable?null:t.gname,this.size=t.size,this.mtime=this.noMtime?null:r.mtime||t.mtime,this.atime=this.portable?null:t.atime,this.ctime=this.portable?null:t.ctime,this.linkpath=co(t.linkpath),typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[i,o]=PD(this.path);i&&(this.path=o,n=i)}this.remain=t.size,this.blockRemain=t.startBlockSize,this.header=new vD({path:this[lo](this.path),linkpath:this.type==="Link"?this[lo](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.header.encode()&&!this.noPax&&super.write(new gD({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[lo](this.path),linkpath:this.type==="Link"?this[lo](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),t.pipe(this)}[lo](t){return wD(t,this.prefix)}[eg](t){return kD(t,this.type==="Directory",this.portable)}write(t){let r=t.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=r,super.write(t)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});tg.Sync=ID;tg.Tar=kY;var IY=e=>e.isFile()?"File":e.isDirectory()?"Directory":e.isSymbolicLink()?"SymbolicLink":"Unsupported";TD.exports=tg});var lg=T((Sbe,MD)=>{"use strict";var $b=class{constructor(t,r){this.path=t||"./",this.absolute=r,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},TY=ql(),AY=Cb(),DY=zm(),Ub=qb(),RY=Ub.Sync,OY=Ub.Tar,NY=vd(),AD=Buffer.alloc(1024),rg=Symbol("onStat"),ng=Symbol("ended"),uo=Symbol("queue"),Wl=Symbol("current"),sc=Symbol("process"),ig=Symbol("processing"),DD=Symbol("processJob"),fo=Symbol("jobs"),Bb=Symbol("jobDone"),og=Symbol("addFSEntry"),RD=Symbol("addTarEntry"),Hb=Symbol("stat"),Vb=Symbol("readdir"),sg=Symbol("onreaddir"),ag=Symbol("pipe"),OD=Symbol("entry"),Wb=Symbol("entryOpt"),zb=Symbol("writeEntryClass"),ND=Symbol("write"),Gb=Symbol("ondrain"),cg=require("fs"),LD=require("path"),LY=Jm(),Kb=Ul(),Yb=LY(class extends TY{constructor(t){super(t);t=t||Object.create(null),this.opt=t,this.file=t.file||"",this.cwd=t.cwd||process.cwd(),this.maxReadSize=t.maxReadSize,this.preservePaths=!!t.preservePaths,this.strict=!!t.strict,this.noPax=!!t.noPax,this.prefix=Kb(t.prefix||""),this.linkCache=t.linkCache||new Map,this.statCache=t.statCache||new Map,this.readdirCache=t.readdirCache||new Map,this[zb]=Ub,typeof t.onwarn=="function"&&this.on("warn",t.onwarn),this.portable=!!t.portable,this.zip=null,t.gzip?(typeof t.gzip!="object"&&(t.gzip={}),this.portable&&(t.gzip.portable=!0),this.zip=new AY.Gzip(t.gzip),this.zip.on("data",r=>super.write(r)),this.zip.on("end",r=>super.end()),this.zip.on("drain",r=>this[Gb]()),this.on("resume",r=>this.zip.resume())):this.on("drain",this[Gb]),this.noDirRecurse=!!t.noDirRecurse,this.follow=!!t.follow,this.noMtime=!!t.noMtime,this.mtime=t.mtime||null,this.filter=typeof t.filter=="function"?t.filter:r=>!0,this[uo]=new NY,this[fo]=0,this.jobs=+t.jobs||4,this[ig]=!1,this[ng]=!1}[ND](t){return super.write(t)}add(t){return this.write(t),this}end(t){return t&&this.write(t),this[ng]=!0,this[sc](),this}write(t){if(this[ng])throw new Error("write after end");return t instanceof DY?this[RD](t):this[og](t),this.flowing}[RD](t){let r=Kb(LD.resolve(this.cwd,t.path));if(!this.filter(t.path,t))t.resume();else{let n=new $b(t.path,r,!1);n.entry=new OY(t,this[Wb](n)),n.entry.on("end",i=>this[Bb](n)),this[fo]+=1,this[uo].push(n)}this[sc]()}[og](t){let r=Kb(LD.resolve(this.cwd,t));this[uo].push(new $b(t,r)),this[sc]()}[Hb](t){t.pending=!0,this[fo]+=1;let r=this.follow?"stat":"lstat";cg[r](t.absolute,(n,i)=>{t.pending=!1,this[fo]-=1,n?this.emit("error",n):this[rg](t,i)})}[rg](t,r){this.statCache.set(t.absolute,r),t.stat=r,this.filter(t.path,r)||(t.ignore=!0),this[sc]()}[Vb](t){t.pending=!0,this[fo]+=1,cg.readdir(t.absolute,(r,n)=>{if(t.pending=!1,this[fo]-=1,r)return this.emit("error",r);this[sg](t,n)})}[sg](t,r){this.readdirCache.set(t.absolute,r),t.readdir=r,this[sc]()}[sc](){if(!this[ig]){this[ig]=!0;for(let t=this[uo].head;t!==null&&this[fo]<this.jobs;t=t.next)if(this[DD](t.value),t.value.ignore){let r=t.next;this[uo].removeNode(t),t.next=r}this[ig]=!1,this[ng]&&!this[uo].length&&this[fo]===0&&(this.zip?this.zip.end(AD):(super.write(AD),super.end()))}}get[Wl](){return this[uo]&&this[uo].head&&this[uo].head.value}[Bb](t){this[uo].shift(),this[fo]-=1,this[sc]()}[DD](t){if(!t.pending){if(t.entry){t===this[Wl]&&!t.piped&&this[ag](t);return}if(t.stat||(this.statCache.has(t.absolute)?this[rg](t,this.statCache.get(t.absolute)):this[Hb](t)),!!t.stat&&!t.ignore&&!(!this.noDirRecurse&&t.stat.isDirectory()&&!t.readdir&&(this.readdirCache.has(t.absolute)?this[sg](t,this.readdirCache.get(t.absolute)):this[Vb](t),!t.readdir))){if(t.entry=this[OD](t),!t.entry){t.ignore=!0;return}t===this[Wl]&&!t.piped&&this[ag](t)}}}[Wb](t){return{onwarn:(r,n,i)=>this.warn(r,n,i),noPax:this.noPax,cwd:this.cwd,absolute:t.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[OD](t){this[fo]+=1;try{return new this[zb](t.path,this[Wb](t)).on("end",()=>this[Bb](t)).on("error",r=>this.emit("error",r))}catch(r){this.emit("error",r)}}[Gb](){this[Wl]&&this[Wl].entry&&this[Wl].entry.resume()}[ag](t){t.piped=!0,t.readdir&&t.readdir.forEach(i=>{let o=t.path,s=o==="./"?"":o.replace(/\/*$/,"/");this[og](s+i)});let r=t.entry,n=this.zip;n?r.on("data",i=>{n.write(i)||r.pause()}):r.on("data",i=>{super.write(i)||r.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),FD=class extends Yb{constructor(t){super(t);this[zb]=RY}pause(){}resume(){}[Hb](t){let r=this.follow?"statSync":"lstatSync";this[rg](t,cg[r](t.absolute))}[Vb](t,r){this[sg](t,cg.readdirSync(t.absolute))}[ag](t){let r=t.entry,n=this.zip;t.readdir&&t.readdir.forEach(i=>{let o=t.path,s=o==="./"?"":o.replace(/\/*$/,"/");this[og](s+i)}),n?r.on("data",i=>{n.write(i)}):r.on("data",i=>{super[ND](i)})}};Yb.Sync=FD;MD.exports=Yb});var Zl=T(Pd=>{"use strict";var FY=ql(),MY=require("events").EventEmitter,un=require("fs"),Jb=un.writev;if(!Jb){let e=process.binding("fs"),t=e.FSReqWrap||e.FSReqCallback;Jb=(r,n,i,o)=>{let s=(c,l)=>o(c,l,n),a=new t;a.oncomplete=s,e.writeBuffers(r,n,i,a)}}var zl=Symbol("_autoClose"),Ri=Symbol("_close"),xd=Symbol("_ended"),It=Symbol("_fd"),jD=Symbol("_finished"),Ms=Symbol("_flags"),Qb=Symbol("_flush"),Xb=Symbol("_handleChunk"),Zb=Symbol("_makeBuf"),ug=Symbol("_mode"),fg=Symbol("_needDrain"),Gl=Symbol("_onerror"),Kl=Symbol("_onopen"),eE=Symbol("_onread"),Yl=Symbol("_onwrite"),js=Symbol("_open"),Go=Symbol("_path"),ac=Symbol("_pos"),po=Symbol("_queue"),Jl=Symbol("_read"),qD=Symbol("_readSize"),qs=Symbol("_reading"),dg=Symbol("_remain"),$D=Symbol("_size"),pg=Symbol("_write"),Ql=Symbol("_writing"),hg=Symbol("_defaultFlag"),Xl=Symbol("_errored"),tE=class extends FY{constructor(t,r){r=r||{};super(r);if(this.readable=!0,this.writable=!1,typeof t!="string")throw new TypeError("path must be a string");this[Xl]=!1,this[It]=typeof r.fd=="number"?r.fd:null,this[Go]=t,this[qD]=r.readSize||16*1024*1024,this[qs]=!1,this[$D]=typeof r.size=="number"?r.size:1/0,this[dg]=this[$D],this[zl]=typeof r.autoClose=="boolean"?r.autoClose:!0,typeof this[It]=="number"?this[Jl]():this[js]()}get fd(){return this[It]}get path(){return this[Go]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[js](){un.open(this[Go],"r",(t,r)=>this[Kl](t,r))}[Kl](t,r){t?this[Gl](t):(this[It]=r,this.emit("open",r),this[Jl]())}[Zb](){return Buffer.allocUnsafe(Math.min(this[qD],this[dg]))}[Jl](){if(!this[qs]){this[qs]=!0;let t=this[Zb]();if(t.length===0)return process.nextTick(()=>this[eE](null,0,t));un.read(this[It],t,0,t.length,null,(r,n,i)=>this[eE](r,n,i))}}[eE](t,r,n){this[qs]=!1,t?this[Gl](t):this[Xb](r,n)&&this[Jl]()}[Ri](){if(this[zl]&&typeof this[It]=="number"){let t=this[It];this[It]=null,un.close(t,r=>r?this.emit("error",r):this.emit("close"))}}[Gl](t){this[qs]=!0,this[Ri](),this.emit("error",t)}[Xb](t,r){let n=!1;return this[dg]-=t,t>0&&(n=super.write(t<r.length?r.slice(0,t):r)),(t===0||this[dg]<=0)&&(n=!1,this[Ri](),super.end()),n}emit(t,r){switch(t){case"prefinish":case"finish":break;case"drain":typeof this[It]=="number"&&this[Jl]();break;case"error":return this[Xl]?void 0:(this[Xl]=!0,super.emit(t,r));default:return super.emit(t,r)}}},UD=class extends tE{[js](){let t=!0;try{this[Kl](null,un.openSync(this[Go],"r")),t=!1}finally{t&&this[Ri]()}}[Jl](){let t=!0;try{if(!this[qs]){this[qs]=!0;do{let r=this[Zb](),n=r.length===0?0:un.readSync(this[It],r,0,r.length,null);if(!this[Xb](n,r))break}while(!0);this[qs]=!1}t=!1}finally{t&&this[Ri]()}}[Ri](){if(this[zl]&&typeof this[It]=="number"){let t=this[It];this[It]=null,un.closeSync(t),this.emit("close")}}},rE=class extends MY{constructor(t,r){r=r||{};super(r);this.readable=!1,this.writable=!0,this[Xl]=!1,this[Ql]=!1,this[xd]=!1,this[fg]=!1,this[po]=[],this[Go]=t,this[It]=typeof r.fd=="number"?r.fd:null,this[ug]=r.mode===void 0?438:r.mode,this[ac]=typeof r.start=="number"?r.start:null,this[zl]=typeof r.autoClose=="boolean"?r.autoClose:!0;let n=this[ac]!==null?"r+":"w";this[hg]=r.flags===void 0,this[Ms]=this[hg]?n:r.flags,this[It]===null&&this[js]()}emit(t,r){if(t==="error"){if(this[Xl])return;this[Xl]=!0}return super.emit(t,r)}get fd(){return this[It]}get path(){return this[Go]}[Gl](t){this[Ri](),this[Ql]=!0,this.emit("error",t)}[js](){un.open(this[Go],this[Ms],this[ug],(t,r)=>this[Kl](t,r))}[Kl](t,r){this[hg]&&this[Ms]==="r+"&&t&&t.code==="ENOENT"?(this[Ms]="w",this[js]()):t?this[Gl](t):(this[It]=r,this.emit("open",r),this[Qb]())}end(t,r){return t&&this.write(t,r),this[xd]=!0,!this[Ql]&&!this[po].length&&typeof this[It]=="number"&&this[Yl](null,0),this}write(t,r){return typeof t=="string"&&(t=Buffer.from(t,r)),this[xd]?(this.emit("error",new Error("write() after end()")),!1):this[It]===null||this[Ql]||this[po].length?(this[po].push(t),this[fg]=!0,!1):(this[Ql]=!0,this[pg](t),!0)}[pg](t){un.write(this[It],t,0,t.length,this[ac],(r,n)=>this[Yl](r,n))}[Yl](t,r){t?this[Gl](t):(this[ac]!==null&&(this[ac]+=r),this[po].length?this[Qb]():(this[Ql]=!1,this[xd]&&!this[jD]?(this[jD]=!0,this[Ri](),this.emit("finish")):this[fg]&&(this[fg]=!1,this.emit("drain"))))}[Qb](){if(this[po].length===0)this[xd]&&this[Yl](null,0);else if(this[po].length===1)this[pg](this[po].pop());else{let t=this[po];this[po]=[],Jb(this[It],t,this[ac],(r,n)=>this[Yl](r,n))}}[Ri](){if(this[zl]&&typeof this[It]=="number"){let t=this[It];this[It]=null,un.close(t,r=>r?this.emit("error",r):this.emit("close"))}}},BD=class extends rE{[js](){let t;if(this[hg]&&this[Ms]==="r+")try{t=un.openSync(this[Go],this[Ms],this[ug])}catch(r){if(r.code==="ENOENT")return this[Ms]="w",this[js]();throw r}else t=un.openSync(this[Go],this[Ms],this[ug]);this[Kl](null,t)}[Ri](){if(this[zl]&&typeof this[It]=="number"){let t=this[It];this[It]=null,un.closeSync(t),this.emit("close")}}[pg](t){let r=!0;try{this[Yl](null,un.writeSync(this[It],t,0,t.length,this[ac])),r=!1}finally{if(r)try{this[Ri]()}catch{}}}};Pd.ReadStream=tE;Pd.ReadStreamSync=UD;Pd.WriteStream=rE;Pd.WriteStreamSync=BD});var bg=T((kbe,YD)=>{"use strict";var jY=Jm(),qY=Hl(),$Y=require("events"),UY=vd(),BY=1024*1024,HY=zm(),HD=Ym(),VY=Cb(),nE=Buffer.from([31,139]),ni=Symbol("state"),cc=Symbol("writeEntry"),Ko=Symbol("readEntry"),iE=Symbol("nextEntry"),VD=Symbol("processEntry"),ii=Symbol("extendedHeader"),kd=Symbol("globalExtendedHeader"),$s=Symbol("meta"),WD=Symbol("emitMeta"),Mt=Symbol("buffer"),Yo=Symbol("queue"),lc=Symbol("ended"),zD=Symbol("emittedEnd"),uc=Symbol("emit"),fn=Symbol("unzip"),mg=Symbol("consumeChunk"),gg=Symbol("consumeChunkSub"),oE=Symbol("consumeBody"),GD=Symbol("consumeMeta"),KD=Symbol("consumeHeader"),vg=Symbol("consuming"),sE=Symbol("bufferConcat"),aE=Symbol("maybeEnd"),Id=Symbol("writing"),Us=Symbol("aborted"),yg=Symbol("onDone"),fc=Symbol("sawValidEntry"),wg=Symbol("sawNullBlock"),Cg=Symbol("sawEOF"),WY=e=>!0;YD.exports=jY(class extends $Y{constructor(t){t=t||{};super(t);this.file=t.file||"",this[fc]=null,this.on(yg,r=>{(this[ni]==="begin"||this[fc]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),t.ondone?this.on(yg,t.ondone):this.on(yg,r=>{this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close")}),this.strict=!!t.strict,this.maxMetaEntrySize=t.maxMetaEntrySize||BY,this.filter=typeof t.filter=="function"?t.filter:WY,this.writable=!0,this.readable=!1,this[Yo]=new UY,this[Mt]=null,this[Ko]=null,this[cc]=null,this[ni]="begin",this[$s]="",this[ii]=null,this[kd]=null,this[lc]=!1,this[fn]=null,this[Us]=!1,this[wg]=!1,this[Cg]=!1,typeof t.onwarn=="function"&&this.on("warn",t.onwarn),typeof t.onentry=="function"&&this.on("entry",t.onentry)}[KD](t,r){this[fc]===null&&(this[fc]=!1);let n;try{n=new qY(t,r,this[ii],this[kd])}catch(i){return this.warn("TAR_ENTRY_INVALID",i)}if(n.nullBlock)this[wg]?(this[Cg]=!0,this[ni]==="begin"&&(this[ni]="header"),this[uc]("eof")):(this[wg]=!0,this[uc]("nullBlock"));else if(this[wg]=!1,!n.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:n});else if(!n.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:n});else{let i=n.type;if(/^(Symbolic)?Link$/.test(i)&&!n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:n});else if(!/^(Symbolic)?Link$/.test(i)&&n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:n});else{let o=this[cc]=new HY(n,this[ii],this[kd]);if(!this[fc])if(o.remain){let s=()=>{o.invalid||(this[fc]=!0)};o.on("end",s)}else this[fc]=!0;o.meta?o.size>this.maxMetaEntrySize?(o.ignore=!0,this[uc]("ignoredEntry",o),this[ni]="ignore",o.resume()):o.size>0&&(this[$s]="",o.on("data",s=>this[$s]+=s),this[ni]="meta"):(this[ii]=null,o.ignore=o.ignore||!this.filter(o.path,o),o.ignore?(this[uc]("ignoredEntry",o),this[ni]=o.remain?"ignore":"header",o.resume()):(o.remain?this[ni]="body":(this[ni]="header",o.end()),this[Ko]?this[Yo].push(o):(this[Yo].push(o),this[iE]())))}}}[VD](t){let r=!0;return t?Array.isArray(t)?this.emit.apply(this,t):(this[Ko]=t,this.emit("entry",t),t.emittedEnd||(t.on("end",n=>this[iE]()),r=!1)):(this[Ko]=null,r=!1),r}[iE](){do;while(this[VD](this[Yo].shift()));if(!this[Yo].length){let t=this[Ko];!t||t.flowing||t.size===t.remain?this[Id]||this.emit("drain"):t.once("drain",n=>this.emit("drain"))}}[oE](t,r){let n=this[cc],i=n.blockRemain,o=i>=t.length&&r===0?t:t.slice(r,r+i);return n.write(o),n.blockRemain||(this[ni]="header",this[cc]=null,n.end()),o.length}[GD](t,r){let n=this[cc],i=this[oE](t,r);return this[cc]||this[WD](n),i}[uc](t,r,n){!this[Yo].length&&!this[Ko]?this.emit(t,r,n):this[Yo].push([t,r,n])}[WD](t){switch(this[uc]("meta",this[$s]),t.type){case"ExtendedHeader":case"OldExtendedHeader":this[ii]=HD.parse(this[$s],this[ii],!1);break;case"GlobalExtendedHeader":this[kd]=HD.parse(this[$s],this[kd],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[ii]=this[ii]||Object.create(null),this[ii].path=this[$s].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[ii]=this[ii]||Object.create(null),this[ii].linkpath=this[$s].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+t.type)}}abort(t){this[Us]=!0,this.emit("abort",t),this.warn("TAR_ABORT",t,{recoverable:!1})}write(t){if(this[Us])return;if(this[fn]===null&&t){if(this[Mt]&&(t=Buffer.concat([this[Mt],t]),this[Mt]=null),t.length<nE.length)return this[Mt]=t,!0;for(let n=0;this[fn]===null&&n<nE.length;n++)t[n]!==nE[n]&&(this[fn]=!1);if(this[fn]===null){let n=this[lc];this[lc]=!1,this[fn]=new VY.Unzip,this[fn].on("data",o=>this[mg](o)),this[fn].on("error",o=>this.abort(o)),this[fn].on("end",o=>{this[lc]=!0,this[mg]()}),this[Id]=!0;let i=this[fn][n?"end":"write"](t);return this[Id]=!1,i}}this[Id]=!0,this[fn]?this[fn].write(t):this[mg](t),this[Id]=!1;let r=this[Yo].length?!1:this[Ko]?this[Ko].flowing:!0;return!r&&!this[Yo].length&&this[Ko].once("drain",n=>this.emit("drain")),r}[sE](t){t&&!this[Us]&&(this[Mt]=this[Mt]?Buffer.concat([this[Mt],t]):t)}[aE](){if(this[lc]&&!this[zD]&&!this[Us]&&!this[vg]){this[zD]=!0;let t=this[cc];if(t&&t.blockRemain){let r=this[Mt]?this[Mt].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${t.blockRemain} more bytes, only ${r} available)`,{entry:t}),this[Mt]&&t.write(this[Mt]),t.end()}this[uc](yg)}}[mg](t){if(this[vg])this[sE](t);else if(!t&&!this[Mt])this[aE]();else{if(this[vg]=!0,this[Mt]){this[sE](t);let r=this[Mt];this[Mt]=null,this[gg](r)}else this[gg](t);for(;this[Mt]&&this[Mt].length>=512&&!this[Us]&&!this[Cg];){let r=this[Mt];this[Mt]=null,this[gg](r)}this[vg]=!1}(!this[Mt]||this[lc])&&this[aE]()}[gg](t){let r=0,n=t.length;for(;r+512<=n&&!this[Us]&&!this[Cg];)switch(this[ni]){case"begin":case"header":this[KD](t,r),r+=512;break;case"ignore":case"body":r+=this[oE](t,r);break;case"meta":r+=this[GD](t,r);break;default:throw new Error("invalid state: "+this[ni])}r<n&&(this[Mt]?this[Mt]=Buffer.concat([t.slice(r),this[Mt]]):this[Mt]=t.slice(r))}end(t){this[Us]||(this[fn]?this[fn].end(t):(this[lc]=!0,this.write(t)))}})});var Eg=T((Ibe,ZD)=>{"use strict";var zY=jl(),JD=bg(),eu=require("fs"),GY=Zl(),QD=require("path"),cE=Vl();ZD.exports=(e,t,r)=>{typeof e=="function"?(r=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),typeof t=="function"&&(r=t,t=null),t?t=Array.from(t):t=[];let n=zY(e);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return t.length&&YY(n,t),n.noResume||KY(n),n.file&&n.sync?JY(n):n.file?QY(n,r):XD(n)};var KY=e=>{let t=e.onentry;e.onentry=t?r=>{t(r),r.resume()}:r=>r.resume()},YY=(e,t)=>{let r=new Map(t.map(o=>[cE(o),!0])),n=e.filter,i=(o,s)=>{let a=s||QD.parse(o).root||".",c=o===a?!1:r.has(o)?r.get(o):i(QD.dirname(o),a);return r.set(o,c),c};e.filter=n?(o,s)=>n(o,s)&&i(cE(o)):o=>i(cE(o))},JY=e=>{let t=XD(e),r=e.file,n=!0,i;try{let o=eu.statSync(r),s=e.maxReadSize||16*1024*1024;if(o.size<s)t.end(eu.readFileSync(r));else{let a=0,c=Buffer.allocUnsafe(s);for(i=eu.openSync(r,"r");a<o.size;){let l=eu.readSync(i,c,0,s,a);a+=l,t.write(c.slice(0,l))}t.end()}n=!1}finally{if(n&&i)try{eu.closeSync(i)}catch{}}},QY=(e,t)=>{let r=new JD(e),n=e.maxReadSize||16*1024*1024,i=e.file,o=new Promise((s,a)=>{r.on("error",a),r.on("end",s),eu.stat(i,(c,l)=>{if(c)a(c);else{let u=new GY.ReadStream(i,{readSize:n,size:l.size});u.on("error",a),u.pipe(r)}})});return t?o.then(t,t):o},XD=e=>new JD(e)});var oR=T((Tbe,iR)=>{"use strict";var XY=jl(),_g=lg(),eR=Zl(),tR=Eg(),rR=require("path");iR.exports=(e,t,r)=>{if(typeof t=="function"&&(r=t),Array.isArray(e)&&(t=e,e={}),!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");t=Array.from(t);let n=XY(e);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return n.file&&n.sync?ZY(n,t):n.file?e7(n,t,r):n.sync?t7(n,t):r7(n,t)};var ZY=(e,t)=>{let r=new _g.Sync(e),n=new eR.WriteStreamSync(e.file,{mode:e.mode||438});r.pipe(n),nR(r,t)},e7=(e,t,r)=>{let n=new _g(e),i=new eR.WriteStream(e.file,{mode:e.mode||438});n.pipe(i);let o=new Promise((s,a)=>{i.on("error",a),i.on("close",s),n.on("error",a)});return lE(n,t),r?o.then(r,r):o},nR=(e,t)=>{t.forEach(r=>{r.charAt(0)==="@"?tR({file:rR.resolve(e.cwd,r.substr(1)),sync:!0,noResume:!0,onentry:n=>e.add(n)}):e.add(r)}),e.end()},lE=(e,t)=>{for(;t.length;){let r=t.shift();if(r.charAt(0)==="@")return tR({file:rR.resolve(e.cwd,r.substr(1)),noResume:!0,onentry:n=>e.add(n)}).then(n=>lE(e,t));e.add(r)}e.end()},t7=(e,t)=>{let r=new _g.Sync(e);return nR(r,t),r},r7=(e,t)=>{let r=new _g(e);return lE(r,t),r}});var uE=T((Abe,dR)=>{"use strict";var n7=jl(),sR=lg(),Nn=require("fs"),aR=Zl(),cR=Eg(),lR=require("path"),uR=Hl();dR.exports=(e,t,r)=>{let n=n7(e);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),n.sync?i7(n,t):s7(n,t,r)};var i7=(e,t)=>{let r=new sR.Sync(e),n=!0,i,o;try{try{i=Nn.openSync(e.file,"r+")}catch(c){if(c.code==="ENOENT")i=Nn.openSync(e.file,"w+");else throw c}let s=Nn.fstatSync(i),a=Buffer.alloc(512);e:for(o=0;o<s.size;o+=512){for(let u=0,f=0;u<512;u+=f){if(f=Nn.readSync(i,a,u,a.length-u,o+u),o===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!f)break e}let c=new uR(a);if(!c.cksumValid)break;let l=512*Math.ceil(c.size/512);if(o+l+512>s.size)break;o+=l,e.mtimeCache&&e.mtimeCache.set(c.path,c.mtime)}n=!1,o7(e,r,o,i,t)}finally{if(n)try{Nn.closeSync(i)}catch{}}},o7=(e,t,r,n,i)=>{let o=new aR.WriteStreamSync(e.file,{fd:n,start:r});t.pipe(o),a7(t,i)},s7=(e,t,r)=>{t=Array.from(t);let n=new sR(e),i=(s,a,c)=>{let l=(h,m)=>{h?Nn.close(s,g=>c(h)):c(null,m)},u=0;if(a===0)return l(null,0);let f=0,d=Buffer.alloc(512),p=(h,m)=>{if(h)return l(h);if(f+=m,f<512&&m)return Nn.read(s,d,f,d.length-f,u+f,p);if(u===0&&d[0]===31&&d[1]===139)return l(new Error("cannot append to compressed archives"));if(f<512)return l(null,u);let g=new uR(d);if(!g.cksumValid)return l(null,u);let v=512*Math.ceil(g.size/512);if(u+v+512>a||(u+=v+512,u>=a))return l(null,u);e.mtimeCache&&e.mtimeCache.set(g.path,g.mtime),f=0,Nn.read(s,d,0,512,u,p)};Nn.read(s,d,0,512,u,p)},o=new Promise((s,a)=>{n.on("error",a);let c="r+",l=(u,f)=>{if(u&&u.code==="ENOENT"&&c==="r+")return c="w+",Nn.open(e.file,c,l);if(u)return a(u);Nn.fstat(f,(d,p)=>{if(d)return Nn.close(f,()=>a(d));i(f,p.size,(h,m)=>{if(h)return a(h);let g=new aR.WriteStream(e.file,{fd:f,start:m});n.pipe(g),g.on("error",a),g.on("close",s),fR(n,t)})})};Nn.open(e.file,c,l)});return r?o.then(r,r):o},a7=(e,t)=>{t.forEach(r=>{r.charAt(0)==="@"?cR({file:lR.resolve(e.cwd,r.substr(1)),sync:!0,noResume:!0,onentry:n=>e.add(n)}):e.add(r)}),e.end()},fR=(e,t)=>{for(;t.length;){let r=t.shift();if(r.charAt(0)==="@")return cR({file:lR.resolve(e.cwd,r.substr(1)),noResume:!0,onentry:n=>e.add(n)}).then(n=>fR(e,t));e.add(r)}e.end()}});var hR=T((Dbe,pR)=>{"use strict";var c7=jl(),l7=uE();pR.exports=(e,t,r)=>{let n=c7(e);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),u7(n),l7(n,t,r)};var u7=e=>{let t=e.filter;e.mtimeCache||(e.mtimeCache=new Map),e.filter=t?(r,n)=>t(r,n)&&!(e.mtimeCache.get(r)>n.mtime):(r,n)=>!(e.mtimeCache.get(r)>n.mtime)}});var vR=T((Rbe,gR)=>{var{promisify:mR}=require("util"),Bs=require("fs"),f7=e=>{if(!e)e={mode:511,fs:Bs};else if(typeof e=="object")e=K({mode:511,fs:Bs},e);else if(typeof e=="number")e={mode:e,fs:Bs};else if(typeof e=="string")e={mode:parseInt(e,8),fs:Bs};else throw new TypeError("invalid options argument");return e.mkdir=e.mkdir||e.fs.mkdir||Bs.mkdir,e.mkdirAsync=mR(e.mkdir),e.stat=e.stat||e.fs.stat||Bs.stat,e.statAsync=mR(e.stat),e.statSync=e.statSync||e.fs.statSync||Bs.statSync,e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||Bs.mkdirSync,e};gR.exports=f7});var wR=T((Obe,yR)=>{var d7=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:p7,parse:h7}=require("path"),m7=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=p7(e),d7==="win32"){let t=/[*|"<>?:]/,{root:r}=h7(e);if(t.test(e.substr(r.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e};yR.exports=m7});var SR=T((Nbe,_R)=>{var{dirname:CR}=require("path"),bR=(e,t,r=void 0)=>r===t?Promise.resolve():e.statAsync(t).then(n=>n.isDirectory()?r:void 0,n=>n.code==="ENOENT"?bR(e,CR(t),t):void 0),ER=(e,t,r=void 0)=>{if(r!==t)try{return e.statSync(t).isDirectory()?r:void 0}catch(n){return n.code==="ENOENT"?ER(e,CR(t),t):void 0}};_R.exports={findMade:bR,findMadeSync:ER}});var pE=T((Lbe,PR)=>{var{dirname:xR}=require("path"),fE=(e,t,r)=>{t.recursive=!1;let n=xR(e);return n===e?t.mkdirAsync(e,t).catch(i=>{if(i.code!=="EISDIR")throw i}):t.mkdirAsync(e,t).then(()=>r||e,i=>{if(i.code==="ENOENT")return fE(n,t).then(o=>fE(e,t,o));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;return t.statAsync(e).then(o=>{if(o.isDirectory())return r;throw i},()=>{throw i})})},dE=(e,t,r)=>{let n=xR(e);if(t.recursive=!1,n===e)try{return t.mkdirSync(e,t)}catch(i){if(i.code!=="EISDIR")throw i;return}try{return t.mkdirSync(e,t),r||e}catch(i){if(i.code==="ENOENT")return dE(e,t,dE(n,t,r));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;try{if(!t.statSync(e).isDirectory())throw i}catch{throw i}}};PR.exports={mkdirpManual:fE,mkdirpManualSync:dE}});var TR=T((Fbe,IR)=>{var{dirname:kR}=require("path"),{findMade:g7,findMadeSync:v7}=SR(),{mkdirpManual:y7,mkdirpManualSync:w7}=pE(),C7=(e,t)=>(t.recursive=!0,kR(e)===e?t.mkdirAsync(e,t):g7(t,e).then(n=>t.mkdirAsync(e,t).then(()=>n).catch(i=>{if(i.code==="ENOENT")return y7(e,t);throw i}))),b7=(e,t)=>{if(t.recursive=!0,kR(e)===e)return t.mkdirSync(e,t);let n=v7(t,e);try{return t.mkdirSync(e,t),n}catch(i){if(i.code==="ENOENT")return w7(e,t);throw i}};IR.exports={mkdirpNative:C7,mkdirpNativeSync:b7}});var OR=T((Mbe,RR)=>{var AR=require("fs"),E7=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,hE=E7.replace(/^v/,"").split("."),DR=+hE[0]>10||+hE[0]==10&&+hE[1]>=12,_7=DR?e=>e.mkdir===AR.mkdir:()=>!1,S7=DR?e=>e.mkdirSync===AR.mkdirSync:()=>!1;RR.exports={useNative:_7,useNativeSync:S7}});var qR=T((jbe,jR)=>{var tu=vR(),ru=wR(),{mkdirpNative:NR,mkdirpNativeSync:LR}=TR(),{mkdirpManual:FR,mkdirpManualSync:MR}=pE(),{useNative:x7,useNativeSync:P7}=OR(),nu=(e,t)=>(e=ru(e),t=tu(t),x7(t)?NR(e,t):FR(e,t)),k7=(e,t)=>(e=ru(e),t=tu(t),P7(t)?LR(e,t):MR(e,t));nu.sync=k7;nu.native=(e,t)=>NR(ru(e),tu(t));nu.manual=(e,t)=>FR(ru(e),tu(t));nu.nativeSync=(e,t)=>LR(ru(e),tu(t));nu.manualSync=(e,t)=>MR(ru(e),tu(t));jR.exports=nu});var zR=T((qbe,WR)=>{"use strict";var oi=require("fs"),dc=require("path"),I7=oi.lchown?"lchown":"chown",T7=oi.lchownSync?"lchownSync":"chownSync",$R=oi.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),UR=(e,t,r)=>{try{return oi[T7](e,t,r)}catch(n){if(n.code!=="ENOENT")throw n}},A7=(e,t,r)=>{try{return oi.chownSync(e,t,r)}catch(n){if(n.code!=="ENOENT")throw n}},D7=$R?(e,t,r,n)=>i=>{!i||i.code!=="EISDIR"?n(i):oi.chown(e,t,r,n)}:(e,t,r,n)=>n,mE=$R?(e,t,r)=>{try{return UR(e,t,r)}catch(n){if(n.code!=="EISDIR")throw n;A7(e,t,r)}}:(e,t,r)=>UR(e,t,r),R7=process.version,BR=(e,t,r)=>oi.readdir(e,t,r),O7=(e,t)=>oi.readdirSync(e,t);/^v4\./.test(R7)&&(BR=(e,t,r)=>oi.readdir(e,r));var Sg=(e,t,r,n)=>{oi[I7](e,t,r,D7(e,t,r,i=>{n(i&&i.code!=="ENOENT"?i:null)}))},HR=(e,t,r,n,i)=>{if(typeof t=="string")return oi.lstat(dc.resolve(e,t),(o,s)=>{if(o)return i(o.code!=="ENOENT"?o:null);s.name=t,HR(e,s,r,n,i)});if(t.isDirectory())gE(dc.resolve(e,t.name),r,n,o=>{if(o)return i(o);let s=dc.resolve(e,t.name);Sg(s,r,n,i)});else{let o=dc.resolve(e,t.name);Sg(o,r,n,i)}},gE=(e,t,r,n)=>{BR(e,{withFileTypes:!0},(i,o)=>{if(i){if(i.code==="ENOENT")return n();if(i.code!=="ENOTDIR"&&i.code!=="ENOTSUP")return n(i)}if(i||!o.length)return Sg(e,t,r,n);let s=o.length,a=null,c=l=>{if(!a){if(l)return n(a=l);if(--s==0)return Sg(e,t,r,n)}};o.forEach(l=>HR(e,l,t,r,c))})},N7=(e,t,r,n)=>{if(typeof t=="string")try{let i=oi.lstatSync(dc.resolve(e,t));i.name=t,t=i}catch(i){if(i.code==="ENOENT")return;throw i}t.isDirectory()&&VR(dc.resolve(e,t.name),r,n),mE(dc.resolve(e,t.name),r,n)},VR=(e,t,r)=>{let n;try{n=O7(e,{withFileTypes:!0})}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR"||i.code==="ENOTSUP")return mE(e,t,r);throw i}return n&&n.length&&n.forEach(i=>N7(e,i,t,r)),mE(e,t,r)};WR.exports=gE;gE.sync=VR});var JR=T(($be,wE)=>{"use strict";var GR=qR(),si=require("fs"),xg=require("path"),KR=zR(),Oi=Ul(),vE=class extends Error{constructor(t,r){super("Cannot extract through symbolic link");this.path=r,this.symlink=t}get name(){return"SylinkError"}},yE=class extends Error{constructor(t,r){super(r+": Cannot cd into '"+t+"'");this.path=t,this.code=r}get name(){return"CwdError"}},Pg=(e,t)=>e.get(Oi(t)),Td=(e,t,r)=>e.set(Oi(t),r),L7=(e,t)=>{si.stat(e,(r,n)=>{(r||!n.isDirectory())&&(r=new yE(e,r&&r.code||"ENOTDIR")),t(r)})};wE.exports=(e,t,r)=>{e=Oi(e);let n=t.umask,i=t.mode|448,o=(i&n)!=0,s=t.uid,a=t.gid,c=typeof s=="number"&&typeof a=="number"&&(s!==t.processUid||a!==t.processGid),l=t.preserve,u=t.unlink,f=t.cache,d=Oi(t.cwd),p=(g,v)=>{g?r(g):(Td(f,e,!0),v&&c?KR(v,s,a,y=>p(y)):o?si.chmod(e,i,r):r())};if(f&&Pg(f,e)===!0)return p();if(e===d)return L7(e,p);if(l)return GR(e,{mode:i}).then(g=>p(null,g),p);let m=Oi(xg.relative(d,e)).split("/");kg(d,m,i,f,u,d,null,p)};var kg=(e,t,r,n,i,o,s,a)=>{if(!t.length)return a(null,s);let c=t.shift(),l=Oi(xg.resolve(e+"/"+c));if(Pg(n,l))return kg(l,t,r,n,i,o,s,a);si.mkdir(l,r,YR(l,t,r,n,i,o,s,a))},YR=(e,t,r,n,i,o,s,a)=>c=>{c?si.lstat(e,(l,u)=>{if(l)l.path=l.path&&Oi(l.path),a(l);else if(u.isDirectory())kg(e,t,r,n,i,o,s,a);else if(i)si.unlink(e,f=>{if(f)return a(f);si.mkdir(e,r,YR(e,t,r,n,i,o,s,a))});else{if(u.isSymbolicLink())return a(new vE(e,e+"/"+t.join("/")));a(c)}}):(s=s||e,kg(e,t,r,n,i,o,s,a))},F7=e=>{let t=!1,r="ENOTDIR";try{t=si.statSync(e).isDirectory()}catch(n){r=n.code}finally{if(!t)throw new yE(e,r)}};wE.exports.sync=(e,t)=>{e=Oi(e);let r=t.umask,n=t.mode|448,i=(n&r)!=0,o=t.uid,s=t.gid,a=typeof o=="number"&&typeof s=="number"&&(o!==t.processUid||s!==t.processGid),c=t.preserve,l=t.unlink,u=t.cache,f=Oi(t.cwd),d=g=>{Td(u,e,!0),g&&a&&KR.sync(g,o,s),i&&si.chmodSync(e,n)};if(u&&Pg(u,e)===!0)return d();if(e===f)return F7(f),d();if(c)return d(GR.sync(e,n));let h=Oi(xg.relative(f,e)).split("/"),m=null;for(let g=h.shift(),v=f;g&&(v+="/"+g);g=h.shift())if(v=Oi(xg.resolve(v)),!Pg(u,v))try{si.mkdirSync(v,n),m=m||v,Td(u,v,!0)}catch{let C=si.lstatSync(v);if(C.isDirectory()){Td(u,v,!0);continue}else if(l){si.unlinkSync(v),si.mkdirSync(v,n),m=m||v,Td(u,v,!0);continue}else if(C.isSymbolicLink())return new vE(v,v+"/"+h.join("/"))}return d(m)}});var bE=T((Ube,QR)=>{var CE=Object.create(null),{hasOwnProperty:M7}=Object.prototype;QR.exports=e=>(M7.call(CE,e)||(CE[e]=e.normalize("NFKD")),CE[e])});var tO=T((Bbe,eO)=>{var XR=require("assert"),j7=bE(),q7=Vl(),{join:ZR}=require("path"),$7=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,U7=$7==="win32";eO.exports=()=>{let e=new Map,t=new Map,r=l=>l.split("/").slice(0,-1).reduce((f,d)=>(f.length&&(d=ZR(f[f.length-1],d)),f.push(d||"/"),f),[]),n=new Set,i=l=>{let u=t.get(l);if(!u)throw new Error("function does not have any path reservations");return{paths:u.paths.map(f=>e.get(f)),dirs:[...u.dirs].map(f=>e.get(f))}},o=l=>{let{paths:u,dirs:f}=i(l);return u.every(d=>d[0]===l)&&f.every(d=>d[0]instanceof Set&&d[0].has(l))},s=l=>n.has(l)||!o(l)?!1:(n.add(l),l(()=>a(l)),!0),a=l=>{if(!n.has(l))return!1;let{paths:u,dirs:f}=t.get(l),d=new Set;return u.forEach(p=>{let h=e.get(p);XR.equal(h[0],l),h.length===1?e.delete(p):(h.shift(),typeof h[0]=="function"?d.add(h[0]):h[0].forEach(m=>d.add(m)))}),f.forEach(p=>{let h=e.get(p);XR(h[0]instanceof Set),h[0].size===1&&h.length===1?e.delete(p):h[0].size===1?(h.shift(),d.add(h[0])):h[0].delete(l)}),n.delete(l),d.forEach(p=>s(p)),!0};return{check:o,reserve:(l,u)=>{l=U7?["win32 parallelization disabled"]:l.map(d=>j7(q7(ZR(d))).toLowerCase());let f=new Set(l.map(d=>r(d)).reduce((d,p)=>d.concat(p)));return t.set(u,{dirs:f,paths:l}),l.forEach(d=>{let p=e.get(d);p?p.push(u):e.set(d,[u])}),f.forEach(d=>{let p=e.get(d);p?p[p.length-1]instanceof Set?p[p.length-1].add(u):p.push(new Set([u])):e.set(d,[new Set([u])])}),s(u)}}}});var iO=T((Hbe,nO)=>{var B7=process.env.__FAKE_PLATFORM__||process.platform,H7=B7==="win32",V7=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:W7,O_TRUNC:z7,O_WRONLY:G7,UV_FS_O_FILEMAP:rO=0}=V7.constants,K7=H7&&!!rO,Y7=512*1024,J7=rO|z7|W7|G7;nO.exports=K7?e=>e<Y7?J7:"w":()=>"w"});var TE=T((Vbe,wO)=>{"use strict";var Q7=require("assert"),X7=bg(),vt=require("fs"),Z7=Zl(),Jo=require("path"),oO=JR(),sO=Tb(),eJ=tO(),tJ=Ab(),Ln=Ul(),rJ=Vl(),nJ=bE(),aO=Symbol("onEntry"),EE=Symbol("checkFs"),cO=Symbol("checkFs2"),Ig=Symbol("pruneCache"),_E=Symbol("isReusable"),ai=Symbol("makeFs"),SE=Symbol("file"),xE=Symbol("directory"),Tg=Symbol("link"),lO=Symbol("symlink"),uO=Symbol("hardlink"),fO=Symbol("unsupported"),dO=Symbol("checkPath"),Hs=Symbol("mkdir"),Hr=Symbol("onError"),Ag=Symbol("pending"),pO=Symbol("pend"),iu=Symbol("unpend"),PE=Symbol("ended"),kE=Symbol("maybeClose"),IE=Symbol("skip"),Ad=Symbol("doChown"),Dd=Symbol("uid"),Rd=Symbol("gid"),Od=Symbol("checkedCwd"),hO=require("crypto"),mO=iO(),iJ=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Nd=iJ==="win32",oJ=(e,t)=>{if(!Nd)return vt.unlink(e,t);let r=e+".DELETE."+hO.randomBytes(16).toString("hex");vt.rename(e,r,n=>{if(n)return t(n);vt.unlink(r,t)})},sJ=e=>{if(!Nd)return vt.unlinkSync(e);let t=e+".DELETE."+hO.randomBytes(16).toString("hex");vt.renameSync(e,t),vt.unlinkSync(t)},gO=(e,t,r)=>e===e>>>0?e:t===t>>>0?t:r,vO=e=>nJ(rJ(Ln(e))).toLowerCase(),aJ=(e,t)=>{t=vO(t);for(let r of e.keys()){let n=vO(r);(n===t||n.indexOf(t+"/")===0)&&e.delete(r)}},cJ=e=>{for(let t of e.keys())e.delete(t)},Dg=class extends X7{constructor(t){t||(t={}),t.ondone=r=>{this[PE]=!0,this[kE]()};super(t);if(this[Od]=!1,this.reservations=eJ(),this.transform=typeof t.transform=="function"?t.transform:null,this.writable=!0,this.readable=!1,this[Ag]=0,this[PE]=!1,this.dirCache=t.dirCache||new Map,typeof t.uid=="number"||typeof t.gid=="number"){if(typeof t.uid!="number"||typeof t.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(t.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=t.uid,this.gid=t.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;t.preserveOwner===void 0&&typeof t.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!t.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=t.forceChown===!0,this.win32=!!t.win32||Nd,this.newer=!!t.newer,this.keep=!!t.keep,this.noMtime=!!t.noMtime,this.preservePaths=!!t.preservePaths,this.unlink=!!t.unlink,this.cwd=Ln(Jo.resolve(t.cwd||process.cwd())),this.strip=+t.strip||0,this.processUmask=t.noChmod?0:process.umask(),this.umask=typeof t.umask=="number"?t.umask:this.processUmask,this.dmode=t.dmode||511&~this.umask,this.fmode=t.fmode||438&~this.umask,this.on("entry",r=>this[aO](r))}warn(t,r,n={}){return(t==="TAR_BAD_ARCHIVE"||t==="TAR_ABORT")&&(n.recoverable=!1),super.warn(t,r,n)}[kE](){this[PE]&&this[Ag]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close"))}[dO](t){if(this.strip){let r=Ln(t.path).split("/");if(r.length<this.strip)return!1;if(t.path=r.slice(this.strip).join("/"),t.type==="Link"){let n=Ln(t.linkpath).split("/");if(n.length>=this.strip)t.linkpath=n.slice(this.strip).join("/");else return!1}}if(!this.preservePaths){let r=Ln(t.path),n=r.split("/");if(n.includes("..")||Nd&&/^[a-z]:\.\.$/i.test(n[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:t,path:r}),!1;let[i,o]=tJ(r);i&&(t.path=o,this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:t,path:r}))}if(Jo.isAbsolute(t.path)?t.absolute=Ln(Jo.resolve(t.path)):t.absolute=Ln(Jo.resolve(this.cwd,t.path)),!this.preservePaths&&t.absolute.indexOf(this.cwd+"/")!==0&&t.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:t,path:Ln(t.path),resolvedPath:t.absolute,cwd:this.cwd}),!1;if(t.absolute===this.cwd&&t.type!=="Directory"&&t.type!=="GNUDumpDir")return!1;if(this.win32){let{root:r}=Jo.win32.parse(t.absolute);t.absolute=r+sO.encode(t.absolute.substr(r.length));let{root:n}=Jo.win32.parse(t.path);t.path=n+sO.encode(t.path.substr(n.length))}return!0}[aO](t){if(!this[dO](t))return t.resume();switch(Q7.equal(typeof t.absolute,"string"),t.type){case"Directory":case"GNUDumpDir":t.mode&&(t.mode=t.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[EE](t);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[fO](t)}}[Hr](t,r){t.name==="CwdError"?this.emit("error",t):(this.warn("TAR_ENTRY_ERROR",t,{entry:r}),this[iu](),r.resume())}[Hs](t,r,n){oO(Ln(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r,noChmod:this.noChmod},n)}[Ad](t){return this.forceChown||this.preserveOwner&&(typeof t.uid=="number"&&t.uid!==this.processUid||typeof t.gid=="number"&&t.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[Dd](t){return gO(this.uid,t.uid,this.processUid)}[Rd](t){return gO(this.gid,t.gid,this.processGid)}[SE](t,r){let n=t.mode&4095||this.fmode,i=new Z7.WriteStream(t.absolute,{flags:mO(t.size),mode:n,autoClose:!1});i.on("error",c=>{i.fd&&vt.close(i.fd,()=>{}),i.write=()=>!0,this[Hr](c,t),r()});let o=1,s=c=>{if(c){i.fd&&vt.close(i.fd,()=>{}),this[Hr](c,t),r();return}--o==0&&vt.close(i.fd,l=>{l?this[Hr](l,t):this[iu](),r()})};i.on("finish",c=>{let l=t.absolute,u=i.fd;if(t.mtime&&!this.noMtime){o++;let f=t.atime||new Date,d=t.mtime;vt.futimes(u,f,d,p=>p?vt.utimes(l,f,d,h=>s(h&&p)):s())}if(this[Ad](t)){o++;let f=this[Dd](t),d=this[Rd](t);vt.fchown(u,f,d,p=>p?vt.chown(l,f,d,h=>s(h&&p)):s())}s()});let a=this.transform&&this.transform(t)||t;a!==t&&(a.on("error",c=>{this[Hr](c,t),r()}),t.pipe(a)),a.pipe(i)}[xE](t,r){let n=t.mode&4095||this.dmode;this[Hs](t.absolute,n,i=>{if(i){this[Hr](i,t),r();return}let o=1,s=a=>{--o==0&&(r(),this[iu](),t.resume())};t.mtime&&!this.noMtime&&(o++,vt.utimes(t.absolute,t.atime||new Date,t.mtime,s)),this[Ad](t)&&(o++,vt.chown(t.absolute,this[Dd](t),this[Rd](t),s)),s()})}[fO](t){t.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${t.type}`,{entry:t}),t.resume()}[lO](t,r){this[Tg](t,t.linkpath,"symlink",r)}[uO](t,r){let n=Ln(Jo.resolve(this.cwd,t.linkpath));this[Tg](t,n,"link",r)}[pO](){this[Ag]++}[iu](){this[Ag]--,this[kE]()}[IE](t){this[iu](),t.resume()}[_E](t,r){return t.type==="File"&&!this.unlink&&r.isFile()&&r.nlink<=1&&!Nd}[EE](t){this[pO]();let r=[t.path];t.linkpath&&r.push(t.linkpath),this.reservations.reserve(r,n=>this[cO](t,n))}[Ig](t){t.type==="SymbolicLink"?cJ(this.dirCache):t.type!=="Directory"&&aJ(this.dirCache,t.absolute)}[cO](t,r){this[Ig](t);let n=a=>{this[Ig](t),r(a)},i=()=>{this[Hs](this.cwd,this.dmode,a=>{if(a){this[Hr](a,t),n();return}this[Od]=!0,o()})},o=()=>{if(t.absolute!==this.cwd){let a=Ln(Jo.dirname(t.absolute));if(a!==this.cwd)return this[Hs](a,this.dmode,c=>{if(c){this[Hr](c,t),n();return}s()})}s()},s=()=>{vt.lstat(t.absolute,(a,c)=>{if(c&&(this.keep||this.newer&&c.mtime>t.mtime)){this[IE](t),n();return}if(a||this[_E](t,c))return this[ai](null,t,n);if(c.isDirectory()){if(t.type==="Directory"){let l=!this.noChmod&&t.mode&&(c.mode&4095)!==t.mode,u=f=>this[ai](f,t,n);return l?vt.chmod(t.absolute,t.mode,u):u()}if(t.absolute!==this.cwd)return vt.rmdir(t.absolute,l=>this[ai](l,t,n))}if(t.absolute===this.cwd)return this[ai](null,t,n);oJ(t.absolute,l=>this[ai](l,t,n))})};this[Od]?o():i()}[ai](t,r,n){if(t){this[Hr](t,r),n();return}switch(r.type){case"File":case"OldFile":case"ContiguousFile":return this[SE](r,n);case"Link":return this[uO](r,n);case"SymbolicLink":return this[lO](r,n);case"Directory":case"GNUDumpDir":return this[xE](r,n)}}[Tg](t,r,n,i){vt[n](r,t.absolute,o=>{o?this[Hr](o,t):(this[iu](),t.resume()),i()})}},Rg=e=>{try{return[null,e()]}catch(t){return[t,null]}},yO=class extends Dg{[ai](t,r){return super[ai](t,r,()=>{})}[EE](t){if(this[Ig](t),!this[Od]){let o=this[Hs](this.cwd,this.dmode);if(o)return this[Hr](o,t);this[Od]=!0}if(t.absolute!==this.cwd){let o=Ln(Jo.dirname(t.absolute));if(o!==this.cwd){let s=this[Hs](o,this.dmode);if(s)return this[Hr](s,t)}}let[r,n]=Rg(()=>vt.lstatSync(t.absolute));if(n&&(this.keep||this.newer&&n.mtime>t.mtime))return this[IE](t);if(r||this[_E](t,n))return this[ai](null,t);if(n.isDirectory()){if(t.type==="Directory"){let s=!this.noChmod&&t.mode&&(n.mode&4095)!==t.mode,[a]=s?Rg(()=>{vt.chmodSync(t.absolute,t.mode)}):[];return this[ai](a,t)}let[o]=Rg(()=>vt.rmdirSync(t.absolute));this[ai](o,t)}let[i]=t.absolute===this.cwd?[]:Rg(()=>sJ(t.absolute));this[ai](i,t)}[SE](t,r){let n=t.mode&4095||this.fmode,i=a=>{let c;try{vt.closeSync(o)}catch(l){c=l}(a||c)&&this[Hr](a||c,t),r()},o;try{o=vt.openSync(t.absolute,mO(t.size),n)}catch(a){return i(a)}let s=this.transform&&this.transform(t)||t;s!==t&&(s.on("error",a=>this[Hr](a,t)),t.pipe(s)),s.on("data",a=>{try{vt.writeSync(o,a,0,a.length)}catch(c){i(c)}}),s.on("end",a=>{let c=null;if(t.mtime&&!this.noMtime){let l=t.atime||new Date,u=t.mtime;try{vt.futimesSync(o,l,u)}catch(f){try{vt.utimesSync(t.absolute,l,u)}catch{c=f}}}if(this[Ad](t)){let l=this[Dd](t),u=this[Rd](t);try{vt.fchownSync(o,l,u)}catch(f){try{vt.chownSync(t.absolute,l,u)}catch{c=c||f}}}i(c)})}[xE](t,r){let n=t.mode&4095||this.dmode,i=this[Hs](t.absolute,n);if(i){this[Hr](i,t),r();return}if(t.mtime&&!this.noMtime)try{vt.utimesSync(t.absolute,t.atime||new Date,t.mtime)}catch{}if(this[Ad](t))try{vt.chownSync(t.absolute,this[Dd](t),this[Rd](t))}catch{}r(),t.resume()}[Hs](t,r){try{return oO.sync(Ln(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r})}catch(n){return n}}[Tg](t,r,n,i){try{vt[n+"Sync"](r,t.absolute),i(),t.resume()}catch(o){return this[Hr](o,t)}}};Dg.Sync=yO;wO.exports=Dg});var SO=T((Wbe,_O)=>{"use strict";var lJ=jl(),Og=TE(),CO=require("fs"),bO=Zl(),EO=require("path"),AE=Vl();_O.exports=(e,t,r)=>{typeof e=="function"?(r=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),typeof t=="function"&&(r=t,t=null),t?t=Array.from(t):t=[];let n=lJ(e);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return t.length&&uJ(n,t),n.file&&n.sync?fJ(n):n.file?dJ(n,r):n.sync?pJ(n):hJ(n)};var uJ=(e,t)=>{let r=new Map(t.map(o=>[AE(o),!0])),n=e.filter,i=(o,s)=>{let a=s||EO.parse(o).root||".",c=o===a?!1:r.has(o)?r.get(o):i(EO.dirname(o),a);return r.set(o,c),c};e.filter=n?(o,s)=>n(o,s)&&i(AE(o)):o=>i(AE(o))},fJ=e=>{let t=new Og.Sync(e),r=e.file,n=CO.statSync(r),i=e.maxReadSize||16*1024*1024;new bO.ReadStreamSync(r,{readSize:i,size:n.size}).pipe(t)},dJ=(e,t)=>{let r=new Og(e),n=e.maxReadSize||16*1024*1024,i=e.file,o=new Promise((s,a)=>{r.on("error",a),r.on("close",s),CO.stat(i,(c,l)=>{if(c)a(c);else{let u=new bO.ReadStream(i,{readSize:n,size:l.size});u.on("error",a),u.pipe(r)}})});return t?o.then(t,t):o},pJ=e=>new Og.Sync(e),hJ=e=>new Og(e)});var ou=T(pr=>{"use strict";pr.c=pr.create=oR();pr.r=pr.replace=uE();pr.t=pr.list=Eg();pr.u=pr.update=hR();pr.x=pr.extract=SO();pr.Pack=lg();pr.Unpack=TE();pr.Parse=bg();pr.ReadEntry=zm();pr.WriteEntry=qb();pr.Header=Hl();pr.Pax=Ym();pr.types=_b()});var RE=T(DE=>{"use strict";Object.defineProperty(DE,"__esModule",{value:!0});DE.default=vJ;var mJ=gJ(require("crypto"));function gJ(e){return e&&e.__esModule?e:{default:e}}var Ng=new Uint8Array(256),Lg=Ng.length;function vJ(){return Lg>Ng.length-16&&(mJ.default.randomFillSync(Ng),Lg=0),Ng.slice(Lg,Lg+=16)}});var xO=T(Fg=>{"use strict";Object.defineProperty(Fg,"__esModule",{value:!0});Fg.default=void 0;var yJ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Fg.default=yJ});var Ld=T(Mg=>{"use strict";Object.defineProperty(Mg,"__esModule",{value:!0});Mg.default=void 0;var wJ=CJ(xO());function CJ(e){return e&&e.__esModule?e:{default:e}}function bJ(e){return typeof e=="string"&&wJ.default.test(e)}var EJ=bJ;Mg.default=EJ});var Fd=T(jg=>{"use strict";Object.defineProperty(jg,"__esModule",{value:!0});jg.default=void 0;var _J=SJ(Ld());function SJ(e){return e&&e.__esModule?e:{default:e}}var Ir=[];for(let e=0;e<256;++e)Ir.push((e+256).toString(16).substr(1));function xJ(e,t=0){let r=(Ir[e[t+0]]+Ir[e[t+1]]+Ir[e[t+2]]+Ir[e[t+3]]+"-"+Ir[e[t+4]]+Ir[e[t+5]]+"-"+Ir[e[t+6]]+Ir[e[t+7]]+"-"+Ir[e[t+8]]+Ir[e[t+9]]+"-"+Ir[e[t+10]]+Ir[e[t+11]]+Ir[e[t+12]]+Ir[e[t+13]]+Ir[e[t+14]]+Ir[e[t+15]]).toLowerCase();if(!(0,_J.default)(r))throw TypeError("Stringified UUID is invalid");return r}var PJ=xJ;jg.default=PJ});var IO=T(qg=>{"use strict";Object.defineProperty(qg,"__esModule",{value:!0});qg.default=void 0;var kJ=PO(RE()),IJ=PO(Fd());function PO(e){return e&&e.__esModule?e:{default:e}}var kO,OE,NE=0,LE=0;function TJ(e,t,r){let n=t&&r||0,i=t||new Array(16);e=e||{};let o=e.node||kO,s=e.clockseq!==void 0?e.clockseq:OE;if(o==null||s==null){let d=e.random||(e.rng||kJ.default)();o==null&&(o=kO=[d[0]|1,d[1],d[2],d[3],d[4],d[5]]),s==null&&(s=OE=(d[6]<<8|d[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:LE+1,l=a-NE+(c-LE)/1e4;if(l<0&&e.clockseq===void 0&&(s=s+1&16383),(l<0||a>NE)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");NE=a,LE=c,OE=s,a+=122192928e5;let u=((a&268435455)*1e4+c)%4294967296;i[n++]=u>>>24&255,i[n++]=u>>>16&255,i[n++]=u>>>8&255,i[n++]=u&255;let f=a/4294967296*1e4&268435455;i[n++]=f>>>8&255,i[n++]=f&255,i[n++]=f>>>24&15|16,i[n++]=f>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let d=0;d<6;++d)i[n+d]=o[d];return t||(0,IJ.default)(i)}var AJ=TJ;qg.default=AJ});var FE=T($g=>{"use strict";Object.defineProperty($g,"__esModule",{value:!0});$g.default=void 0;var DJ=RJ(Ld());function RJ(e){return e&&e.__esModule?e:{default:e}}function OJ(e){if(!(0,DJ.default)(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var NJ=OJ;$g.default=NJ});var ME=T(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.default=jJ;pc.URL=pc.DNS=void 0;var LJ=TO(Fd()),FJ=TO(FE());function TO(e){return e&&e.__esModule?e:{default:e}}function MJ(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var AO="6ba7b810-9dad-11d1-80b4-00c04fd430c8";pc.DNS=AO;var DO="6ba7b811-9dad-11d1-80b4-00c04fd430c8";pc.URL=DO;function jJ(e,t,r){function n(i,o,s,a){if(typeof i=="string"&&(i=MJ(i)),typeof o=="string"&&(o=(0,FJ.default)(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+i.length);if(c.set(o),c.set(i,o.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,s){a=a||0;for(let l=0;l<16;++l)s[a+l]=c[l];return s}return(0,LJ.default)(c)}try{n.name=e}catch{}return n.DNS=AO,n.URL=DO,n}});var RO=T(Ug=>{"use strict";Object.defineProperty(Ug,"__esModule",{value:!0});Ug.default=void 0;var qJ=$J(require("crypto"));function $J(e){return e&&e.__esModule?e:{default:e}}function UJ(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),qJ.default.createHash("md5").update(e).digest()}var BJ=UJ;Ug.default=BJ});var NO=T(Bg=>{"use strict";Object.defineProperty(Bg,"__esModule",{value:!0});Bg.default=void 0;var HJ=OO(ME()),VJ=OO(RO());function OO(e){return e&&e.__esModule?e:{default:e}}var WJ=(0,HJ.default)("v3",48,VJ.default),zJ=WJ;Bg.default=zJ});var FO=T(Hg=>{"use strict";Object.defineProperty(Hg,"__esModule",{value:!0});Hg.default=void 0;var GJ=LO(RE()),KJ=LO(Fd());function LO(e){return e&&e.__esModule?e:{default:e}}function YJ(e,t,r){e=e||{};let n=e.random||(e.rng||GJ.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return(0,KJ.default)(n)}var JJ=YJ;Hg.default=JJ});var MO=T(Vg=>{"use strict";Object.defineProperty(Vg,"__esModule",{value:!0});Vg.default=void 0;var QJ=XJ(require("crypto"));function XJ(e){return e&&e.__esModule?e:{default:e}}function ZJ(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),QJ.default.createHash("sha1").update(e).digest()}var eQ=ZJ;Vg.default=eQ});var qO=T(Wg=>{"use strict";Object.defineProperty(Wg,"__esModule",{value:!0});Wg.default=void 0;var tQ=jO(ME()),rQ=jO(MO());function jO(e){return e&&e.__esModule?e:{default:e}}var nQ=(0,tQ.default)("v5",80,rQ.default),iQ=nQ;Wg.default=iQ});var $O=T(zg=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});zg.default=void 0;var oQ="00000000-0000-0000-0000-000000000000";zg.default=oQ});var UO=T(Gg=>{"use strict";Object.defineProperty(Gg,"__esModule",{value:!0});Gg.default=void 0;var sQ=aQ(Ld());function aQ(e){return e&&e.__esModule?e:{default:e}}function cQ(e){if(!(0,sQ.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var lQ=cQ;Gg.default=lQ});var BO=T(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Object.defineProperty(Ni,"v1",{enumerable:!0,get:function(){return uQ.default}});Object.defineProperty(Ni,"v3",{enumerable:!0,get:function(){return fQ.default}});Object.defineProperty(Ni,"v4",{enumerable:!0,get:function(){return dQ.default}});Object.defineProperty(Ni,"v5",{enumerable:!0,get:function(){return pQ.default}});Object.defineProperty(Ni,"NIL",{enumerable:!0,get:function(){return hQ.default}});Object.defineProperty(Ni,"version",{enumerable:!0,get:function(){return mQ.default}});Object.defineProperty(Ni,"validate",{enumerable:!0,get:function(){return gQ.default}});Object.defineProperty(Ni,"stringify",{enumerable:!0,get:function(){return vQ.default}});Object.defineProperty(Ni,"parse",{enumerable:!0,get:function(){return yQ.default}});var uQ=Qo(IO()),fQ=Qo(NO()),dQ=Qo(FO()),pQ=Qo(qO()),hQ=Qo($O()),mQ=Qo(UO()),gQ=Qo(Ld()),vQ=Qo(Fd()),yQ=Qo(FE());function Qo(e){return e&&e.__esModule?e:{default:e}}});var tN=T((IEe,eN)=>{var su=1e3,au=su*60,cu=au*60,hc=cu*24,TQ=hc*7,AQ=hc*365.25;eN.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return DQ(e);if(r==="number"&&isFinite(e))return t.long?OQ(e):RQ(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function DQ(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*AQ;case"weeks":case"week":case"w":return r*TQ;case"days":case"day":case"d":return r*hc;case"hours":case"hour":case"hrs":case"hr":case"h":return r*cu;case"minutes":case"minute":case"mins":case"min":case"m":return r*au;case"seconds":case"second":case"secs":case"sec":case"s":return r*su;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function RQ(e){var t=Math.abs(e);return t>=hc?Math.round(e/hc)+"d":t>=cu?Math.round(e/cu)+"h":t>=au?Math.round(e/au)+"m":t>=su?Math.round(e/su)+"s":e+"ms"}function OQ(e){var t=Math.abs(e);return t>=hc?Yg(e,t,hc,"day"):t>=cu?Yg(e,t,cu,"hour"):t>=au?Yg(e,t,au,"minute"):t>=su?Yg(e,t,su,"second"):e+" ms"}function Yg(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var HE=T((TEe,rN)=>{function NQ(e){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=i,r.enabled=s,r.humanize=tN(),r.destroy=l,Object.keys(e).forEach(u=>{r[u]=e[u]}),r.names=[],r.skips=[],r.formatters={};function t(u){let f=0;for(let d=0;d<u.length;d++)f=(f<<5)-f+u.charCodeAt(d),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=t;function r(u){let f,d=null;function p(...h){if(!p.enabled)return;let m=p,g=Number(new Date),v=g-(f||g);m.diff=v,m.prev=f,m.curr=g,f=g,h[0]=r.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");let y=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,(b,_)=>{if(b==="%%")return"%";y++;let P=r.formatters[_];if(typeof P=="function"){let S=h[y];b=P.call(m,S),h.splice(y,1),y--}return b}),r.formatArgs.call(m,h),(m.log||r.log).apply(m,h)}return p.namespace=u,p.useColors=r.useColors(),p.color=r.selectColor(u),p.extend=n,p.destroy=r.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>d===null?r.enabled(u):d,set:h=>{d=h}}),typeof r.init=="function"&&r.init(p),p}function n(u,f){let d=r(this.namespace+(typeof f=="undefined"?":":f)+u);return d.log=this.log,d}function i(u){r.save(u),r.names=[],r.skips=[];let f,d=(typeof u=="string"?u:"").split(/[\s,]+/),p=d.length;for(f=0;f<p;f++)!d[f]||(u=d[f].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.substr(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function o(){let u=[...r.names.map(a),...r.skips.map(a).map(f=>"-"+f)].join(",");return r.enable(""),u}function s(u){if(u[u.length-1]==="*")return!0;let f,d;for(f=0,d=r.skips.length;f<d;f++)if(r.skips[f].test(u))return!1;for(f=0,d=r.names.length;f<d;f++)if(r.names[f].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}rN.exports=NQ});var nN=T((Mn,Jg)=>{Mn.formatArgs=FQ;Mn.save=MQ;Mn.load=jQ;Mn.useColors=LQ;Mn.storage=qQ();Mn.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Mn.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function LQ(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function FQ(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Jg.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}Mn.log=console.debug||console.log||(()=>{});function MQ(e){try{e?Mn.storage.setItem("debug",e):Mn.storage.removeItem("debug")}catch{}}function jQ(){let e;try{e=Mn.storage.getItem("debug")}catch{}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function qQ(){try{return localStorage}catch{}}Jg.exports=HE()(Mn);var{formatters:$Q}=Jg.exports;$Q.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var oN=T((AEe,iN)=>{"use strict";iN.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var cN=T((DEe,aN)=>{"use strict";var UQ=require("os"),sN=require("tty"),ci=oN(),{env:_r}=process,zs;ci("no-color")||ci("no-colors")||ci("color=false")||ci("color=never")?zs=0:(ci("color")||ci("colors")||ci("color=true")||ci("color=always"))&&(zs=1);"FORCE_COLOR"in _r&&(_r.FORCE_COLOR==="true"?zs=1:_r.FORCE_COLOR==="false"?zs=0:zs=_r.FORCE_COLOR.length===0?1:Math.min(parseInt(_r.FORCE_COLOR,10),3));function VE(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function WE(e,t){if(zs===0)return 0;if(ci("color=16m")||ci("color=full")||ci("color=truecolor"))return 3;if(ci("color=256"))return 2;if(e&&!t&&zs===void 0)return 0;let r=zs||0;if(_r.TERM==="dumb")return r;if(process.platform==="win32"){let n=UQ.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in _r)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in _r)||_r.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in _r)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(_r.TEAMCITY_VERSION)?1:0;if(_r.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in _r){let n=parseInt((_r.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(_r.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(_r.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(_r.TERM)||"COLORTERM"in _r?1:r}function BQ(e){let t=WE(e,e&&e.isTTY);return VE(t)}aN.exports={supportsColor:BQ,stdout:VE(WE(!0,sN.isatty(1))),stderr:VE(WE(!0,sN.isatty(2)))}});var uN=T((Tr,Xg)=>{var HQ=require("tty"),Qg=require("util");Tr.init=JQ;Tr.log=GQ;Tr.formatArgs=WQ;Tr.save=KQ;Tr.load=YQ;Tr.useColors=VQ;Tr.destroy=Qg.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Tr.colors=[6,2,3,4,5,1];try{let e=cN();e&&(e.stderr||e).level>=2&&(Tr.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Tr.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function VQ(){return"colors"in Tr.inspectOpts?Boolean(Tr.inspectOpts.colors):HQ.isatty(process.stderr.fd)}function WQ(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,i="[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${t} [0m`;e[0]=o+e[0].split(`
`).join(`
`+o),e.push(i+"m+"+Xg.exports.humanize(this.diff)+"[0m")}else e[0]=zQ()+t+" "+e[0]}function zQ(){return Tr.inspectOpts.hideDate?"":new Date().toISOString()+" "}function GQ(...e){return process.stderr.write(Qg.format(...e)+`
`)}function KQ(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function YQ(){return process.env.DEBUG}function JQ(e){e.inspectOpts={};let t=Object.keys(Tr.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=Tr.inspectOpts[t[r]]}Xg.exports=HE()(Tr);var{formatters:lN}=Xg.exports;lN.o=function(e){return this.inspectOpts.colors=this.useColors,Qg.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};lN.O=function(e){return this.inspectOpts.colors=this.useColors,Qg.inspect(e,this.inspectOpts)}});var fN=T((REe,zE)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?zE.exports=nN():zE.exports=uN()});var pN=T((OEe,dN)=>{var $d;dN.exports=function(){if(!$d){try{$d=fN()("follow-redirects")}catch{}typeof $d!="function"&&($d=function(){})}$d.apply(null,arguments)}});var lu=T((NEe,JE)=>{var mc=require("url"),GE=mc.URL,QQ=require("http"),XQ=require("https"),hN=require("stream").Writable,ZQ=require("assert"),mN=pN(),gc=["abort","aborted","connect","error","socket","timeout"],KE=Object.create(null);gc.forEach(function(e){KE[e]=function(t,r,n){this._redirectable.emit(e,t,r,n)}});var gN=Zg("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),eX=Zg("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),tX=Zg("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),rX=Zg("ERR_STREAM_WRITE_AFTER_END","write after end");function jn(e,t){hN.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var r=this;this._onNativeResponse=function(n){r._processResponse(n)},this._performRequest()}jn.prototype=Object.create(hN.prototype);jn.prototype.abort=function(){wN(this._currentRequest),this.emit("abort")};jn.prototype.write=function(e,t,r){if(this._ending)throw new rX;if(!(typeof e=="string"||typeof e=="object"&&"length"in e))throw new TypeError("data should be a string, Buffer or Uint8Array");if(typeof t=="function"&&(r=t,t=null),e.length===0){r&&r();return}this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new tX),this.abort())};jn.prototype.end=function(e,t,r){if(typeof e=="function"?(r=e,e=t=null):typeof t=="function"&&(r=t,t=null),!e)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,i=this._currentRequest;this.write(e,t,function(){n._ended=!0,i.end(null,null,r)}),this._ending=!0}};jn.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)};jn.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)};jn.prototype.setTimeout=function(e,t){var r=this;function n(s){s.setTimeout(e),s.removeListener("timeout",s.destroy),s.addListener("timeout",s.destroy)}function i(s){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),o()},e),n(s)}function o(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",o),r.removeListener("error",o),r.removeListener("response",o),t&&r.removeListener("timeout",t),r.socket||r._currentRequest.removeListener("socket",i)}return t&&this.on("timeout",t),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",n),this.on("abort",o),this.on("error",o),this.on("response",o),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(e){jn.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}});["aborted","connection","socket"].forEach(function(e){Object.defineProperty(jn.prototype,e,{get:function(){return this._currentRequest[e]}})});jn.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}};jn.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t){this.emit("error",new TypeError("Unsupported protocol "+e));return}if(this._options.agents){var r=e.substr(0,e.length-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=t.request(this._options,this._onNativeResponse);this._currentUrl=mc.format(this._options),n._redirectable=this;for(var i=0;i<gc.length;i++)n.on(gc[i],KE[gc[i]]);if(this._isRedirect){var o=0,s=this,a=this._requestBodyBuffers;(function c(l){if(n===s._currentRequest)if(l)s.emit("error",l);else if(o<a.length){var u=a[o++];n.finished||n.write(u.data,u.encoding,c)}else s._ended&&n.end()})()}};jn.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var r=e.headers.location;if(r&&this._options.followRedirects!==!1&&t>=300&&t<400){if(wN(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects){this.emit("error",new eX);return}((t===301||t===302)&&this._options.method==="POST"||t===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],YE(/^content-/i,this._options.headers));var n=YE(/^host$/i,this._options.headers),i=mc.parse(this._currentUrl),o=n||i.host,s=/^\w+:/.test(r)?this._currentUrl:mc.format(Object.assign(i,{host:o})),a;try{a=mc.resolve(s,r)}catch(u){this.emit("error",new gN(u));return}mN("redirecting to",a),this._isRedirect=!0;var c=mc.parse(a);if(Object.assign(this._options,c),(c.protocol!==i.protocol||!iX(c.host,o))&&YE(/^(?:authorization|cookie)$/i,this._options.headers),typeof this._options.beforeRedirect=="function"){var l={headers:e.headers};try{this._options.beforeRedirect.call(null,this._options,l)}catch(u){this.emit("error",u);return}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(u){this.emit("error",new gN(u))}}else e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[]};function vN(e){var t={maxRedirects:21,maxBodyLength:10*1024*1024},r={};return Object.keys(e).forEach(function(n){var i=n+":",o=r[i]=e[n],s=t[n]=Object.create(o);function a(l,u,f){if(typeof l=="string"){var d=l;try{l=yN(new GE(d))}catch{l=mc.parse(d)}}else GE&&l instanceof GE?l=yN(l):(f=u,u=l,l={protocol:i});return typeof u=="function"&&(f=u,u=null),u=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},l,u),u.nativeProtocols=r,ZQ.equal(u.protocol,i,"protocol mismatch"),mN("options",u),new jn(u,f)}function c(l,u,f){var d=s.request(l,u,f);return d.end(),d}Object.defineProperties(s,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),t}function nX(){}function yN(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return e.port!==""&&(t.port=Number(e.port)),t}function YE(e,t){var r;for(var n in t)e.test(n)&&(r=t[n],delete t[n]);return r===null||typeof r=="undefined"?void 0:String(r).trim()}function Zg(e,t){function r(n){Error.captureStackTrace(this,this.constructor),n?(this.message=t+": "+n.message,this.cause=n):this.message=t}return r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="Error ["+e+"]",r.prototype.code=e,r}function wN(e){for(var t=0;t<gc.length;t++)e.removeListener(gc[t],KE[gc[t]]);e.on("error",nX),e.abort()}function iX(e,t){if(e===t)return!0;let r=e.length-t.length-1;return r>0&&e[r]==="."&&e.endsWith(t)}JE.exports=vN({http:QQ,https:XQ});JE.exports.wrap=vN});var e_=T((t_e,kN)=>{kN.exports=function(t,r,n){t(r),n&&n(r===!0?null:r)}});var sv=T((r_e,TN)=>{"use strict";var IN=e_();TN.exports=function(t,r){if(!t)return function(i,o){return i?IN(o,i,r):o(!0)};Array.isArray(t)||(t=Object.keys(t).map(function(i){return t[i]}));var n=0;return function(i,o){if(i)return IN(o,i,r);n>=t.length?o(!0):o(null,t[n++])}}});var DN=T((n_e,AN)=>{"use strict";var lX=sv();AN.exports=function(e){return lX(Object.keys(e))}});var t_=T((i_e,RN)=>{"use strict";var uX=e_();RN.exports=function(t,r){return function(n,i){if(n)return uX(i,n,r);if(t!=null){var o=t;t=null,i(null,o)}else i(!0)}}});var NN=T((o_e,ON)=>{"use strict";ON.exports=function(t){var r=0;return t=t||1/0,function(n,i){if(n)return i&&i(n);if(r>t)return i(!0);i(null,r++)}}});var FN=T((s_e,LN)=>{"use strict";LN.exports=function(t){return t=t||Math.random,function(r,n){return r?n&&n(r):n(null,t())}}});var jN=T((a_e,MN)=>{"use strict";MN.exports=function(){return function(t,r){r(!0)}}});var $N=T((c_e,qN)=>{"use strict";qN.exports=function(t){return function(r,n){n(t)}}});var BN=T((l_e,UN)=>{"use strict";UN.exports={keys:DN(),once:t_(),values:sv(),count:NN(),infinite:FN(),empty:jN(),error:$N()}});var du=T((u_e,HN)=>{"use strict";HN.exports=function(t,r){var n,i;function o(s){if(n=s,i)return o.abort();(function a(){for(var c=!0,l=!1;c;)if(l=!1,n(null,function(u,f){if(l=!0,u=u||i){if(c=!1,r)r(u===!0?null:u);else if(u&&u!==!0)throw u}else t&&t(f)===!1||i?(c=!1,n(i||!0,r||function(){})):c||a()}),!l){c=!1;return}})()}return o.abort=function(s,a){if(typeof s=="function"&&(a=s,s=!0),i=s||!0,n)return n(i,a||function(){})},o}});var WN=T((f_e,VN)=>{"use strict";var fX=du();VN.exports=function(t){return fX(null,t)}});var GN=T((d_e,zN)=>{"use strict";var dX=du();zN.exports=function(t){return dX(function(r){console.log(r)},t)}});var pu=T((p_e,KN)=>{KN.exports=function(t){return t&&(typeof t=="string"?function(r){return r[t]}:typeof t=="object"&&typeof t.exec=="function"?function(r){var n=t.exec(r);return n&&n[0]}:t)}});var QN=T((h_e,JN)=>{"use strict";function YN(e){return e}var pX=pu(),hX=du();JN.exports=function(t,r){var n=!1;return r?t=pX(t)||YN:(r=t,t=YN),hX(function(i){if(t(i))return n=!0,r(null,i),!1},function(i){n||r(i===!0?null:i,null)})}});var av=T((m_e,XN)=>{"use strict";var mX=du();XN.exports=function(t,r,n){n||(n=r,r=null);var i=mX(function(o){r=t(r,o)},function(o){n(o,r)});return arguments.length===2?function(o){o(null,function(s,a){if(s)return n(s===!0?null:s);r=a,i(o)})}:i}});var eL=T((g_e,ZN)=>{"use strict";var gX=av();ZN.exports=function(t){return gX(function(r,n){return r.push(n),r},[],t)}});var rL=T((v_e,tL)=>{"use strict";var vX=av();tL.exports=function(t){return vX(function(r,n){return r+n},"",t)}});var iL=T((y_e,nL)=>{"use strict";nL.exports={drain:du(),onEnd:WN(),log:GN(),find:QN(),reduce:av(),collect:eL(),concat:rL()}});var sL=T((w_e,oL)=>{"use strict";function yX(e){return e}var wX=pu();oL.exports=function(t){return t?(t=wX(t),function(r){return function(n,i){r(n,function(o,s){try{s=o?null:t(s)}catch(a){return r(a,function(){return i(a)})}i(o,s)})}}):yX}});var cL=T((C_e,aL)=>{"use strict";function CX(e){return e}var bX=pu();aL.exports=function(t){if(!t)return CX;t=bX(t);var r=!1,n,i;return function(o){return function s(a,c){if(i)return c(i);a?(i=a,r?o(a,function(l){r?n=c:c(a)}):o(a,function(l){c(a)})):o(null,function(l,u){l?c(l):i?c(i):(r=!0,t(u,function(f,d){r=!1,i?(c(i),n&&n(i)):f?s(f,c):c(null,d)}))})}}}});var r_=T((b_e,lL)=>{var EX=pu();function _X(e){return e}lL.exports=function(t){return typeof t=="object"&&typeof t.test=="function"?function(r){return t.test(r)}:EX(t)||_X}});var cv=T((E_e,uL)=>{"use strict";var SX=r_();uL.exports=function(t){return t=SX(t),function(r){return function n(i,o){for(var s,a=!0;a;)a=!1,s=!0,r(i,function(c,l){if(!c&&!t(l))return s?a=!0:n(c,o);o(c,l)}),s=!1}}}});var dL=T((__e,fL)=>{"use strict";var xX=r_(),PX=cv();fL.exports=function(t){return t=xX(t),PX(function(r){return!t(r)})}});var hL=T((S_e,pL)=>{"use strict";pL.exports=function(t,r){var n=!1;function i(o){n||!r||(n=!0,r(o===!0?null:o))}return function(o){return function(s,a){return s&&i(s),o(s,function(c,l){c?i(c):t&&t(l),a(c,l)})}}}});var gL=T((x_e,mL)=>{"use strict";mL.exports=function(t,r){r=r||{};var n=r.last||!1,i=!1;if(typeof t=="number"){n=!0;var o=t;t=function(){return--o}}return function(s){function a(c){s(!0,function(l){n=!1,c(l||!0)})}return function(c,l){i&&!c?n?a(l):l(i):(i=c)?s(i,l):s(null,function(u,f){(i=i||u)?l(i):t(f)?l(null,f):(i=!0,n?l(null,f):a(l))})}}}});var n_=T((P_e,vL)=>{"use strict";function kX(e){return e}var IX=pu(),TX=cv();vL.exports=function(t,r){t=IX(t)||kX;var n={};return TX(function(i){var o=t(i);return n[o]?!!r:(n[o]=!0,!r)})}});var wL=T((k_e,yL)=>{"use strict";var AX=n_();yL.exports=function(t){return AX(t,!0)}});var bL=T((I_e,CL)=>{"use strict";var DX=sv(),RX=t_();CL.exports=function(){return function(t){var r;return function(n,i){n?r?r(n,function(a){t(a||n,i)}):t(n,i):r?o():s();function o(){r(null,function(a,c){a===!0?s():a?t(!0,function(l){i(a)}):i(null,c)})}function s(){r=null,t(null,function(a,c){if(a)return i(a);Array.isArray(c)||c&&typeof c=="object"?c=DX(c):typeof c!="function"&&(c=RX(c)),r=c,o()})}}}}});var _L=T((T_e,EL)=>{"use strict";EL.exports={map:sL(),asyncMap:cL(),filter:cv(),filterNot:dL(),through:hL(),take:gL(),unique:n_(),nonUnique:wL(),flatten:bL()}});var i_=T((A_e,SL)=>{"use strict";SL.exports=function e(t){var r=arguments.length;if(typeof t=="function"&&t.length===1){for(var n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(a){if(n==null)throw new TypeError("partial sink should only be called once!");var c=n;switch(n=null,r){case 1:return e(a,c[0]);case 2:return e(a,c[0],c[1]);case 3:return e(a,c[0],c[1],c[2]);case 4:return e(a,c[0],c[1],c[2],c[3]);default:return c.unshift(a),e.apply(null,c)}}}var o=t;o&&typeof o.source=="function"&&(o=o.source);for(var i=1;i<r;i++){var s=arguments[i];typeof s=="function"?o=s(o):s&&typeof s=="object"&&(s.sink(o),o=s.source)}return o}});var lv=T((yc,IL)=>{"use strict";var xL=BN(),PL=iL(),kL=_L();yc=IL.exports=i_();yc.pull=yc;for(Li in xL)yc[Li]=xL[Li];var Li;for(Li in kL)yc[Li]=kL[Li];var Li;for(Li in PL)yc[Li]=PL[Li];var Li});var d_=T((B_e,NL)=>{var U_e=NL.exports=function(e){(function t(){var r=!0,n=!1,i=!1;do i=!0,r=!1,e.call(this,function(){i?r=!0:t()}),i=!1;while(r)})()}});var FL=T((H_e,LL)=>{var jX=d_();LL.exports=function(e,t){return function(r){var n=[],i,o;function s(l){n.push(l)}e=e||function(l){this.queue(l)},t=t||function(){this.queue(null)};var a={emit:function(l,u){l=="data"&&s(u),l=="end"&&(i=!0,s(null)),l=="error"&&(o=u)},queue:s},c;return function(l,u){if(i=i||l,l)return r(l,function(){if(c){var f=c;c=null,f(l)}u(l)});c=u,jX(function f(d){if(!!c)if(u=c,o)c=null,u(o);else if(n.length){var p=n.shift();c=null,u(p===null,p)}else r(i,function(h,m){if(h&&h!==!0)return o=h,d();if(i=i||h)t.call(a);else if(m!==null&&(e.call(a,m),o||i))return r(o||i,function(){c=null,u(o||i)});d(f)})})}}}});var jL=T((V_e,ML)=>{ML.exports=function(){var e=[],t=0;function r(){return e.reduce(function(n,i){return n+i.length},0)}return{length:t,data:this,add:function(n){if(!Buffer.isBuffer(n))throw new Error("data must be a buffer, was: "+JSON.stringify(n));return this.length=t=t+n.length,e.push(n),this},has:function(n){return n==null?t>0:t>=n},get:function(n){var i;if(n==null||n===t){t=0;var o=e;return e=[],o.length==1?o[0]:Buffer.concat(o)}else if(e.length>1&&n<=(i=e[0].length)){var s=e[0].slice(0,n);return n===i?e.shift():e[0]=e[0].slice(n,i),t-=n,s}else if(n<t){for(var a=[],c=0;c+e[0].length<n;){var l=e.shift();c+=l.length,a.push(l)}return c<n&&(a.push(e[0].slice(0,n-c)),e[0]=e[0].slice(n-c,e[0].length),this.length=t=t-n),Buffer.concat(a)}else throw new Error("could not get "+n+" bytes")}}}});var BL=T((W_e,UL)=>{"use strict";var qX=jL();function $X(e){return Number.isFinite(e)}function qL(e){return typeof e=="function"}function $L(e,t){return t?function(r,n){var i=setTimeout(function(){e(new Error("pull-reader: read exceeded timeout"),n)},t);e(r,function(o,s){clearTimeout(i),n(o,s)})}:e}UL.exports=function(e){var t=[],r,n,i=!1,o=qX(),s,a,c;function l(){for(;t.length;)if(t[0].length==null&&o.has(1))t.shift().cb(null,o.get());else if(o.has(t[0].length)){var d=t.shift();d.cb(null,o.get(d.length))}else if(s==!0&&t[0].length&&o.length<t[0].length){var p="stream ended with:"+o.length+" but wanted:"+t[0].length;t.shift().cb(new Error(p))}else if(s)t.shift().cb(s);else return!!t.length;return t.length||!o.has(1)||c}function u(){var d=l();d&&!i&&r&&!i&&!a&&(i=!0,n(null,function(p,h){if(i=!1,p)return s=p,l();o.add(h),u()}))}function f(d){if(c){for(;t.length;)t.shift().cb(c);return cb&&cb(c)}n=$L(d,e),r=d,u()}return f.abort=function(d,p){c=d||!0,r?(i=!0,r(c,function(){for(;t.length;)t.shift().cb(c);p&&p(c)})):p()},f.read=function(d,p,h){if(qL(p)&&(h=p,p=e),qL(h))t.push({length:$X(d)?d:null,cb:h}),u();else return a=!0,function(m,g){if(i||o.has(1)){if(m)return r(m,g);t.push({length:null,cb:g}),u()}else $L(r,p)(m,function(v,y){g(v,y)})}},f}});var e1=T((wc,ZL)=>{var UX=FL(),BX=BL(),HL=0,VL=1,WL=2,zL="GOODBYE",HX=Buffer.isBuffer;function GL(e){return typeof e=="string"}function KL(e){var t=Buffer.alloc(9),r=0,n=e.value!==void 0?e.value:e.end;return GL(e)&&e===zL?(t.fill(0),[t,null]):(GL(n)?(r=VL,n=Buffer.from(n,"utf-8")):HX(n)?r=HL:(r=WL,n=Buffer.from(JSON.stringify(n),"utf-8")),r=e.stream<<3|e.end<<2|r,t[0]=r,t.writeUInt32BE(n.length,1),t.writeInt32BE(e.req||0,5),[t,n])}function YL(e){if(e.length!=9)throw new Error("expected header to be 9 bytes long");var t=e[0],r=e.readUInt32BE(1),n=e.readInt32BE(5);return{req:n,stream:!!(t&8),end:!!(t&4),value:null,length:r,type:t&3}}function JL(e,t){if(e.length!==t.length)throw new Error("incorrect length, expected:"+t.length+" found:"+e.length);if(HL===t.type)t.value=e;else if(VL===t.type)t.value=e.toString();else if(WL===t.type)t.value=JSON.parse(e.toString());else throw new Error("unknown message type");return t}function QL(){return UX(function(e){var t=KL(e);this.queue(t[0]),t[1]!==null&&this.queue(t[1])})}function XL(){var e=BX(),t=!1;return function(r){return e(r),function(n,i){if(t)return i(!0);if(n)return e.abort(n,i);e.read(9,function(o,s){if(o)return i(o);var a=YL(s);if(a.length===0)return t=!0,i(null,zL);e.read(a.length,function(c,l){if(c)return i(c);try{JL(l,a)}catch(u){return i(u)}i(null,a)})})}}}wc=ZL.exports=function(e){return{source:QL()(e.source),sink:function(t){return e.sink(XL()(t))}}};wc.encodePair=KL;wc.decodeHead=YL;wc.decodeBody=JL;wc.encode=QL;wc.decode=XL});var n1=T((z_e,r1)=>{function Kd(e){return e&&(e===!0?!0:{message:e.message,name:e.name,stack:e.stack})}r1.exports=function(e){return new li(e)};function li(e){this.ended=!1,this.opts=e,this._req_counter=1,this._requests={},this._instreams={},this._outstreams={},this._closecbs=[],this._closing=!1,this._closed=!1,e.close&&this._closecbs.push(e.close)}li.prototype.message=function(e){this.read({req:0,stream:!1,end:!1,value:e})};li.prototype.request=function(e,t){if(this._closing)return t(new Error("parent stream is closing"));var r=this._req_counter++,n=this;this._requests[r]=function(i,o){delete n._requests[r],t(i,o),n._maybedone(i)},this.read({req:r,stream:!1,end:!1,value:e})};li.prototype.stream=function(){if(this._closing)throw new Error("parent stream is closing");var e=this._req_counter++,t=this;return this._outstreams[e]=new Yd(e,this,function(){delete t._outstreams[e]}),this._outstreams[e]};li.prototype.close=function(e){if(!e)throw new Error("packet-stream.close *must* have callback");if(this._closed)return e();this._closecbs.push(e),this._closing=!0,this._maybedone()};li.prototype.destroy=function(e){e=e||Kd(e),this.ended=e,this._closing=!0;var t=e===!0?new Error("unexpected end of parent stream"):e,r=0;for(var n in this._requests)r++,this._requests[n](t);for(var n in this._instreams)r++,this._instreams[n].writeEnd=!0,this._instreams[n].destroy(t);for(var n in this._outstreams)r++,this._outstreams[n].writeEnd=!0,this._outstreams[n].destroy(t);r===0&&e===!0&&(t=null),this._maybedone(t)};li.prototype._maybedone=function(e){this._closed||!this._closing||Object.keys(this._requests).length!==0||Object.keys(this._instreams).length!==0||Object.keys(this._outstreams).length!==0||(this._closed=!0,this._closecbs.forEach(function(t){t(e)}),this.read(null,e||!0),this.opts=null,this._closecbs.length=0,this.read=t1)};function t1(e){console.error("packet-stream asked to read after closed",e)}li.prototype.read=function(e){console.error("please overwrite read method to do IO",e)};li.prototype.write=function(e,t){this.ended||(t?this.destroy(t):e.req&&!e.stream?this._onrequest(e):e.req&&e.stream?this._onstream(e):this._onmessage(e))};li.prototype._onmessage=function(e){this.opts&&typeof this.opts.message=="function"&&this.opts.message(e.value)};li.prototype._onrequest=function(e){var t=e.req*-1;if(e.req<0)typeof this._requests[t]=="function"&&this._requests[t](e.end?e.value:null,e.end?null:e.value);else if(this.opts&&typeof this.opts.request=="function"){var r=!1,n=this;this.opts.request(e.value,function(o,s){if(r)throw new Error("cb called twice from local api");r=!0,o?n.read({value:Kd(o),end:!0,req:t}):n.read({value:s,end:!1,req:t}),n._maybedone()})}else{if(this.ended){var i=this.ended===!0?new Error("unexpected end of parent stream"):this.ended;this.read({value:Kd(i),end:!0,stream:!1,req:t})}else this.read({value:{message:"Unable to handle requests",name:"NO_REQUEST_HANDLER",stack:null},end:!0,stream:!1,req:t});this._maybedone()}};li.prototype._onstream=function(e){if(e.req<0){var t=e.req*-1,r=this._outstreams[t];if(!r)return console.error("no stream for incoming msg",e);e.end?(r.writeEnd&&delete this._outstreams[t],r.readEnd=!0,r.read(null,e.value),this._maybedone()):r.read(e.value)}else{var t=e.req,n=this._instreams[t];if(!n){var i=this;n=this._instreams[t]=new Yd(t*-1,this,function(){delete i._instreams[t]}),this.opts&&typeof this.opts.stream=="function"&&this.opts.stream(n)}e.end?(n.writeEnd&&delete this._instreams[t],n.readEnd=!0,n.read&&n.read(null,e.value),this._maybedone()):n.read?n.read(e.value):console.error("no .read for stream:",n.id,"dropped:",e)}};function Yd(e,t,r){this.id=e,this.read=null,this.writeEnd=null,this.readEnd=null,this._ps=t,this._remove=r,this._seq_counter=1}Yd.prototype.write=function(e,t){if(t){this.writeEnd=t;var r=this._ps;r&&(r.read({req:this.id,stream:!0,end:!0,value:Kd(t)}),this.readEnd&&this.destroy(t),r._maybedone(t))}else this._ps&&this._ps.read({req:this.id,stream:!0,end:!1,value:e})};Yd.prototype.end=function(e){this.write(null,Kd(e||!0))};Yd.prototype.destroy=function(e){if(this.writeEnd){if(!this.readEnd){this.readEnd=!0;try{this.read&&this.read(null,e)}catch(t){console.error("Exception thrown by PacketStream substream end handler",t),console.error(t.stack)}}}else{if(this.writeEnd=!0,!this.readEnd){this.readEnd=!0;try{this.read(null,e)}catch(t){console.error("Exception thrown by PacketStream substream end handler",t),console.error(t.stack)}}this.write(null,e)}this._ps&&(this._remove(),this._remove=null,this.read=t1,this._ps=null)}});var o1=T((G_e,Jd)=>{"use strict";var VX=lv();function WX(e){let t=!1;return(r,n)=>{t||(t=!0,e(r,n))}}function p_(e,t){let r=[],n=!1,i=!1,o,s,a=WX((c,l)=>{t&&t(c,l),e=null,t=null,o=null,s&&s(c||!0,()=>{})});return e.read=function(c,l){if(n=n||l,o){let u=o;o=null,u(n,c)}else!n&&!i&&r.push(c);n&&a(n!==!0?n:null)},{source(c,l){c?(e&&e.write(null,c),l(c),r.length=0,i=!0,a(c!==!0?c:null)):r.length?l(null,r.shift()):n?l(n):o=l},sink(c){if(n)return s=null,c(n,()=>{});s=c,VX.drain(l=>{if(n)return!1;e.write(l)},l=>{e&&!e.writeEnd&&e.write(null,l||!0),a&&a(l)})(c)}}}function i1(e,t){return p_(e,r=>{e.writeEnd||e.write(null,r||!0),t&&t(r)})}function zX(e){return i1(e).source}function GX(e,t){return i1(e,t).sink}Jd.exports=p_;Jd.exports.source=zX;Jd.exports.sink=GX;Jd.exports.duplex=p_});var a1=T((K_e,s1)=>{s1.exports=function(t){var r,n,i;function o(s){return function(a,c){s(a,function(l,u){if(l&&!i)return i=!0,c(null,t);l&&r?c(l):l?n=c:c(null,u)})}}return o.end=function(){return r=!0,n&&n(r),o},o}});var h_=T((Y_e,c1)=>{c1.exports=function(t,r,n){t(r),n&&n(r===!0?null:r)}});var fv=T((J_e,u1)=>{"use strict";var l1=h_();u1.exports=function(t,r){if(!t)return function(i,o){return i?l1(o,i,r):o(!0)};Array.isArray(t)||(t=Object.keys(t).map(function(i){return t[i]}));var n=0;return function(i,o){if(i)return l1(o,i,r);n>=t.length?o(!0):o(null,t[n++])}}});var d1=T((Q_e,f1)=>{"use strict";var KX=fv();f1.exports=function(e){return KX(Object.keys(e))}});var m_=T((X_e,p1)=>{"use strict";var YX=h_();p1.exports=function(t,r){return function(n,i){if(n)return YX(i,n,r);if(t!=null){var o=t;t=null,i(null,o)}else i(!0)}}});var m1=T((Z_e,h1)=>{"use strict";h1.exports=function(t){var r=0;return t=t||1/0,function(n,i){if(n)return i&&i(n);if(r>t)return i(!0);i(null,r++)}}});var v1=T((eSe,g1)=>{"use strict";g1.exports=function(t){return t=t||Math.random,function(r,n){return r?n&&n(r):n(null,t())}}});var w1=T((tSe,y1)=>{"use strict";y1.exports=function(){return function(t,r){r(!0)}}});var b1=T((rSe,C1)=>{"use strict";C1.exports=function(t){return function(r,n){n(t)}}});var _1=T((nSe,E1)=>{"use strict";E1.exports={keys:d1(),once:m_(),values:fv(),count:m1(),infinite:v1(),empty:w1(),error:b1()}});var mu=T((iSe,S1)=>{"use strict";S1.exports=function(t,r){var n,i;function o(s){if(n=s,i)return o.abort();(function a(){for(var c=!0,l=!1;c;)if(l=!1,n(null,function(u,f){if(l=!0,u=u||i){if(c=!1,r)r(u===!0?null:u);else if(u&&u!==!0)throw u}else t&&t(f)===!1||i?(c=!1,n(i||!0,r||function(){})):c||a()}),!l){c=!1;return}})()}return o.abort=function(s,a){if(typeof s=="function"&&(a=s,s=!0),i=s||!0,n)return n(i,a||function(){})},o}});var P1=T((oSe,x1)=>{"use strict";var JX=mu();x1.exports=function(t){return JX(null,t)}});var I1=T((sSe,k1)=>{"use strict";var QX=mu();k1.exports=function(t){return QX(function(r){console.log(r)},t)}});var gu=T((aSe,T1)=>{T1.exports=function(t){return t&&(typeof t=="string"?function(r){return r[t]}:typeof t=="object"&&typeof t.exec=="function"?function(r){var n=t.exec(r);return n&&n[0]}:t)}});var R1=T((cSe,D1)=>{"use strict";function A1(e){return e}var XX=gu(),ZX=mu();D1.exports=function(t,r){var n=!1;return r?t=XX(t)||A1:(r=t,t=A1),ZX(function(i){if(t(i))return n=!0,r(null,i),!1},function(i){n||r(i===!0?null:i,null)})}});var dv=T((lSe,O1)=>{"use strict";var eZ=mu();O1.exports=function(t,r,n){n||(n=r,r=null);var i=eZ(function(o){r=t(r,o)},function(o){n(o,r)});return arguments.length===2?function(o){o(null,function(s,a){if(s)return n(s===!0?null:s);r=a,i(o)})}:i}});var L1=T((uSe,N1)=>{"use strict";var tZ=dv();N1.exports=function(t){return tZ(function(r,n){return r.push(n),r},[],t)}});var M1=T((fSe,F1)=>{"use strict";var rZ=dv();F1.exports=function(t){return rZ(function(r,n){return r+n},"",t)}});var q1=T((dSe,j1)=>{"use strict";j1.exports={drain:mu(),onEnd:P1(),log:I1(),find:R1(),reduce:dv(),collect:L1(),concat:M1()}});var U1=T((pSe,$1)=>{"use strict";function nZ(e){return e}var iZ=gu();$1.exports=function(t){return t?(t=iZ(t),function(r){return function(n,i){r(n,function(o,s){try{s=o?null:t(s)}catch(a){return r(a,function(){return i(a)})}i(o,s)})}}):nZ}});var H1=T((hSe,B1)=>{"use strict";function oZ(e){return e}var sZ=gu();B1.exports=function(t){if(!t)return oZ;t=sZ(t);var r=!1,n,i;return function(o){return function s(a,c){if(i)return c(i);a?(i=a,r?o(a,function(){r?n=c:c(a)}):o(a,c)):o(null,function(l,u){l?c(l):i?c(i):(r=!0,t(u,function(f,d){r=!1,i?(c(i),n(i)):f?s(f,c):c(null,d)}))})}}}});var g_=T((mSe,V1)=>{var aZ=gu();function cZ(e){return e}V1.exports=function(t){return typeof t=="object"&&typeof t.test=="function"?function(r){return t.test(r)}:aZ(t)||cZ}});var pv=T((gSe,W1)=>{"use strict";var lZ=g_();W1.exports=function(t){return t=lZ(t),function(r){return function n(i,o){for(var s,a=!0;a;)a=!1,s=!0,r(i,function(c,l){if(!c&&!t(l))return s?a=!0:n(c,o);o(c,l)}),s=!1}}}});var G1=T((vSe,z1)=>{"use strict";var uZ=g_(),fZ=pv();z1.exports=function(t){return t=uZ(t),fZ(function(r){return!t(r)})}});var Y1=T((ySe,K1)=>{"use strict";K1.exports=function(t,r){var n=!1;function i(o){n||!r||(n=!0,r(o===!0?null:o))}return function(o){return function(s,a){return s&&i(s),o(s,function(c,l){c?i(c):t&&t(l),a(c,l)})}}}});var Q1=T((wSe,J1)=>{"use strict";J1.exports=function(t,r){r=r||{};var n=r.last||!1,i=!1;if(typeof t=="number"){n=!0;var o=t;t=function(){return--o}}return function(s){function a(c){s(!0,function(l){n=!1,c(l||!0)})}return function(c,l){i?n?a(l):l(i):(i=c)?s(i,l):s(null,function(u,f){(i=i||u)?l(i):t(f)?l(null,f):(i=!0,n?l(null,f):a(l))})}}}});var v_=T((CSe,X1)=>{"use strict";function dZ(e){return e}var pZ=gu(),hZ=pv();X1.exports=function(t,r){t=pZ(t)||dZ;var n={};return hZ(function(i){var o=t(i);return n[o]?!!r:(n[o]=!0,!r)})}});var eF=T((bSe,Z1)=>{"use strict";var mZ=v_();Z1.exports=function(t){return mZ(t,!0)}});var rF=T((ESe,tF)=>{"use strict";var gZ=fv(),vZ=m_();tF.exports=function(){return function(t){var r;return function(n,i){n?r?r(n,function(a){t(a||n,i)}):t(n,i):r?o():s();function o(){r(null,function(a,c){a===!0?s():a?t(!0,function(l){i(a)}):i(null,c)})}function s(){r=null,t(null,function(a,c){if(a)return i(a);Array.isArray(c)||c&&typeof c=="object"?c=gZ(c):typeof c!="function"&&(c=vZ(c)),r=c,o()})}}}}});var iF=T((_Se,nF)=>{"use strict";nF.exports={map:U1(),asyncMap:H1(),filter:pv(),filterNot:G1(),through:Y1(),take:Q1(),unique:v_(),nonUnique:eF(),flatten:rF()}});var sF=T((SSe,oF)=>{"use strict";oF.exports=function e(t){var r=arguments.length;if(typeof t=="function"&&t.length===1){for(var n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(a){if(n==null)throw new TypeError("partial sink should only be called once!");var c=n;switch(n=null,r){case 1:return e(a,c[0]);case 2:return e(a,c[0],c[1]);case 3:return e(a,c[0],c[1],c[2]);case 4:return e(a,c[0],c[1],c[2],c[3]);default:return c.unshift(a),e.apply(null,c)}}}var o=t;o&&typeof o.source=="function"&&(o=o.source);for(var i=1;i<r;i++){var s=arguments[i];typeof s=="function"?o=s(o):s&&typeof s=="object"&&(s.sink(o),o=s.source)}return o}});var fF=T((Qd,uF)=>{"use strict";var aF=_1(),cF=q1(),lF=iF();Qd=uF.exports=sF();for(Fi in aF)Qd[Fi]=aF[Fi];var Fi;for(Fi in lF)Qd[Fi]=lF[Fi];var Fi;for(Fi in cF)Qd[Fi]=cF[Fi];var Fi});var pF=T((xSe,dF)=>{var yZ=a1(),y_=fF();dF.exports=function(e,t){t=t||"GOODBYE";var r=yZ(t);return{source:y_(e.source,r),sink:y_(y_.filter(function(n){if(n!==t)return!0;r.end()}),e.sink)}}});var Xd=T(Mi=>{"use strict";var hv=lv();function wZ(e){return e?Object.keys(e).length===0:!0}Mi.set=function(t,r,n){let i,o;for(let s=0;s<r.length;s++){let a=r[s];t[a]=t[a]||{},i=t,o=a,t=t[a]}i[o]=n};Mi.get=function(t,r){if(typeof r=="string")return t[r];let n;for(let i=0;i<r.length;i++){let o=r[i];if(n=t=t[o],t==null)return t}return n};Mi.prefix=function(t,r){let n;for(let i=0;i<r.length;i++){let o=r[i];if(n=t=t[o],typeof t!="object")return t}return typeof n!="object"?!!n:!1};function CZ(e,t){for(let r in t){let n=t[r];e[n]||(e[n]={}),e=e[n]}return e}function bZ(e,t){(function r(n,i){let o=t[i];if(n)t.length-1===i?delete n[o]:i<t.length&&r(n[o],i+1);else return;wZ(n[o])&&delete n[o]})(e,0)}function EZ(e,t){for(let r in t)e[r]=t[r];return e}Mi.mount=function(t,r,n){if(!Array.isArray(r))throw new Error("path must be array of strings");return EZ(CZ(t,r),n)};Mi.unmount=function(t,r){return bZ(t,r)};var mv=e=>e==="source",gv=e=>e==="sink",hF=e=>e==="duplex",_Z=e=>e==="sync",SZ=e=>e==="async",mF=e=>_Z(e)||SZ(e),xZ=e=>mv(e)||gv(e)||hF(e);Mi.isRequest=mF;Mi.isStream=xZ;function w_(e){return function(t){t(e||!0,()=>{})}}function gF(e){return{source:hv.error(e),sink:w_(e)}}Mi.errorAsStream=function(t,r){return mv(t)?hv.error(r):gv(t)?w_(r):gF(r)};Mi.errorAsStreamOrCb=function(t,r,n){return mF(t)?n(r):mv(t)?hv.error(r):gv(t)?w_(r):n(r),gF(r)};Mi.pipeToStream=function(t,r,n){mv(t)?r(n):gv(t)?n(r):hF(t)&&hv(r,n,r)}});var C_=T((ISe,yF)=>{function vF(e){if(e.stack&&e.name&&e.message)return e.stack.substring(e.name.length+3+e.message.length).split(`
`);if(e.stack)return e.stack.split(`
`)}function PZ(e,t){return e.filter(function(r){return!~t.indexOf(r)})}var kSe=yF.exports=function(e,t){if(!(e.stack&&e.name&&e.message))return console.error(new Error("stackless error")),e;var r=new Error(t),n=PZ(vF(r).slice(1),vF(e)).join(`
`);return r.__proto__=e,r.stack=r.name+": "+r.message+`
`+n+`
  `+e.stack,r}});var bF=T((TSe,CF)=>{"use strict";var kZ=n1(),b_=o1(),IZ=pF(),vu=Xd(),wF=C_();CF.exports=function(t,r,n){let i=kZ({message(){},request(s,a){if(!Array.isArray(s.args))return a(new Error(`invalid request, args should be array, was: ${JSON.stringify(s)}`));let c=s.name,l=s.args,u=!1,f=!1;l.push((d,p)=>{f=!0,u=!0,a(d,p)});try{t("async",c,l)}catch(d){if(u||f)throw wF(d,"no callback provided to muxrpc async funtion");a(d)}},stream(s){s.read=function(c,l){if(l)return s.write(null,l);let{name:u,type:f,args:d}=c,p,h;if(s.read=null,!vu.isStream(f))return s.write(null,new Error(`unsupported stream type: ${f}`));try{h=t(f,u,d)}catch(v){p=v}let g=b_[f==="source"?"sink":f==="sink"?"source":"duplex"](s);return vu.pipeToStream(f,g,p?vu.errorAsStream(f,p):h)}},close(s){if(i=null,o.ended=!0,!o.closed&&(o.closed=!0,n)){let a=n;n=null,a(s)}}}),o=IZ(b_(i,()=>{}));return o=r?r(o):o,o.remoteCall=function(s,a,c,l){if(a==="emit")return i.message(c);if(!(vu.isRequest(s)||vu.isStream(s)))throw new Error(`unsupported type: ${JSON.stringify(s)}`);if(vu.isRequest(s))return i.request({name:a,args:c},l);let u=i.stream(),f=b_[s](u,l);return u.write({name:a,args:c,type:s}),f},o.isOpen=function(){return!i.ended},o.close=function(s,a){if(typeof s=="function"&&(a=s,s=!1),!i){a&&a();return}if(s){i.destroy(s),a&&a();return}return i.close(c=>{if(a)a(c);else if(c)throw wF(c,"no callback provided for muxrpc close")}),this},o.closed=!1,o}});var _F=T((ASe,EF)=>{"use strict";var TZ=C_(),AZ=Xd();function E_(e,t,r,n){for(let i in t){let o=t[i],s=r?r.concat(i):[i];if(o&&typeof o=="object"){let a=o;e[i]=E_({},a,s,n)}else{let a=o;e[i]=(...c)=>n(a,s,c)}}return e}function DZ(e){if(e)throw TZ(e,"callback not provided")}function RZ(e,t,r,n){e=e||{};function i(o,s,a){let c=typeof a[a.length-1]=="function"?a.pop():o==="sync"||o==="async"?null:DZ;if(typeof c=="function"){let l;try{l=r(o,s,a,c)}catch(u){return AZ.errorAsStreamOrCb(o,u,c)}return l}else return new Promise((l,u)=>{r(o,s,a,(f,d)=>{f?u(f):l(d)})})}return n?i("async","manifest",[function(o,s){if(o)return n(o);E_(e,s,null,i),n(null,s,e)}]):E_(e,t,null,i),e}EF.exports=RZ});var PF=T((DSe,xF)=>{"use strict";var vv=Xd();function SF(e){return Array.isArray(e)?e:e.split(".")}function OZ(e){return e&&typeof e.pre=="function"&&typeof e.test=="function"&&typeof e.post=="function"}xF.exports=function(t){if(OZ(t))return t;if(typeof t=="function")return{pre:t};let r=null,n={};function i(o){if(o.allow){r={};for(let s of o.allow)vv.set(r,SF(s),!0)}else r=null;if(o.deny)for(let s of o.deny)vv.set(n,SF(s),!0);else n={};return this}return t&&i(t),i.pre=o=>{if(o=Array.isArray(o)?o:[o],r&&!vv.prefix(r,o))return new Error(`method:${o} is not in list of allowed methods`);if(n&&vv.prefix(n,o))return new Error(`method:${o} is on list of disallowed methods`)},i.post=()=>{},i.test=o=>i.pre(o),i.get=()=>({allow:r,deny:n}),i}});var IF=T((RSe,kF)=>{"use strict";var NZ=PF(),__=Xd();kF.exports=function(t,r,n){n=NZ(n);function i(s,a){return s===__.get(r,a)}function o(s,a,c){if(a==="emit")throw new Error("emit has been removed");if(s==="async"&&i("sync",a)){let l=c.pop(),u;try{u=__.get(t,a).apply(this,c)}catch(f){return l(f)}return l(null,u)}if(!i(s,a))throw new Error(`no ${s}:${a}`);return __.get(t,a).apply(this,c)}return function(a,c,l){let u=n.pre(c,l);if(u)throw u;return o.call(this,a,c,l)}}});var DF=T((OSe,AF)=>{"use strict";var LZ=e1(),FZ=require("events").EventEmitter,MZ=bF(),jZ=_F(),qZ=IF();function TF(e,t,r,n,i,o,s){let a;typeof e=="function"&&(a=e,e={}),t=t||{},e=e||{};let c=new FZ;o||(o=LZ);let l,u={_emit(d,p){return c&&c._emit(d,p),u},id:n},f=MZ(qZ(r,t,i).bind(u),o,d=>{if(!c.closed&&(c.closed=!0,c.emit("closed"),l)){let p=l;l=null,p(d)}});if(jZ(c,e,(d,p,h,m)=>{if(f.closed)throw new Error("stream is closed");return f.remoteCall(d,p,h,m)},a),c._emit=c.emit,s){Object.__defineGetter__.call(c,"id",()=>u.id),Object.__defineSetter__.call(c,"id",p=>{u.id=p});let d=!0;c.createStream=p=>{if(l=p,d)return d=!1,f;throw new Error("one stream per rpc")}}else c.stream=f;return c.closed=!1,c.close=function(d,p){return f.close(d,p),this},c}AF.exports=function(e,t,r){return arguments.length>3?TF.apply(this,arguments):function(n,i,o){return TF(e,t,n,o,i,r,!0)}}});var S_=T((Xo,NF)=>{var NSe=i_(),$Z=d_();function RF(e){e.destroy?e.destroy():console.error("warning, stream-to-pull-stream: \nthe wrapped node-stream does not implement `destroy`, \nthis may cause resource leaks.")}function OF(e,t,r){var n,i=!1,o;function s(){o||(o=!0,r&&r(n===!0?null:n))}function a(){i||(i=!0,l(),n?s():e(n=!0,s))}function c(u){l(),n||e(n=u,s)}function l(){t.on("finish",a),t.removeListener("close",a),t.removeListener("error",c)}t.on("close",a),t.on("finish",a),t.on("error",c),process.nextTick(function(){$Z(function(u){e(null,function(f,d){if(n=n||f,f===!0)return t._isStdio?s():t.end();if(n=n||f)return RF(t),s(n);if(t._isStdio)t.write(d,function(){u()});else{var p=t.write(d);p===!1?t.once("drain",u):u()}})})})}function UZ(e){var t=!1,r=!1,n;function i(){var o=e.read();if(o!==null&&n){var s=n;n=null,s(null,o)}}return e.on("readable",function(){r=!0,n&&i()}).on("end",function(){t=!0,n&&n(t)}).on("error",function(o){t=o,n&&n(t)}),function(o,s){n=s,t?s(t):r&&i()}}function yv(e){var t=[],r=[],n,i=!1,o;function s(){for(;(t.length||n)&&r.length;)r.shift()(t.length?null:n,t.shift());!t.length&&i&&(i=!1,e.resume())}return e.on("data",function(a){t.push(a),s(),t.length&&e.pause&&(i=!0,e.pause())}),e.on("end",function(){n=!0,s()}),e.on("close",function(){n=!0,s()}),e.on("error",function(a){n=a,s()}),function(a,c){if(!c)throw new Error("*must* provide cb");if(a){let u=function(){for(;r.length;)r.shift()(a);c(a)};var l=u;if(n)return u();e.once("close",u),RF(e)}else r.push(c),s()}}var BZ=yv,wv=function(e,t){return function(r){return OF(r,e,t)}},Cv=function(e){return yv(e)};Xo=NF.exports=function(e,t){return e.writable&&e.write?e.readable?function(r){return OF(r,e,t),yv(e)}:wv(e,t):Cv(e)};Xo.sink=wv;Xo.source=Cv;Xo.read=BZ;Xo.read1=yv;Xo.read2=UZ;Xo.duplex=function(e,t){return{source:Cv(e),sink:wv(e,t)}};Xo.transform=function(e){return function(t){var r=Cv(e);return wv(e)(t),r}}});var FF=T((LSe,bv)=>{var HZ=require("stream");bv.exports=x_;bv.exports.source=function(e){return x_(null,e)};bv.exports.sink=function(e){return x_(e,null)};var LF=typeof setImmediate=="undefined"?process.nextTick:setImmediate;function x_(e,t){e&&typeof e=="object"&&(t=e.source,e=e.sink);var r=[],n=[],i,o,s=new HZ;s.writable=s.readable=!0,s.write=function(g){return r.length?r.shift()(null,g):n.push(g),r.length||(o=!0),!!r.length},s.end=function(){t?n.length?m():t(i=!0,r.length?r.shift():function(){}):r.length&&r.shift()(!0)},s.source=function(g,v){n.length?(v(null,n.shift()),n.length||s.emit("drain")):((i=i||g)?v(i):r.push(v),o&&(o=!1,s.emit("drain")))};var a;e&&(a=e(s.source)),a&&!t&&(t=a);var c=[],l=[],u=!1,f=!1,d=!1;if(s.sink=function(g){t=g,LF(m)},t){s.sink(t),s.paused=!0;var p=s.on.bind(s);s.on=(g,v)=>{var y=p(g,v);return g==="data"&&s.paused&&LF(s.resume.bind(s)),y};var h=s.pipe.bind(s);s.pipe=function(g,v){var y=h(g,v);return s.paused&&s.resume(),y}}function m(){if(f=!1,!(!t||d)){for(;c.length&&!s.paused;)s.emit("data",c.shift());if(!s.paused){if(u)return s.emit("end");d=!0,t(null,function g(v,y){d=!1,s.paused?(v===!0?u=v:v?s.emit("error",v):c.push(y),f=!0):v&&(i=v)!==!0?s.emit("error",v):(i=i||v)?s.emit("end"):(s.emit("data",y),d=!0,t(null,g))})}}}return s.pause=function(){return s.paused=!0,s},s.resume=function(){return s.paused=!1,m(),s},s.destroy=function(){!i&&t&&t(i=!0,function(){}),i=!0,r.length&&r.shift()(!0),s.emit("close")},s}});var jF=T((FSe,MF)=>{MF.exports=VZ;function VZ(e,t){typeof e=="function"&&(t=e,e=!1);var r=[],n,i;function o(f,d){f&&(n=f,i&&u(n)),i=d,l()}var s;function a(f){s=s||f||!0,l()}function c(f){if(!s){if(i){u(n,f);return}r.push(f)}}if(e)return{push:c,end:a,source:o,buffer:r};return o.push=c,o.end=a,o.buffer=r,o;function l(){!i||(n?u(n):!r.length&&s?u(s):r.length&&u(null,r.shift()))}function u(f,d){var p=i;if(f&&t){var h=t;t=null,h(f===!0?null:f)}i=null,p(f,d)}}});var B_=T((dPe,pM)=>{"use strict";var fM=require("child_process"),dee=1024*1024,dM={exec(e,t){fM.exec(e,{maxBuffer:2*dee,windowsHide:!0},t)},spawn(e,t,r){return fM.spawn(e,t,r)},stripLine(e,t){let r=0;for(;t-- >0;){let n=e.indexOf(`
`,r);n>=0&&(r=n+1)}return r>0?e.substring(r):e},split(e,t){let r=e.trim().split(/\s+/);return r.length>t&&(r[t-1]=r.slice(t-1).join(" ")),r},extractColumns(e,t,r){let n=e.split(/(\r\n|\n|\r)/),i=[];return r||(r=Math.max.apply(null,t)+1),n.forEach(o=>{let s=dM.split(o,r),a=[];t.forEach(c=>{a.push(s[c]||"")}),i.push(a)}),i},parseTable(e){let t=e.split(/(\r\n\r\n|\r\n\n|\n\r\n)|\n\n/).filter(r=>r.trim().length>0).map(r=>r.split(/(\r\n|\n|\r)/).filter(n=>n.trim().length>0));return t.forEach(r=>{for(let n=0;r[n];){let i=r[n];i.startsWith(" ")?(r[n-1]+=i.trimLeft(),r.splice(n,1)):n+=1}}),t.map(r=>{let n={};return r.forEach(i=>{let o=i.indexOf(":"),s=i.slice(0,o).trim();n[s]=i.slice(o+1).trim()}),n})}};pM.exports=dM});var mM=T((pPe,hM)=>{"use strict";var pee=require("os"),Fv=require("fs"),di=B_(),hee=e=>new Promise((t,r)=>{Fv.existsSync(e)?t():Fv.mkdir(e,n=>{n?r(n):t()})}),H_={darwin(e){return new Promise((t,r)=>{di.exec("netstat -anv -p TCP && netstat -anv -p UDP",function(n,i,o){if(n)r(n);else{if(n=o.toString().trim(),n){r(n);return}let s=di.stripLine(i.toString(),2),a=di.extractColumns(s,[0,3,8],10).filter(c=>!!String(c[0]).match(/^(udp|tcp)/)).find(c=>{let l=String(c[1]).match(/\.(\d+)$/);if(l&&l[1]===String(e))return!0});a&&a[2].length?t(parseInt(a[2],10)):r(new Error(`pid of port (${e}) not found`))}})})},freebsd:"darwin",sunos:"darwin",linux(e){return new Promise((t,r)=>{let n="netstat -tunlp";di.exec(n,function(i,o,s){if(i)r(i);else{let a=s.toString().trim();a&&console.warn(a);let c=di.stripLine(o.toString(),2),l=di.extractColumns(c,[3,6],7).find(u=>{let f=String(u[0]).match(/:(\d+)$/);if(f&&f[1]===String(e))return!0});if(l&&l[1]){let u=l[1].split("/",1)[0];u.length?t(parseInt(u,10)):r(new Error(`pid of port (${e}) not found`))}else r(new Error(`pid of port (${e}) not found`))}})})},win32(e){return new Promise((t,r)=>{di.exec("netstat -ano",function(n,i,o){if(n)r(n);else{if(n=o.toString().trim(),n){r(n);return}let s=di.stripLine(i.toString(),4),a=di.extractColumns(s,[1,4],5).find(c=>{let l=String(c[0]).match(/:(\d+)$/);if(l&&l[1]===String(e))return!0});a&&a[1].length&&parseInt(a[1],10)>0?t(parseInt(a[1],10)):r(new Error(`pid of port (${e}) not found`))}})})},android(e){return new Promise((t,r)=>{let n=pee.tmpdir()+"/.find-process",i=n+"/"+process.pid,o='netstat -tunp >> "'+i+'"';hee(n).then(()=>{di.exec(o,()=>{Fv.readFile(i,"utf8",(s,a)=>{if(Fv.unlink(i,()=>{}),s)r(s);else{a=di.stripLine(a,2);let c=di.extractColumns(a,[3,6],7).find(l=>{let u=String(l[0]).match(/:(\d+)$/);if(u&&u[1]===String(e))return!0});if(c&&c[1]){let l=c[1].split("/",1)[0];l.length?t(parseInt(l,10)):r(new Error(`pid of port (${e}) not found`))}else r(new Error(`pid of port (${e}) not found`))}})})})})}};function mee(e){let t=process.platform;return new Promise((r,n)=>{if(!(t in H_))return n(new Error(`platform ${t} is unsupported`));let i=H_[t];typeof i=="string"&&(i=H_[i]),i(e).then(r,n)})}hM.exports=mee});var wM=T((hPe,yM)=>{"use strict";var Mv=require("path"),Zs=B_();function V_(e,t){return t?e&&e.match?e.match(t):!1:!0}function gM(e){let t=e.split(Mv.sep),r=t[t.length-1];r&&(t[t.length-1]=r.split(" ")[0]);let n=[];for(let i of t){let o=i.indexOf(" -");if(o>=0){n.push(i.substring(0,o).trim());break}else if(i.endsWith(" ")){n.push(i.trim());break}n.push(i)}return n.join(Mv.sep)}function vM(e){if(process.platform==="darwin"){let t=e.indexOf(".app/");if(t>=0)return Mv.basename(e.substring(0,t))}return Mv.basename(e)}var W_={darwin(e){return new Promise((t,r)=>{let n;"pid"in e?n=`ps -p ${e.pid} -ww -o pid,ppid,uid,gid,args`:n="ps ax -ww -o pid,ppid,uid,gid,args",Zs.exec(n,function(i,o,s){if(i)"pid"in e?t([]):r(i);else{if(i=s.toString().trim(),i){r(i);return}let a=Zs.stripLine(o.toString(),1),l=Zs.extractColumns(a,[0,1,2,3,4],5).filter(u=>u[0]&&e.pid?u[0]===String(e.pid):u[4]&&e.name?V_(u[4],e.name):!!u[0]).map(u=>{let f=String(u[4]),d=gM(f);return{pid:parseInt(u[0],10),ppid:parseInt(u[1],10),uid:parseInt(u[2],10),gid:parseInt(u[3],10),name:vM(d),bin:d,cmd:u[4]}});e.strict&&e.name&&(l=l.filter(u=>u.name===e.name)),t(l)}})})},linux:"darwin",sunos:"darwin",freebsd:"darwin",win32(e){return new Promise((t,r)=>{let n="Get-CimInstance -className win32_process | select Name,ProcessId,ParentProcessId,CommandLine,ExecutablePath",i=[],o=Zs.spawn("powershell.exe",["/c",n],{detached:!1,windowsHide:!0});o.stdout.on("data",s=>{i.push(s.toString())}),o.on("close",s=>{if(s!==0)return r(new Error("Command '"+n+"' terminated with code: "+s));let a=Zs.parseTable(i.join("")).filter(c=>{if("pid"in e)return c.ProcessId===String(e.pid);if(e.name){let l=c.Name||"";return e.strict?l===e.name||l.endsWith(".exe")&&l.slice(0,-4)===e.name:V_(c.CommandLine||l,e.name)}else return!0}).map(c=>({pid:parseInt(c.ProcessId,10),ppid:parseInt(c.ParentProcessId,10),bin:c.ExecutablePath,name:c.Name||"",cmd:c.CommandLine}));t(a)})})},android(e){return new Promise((t,r)=>{let n="ps";Zs.exec(n,function(i,o,s){if(i)"pid"in e?t([]):r(i);else{if(i=s.toString().trim(),i){r(i);return}let a=Zs.stripLine(o.toString(),1),l=Zs.extractColumns(a,[0,3],4).filter(u=>u[0]&&e.pid?u[0]===String(e.pid):u[1]&&e.name?V_(u[1],e.name):!!u[0]).map(u=>{let f=String(u[1]),d=gM(f);return{pid:parseInt(u[0],10),name:vM(d),bin:d,cmd:f}});e.strict&&e.name&&(l=l.filter(u=>u.name===e.name)),t(l)}})})}};function gee(e){let t=process.platform;return new Promise((r,n)=>{if(!(t in W_))return n(new Error(`platform ${t} is unsupported`));let i=W_[t];typeof i=="string"&&(i=W_[i]),i(e).then(r,n)})}yM.exports=gee});var EM=T((mPe,bM)=>{"use strict";var vee=mM(),CM=wM(),z_={port(e,t){return vee(e,t).then(r=>z_.pid(r,t),()=>[])},pid(e,t){return CM({pid:e,strict:t})},name(e,t){return CM({name:e,strict:t})}};function yee(e,t,r){return new Promise((n,i)=>{if(!(e in z_))i(new Error(`do not support find by "${e}"`));else{let o=/^\d+$/.test(t);e==="pid"&&!o?i(new Error("pid must be a number")):e==="port"&&!o?i(new Error("port must be a number")):z_[e](t,r).then(n,i)}})}bM.exports=yee});var SM=T((gPe,_M)=>{"use strict";_M.exports=EM()});var Pp=T((oTe,_q)=>{var Lne="2.0.0",Fne=256,Mne=Number.MAX_SAFE_INTEGER||9007199254740991,jne=16;_q.exports={SEMVER_SPEC_VERSION:Lne,MAX_LENGTH:Fne,MAX_SAFE_INTEGER:Mne,MAX_SAFE_COMPONENT_LENGTH:jne}});var kp=T((sTe,Sq)=>{var qne=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};Sq.exports=qne});var Ac=T((aa,xq)=>{var{MAX_SAFE_COMPONENT_LENGTH:jS}=Pp(),$ne=kp();aa=xq.exports={};var Une=aa.re=[],ke=aa.src=[],Ie=aa.t={},Bne=0,Qe=(e,t,r)=>{let n=Bne++;$ne(n,t),Ie[e]=n,ke[n]=t,Une[n]=new RegExp(t,r?"g":void 0)};Qe("NUMERICIDENTIFIER","0|[1-9]\\d*");Qe("NUMERICIDENTIFIERLOOSE","[0-9]+");Qe("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");Qe("MAINVERSION",`(${ke[Ie.NUMERICIDENTIFIER]})\\.(${ke[Ie.NUMERICIDENTIFIER]})\\.(${ke[Ie.NUMERICIDENTIFIER]})`);Qe("MAINVERSIONLOOSE",`(${ke[Ie.NUMERICIDENTIFIERLOOSE]})\\.(${ke[Ie.NUMERICIDENTIFIERLOOSE]})\\.(${ke[Ie.NUMERICIDENTIFIERLOOSE]})`);Qe("PRERELEASEIDENTIFIER",`(?:${ke[Ie.NUMERICIDENTIFIER]}|${ke[Ie.NONNUMERICIDENTIFIER]})`);Qe("PRERELEASEIDENTIFIERLOOSE",`(?:${ke[Ie.NUMERICIDENTIFIERLOOSE]}|${ke[Ie.NONNUMERICIDENTIFIER]})`);Qe("PRERELEASE",`(?:-(${ke[Ie.PRERELEASEIDENTIFIER]}(?:\\.${ke[Ie.PRERELEASEIDENTIFIER]})*))`);Qe("PRERELEASELOOSE",`(?:-?(${ke[Ie.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${ke[Ie.PRERELEASEIDENTIFIERLOOSE]})*))`);Qe("BUILDIDENTIFIER","[0-9A-Za-z-]+");Qe("BUILD",`(?:\\+(${ke[Ie.BUILDIDENTIFIER]}(?:\\.${ke[Ie.BUILDIDENTIFIER]})*))`);Qe("FULLPLAIN",`v?${ke[Ie.MAINVERSION]}${ke[Ie.PRERELEASE]}?${ke[Ie.BUILD]}?`);Qe("FULL",`^${ke[Ie.FULLPLAIN]}$`);Qe("LOOSEPLAIN",`[v=\\s]*${ke[Ie.MAINVERSIONLOOSE]}${ke[Ie.PRERELEASELOOSE]}?${ke[Ie.BUILD]}?`);Qe("LOOSE",`^${ke[Ie.LOOSEPLAIN]}$`);Qe("GTLT","((?:<|>)?=?)");Qe("XRANGEIDENTIFIERLOOSE",`${ke[Ie.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Qe("XRANGEIDENTIFIER",`${ke[Ie.NUMERICIDENTIFIER]}|x|X|\\*`);Qe("XRANGEPLAIN",`[v=\\s]*(${ke[Ie.XRANGEIDENTIFIER]})(?:\\.(${ke[Ie.XRANGEIDENTIFIER]})(?:\\.(${ke[Ie.XRANGEIDENTIFIER]})(?:${ke[Ie.PRERELEASE]})?${ke[Ie.BUILD]}?)?)?`);Qe("XRANGEPLAINLOOSE",`[v=\\s]*(${ke[Ie.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ke[Ie.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ke[Ie.XRANGEIDENTIFIERLOOSE]})(?:${ke[Ie.PRERELEASELOOSE]})?${ke[Ie.BUILD]}?)?)?`);Qe("XRANGE",`^${ke[Ie.GTLT]}\\s*${ke[Ie.XRANGEPLAIN]}$`);Qe("XRANGELOOSE",`^${ke[Ie.GTLT]}\\s*${ke[Ie.XRANGEPLAINLOOSE]}$`);Qe("COERCE",`(^|[^\\d])(\\d{1,${jS}})(?:\\.(\\d{1,${jS}}))?(?:\\.(\\d{1,${jS}}))?(?:$|[^\\d])`);Qe("COERCERTL",ke[Ie.COERCE],!0);Qe("LONETILDE","(?:~>?)");Qe("TILDETRIM",`(\\s*)${ke[Ie.LONETILDE]}\\s+`,!0);aa.tildeTrimReplace="$1~";Qe("TILDE",`^${ke[Ie.LONETILDE]}${ke[Ie.XRANGEPLAIN]}$`);Qe("TILDELOOSE",`^${ke[Ie.LONETILDE]}${ke[Ie.XRANGEPLAINLOOSE]}$`);Qe("LONECARET","(?:\\^)");Qe("CARETTRIM",`(\\s*)${ke[Ie.LONECARET]}\\s+`,!0);aa.caretTrimReplace="$1^";Qe("CARET",`^${ke[Ie.LONECARET]}${ke[Ie.XRANGEPLAIN]}$`);Qe("CARETLOOSE",`^${ke[Ie.LONECARET]}${ke[Ie.XRANGEPLAINLOOSE]}$`);Qe("COMPARATORLOOSE",`^${ke[Ie.GTLT]}\\s*(${ke[Ie.LOOSEPLAIN]})$|^$`);Qe("COMPARATOR",`^${ke[Ie.GTLT]}\\s*(${ke[Ie.FULLPLAIN]})$|^$`);Qe("COMPARATORTRIM",`(\\s*)${ke[Ie.GTLT]}\\s*(${ke[Ie.LOOSEPLAIN]}|${ke[Ie.XRANGEPLAIN]})`,!0);aa.comparatorTrimReplace="$1$2$3";Qe("HYPHENRANGE",`^\\s*(${ke[Ie.XRANGEPLAIN]})\\s+-\\s+(${ke[Ie.XRANGEPLAIN]})\\s*$`);Qe("HYPHENRANGELOOSE",`^\\s*(${ke[Ie.XRANGEPLAINLOOSE]})\\s+-\\s+(${ke[Ie.XRANGEPLAINLOOSE]})\\s*$`);Qe("STAR","(<|>)?=?\\s*\\*");Qe("GTE0","^\\s*>=\\s*0.0.0\\s*$");Qe("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")});var Ip=T((aTe,Pq)=>{var Hne=["includePrerelease","loose","rtl"],Vne=e=>e?typeof e!="object"?{loose:!0}:Hne.filter(t=>e[t]).reduce((t,r)=>(t[r]=!0,t),{}):{};Pq.exports=Vne});var _y=T((cTe,Tq)=>{var kq=/^[0-9]+$/,Iq=(e,t)=>{let r=kq.test(e),n=kq.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},Wne=(e,t)=>Iq(t,e);Tq.exports={compareIdentifiers:Iq,rcompareIdentifiers:Wne}});var Gr=T((lTe,Oq)=>{var Sy=kp(),{MAX_LENGTH:Aq,MAX_SAFE_INTEGER:xy}=Pp(),{re:Dq,t:Rq}=Ac(),zne=Ip(),{compareIdentifiers:Tp}=_y(),gi=class{constructor(t,r){if(r=zne(r),t instanceof gi){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid Version: ${t}`);if(t.length>Aq)throw new TypeError(`version is longer than ${Aq} characters`);Sy("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?Dq[Rq.LOOSE]:Dq[Rq.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>xy||this.major<0)throw new TypeError("Invalid major version");if(this.minor>xy||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>xy||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<xy)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Sy("SemVer.compare",this.version,this.options,t),!(t instanceof gi)){if(typeof t=="string"&&t===this.version)return 0;t=new gi(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof gi||(t=new gi(t,this.options)),Tp(this.major,t.major)||Tp(this.minor,t.minor)||Tp(this.patch,t.patch)}comparePre(t){if(t instanceof gi||(t=new gi(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=t.prerelease[r];if(Sy("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Tp(n,i)}while(++r)}compareBuild(t){t instanceof gi||(t=new gi(t,this.options));let r=0;do{let n=this.build[r],i=t.build[r];if(Sy("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Tp(n,i)}while(++r)}inc(t,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}};Oq.exports=gi});var Dc=T((uTe,Mq)=>{var{MAX_LENGTH:Gne}=Pp(),{re:Nq,t:Lq}=Ac(),Fq=Gr(),Kne=Ip(),Yne=(e,t)=>{if(t=Kne(t),e instanceof Fq)return e;if(typeof e!="string"||e.length>Gne||!(t.loose?Nq[Lq.LOOSE]:Nq[Lq.FULL]).test(e))return null;try{return new Fq(e,t)}catch{return null}};Mq.exports=Yne});var qq=T((fTe,jq)=>{var Jne=Dc(),Qne=(e,t)=>{let r=Jne(e,t);return r?r.version:null};jq.exports=Qne});var Uq=T((dTe,$q)=>{var Xne=Dc(),Zne=(e,t)=>{let r=Xne(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};$q.exports=Zne});var Hq=T((pTe,Bq)=>{var eie=Gr(),tie=(e,t,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new eie(e,r).inc(t,n).version}catch{return null}};Bq.exports=tie});var vi=T((hTe,Wq)=>{var Vq=Gr(),rie=(e,t,r)=>new Vq(e,r).compare(new Vq(t,r));Wq.exports=rie});var Py=T((mTe,zq)=>{var nie=vi(),iie=(e,t,r)=>nie(e,t,r)===0;zq.exports=iie});var Yq=T((gTe,Kq)=>{var Gq=Dc(),oie=Py(),sie=(e,t)=>{if(oie(e,t))return null;{let r=Gq(e),n=Gq(t),i=r.prerelease.length||n.prerelease.length,o=i?"pre":"",s=i?"prerelease":"";for(let a in r)if((a==="major"||a==="minor"||a==="patch")&&r[a]!==n[a])return o+a;return s}};Kq.exports=sie});var Qq=T((vTe,Jq)=>{var aie=Gr(),cie=(e,t)=>new aie(e,t).major;Jq.exports=cie});var Zq=T((yTe,Xq)=>{var lie=Gr(),uie=(e,t)=>new lie(e,t).minor;Xq.exports=uie});var t$=T((wTe,e$)=>{var fie=Gr(),die=(e,t)=>new fie(e,t).patch;e$.exports=die});var n$=T((CTe,r$)=>{var pie=Dc(),hie=(e,t)=>{let r=pie(e,t);return r&&r.prerelease.length?r.prerelease:null};r$.exports=hie});var o$=T((bTe,i$)=>{var mie=vi(),gie=(e,t,r)=>mie(t,e,r);i$.exports=gie});var a$=T((ETe,s$)=>{var vie=vi(),yie=(e,t)=>vie(e,t,!0);s$.exports=yie});var ky=T((_Te,l$)=>{var c$=Gr(),wie=(e,t,r)=>{let n=new c$(e,r),i=new c$(t,r);return n.compare(i)||n.compareBuild(i)};l$.exports=wie});var f$=T((STe,u$)=>{var Cie=ky(),bie=(e,t)=>e.sort((r,n)=>Cie(r,n,t));u$.exports=bie});var p$=T((xTe,d$)=>{var Eie=ky(),_ie=(e,t)=>e.sort((r,n)=>Eie(n,r,t));d$.exports=_ie});var Ap=T((PTe,h$)=>{var Sie=vi(),xie=(e,t,r)=>Sie(e,t,r)>0;h$.exports=xie});var Iy=T((kTe,m$)=>{var Pie=vi(),kie=(e,t,r)=>Pie(e,t,r)<0;m$.exports=kie});var qS=T((ITe,g$)=>{var Iie=vi(),Tie=(e,t,r)=>Iie(e,t,r)!==0;g$.exports=Tie});var Ty=T((TTe,v$)=>{var Aie=vi(),Die=(e,t,r)=>Aie(e,t,r)>=0;v$.exports=Die});var Ay=T((ATe,y$)=>{var Rie=vi(),Oie=(e,t,r)=>Rie(e,t,r)<=0;y$.exports=Oie});var $S=T((DTe,w$)=>{var Nie=Py(),Lie=qS(),Fie=Ap(),Mie=Ty(),jie=Iy(),qie=Ay(),$ie=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Nie(e,r,n);case"!=":return Lie(e,r,n);case">":return Fie(e,r,n);case">=":return Mie(e,r,n);case"<":return jie(e,r,n);case"<=":return qie(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};w$.exports=$ie});var b$=T((RTe,C$)=>{var Uie=Gr(),Bie=Dc(),{re:Dy,t:Ry}=Ac(),Hie=(e,t)=>{if(e instanceof Uie)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(Dy[Ry.COERCE]);else{let n;for(;(n=Dy[Ry.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Dy[Ry.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Dy[Ry.COERCERTL].lastIndex=-1}return r===null?null:Bie(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)};C$.exports=Hie});var I$=T((OTe,k$)=>{"use strict";var Vie=vd(),Rc=Symbol("max"),cs=Symbol("length"),Uu=Symbol("lengthCalculator"),Dp=Symbol("allowStale"),Oc=Symbol("maxAge"),ls=Symbol("dispose"),E$=Symbol("noDisposeOnSet"),Pr=Symbol("lruList"),$i=Symbol("cache"),_$=Symbol("updateAgeOnGet"),US=()=>1,S$=class{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");let r=this[Rc]=t.max||1/0,n=t.length||US;if(this[Uu]=typeof n!="function"?US:n,this[Dp]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Oc]=t.maxAge||0,this[ls]=t.dispose,this[E$]=t.noDisposeOnSet||!1,this[_$]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Rc]=t||1/0,Rp(this)}get max(){return this[Rc]}set allowStale(t){this[Dp]=!!t}get allowStale(){return this[Dp]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Oc]=t,Rp(this)}get maxAge(){return this[Oc]}set lengthCalculator(t){typeof t!="function"&&(t=US),t!==this[Uu]&&(this[Uu]=t,this[cs]=0,this[Pr].forEach(r=>{r.length=this[Uu](r.value,r.key),this[cs]+=r.length})),Rp(this)}get lengthCalculator(){return this[Uu]}get length(){return this[cs]}get itemCount(){return this[Pr].length}rforEach(t,r){r=r||this;for(let n=this[Pr].tail;n!==null;){let i=n.prev;P$(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[Pr].head;n!==null;){let i=n.next;P$(this,t,n,r),n=i}}keys(){return this[Pr].toArray().map(t=>t.key)}values(){return this[Pr].toArray().map(t=>t.value)}reset(){this[ls]&&this[Pr]&&this[Pr].length&&this[Pr].forEach(t=>this[ls](t.key,t.value)),this[$i]=new Map,this[Pr]=new Vie,this[cs]=0}dump(){return this[Pr].map(t=>Oy(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Pr]}set(t,r,n){if(n=n||this[Oc],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,o=this[Uu](r,t);if(this[$i].has(t)){if(o>this[Rc])return Bu(this,this[$i].get(t)),!1;let c=this[$i].get(t).value;return this[ls]&&(this[E$]||this[ls](t,c.value)),c.now=i,c.maxAge=n,c.value=r,this[cs]+=o-c.length,c.length=o,this.get(t),Rp(this),!0}let s=new x$(t,r,o,i,n);return s.length>this[Rc]?(this[ls]&&this[ls](t,r),!1):(this[cs]+=s.length,this[Pr].unshift(s),this[$i].set(t,this[Pr].head),Rp(this),!0)}has(t){if(!this[$i].has(t))return!1;let r=this[$i].get(t).value;return!Oy(this,r)}get(t){return BS(this,t,!0)}peek(t){return BS(this,t,!1)}pop(){let t=this[Pr].tail;return t?(Bu(this,t),t.value):null}del(t){Bu(this,this[$i].get(t))}load(t){this.reset();let r=Date.now();for(let n=t.length-1;n>=0;n--){let i=t[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-r;s>0&&this.set(i.k,i.v,s)}}}prune(){this[$i].forEach((t,r)=>BS(this,r,!1))}},BS=(e,t,r)=>{let n=e[$i].get(t);if(n){let i=n.value;if(Oy(e,i)){if(Bu(e,n),!e[Dp])return}else r&&(e[_$]&&(n.value.now=Date.now()),e[Pr].unshiftNode(n));return i.value}},Oy=(e,t)=>{if(!t||!t.maxAge&&!e[Oc])return!1;let r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[Oc]&&r>e[Oc]},Rp=e=>{if(e[cs]>e[Rc])for(let t=e[Pr].tail;e[cs]>e[Rc]&&t!==null;){let r=t.prev;Bu(e,t),t=r}},Bu=(e,t)=>{if(t){let r=t.value;e[ls]&&e[ls](r.key,r.value),e[cs]-=r.length,e[$i].delete(r.key),e[Pr].removeNode(t)}},x$=class{constructor(t,r,n,i,o){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=o||0}},P$=(e,t,r,n)=>{let i=r.value;Oy(e,i)&&(Bu(e,r),e[Dp]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};k$.exports=S$});var yi=T((NTe,R$)=>{var Hu=class{constructor(t,r){if(r=zie(r),t instanceof Hu)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new Hu(t.raw,r);if(t instanceof HS)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${t}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!A$(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&Qie(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(t=>t.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(t){t=t.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${t}`,i=T$.get(n);if(i)return i;let o=this.options.loose,s=o?Kr[Or.HYPHENRANGELOOSE]:Kr[Or.HYPHENRANGE];t=t.replace(s,aoe(this.options.includePrerelease)),nr("hyphen replace",t),t=t.replace(Kr[Or.COMPARATORTRIM],Kie),nr("comparator trim",t,Kr[Or.COMPARATORTRIM]),t=t.replace(Kr[Or.TILDETRIM],Yie),t=t.replace(Kr[Or.CARETTRIM],Jie),t=t.split(/\s+/).join(" ");let a=o?Kr[Or.COMPARATORLOOSE]:Kr[Or.COMPARATOR],c=t.split(" ").map(d=>Xie(d,this.options)).join(" ").split(/\s+/).map(d=>soe(d,this.options)).filter(this.options.loose?d=>!!d.match(a):()=>!0).map(d=>new HS(d,this.options)),l=c.length,u=new Map;for(let d of c){if(A$(d))return[d];u.set(d.value,d)}u.size>1&&u.has("")&&u.delete("");let f=[...u.values()];return T$.set(n,f),f}intersects(t,r){if(!(t instanceof Hu))throw new TypeError("a Range is required");return this.set.some(n=>D$(n,r)&&t.set.some(i=>D$(i,r)&&n.every(o=>i.every(s=>o.intersects(s,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new Gie(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(coe(this.set[r],t,this.options))return!0;return!1}};R$.exports=Hu;var Wie=I$(),T$=new Wie({max:1e3}),zie=Ip(),HS=Op(),nr=kp(),Gie=Gr(),{re:Kr,t:Or,comparatorTrimReplace:Kie,tildeTrimReplace:Yie,caretTrimReplace:Jie}=Ac(),A$=e=>e.value==="<0.0.0-0",Qie=e=>e.value==="",D$=(e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,t)),i=n.pop();return r},Xie=(e,t)=>(nr("comp",e,t),e=toe(e,t),nr("caret",e),e=Zie(e,t),nr("tildes",e),e=noe(e,t),nr("xrange",e),e=ooe(e,t),nr("stars",e),e),en=e=>!e||e.toLowerCase()==="x"||e==="*",Zie=(e,t)=>e.trim().split(/\s+/).map(r=>eoe(r,t)).join(" "),eoe=(e,t)=>{let r=t.loose?Kr[Or.TILDELOOSE]:Kr[Or.TILDE];return e.replace(r,(n,i,o,s,a)=>{nr("tilde",e,n,i,o,s,a);let c;return en(i)?c="":en(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:en(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(nr("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,nr("tilde return",c),c})},toe=(e,t)=>e.trim().split(/\s+/).map(r=>roe(r,t)).join(" "),roe=(e,t)=>{nr("caret",e,t);let r=t.loose?Kr[Or.CARETLOOSE]:Kr[Or.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(i,o,s,a,c)=>{nr("caret",e,i,o,s,a,c);let l;return en(o)?l="":en(s)?l=`>=${o}.0.0${n} <${+o+1}.0.0-0`:en(a)?o==="0"?l=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:c?(nr("replaceCaret pr",c),o==="0"?s==="0"?l=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:l=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):(nr("no pr"),o==="0"?s==="0"?l=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:l=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),nr("caret return",l),l})},noe=(e,t)=>(nr("replaceXRanges",e,t),e.split(/\s+/).map(r=>ioe(r,t)).join(" ")),ioe=(e,t)=>{e=e.trim();let r=t.loose?Kr[Or.XRANGELOOSE]:Kr[Or.XRANGE];return e.replace(r,(n,i,o,s,a,c)=>{nr("xRange",e,n,i,o,s,a,c);let l=en(o),u=l||en(s),f=u||en(a),d=f;return i==="="&&d&&(i=""),c=t.includePrerelease?"-0":"",l?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&d?(u&&(s=0),a=0,i===">"?(i=">=",u?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",u?o=+o+1:s=+s+1),i==="<"&&(c="-0"),n=`${i+o}.${s}.${a}${c}`):u?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:f&&(n=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),nr("xRange return",n),n})},ooe=(e,t)=>(nr("replaceStars",e,t),e.trim().replace(Kr[Or.STAR],"")),soe=(e,t)=>(nr("replaceGTE0",e,t),e.trim().replace(Kr[t.includePrerelease?Or.GTE0PRE:Or.GTE0],"")),aoe=e=>(t,r,n,i,o,s,a,c,l,u,f,d,p)=>(en(n)?r="":en(i)?r=`>=${n}.0.0${e?"-0":""}`:en(o)?r=`>=${n}.${i}.0${e?"-0":""}`:s?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,en(l)?c="":en(u)?c=`<${+l+1}.0.0-0`:en(f)?c=`<${l}.${+u+1}.0-0`:d?c=`<=${l}.${u}.${f}-${d}`:e?c=`<${l}.${u}.${+f+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),coe=(e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(nr(e[n].semver),e[n].semver!==HS.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}});var Op=T((LTe,M$)=>{var Np=Symbol("SemVer ANY"),Lp=class{static get ANY(){return Np}constructor(t,r){if(r=loe(r),t instanceof Lp){if(t.loose===!!r.loose)return t;t=t.value}WS("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===Np?this.value="":this.value=this.operator+this.semver.version,WS("comp",this)}parse(t){let r=this.options.loose?O$[N$.COMPARATORLOOSE]:O$[N$.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new L$(n[2],this.options.loose):this.semver=Np}toString(){return this.value}test(t){if(WS("Comparator.test",t,this.options.loose),this.semver===Np||t===Np)return!0;if(typeof t=="string")try{t=new L$(t,this.options)}catch{return!1}return VS(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof Lp))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new F$(t.value,r).test(this.value);if(t.operator==="")return t.value===""?!0:new F$(this.value,r).test(t.semver);let n=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),o=this.semver.version===t.semver.version,s=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),a=VS(this.semver,"<",t.semver,r)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),c=VS(this.semver,">",t.semver,r)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return n||i||o&&s||a||c}};M$.exports=Lp;var loe=Ip(),{re:O$,t:N$}=Ac(),VS=$S(),WS=kp(),L$=Gr(),F$=yi()});var Fp=T((FTe,j$)=>{var uoe=yi(),foe=(e,t,r)=>{try{t=new uoe(t,r)}catch{return!1}return t.test(e)};j$.exports=foe});var $$=T((MTe,q$)=>{var doe=yi(),poe=(e,t)=>new doe(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));q$.exports=poe});var B$=T((jTe,U$)=>{var hoe=Gr(),moe=yi(),goe=(e,t,r)=>{let n=null,i=null,o=null;try{o=new moe(t,r)}catch{return null}return e.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new hoe(n,r))}),n};U$.exports=goe});var V$=T((qTe,H$)=>{var voe=Gr(),yoe=yi(),woe=(e,t,r)=>{let n=null,i=null,o=null;try{o=new yoe(t,r)}catch{return null}return e.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new voe(n,r))}),n};H$.exports=woe});var G$=T(($Te,z$)=>{var zS=Gr(),Coe=yi(),W$=Ap(),boe=(e,t)=>{e=new Coe(e,t);let r=new zS("0.0.0");if(e.test(r)||(r=new zS("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let i=e.set[n],o=null;i.forEach(s=>{let a=new zS(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||W$(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!r||W$(r,o))&&(r=o)}return r&&e.test(r)?r:null};z$.exports=boe});var Y$=T((UTe,K$)=>{var Eoe=yi(),_oe=(e,t)=>{try{return new Eoe(e,t).range||"*"}catch{return null}};K$.exports=_oe});var Ny=T((BTe,Z$)=>{var Soe=Gr(),J$=Op(),{ANY:xoe}=J$,Poe=yi(),koe=Fp(),Q$=Ap(),X$=Iy(),Ioe=Ay(),Toe=Ty(),Aoe=(e,t,r,n)=>{e=new Soe(e,n),t=new Poe(t,n);let i,o,s,a,c;switch(r){case">":i=Q$,o=Ioe,s=X$,a=">",c=">=";break;case"<":i=X$,o=Toe,s=Q$,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(koe(e,t,n))return!1;for(let l=0;l<t.set.length;++l){let u=t.set[l],f=null,d=null;if(u.forEach(p=>{p.semver===xoe&&(p=new J$(">=0.0.0")),f=f||p,d=d||p,i(p.semver,f.semver,n)?f=p:s(p.semver,d.semver,n)&&(d=p)}),f.operator===a||f.operator===c||(!d.operator||d.operator===a)&&o(e,d.semver))return!1;if(d.operator===c&&s(e,d.semver))return!1}return!0};Z$.exports=Aoe});var tU=T((HTe,eU)=>{var Doe=Ny(),Roe=(e,t,r)=>Doe(e,t,">",r);eU.exports=Roe});var nU=T((VTe,rU)=>{var Ooe=Ny(),Noe=(e,t,r)=>Ooe(e,t,"<",r);rU.exports=Noe});var sU=T((WTe,oU)=>{var iU=yi(),Loe=(e,t,r)=>(e=new iU(e,r),t=new iU(t,r),e.intersects(t));oU.exports=Loe});var cU=T((zTe,aU)=>{var Foe=Fp(),Moe=vi();aU.exports=(e,t,r)=>{let n=[],i=null,o=null,s=e.sort((u,f)=>Moe(u,f,r));for(let u of s)Foe(u,t,r)?(o=u,i||(i=u)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let a=[];for(let[u,f]of n)u===f?a.push(u):!f&&u===s[0]?a.push("*"):f?u===s[0]?a.push(`<=${f}`):a.push(`${u} - ${f}`):a.push(`>=${u}`);let c=a.join(" || "),l=typeof t.raw=="string"?t.raw:String(t);return c.length<l.length?c:t}});var pU=T((GTe,dU)=>{var lU=yi(),Ly=Op(),{ANY:GS}=Ly,Mp=Fp(),KS=vi(),joe=(e,t,r={})=>{if(e===t)return!0;e=new lU(e,r),t=new lU(t,r);let n=!1;e:for(let i of e.set){for(let o of t.set){let s=qoe(i,o,r);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},qoe=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===GS){if(t.length===1&&t[0].semver===GS)return!0;r.includePrerelease?e=[new Ly(">=0.0.0-0")]:e=[new Ly(">=0.0.0")]}if(t.length===1&&t[0].semver===GS){if(r.includePrerelease)return!0;t=[new Ly(">=0.0.0")]}let n=new Set,i,o;for(let p of e)p.operator===">"||p.operator===">="?i=uU(i,p,r):p.operator==="<"||p.operator==="<="?o=fU(o,p,r):n.add(p.semver);if(n.size>1)return null;let s;if(i&&o){if(s=KS(i.semver,o.semver,r),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let p of n){if(i&&!Mp(p,String(i),r)||o&&!Mp(p,String(o),r))return null;for(let h of t)if(!Mp(p,String(h),r))return!1;return!0}let a,c,l,u,f=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,d=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&o.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let p of t){if(u=u||p.operator===">"||p.operator===">=",l=l||p.operator==="<"||p.operator==="<=",i){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator===">"||p.operator===">="){if(a=uU(i,p,r),a===p&&a!==i)return!1}else if(i.operator===">="&&!Mp(i.semver,String(p),r))return!1}if(o){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator==="<"||p.operator==="<="){if(c=fU(o,p,r),c===p&&c!==o)return!1}else if(o.operator==="<="&&!Mp(o.semver,String(p),r))return!1}if(!p.operator&&(o||i)&&s!==0)return!1}return!(i&&l&&!o&&s!==0||o&&u&&!i&&s!==0||d||f)},uU=(e,t,r)=>{if(!e)return t;let n=KS(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},fU=(e,t,r)=>{if(!e)return t;let n=KS(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};dU.exports=joe});var mU=T((KTe,hU)=>{var YS=Ac();hU.exports={re:YS.re,src:YS.src,tokens:YS.t,SEMVER_SPEC_VERSION:Pp().SEMVER_SPEC_VERSION,SemVer:Gr(),compareIdentifiers:_y().compareIdentifiers,rcompareIdentifiers:_y().rcompareIdentifiers,parse:Dc(),valid:qq(),clean:Uq(),inc:Hq(),diff:Yq(),major:Qq(),minor:Zq(),patch:t$(),prerelease:n$(),compare:vi(),rcompare:o$(),compareLoose:a$(),compareBuild:ky(),sort:f$(),rsort:p$(),gt:Ap(),lt:Iy(),eq:Py(),neq:qS(),gte:Ty(),lte:Ay(),cmp:$S(),coerce:b$(),Comparator:Op(),Range:yi(),satisfies:Fp(),toComparators:$$(),maxSatisfying:B$(),minSatisfying:V$(),minVersion:G$(),validRange:Y$(),outside:Ny(),gtr:tU(),ltr:nU(),intersects:sU(),simplifyRange:cU(),subset:pU()}});var Ci,ar,cr,lr,Up,Vn,Ku,Yu,zy,Ju,Po,Gy=qe(()=>{Ci="function",ar="object",cr="undefined",lr="prototype",Up="hasOwnProperty",Vn=Object,Ku=Vn[lr],Yu=Vn.assign,zy=Vn.create,Ju=Vn.defineProperty,Po=Ku[Up]});function Bi(e){return e===void 0&&(e=!0),(!Qu||!e)&&(typeof globalThis!==cr&&globalThis&&(Qu=globalThis),typeof self!==cr&&self&&(Qu=self),typeof window!==cr&&window&&(Qu=window),typeof global!==cr&&global&&(Qu=global)),Qu}function Xu(e){throw new TypeError(e)}function ko(e){var t=zy;if(t)return t(e);if(e==null)return{};var r=typeof e;r!==ar&&r!==Ci&&Xu("Object prototype may only be an Object:"+e);function n(){}return n[lr]=e,new n}var Qu,lx=qe(()=>{Gy();Qu=null});function Hi(e,t){typeof t!==Ci&&t!==null&&Xu("Class extends value "+String(t)+" is not a constructor or null"),ux(e,t);function r(){this.constructor=e}e[lr]=t===null?ko(t):(r[lr]=t[lr],new r)}function Yy(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e}var lRe,uRe,use,Ky,ux,GU=qe(()=>{Gy();lx();lRe=(Bi()||{}).Symbol,uRe=(Bi()||{}).Reflect,use=function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Ku[Up].call(t,i)&&(e[i]=t[i])}return e},Ky=Yu||use,ux=function(e,t){return ux=Vn.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n[Up](i)&&(r[i]=n[i])},ux(e,t)}});var KU=qe(()=>{});var vn=qe(()=>{Gy();lx();GU();KU()});var fx,YU=qe(()=>{"use strict";fx=100});var yt,Jy,dx,Bp,fs,bi,Vi,px,Hp,Zu,$c,Qy,Xy,JU,Uc,Bc,ef,tf,rf,Vp,yn=qe(()=>{yt="",Jy="processTelemetry",dx="priority",Bp="setNextPlugin",fs="isInitialized",bi="teardown",Vi="core",px="update",Hp="disabled",Zu="_doTeardown",$c="processNext",Qy="resume",Xy="pause",JU="NotificationListener",Uc="add"+JU,Bc="remove"+JU,ef="eventsSent",tf="eventsDiscarded",rf="eventsSendRequest",Vp="perfEvent"});function _se(e){if(e){if(ew)return ew(e);var t=e[fse]||e[lr]||e[Zy];if(t)return t}return null}function nf(e,t){return typeof e===t}function mt(e){return e===void 0||typeof e===cr}function Ge(e){return e===null||mt(e)}function yx(e){return!Ge(e)}function Io(e,t){return!!(e&&Po.call(e,t))}function Nr(e){return!!(e&&typeof e===ar)}function nt(e){return!!(e&&typeof e===Ci)}function Hc(e){var t=e;return t&&Jt(t)&&(t=t.replace(Cse,function(r,n){return n.toUpperCase()}),t=t.replace(bse,"_"),t=t.replace(Ese,function(r,n){return"_"+n})),t}function Lt(e,t){if(e)for(var r in e)Po.call(e,r)&&t.call(e,r,e[r])}function Vc(e,t){var r=!1;return e&&t&&!(r=e===t)&&(r=hse?e[XU](t):Sse(e,t)),r}function Sse(e,t){var r=!1,n=t?t.length:0,i=e?e.length:0;if(n&&i&&i>=n&&!(r=e===t)){for(var o=i-1,s=n-1;s>=0;s--){if(e[o]!=t[s])return!1;o--}r=!0}return r}function of(e,t){var r=!1;return e&&t&&!(r=e===t)&&(r=mse?e[ZU](t):xse(e,t)),r}function xse(e,t){var r=!1,n=t?t.length:0;if(e&&n&&e.length>=n&&!(r=e===t)){for(var i=0;i<n;i++)if(e[i]!==t[i])return!1;r=!0}return r}function ir(e,t){return e&&t?e.indexOf(t)!==-1:!1}function sf(e){return!!(e&&vx.call(e)==="[object Date]")}function Pse(e){return!!(e&&vx.call(e)==="[object Array]")}function Wc(e){return!!(e&&vx.call(e)==="[object Error]")}function Jt(e){return typeof e=="string"}function wn(e){return typeof e=="number"}function ds(e){return typeof e=="boolean"}function a2(e){var t=!1;if(e&&typeof e=="object"){var r=ew?ew(e):_se(e);r?(r[Zy]&&Po.call(r,Zy)&&(r=r[Zy]),t=typeof r===Ci&&s2.call(r)===wse):t=!0}return t}function Ei(e){if(e)return vse?e[QU]():kse(e)}function kse(e){if(e&&e.getUTCFullYear){var t=function(r){var n=String(r);return n.length===1&&(n="0"+n),n};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function Ce(e,t,r){var n=e.length;try{for(var i=0;i<n&&!(i in e&&t.call(r||e,e[i],i,e)===-1);i++);}catch{}}function vr(e,t,r){if(e){if(e[e2])return e[e2](t,r);var n=e.length,i=r||0;try{for(var o=Math.max(i>=0?i:n-Math.abs(i),0);o<n;o++)if(o in e&&e[o]===t)return o}catch{}}return-1}function zc(e,t,r){var n;if(e){if(e[t2])return e[t2](t,r);var i=e.length,o=r||e;n=new Array(i);try{for(var s=0;s<i;s++)s in e&&(n[s]=t.call(o,e[s],e))}catch{}}return n}function Gc(e,t,r){var n;if(e){if(e[r2])return e[r2](t,r);var i=e.length,o=0;if(arguments.length>=3)n=arguments[2];else{for(;o<i&&!(o in e);)o++;n=e[o++]}for(;o<i;)o in e&&(n=t(n,e[o],o,e)),o++}return n}function Ft(e){return e&&(e=pse&&e[hx]?e[hx]():e.replace?e.replace(/^\s+|\s+$/g,""):e),e}function tn(e){var t=typeof e;if(t!==Ci&&(t!==ar||e===null)&&Xu("objKeys called on non-object"),!c2&&o2)return o2(e);var r=[];for(var n in e)e&&Po.call(e,n)&&r.push(n);if(c2)for(var i=wx.length,o=0;o<i;o++)e&&Po.call(e,wx[o])&&r.push(wx[o]);return r}function Wn(e,t,r,n){if(i2)try{var i={enumerable:!0,configurable:!0};return r&&(i.get=r),n&&(i.set=n),i2(e,t,i),!0}catch{}return!1}function l2(e){return e}function Cx(e){return mx&&Lt(e,function(t,r){(Je(r)||Nr(r))&&mx(r)}),Cn(e)}function yr(){var e=Date;return e.now?e.now():new e().getTime()}function Kc(e){return Wc(e)?e.name:yt}function wr(e,t,r,n,i){var o=r;return e&&(o=e[t],o!==r&&(!i||i(o))&&(!n||n(r))&&(o=r,e[t]=o)),o}function Wp(e,t,r){var n;return e?(n=e[t],!n&&Ge(n)&&(n=mt(r)?{}:r,e[t]=n)):n=mt(r)?{}:r,n}function af(e){return!e}function cf(e){return!!e}function Lr(e){throw new Error(e)}function u2(e,t){var r=null,n=null;return nt(e)?r=e:n=e,function(){var i=arguments;if(r&&(n=r()),n)return n[t].apply(n,i)}}function Ex(e,t,r){if(e&&t&&Nr(e)&&Nr(t)){var n=function(o){if(Jt(o)){var s=t[o];nt(s)?(!r||r(o,!0,t,e))&&(e[o]=u2(t,o)):(!r||r(o,!1,t,e))&&(Io(e,o)&&delete e[o],Wn(e,o,function(){return t[o]},function(a){t[o]=a})||(e[o]=s))}};for(var i in t)n(i)}return e}function fa(e,t,r,n,i){e&&t&&r&&(i!==!1||mt(e[t]))&&(e[t]=u2(r,n))}function Yc(e,t,r,n){return e&&t&&Nr(e)&&Je(r)&&Ce(r,function(i){Jt(i)&&fa(e,i,t,i,n)}),e}function ps(e){return e&&Yu&&(e=Vn(Yu({},e))),e}function lf(e,t,r,n,i,o){var s=arguments,a=s[0]||{},c=s.length,l=!1,u=1;for(c>0&&ds(a)&&(l=a,a=s[u]||{},u++),Nr(a)||(a={});u<c;u++){var f=s[u],d=Je(f),p=Nr(f);for(var h in f){var m=d&&h in f||p&&Po.call(f,h);if(!!m){var g=f[h],v=void 0;if(l&&g&&((v=Je(g))||a2(g))){var y=a[h];v?Je(y)||(y=[]):a2(y)||(y={}),g=lf(l,y,g)}g!==void 0&&(a[h]=g)}}}return a}var QU,XU,ZU,e2,t2,r2,hx,n2,fse,Zy,i2,mx,dse,o2,gx,pse,hse,mse,gse,vse,yse,vx,s2,wse,Cse,bse,Ese,ew,Je,c2,wx,Cn,bx,or=qe(()=>{vn();yn();QU="toISOString",XU="endsWith",ZU="startsWith",e2="indexOf",t2="map",r2="reduce",hx="trim",n2="toString",fse="__proto__",Zy="constructor",i2=Ju,mx=Vn.freeze,dse=Vn.seal,o2=Vn.keys,gx=String[lr],pse=gx[hx],hse=gx[XU],mse=gx[ZU],gse=Date[lr],vse=gse[QU],yse=Array.isArray,vx=Ku[n2],s2=Po[n2],wse=s2.call(Vn),Cse=/-([a-z])/g,bse=/([^\w\d_$])/g,Ese=/^(\d+[\w\d_$])/,ew=Object.getPrototypeOf;Je=yse||Pse;c2=!{toString:null}.propertyIsEnumerable("toString"),wx=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];Cn=mx||l2,bx=dse||l2});function rn(e){var t={};return Lt(e,function(r,n){t[r]=n,t[n]=r}),Cx(t)}var tw=qe(()=>{or()});var Wi,f2=qe(()=>{tw();Wi=rn({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})});function ms(e,t){return e&&sw[hs].hasOwnProperty.call(e,t)}function y2(e){return e&&(e===sw[hs]||e===Array[hs])}function kx(e){return y2(e)||e===Function[hs]}function Jc(e){var t;if(e){if(Gp)return Gp(e);var r=e[h2]||e[hs]||(e[rw]?e[rw][hs]:null);t=e[ow]||r,ms(e,ow)||(delete e[xx],t=e[ow]=e[xx]||e[ow],e[xx]=r)}return t}function aw(e,t){var r=[];if(g2)r=g2(e);else for(var n in e)typeof n=="string"&&ms(e,n)&&r.push(n);if(r&&r.length>0)for(var i=0;i<r.length;i++)t(r[i])}function Ix(e,t,r){return t!==rw&&typeof e[t]===nw&&(r||ms(e,t))}function cw(e){throw new TypeError("DynamicProto: "+e)}function Tse(e){var t={};return aw(e,function(r){!t[r]&&Ix(e,r,!1)&&(t[r]=e[r])}),t}function Tx(e,t){for(var r=e.length-1;r>=0;r--)if(e[r]===t)return!0;return!1}function Ase(e,t,r,n){function i(c,l,u){var f=l[u];if(f[_x]&&n){var d=c[iw]||{};d[zp]!==!1&&(f=(d[l[uf]]||{})[u]||f)}return function(){return f.apply(c,arguments)}}var o={};aw(r,function(c){o[c]=i(t,r,c)});for(var s=Jc(e),a=[];s&&!kx(s)&&!Tx(a,s);)aw(s,function(c){!o[c]&&Ix(s,c,!Gp)&&(o[c]=i(t,s,c))}),a.push(s),s=Jc(s);return o}function Dse(e,t,r,n){var i=null;if(e&&ms(r,uf)){var o=e[iw]||{};if(i=(o[r[uf]]||{})[t],i||cw("Missing ["+t+"] "+nw),!i[Sx]&&o[zp]!==!1){for(var s=!ms(e,t),a=Jc(e),c=[];s&&a&&!kx(a)&&!Tx(c,a);){var l=a[t];if(l){s=l===n;break}c.push(a),a=Jc(a)}try{s&&(e[t]=i),i[Sx]=1}catch{o[zp]=!1}}}return i}function Rse(e,t,r){var n=t[e];return n===r&&(n=Jc(t)[e]),typeof n!==nw&&cw("["+e+"] is not a "+nw),n}function Ose(e,t,r,n,i){function o(c,l){var u=function(){var f=Dse(this,l,c,u)||Rse(l,c,u);return f.apply(this,arguments)};return u[_x]=1,u}if(!y2(e)){var s=r[iw]=r[iw]||{},a=s[t]=s[t]||{};s[zp]!==!1&&(s[zp]=!!i),aw(r,function(c){Ix(r,c,!1)&&r[c]!==n[c]&&(a[c]=r[c],delete r[c],(!ms(e,c)||e[c]&&!e[c][_x])&&(e[c]=o(e,c)))})}}function Nse(e,t){if(Gp){for(var r=[],n=Jc(t);n&&!kx(n)&&!Tx(r,n);){if(n===e)return!0;r.push(n),n=Jc(n)}return!1}return!0}function Ax(e,t){return ms(e,hs)?e.name||t||p2:((e||{})[rw]||{}).name||t||p2}function ht(e,t,r,n){ms(e,hs)||cw("theClass is an invalid class definition.");var i=e[hs];Nse(i,t)||cw("["+Ax(e)+"] is not in class hierarchy of ["+Ax(t)+"]");var o=null;ms(i,uf)?o=i[uf]:(o=Ise+Ax(e,"_")+"$"+v2,v2++,i[uf]=o);var s=ht[d2],a=!!s[Px];a&&n&&n[Px]!==void 0&&(a=!!n[Px]);var c=Tse(t),l=Ase(i,t,c,a);r(t,l);var u=!!Gp&&!!s[m2];u&&n&&(u=!!n[m2]),Ose(i,o,t,c,u!==!1)}var rw,hs,nw,iw,_x,uf,Ise,Sx,zp,d2,p2,h2,ow,xx,Px,m2,sw,Gp,g2,v2,Lse,Fr=qe(()=>{rw="constructor",hs="prototype",nw="function",iw="_dynInstFuncs",_x="_isDynProxy",uf="_dynClass",Ise="_dynCls$",Sx="_dynInstChk",zp=Sx,d2="_dfOpts",p2="_unknown_",h2="__proto__",ow="_dyn"+h2,xx="_dynInstProto",Px="useBaseInst",m2="setInstFuncs",sw=Object,Gp=sw.getPrototypeOf,g2=sw.getOwnPropertyNames,v2=0;Lse={setInstFuncs:!0,useBaseInst:!0};ht[d2]=Lse});function _2(e,t){var r=!1;if(e){try{if(r=t in e,!r){var n=e[lr];n&&(r=t in n)}}catch{}if(!r)try{var i=new e;r=!mt(i[t])}catch{}}return r}function Fx(e){E2=e}function Qt(e){var t=Bi();return t&&t[e]?t[e]:e===w2&&Kp()?window:null}function Kp(){return Boolean(typeof window===ar&&window)}function To(){return Kp()?window:Qt(w2)}function lw(){return Boolean(typeof document===ar&&document)}function bn(){return lw()?document:Qt(Fse)}function Yp(){return Boolean(typeof navigator===ar&&navigator)}function zn(){return Yp()?navigator:Qt(jse)}function uw(){return Boolean(typeof history===ar&&history)}function Mx(){return uw()?history:Qt(qse)}function Qc(e){if(e&&E2){var t=Qt("__mockLocation");if(t)return t}return typeof location===ar&&location?location:Qt($se)}function Jp(){return typeof console!==cr?console:Qt(Use)}function df(){return Qt(Bse)}function Xc(){return Boolean(typeof JSON===ar&&JSON||Qt(C2)!==null)}function pf(){return Xc()?JSON||Qt(C2):null}function Qp(){return Qt(Hse)}function Xp(){return Qt(Vse)}function gs(){var e=zn();return e&&e.product?e.product===Wse:!1}function zi(){var e=zn();if(e&&(e.userAgent!==Nx||Ox===null)){Nx=e.userAgent;var t=(Nx||yt).toLowerCase();Ox=ir(t,Dx)||ir(t,Rx)}return Ox}function jx(e){if(e===void 0&&(e=null),!e){var t=zn()||{};e=t?(t.userAgent||yt).toLowerCase():yt}var r=(e||yt).toLowerCase();if(ir(r,Dx)){var n=bn()||{};return Math.max(parseInt(r.split(Dx)[1]),n[Mse]||0)}else if(ir(r,Rx)){var i=parseInt(r.split(Rx)[1]);if(i)return i+4}return null}function Vt(e){var t=Object[lr].toString.call(e),r=yt;return t==="[object Error]"?r="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":Xc()&&(r=pf().stringify(e)),t+r}function da(){return Lx===null&&(Lx=Yp()&&Boolean(zn().sendBeacon)),Lx}function Zp(e){var t=!1;try{t=!!Qt("fetch");var r=Qt("Request");t&&e&&r&&(t=_2(r,"keepalive"))}catch{}return t}function Zc(){return ff===null&&(ff=typeof XDomainRequest!==cr,ff&&hf()&&(ff=ff&&!_2(Qt(b2),"withCredentials"))),ff}function hf(){var e=!1;try{var t=Qt(b2);e=!!t}catch{}return e}function S2(e,t){if(e)for(var r=0;r<e.length;r++){var n=e[r];if(n.name&&n.name===t)return n}return{}}function qx(e){var t=bn();return t&&e?S2(t.querySelectorAll("meta"),e).content:null}function $x(e){var t,r=df();if(r){var n=r.getEntriesByType("navigation")||[];t=S2((n.length>0?n[0]:{}).serverTiming,e).description}return t}var w2,Fse,Mse,jse,qse,$se,Use,Bse,C2,Hse,Vse,Wse,Dx,Rx,b2,Ox,Nx,E2,ff,Lx,_i=qe(()=>{vn();yn();or();"use strict";w2="window",Fse="document",Mse="documentMode",jse="navigator",qse="history",$se="location",Use="console",Bse="performance",C2="JSON",Hse="crypto",Vse="msCrypto",Wse="ReactNative",Dx="msie",Rx="trident/",b2="XMLHttpRequest",Ox=null,Nx=null,E2=!1,ff=null,Lx=null});function zse(e,t){return function(){var r=arguments,n=Bx(t);if(n){var i=n.listener;i&&i[e]&&i[e].apply(i,r)}}}function Gse(){var e=Qt("Microsoft");return e&&(fw=e.ApplicationInsights),fw}function Bx(e){var t=fw;return!t&&e.disableDbgExt!==!0&&(t=fw||Gse()),t?t.ChromeDbgExt:null}function x2(e){if(!dw){dw={};for(var t=0;t<Ux.length;t++)dw[Ux[t]]=zse(Ux[t],e)}return dw}var Ux,fw,dw,Hx=qe(()=>{_i();Ux=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],fw=null});function P2(e){return e?'"'+e.replace(/\"/g,yt)+'"':yt}function k2(e,t){var r=Jp();if(r){var n="log";r[e]&&(n=e),nt(r[n])&&r[n](t)}}function eh(e,t){return(e||{}).logger||new Si(t)}function Zse(e){return e||new Si}function Xt(e,t,r,n,i,o){o===void 0&&(o=!1),(e||new Si).throwInternal(t,r,n,i,o)}function Vx(e,t){Zse(e).warnToConsole(t)}var Kse,Yse,Jse,Qse,Xse,el,Si,pa=qe(()=>{_i();Fr();or();Hx();yn();"use strict";Kse="AI (Internal): ",Yse="AI: ",Jse="AITR_",Qse="errorToConsole",Xse="warnToConsole";el=function(){function e(t,r,n,i){n===void 0&&(n=!1);var o=this;o.messageId=t,o.message=(n?Yse:Kse)+t;var s=yt;Xc()&&(s=pf().stringify(i));var a=(r?" message:"+P2(r):yt)+(i?" props:"+P2(s):yt);o.message+=a}return e.dataType="MessageData",e}();Si=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var r=0,n={};ht(e,this,function(i){Ge(t)&&(t={}),i.consoleLoggingLevel=function(){return o("loggingLevelConsole",0)},i.telemetryLoggingLevel=function(){return o("loggingLevelTelemetry",1)},i.maxInternalMessageLimit=function(){return o("maxMessageLimit",25)},i.enableDebugExceptions=function(){return o("enableDebugExceptions",!1)},i.throwInternal=function(c,l,u,f,d){d===void 0&&(d=!1);var p=new el(l,u,d,f);if(i.enableDebugExceptions())throw Vt(p);var h=c===1?Qse:Xse;if(mt(p.message))a("throw"+(c===1?"Critical":"Warning"),p);else{var m=i.consoleLoggingLevel();if(d){var g=+p.messageId;!n[g]&&m>=c&&(i[h](p.message),n[g]=!0)}else m>=c&&i[h](p.message);i.logInternalMessage(c,p)}},i.warnToConsole=function(c){k2("warn",c),a("warning",c)},i.errorToConsole=function(c){k2("error",c),a("error",c)},i.resetInternalMessageCount=function(){r=0,n={}},i.logInternalMessage=function(c,l){if(!s()){var u=!0,f=Jse+l.messageId;if(n[f]?u=!1:n[f]=!0,u&&(c<=i.telemetryLoggingLevel()&&(i.queue.push(l),r++,a(c===1?"error":"warn",l)),r===i.maxInternalMessageLimit())){var d="Internal events throttle limit per PageView reached for this app.",p=new el(23,d,!1);i.queue.push(p),c===1?i.errorToConsole(d):i.warnToConsole(d)}}};function o(c,l){var u=t[c];return Ge(u)?l:u}function s(){return r>=i.maxInternalMessageLimit()}function a(c,l){var u=Bx(t);u&&u.diagLog&&u.diagLog(c,l)}})}return e}()});function er(e,t,r,n,i){if(e){var o=e;if(nt(o.getPerfMgr)&&(o=o.getPerfMgr()),o){var s=void 0,a=o.getCtx(Wx);try{if(s=o.create(t(),n,i),s){if(a&&s.setCtx&&(s.setCtx(tl.ParentContextKey,a),a.getCtx&&a.setCtx)){var c=a.getCtx(tl.ChildrenContextKey);c||(c=[],a.setCtx(tl.ChildrenContextKey,c)),c.push(s)}return o.setCtx(Wx,s),r(s)}}catch(l){s&&s.setCtx&&s.setCtx("exception",l)}finally{s&&o.fire(s),o.setCtx(Wx,a)}}}return r()}function zx(){return eae}var mf,eae,tl,th,Wx,rh=qe(()=>{Fr();or();mf="ctx",eae=null,tl=function(){function e(t,r,n){var i=this,o=!1;if(i.start=yr(),i.name=t,i.isAsync=n,i.isChildEvt=function(){return!1},nt(r)){var s;o=Wn(i,"payload",function(){return!s&&nt(r)&&(s=r(),r=null),s})}i.getCtx=function(a){return a?a===e.ParentContextKey||a===e.ChildrenContextKey?i[a]:(i[mf]||{})[a]:null},i.setCtx=function(a,c){if(a)if(a===e.ParentContextKey)i[a]||(i.isChildEvt=function(){return!0}),i[a]=c;else if(a===e.ChildrenContextKey)i[a]=c;else{var l=i[mf]=i[mf]||{};l[a]=c}},i.complete=function(){var a=0,c=i.getCtx(e.ChildrenContextKey);if(Je(c))for(var l=0;l<c.length;l++){var u=c[l];u&&(a+=u.time)}i.time=yr()-i.start,i.exTime=i.time-a,i.complete=function(){},!o&&nt(r)&&(i.payload=r())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),th=function(){function e(t){this.ctx={},ht(e,this,function(r){r.create=function(n,i,o){return new tl(n,i,o)},r.fire=function(n){n&&(n.complete(),t&&nt(t.perfEvent)&&t.perfEvent(n))},r.setCtx=function(n,i){if(n){var o=r[mf]=r[mf]||{};o[n]=i}},r.getCtx=function(n){return(r[mf]||{})[n]}})}return e}(),Wx="CoreUtils.doPerf"});function A2(e){e<0&&(e>>>=0),nh=123456789+e&ha,ih=987654321-e&ha,T2=!0}function D2(){try{var e=yr()&2147483647;A2((Math.random()*I2^e)+e)}catch{}}function rl(e){return e>0?Math.floor(Gi()/ha*(e+1))>>>0:0}function Gi(e){var t=0,r=Qp()||Xp();return r&&r.getRandomValues&&(t=r.getRandomValues(new Uint32Array(1))[0]&ha),t===0&&zi()&&(T2||D2(),t=oh()&ha),t===0&&(t=Math.floor(I2*Math.random()|0)),e||(t>>>=0),t}function pw(e){e?A2(e):D2()}function oh(e){ih=36969*(ih&65535)+(ih>>16)&ha,nh=18e3*(nh&65535)+(nh>>16)&ha;var t=(ih<<16)+(nh&65535)>>>0&ha|0;return e||(t>>>=0),t}function ma(e){e===void 0&&(e=22);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=Gi()>>>0,n=0,i=yt;i.length<e;)n++,i+=t.charAt(r&63),r>>>=6,n===5&&(r=(Gi()<<2&4294967295|r&3)>>>0,n=0);return i}var I2,ha,T2,nh,ih,hw=qe(()=>{_i();or();yn();I2=4294967296,ha=4294967295,T2=!1,nh=123456789,ih=987654321});function nae(e,t,r){if(R2)try{return R2(e,t,{value:r,enumerable:!1,configurable:!0}),!0}catch{}return!1}function N2(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType}function iae(e,t){var r=t[e.id];if(!r){r={};try{N2(t)&&(nae(t,e.id,r)||(t[e.id]=r))}catch{}}return r}function Ki(e,t){return t===void 0&&(t=!1),Hc(e+rae+++(t?"."+O2:"")+tae)}function mw(e){var t={id:Ki("_aiData-"+(e||"")+"."+O2),accept:function(r){return N2(r)},get:function(r,n,i,o){var s=r[t.id];return s?s[Hc(n)]:(o&&(s=iae(t,r),s[Hc(n)]=i),i)},kill:function(r,n){if(r&&r[n])try{delete r[n]}catch{}}};return t}var R2,O2,tae,rae,sh=qe(()=>{vn();or();hw();R2=Ju,O2="2.8.4",tae="."+ma(6),rae=0});function oae(e,t){var r=vs[ga]||vw[ga];return r||(r=vs[ga]=vs(e,t),vw[ga]=r),r}function yw(e){return e?e.isEnabled():!0}function sae(e){var t=e.cookieCfg=e.cookieCfg||{};if(wr(t,"domain",e.cookieDomain,yx,Ge),wr(t,"path",e.cookiePath||"/",null,Ge),Ge(t[Yx])){var r=void 0;mt(e[M2])||(r=!e[M2]),mt(e[j2])||(r=!e[j2]),t[Yx]=r}return t}function va(e,t){var r;if(e)r=e.getCookieMgr();else if(t){var n=t.cookieCfg;n[ga]?r=n[ga]:r=vs(t)}return r||(r=oae(t,(e||{}).logger)),r}function vs(e,t){var r=sae(e||vw),n=r.path||"/",i=r.domain,o=r[Yx]!==!1,s={isEnabled:function(){var a=o&&Yi(t),c=vw[ga];return a&&c&&s!==c&&(a=yw(c)),a},setEnabled:function(a){o=a!==!1},set:function(a,c,l,u,f){var d=!1;if(yw(s)){var p={},h=Ft(c||yt),m=h.indexOf(";");if(m!==-1&&(h=Ft(c.substring(0,m)),p=U2(c.substring(m+1))),wr(p,"domain",u||i,cf,mt),!Ge(l)){var g=zi();if(mt(p[Kx])){var v=yr(),y=v+l*1e3;if(y>0){var C=new Date;C.setTime(y),wr(p,Kx,B2(C,g?L2:F2)||B2(C,g?L2:F2)||yt,cf)}}g||wr(p,"max-age",yt+l,null,mt)}var b=Qc();b&&b.protocol==="https:"&&(wr(p,"secure",null,null,mt),Jx===null&&(Jx=!gf((zn()||{}).userAgent)),Jx&&wr(p,"SameSite","None",null,mt)),wr(p,"path",f||n,null,mt);var _=r.setCookie||V2;_(a,H2(h,p)),d=!0}return d},get:function(a){var c=yt;return yw(s)&&(c=(r.getCookie||aae)(a)),c},del:function(a,c){var l=!1;return yw(s)&&(l=s.purge(a,c)),l},purge:function(a,c){var l,u=!1;if(Yi(t)){var f=(l={},l.path=c||"/",l[Kx]="Thu, 01 Jan 1970 00:00:01 GMT",l);zi()||(f["max-age"]="0");var d=r.delCookie||V2;d(a,H2(yt,f)),u=!0}return u}};return s[ga]=s,s}function Yi(e){if(gw===null){gw=!1;try{var t=ah||{};gw=t[Gx]!==void 0}catch(r){Xt(e,2,68,"Cannot access document.cookie - "+Kc(r),{exception:Vt(r)})}}return gw}function U2(e){var t={};if(e&&e.length){var r=Ft(e).split(";");Ce(r,function(n){if(n=Ft(n||yt),n){var i=n.indexOf("=");i===-1?t[n]=null:t[Ft(n.substring(0,i))]=Ft(n.substring(i+1))}})}return t}function B2(e,t){return nt(e[t])?e[t]():null}function H2(e,t){var r=e||yt;return Lt(t,function(n,i){r+="; "+n+(Ge(i)?yt:"="+i)}),r}function aae(e){var t=yt;if(ah){var r=ah[Gx]||yt;q2!==r&&($2=U2(r),q2=r),t=Ft($2[e]||yt)}return t}function V2(e,t){ah&&(ah[Gx]=e+"="+t)}function gf(e){return Jt(e)?!!(ir(e,"CPU iPhone OS 12")||ir(e,"iPad; CPU OS 12")||ir(e,"Macintosh; Intel Mac OS X 10_14")&&ir(e,"Version/")&&ir(e,"Safari")||ir(e,"Macintosh; Intel Mac OS X 10_14")&&Vc(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||ir(e,"Chrome/5")||ir(e,"Chrome/6")||ir(e,"UnrealEngine")&&!ir(e,"Chrome")||ir(e,"UCBrowser/12")||ir(e,"UCBrowser/11")):!1}var L2,F2,Gx,Kx,Yx,M2,j2,ga,gw,Jx,q2,ah,$2,vw,Qx=qe(()=>{_i();or();yn();pa();L2="toGMTString",F2="toUTCString",Gx="cookie",Kx="expires",Yx="enabled",M2="isCookieUseDisabled",j2="disableCookiesUsage",ga="_ckMgr",gw=null,Jx=null,q2=null,ah=bn(),$2={},vw={}});function tB(e){return e&&e.replace?e.replace(/^\s*\.*|\.*\s*$/g,""):e}function bw(e,t){if(t){var r="";Je(t)?(r="",Ce(t,function(i){i=tB(i),i&&(i[0]!=="."&&(i="."+i),r+=i)})):r=tB(t),r&&(r[0]!=="."&&(r="."+r),e=(e||"")+r)}var n=fae.exec(e||"")||[];return{type:n[1],ns:(n[2]||"").replace(cae,".").replace(lae,"").split(".").sort().join(".")}}function Xx(e,t,r){var n=[],i=lh.get(e,ww,{},!1),o=bw(t,r);return Lt(i,function(s,a){Ce(a,function(c){(!o.type||o.type===c.evtName.type)&&(!o.ns||o.ns===o.ns)&&n.push({name:c.evtName.type+(c.evtName.ns?"."+c.evtName.ns:""),handler:c.handler})})}),n}function rB(e,t,r){r===void 0&&(r=!0);var n=lh.get(e,ww,{},r),i=n[t];return i||(i=n[t]=[]),i}function nB(e,t,r,n){e&&t&&t.type&&(e[Y2]?e[Y2](t.type,r,n):e[K2]&&e[K2](W2+t.type,r))}function dae(e,t,r,n){var i=!1;return e&&t&&t.type&&r&&(e[G2]?(e[G2](t.type,r,n),i=!0):e[z2]&&(e[z2](W2+t.type,r),i=!0)),i}function iB(e,t,r,n){for(var i=t.length;i--;){var o=t[i];o&&(!r.ns||r.ns===o.evtName.ns)&&(!n||n(o))&&(nB(e,o.evtName,o.handler,o.capture),t.splice(i,1))}}function pae(e,t,r){if(t.type)iB(e,rB(e,t.type),t,r);else{var n=lh.get(e,ww,{});Lt(n,function(i,o){iB(e,o,t,r)}),tn(n).length===0&&lh.kill(e,ww)}}function ys(e,t){var r;return t?(Je(t)?r=[e].concat(t):r=[e,t],r=bw("xx",r).ns.split(".")):r=e,r}function nl(e,t,r,n,i){i===void 0&&(i=!1);var o=!1;if(e)try{var s=bw(t,n);if(o=dae(e,s,r,i),o&&lh.accept(e)){var a={guid:uae++,evtName:s,handler:r,capture:i};rB(e,s.type).push(a)}}catch{}return o}function il(e,t,r,n,i){if(i===void 0&&(i=!1),e)try{var o=bw(t,n),s=!1;pae(e,o,function(a){return o.ns&&!r||a.handler===r?(s=!0,!0):!1}),s||nB(e,o,r,i)}catch{}}function vf(e,t,r,n){return n===void 0&&(n=!1),nl(e,t,r,null,n)}function yf(e,t,r,n){n===void 0&&(n=!1),il(e,t,r,null,n)}function ya(e,t,r){var n=!1,i=To();i&&(n=nl(i,e,t,r),n=nl(i.body,e,t,r)||n);var o=bn();return o&&(n=nl(o,e,t,r)||n),n}function Ew(e,t,r){var n=To();n&&(il(n,e,t,r),il(n.body,e,t,r));var i=bn();i&&il(i,e,t,r)}function wf(e,t,r,n){var i=!1;return t&&e&&e.length>0&&Ce(e,function(o){o&&(!r||vr(r,o)===-1)&&(i=ya(o,t,n)||i)}),i}function _w(e,t,r,n){var i=!1;return t&&e&&Je(e)&&(i=wf(e,t,r,n),!i&&r&&r.length>0&&(i=wf(e,t,null,n))),i}function wa(e,t,r){e&&Je(e)&&Ce(e,function(n){n&&Ew(n,t,r)})}function ol(e,t,r){return _w([X2,Q2,Cw],e,t,r)}function uh(e,t){wa([X2,Q2,Cw],e,t)}function Cf(e,t,r){function n(s){var a=bn();e&&a&&a.visibilityState==="hidden"&&e(s)}var i=ys(Z2,r),o=wf([Cw],e,t,i);return(!t||vr(t,ch)===-1)&&(o=wf([ch],n,t,i)||o),!o&&t&&(o=Cf(e,null,r)),o}function fh(e,t){var r=ys(Z2,t);wa([Cw],e,r),wa([ch],null,r)}function bf(e,t,r){function n(s){var a=bn();e&&a&&a.visibilityState==="visible"&&e(s)}var i=ys(eB,r),o=wf([J2],e,t,i);return o=wf([ch],n,t,i)||o,!o&&t&&(o=bf(e,null,r)),o}function dh(e,t){var r=ys(eB,t);wa([J2],e,r),wa([ch],null,r)}var W2,z2,G2,K2,Y2,ww,ch,Cw,J2,Q2,X2,Z2,eB,cae,lae,uae,lh,fae,Zx=qe(()=>{sh();_i();or();W2="on",z2="attachEvent",G2="addEventListener",K2="detachEvent",Y2="removeEventListener",ww="events",ch="visibilitychange",Cw="pagehide",J2="pageshow",Q2="unload",X2="beforeunload",Z2=Ki("aiEvtPageHide"),eB=Ki("aiEvtPageShow"),cae=/\.[\.]+/g,lae=/[\.]+$/,uae=1,lh=mw("events"),fae=/^([^.]*)(?:\.(.+)|)/});function Ef(){function e(){return rl(15)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(hae,function(t){var r=e()|0,n=t==="x"?r:r&3|8;return n.toString(16)})}function _f(){var e=df();return e&&e.now?e.now():yr()}function Ca(){for(var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t=yt,r,n=0;n<4;n++)r=Gi(),t+=e[r&15]+e[r>>4&15]+e[r>>8&15]+e[r>>12&15]+e[r>>16&15]+e[r>>20&15]+e[r>>24&15]+e[r>>28&15];var i=e[8+(Gi()&3)|0];return t.substr(0,8)+t.substr(9,4)+"4"+t.substr(13,3)+i+t.substr(16,3)+t.substr(19,12)}var hae,eP,tP=qe(()=>{_i();or();Zx();hw();yn();"use strict";hae=/[xy]/g,eP={Attach:vf,AttachEvent:vf,Detach:yf,DetachEvent:yf}});function ws(e,t,r){return e&&e.length===t&&e!==r?!!e.match(/^[\da-f]*$/):!1}function sB(e,t,r){return ws(e,t)?e:r}function aB(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var t=e.toString(16);t.length<2;)t="0"+t;return t}function iP(e,t,r,n){return{version:ws(n,2,nP)?n:rP,traceId:Sf(e)?e:Ca(),spanId:xf(t)?t:Ca().substr(0,16),traceFlags:r>=0&&r<=255?r:1}}function ph(e){if(!e||(Je(e)&&(e=e[0]||""),!e||!Jt(e)||e.length>8192))return null;var t=mae.exec(Ft(e));return!t||t[1]===nP||t[2]===Sw||t[3]===xw?null:{version:t[1],traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}function Sf(e){return ws(e,32,Sw)}function xf(e){return ws(e,16,xw)}function Pw(e){return!(!e||!ws(e.version,2,nP)||!ws(e.traceId,32,Sw)||!ws(e.spanId,16,xw)||!ws(aB(e.traceFlags),2))}function oP(e){return Pw(e)?(e.traceFlags&oB)===oB:!1}function sP(e){if(e){var t=aB(e.traceFlags);ws(t,2)||(t="01");var r=e.version||rP;return r!=="00"&&r!=="ff"&&(r=rP),"".concat(r,"-").concat(sB(e.traceId,32,Sw),"-").concat(sB(e.spanId,16,xw),"-").concat(t)}return""}function aP(){var e="traceparent",t=ph(qx(e));return t||(t=ph($x(e))),t}var mae,rP,nP,Sw,xw,oB,cP=qe(()=>{tP();_i();or();mae=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,rP="00",nP="ff",Sw="00000000000000000000000000000000",xw="0000000000000000",oB=1});function Cs(e){return gae.get(e,"state",{},!0)}function kw(e,t){for(var r=[],n=null,i=e.getNext(),o;i;){var s=i.getPlugin();if(s){n&&nt(n[Bp])&&nt(s[Jy])&&n[Bp](s);var a=!1;nt(s[fs])?a=s[fs]():(o=Cs(s),a=o[fs]),a||r.push(s),n=s,i=i.getNext()}}Ce(r,function(c){var l=e.core();c.initialize(e.getCfg(),l,t,e.getNext()),o=Cs(c),!c[Vi]&&!o[Vi]&&(o[Vi]=l),o[fs]=!0,delete o[bi]})}function Iw(e){return e.sort(function(t,r){var n=0;if(r){var i=nt(r[Jy]);nt(t[Jy])?n=i?t[dx]-r[dx]:1:i&&(n=-1)}else n=t?1:-1;return n})}function cB(e){var t={};return{getName:function(){return t.name},setName:function(r){e&&e.setName(r),t.name=r},getTraceId:function(){return t.traceId},setTraceId:function(r){e&&e.setTraceId(r),Sf(r)&&(t.traceId=r)},getSpanId:function(){return t.spanId},setSpanId:function(r){e&&e.setSpanId(r),xf(r)&&(t.spanId=r)},getTraceFlags:function(){return t.traceFlags},setTraceFlags:function(r){e&&e.setTraceFlags(r),t.traceFlags=r}}}var gae,Tw=qe(()=>{or();yn();sh();cP();"use strict";gae=mw("plugin")});function yae(e,t,r){for(;e;){if(e.getPlugin()===r)return e;e=e.getNext()}return Ao([r],t.config||{},t)}function lP(e,t,r,n){var i=null,o=[];n!==null&&(i=n?yae(e,r,n):e);var s={_next:c,ctx:{core:function(){return r},diagLog:function(){return eh(r,t)},getCfg:function(){return t},getExtCfg:l,getConfig:u,hasNext:function(){return!!i},getNext:function(){return i},setNext:function(d){i=d},iterate:f,onComplete:a}};function a(d,p){for(var h=[],m=2;m<arguments.length;m++)h[m-2]=arguments[m];d&&o.push({func:d,self:mt(p)?s.ctx:p,args:h})}function c(){var d=i;if(i=d?d.getNext():null,!d){var p=o;p&&p.length>0&&(Ce(p,function(h){try{h.func.call(h.self,h.args)}catch(m){Xt(r.logger,2,73,"Unexpected Exception during onComplete - "+Vt(m))}}),o=[])}return d}function l(d,p,h){p===void 0&&(p={}),h===void 0&&(h=0);var m;if(t){var g=t.extensionConfig;g&&d&&(m=g[d])}if(!m)m=p;else if(Nr(p)&&h!==0){var v=lf(!0,p,m);t&&h===2&&Lt(p,function(y){if(Ge(v[y])){var C=t[y];Ge(C)||(v[y]=C)}}),m=v}return m}function u(d,p,h){h===void 0&&(h=!1);var m,g=l(d,null);return g&&!Ge(g[p])?m=g[p]:t&&!Ge(t[p])&&(m=t[p]),Ge(m)?h:m}function f(d){for(var p;p=s._next();){var h=p.getPlugin();h&&d(h)}}return s}function En(e,t,r,n){var i=lP(e,t,r,n),o=i.ctx;function s(c){var l=i._next();return l&&l.processTelemetry(c,o),!l}function a(c,l){return c===void 0&&(c=null),Je(c)&&(c=Ao(c,t,r,l)),En(c||o.getNext(),t,r,l)}return o.processNext=s,o.createNew=a,o}function Pf(e,t,r){var n=t.config||{},i=lP(e,n,t,r),o=i.ctx;function s(c){var l=i._next();return l&&l.unload(o,c),!l}function a(c,l){return c===void 0&&(c=null),Je(c)&&(c=Ao(c,n,t,l)),Pf(c||o.getNext(),t,l)}return o.processNext=s,o.createNew=a,o}function hh(e,t,r){var n=t.config||{},i=lP(e,n,t,r),o=i.ctx;function s(c){return o.iterate(function(l){nt(l.update)&&l.update(o,c)})}function a(c,l){return c===void 0&&(c=null),Je(c)&&(c=Ao(c,n,t,l)),hh(c||o.getNext(),t,l)}return o.processNext=s,o.createNew=a,o}function Ao(e,t,r,n){var i=null,o=!n;if(Je(e)&&e.length>0){var s=null;Ce(e,function(a){if(!o&&n===a&&(o=!0),o&&a&&nt(a.processTelemetry)){var c=wae(a,t,r);i||(i=c),s&&s._setNext(c),s=c}})}return n&&!i?Ao([n],t,r):i}function wae(e,t,r){var n=null,i=nt(e.processTelemetry),o=nt(e.setNextPlugin),s;e?s=e.identifier+"-"+e.priority+"-"+fB++:s="Unknown-0-"+fB++;var a={getPlugin:function(){return e},getNext:function(){return n},processTelemetry:u,unload:f,update:d,_id:s,_setNext:function(p){n=p}};function c(){var p;return e&&nt(e[uB])&&(p=e[uB]()),p||(p=En(a,t,r)),p}function l(p,h,m,g,v){var y=!1,C=e?e.identifier:vae,b=p[lB];return b||(b=p[lB]={}),p.setNext(n),e&&er(p[Vi](),function(){return C+":"+m},function(){b[s]=!0;try{var _=n?n._id:yt;_&&(b[_]=!1),y=h(p)}catch(S){var P=n?b[n._id]:!0;P&&(y=!0),(!n||!P)&&Xt(p.diagLog(),1,73,"Plugin ["+C+"] failed during "+m+" - "+Vt(S)+", run flags: "+Vt(b))}},g,v),y}function u(p,h){h=h||c();function m(g){if(!e||!i)return!1;var v=Cs(e);return v.teardown||v[Hp]?!1:(o&&e.setNextPlugin(n),e.processTelemetry(p,g),!0)}l(h,m,"processTelemetry",function(){return{item:p}},!p.sync)||h.processNext(p)}function f(p,h){function m(){var g=!1;if(e){var v=Cs(e),y=e[Vi]||v.core;e&&(!y||y===p[Vi]())&&!v[bi]&&(v[Vi]=null,v[bi]=!0,v[fs]=!1,e[bi]&&e[bi](p,h)===!0&&(g=!0))}return g}l(p,m,"unload",function(){},h.isAsync)||p.processNext(h)}function d(p,h){function m(){var g=!1;if(e){var v=Cs(e),y=e[Vi]||v.core;e&&(!y||y===p[Vi]())&&!v[bi]&&e[px]&&e[px](p,h)===!0&&(g=!0)}return g}l(p,m,"update",function(){},!1)||p.processNext(h)}return Cn(a)}var vae,lB,uB,fB,uP,mh=qe(()=>{pa();or();rh();_i();yn();Tw();"use strict";vae="TelemetryPluginChain",lB="_hasRun",uB="_getTelCtx",fB=0;uP=function(){function e(t,r,n,i){var o=this,s=En(t,r,n,i);Yc(o,s,tn(s))}return e}()});var dB,Aw,fP=qe(()=>{dB="iKey",Aw="extensionConfig"});function pB(e,t,r,n){t&&Je(t)&&t.length>0&&(t=t.sort(function(i,o){return i.priority-o.priority}),Ce(t,function(i){i.priority<gh&&Lr(Cae+i.identifier)}),e.push({queue:Cn(t),chain:Ao(t,r,n)}))}function hB(e,t){var r;function n(){return En(null,t.config,t,null)}function i(u,f,d,p){var h=u?u.length+1:1;function m(){h--,h===0&&(p&&p(),p=null)}h>0&&Ce(u,function(g){if(g&&g.queue.length>0){var v=g.chain,y=f.createNew(v);y.onComplete(m),d(y)}else h--}),m()}function o(u,f){var d=f||{reason:0};return i(e,u,function(p){p[$c](d)},function(){u[$c](d)}),!0}function s(u,f){var d=f||{reason:0,isAsync:!1};return i(e,u,function(p){p[$c](d)},function(){u[$c](d),c=!1}),!0}function a(u){var f=null;return e&&e.length>0&&Ce(e,function(d){if(d&&d.queue.length>0&&(Ce(d.queue,function(p){if(p.identifier===u)return f=p,-1}),f))return-1}),f}var c=!1,l=(r={identifier:"ChannelControllerPlugin",priority:gh,initialize:function(u,f,d,p){c=!0,Ce(e,function(h){h&&h.queue.length>0&&kw(En(h.chain,u,f),d)})},isInitialized:function(){return c},processTelemetry:function(u,f){i(e,f||n(),function(d){d[$c](u)},function(){f[$c](u)})},update:o},r[Xy]=function(){i(e,n(),function(u){u.iterate(function(f){f[Xy]&&f[Xy]()})},null)},r[Qy]=function(){i(e,n(),function(u){u.iterate(function(f){f[Qy]&&f[Qy]()})},null)},r[bi]=s,r.getChannel=a,r.flush=function(u,f,d,p){var h=1,m=!1,g=null;p=p||5e3;function v(){h--,m&&h===0&&(g&&(clearTimeout(g),g=null),f&&f(m),f=null)}return i(e,n(),function(y){y.iterate(function(C){if(C.flush){h++;var b=!1;C.flush(u,function(){b=!0,v()},d)||b||(u&&g==null?g=setTimeout(function(){g=null,v()},p):v())}})},function(){m=!0,v()}),!0},r._setQueue=function(u){e=u},r);return l}function mB(e,t,r,n){var i=[];if(e&&Ce(e,function(s){return pB(i,s,r,n)}),t){var o=[];Ce(t,function(s){s.priority>gh&&o.push(s)}),pB(i,o,r,n)}return i}var gh,Cae,gB=qe(()=>{or();yn();mh();Tw();gh=500,Cae="Channel has invalid priority - "});function sl(){var e=[];function t(n){n&&e.push(n)}function r(n,i){Ce(e,function(o){try{o(n,i)}catch(s){Xt(n.diagLog(),2,73,"Unexpected error calling unload handler - "+Vt(s))}}),e=[]}return{add:t,run:r}}var Dw=qe(()=>{pa();_i();or()});var ba,al,dP=qe(()=>{Fr();mh();or();fP();Dw();yn();"use strict";ba="getPlugin",al=function(){function e(){var t=this,r,n,i,o,s;l(),ht(e,t,function(u){u.initialize=function(f,d,p,h){c(f,d,h),r=!0},u.teardown=function(f,d){var p=u.core;if(!p||f&&p!==f.core())return;var h,m=!1,g=f||Pf(null,p,i&&i[ba]?i[ba]():i),v=d||{reason:0,isAsync:!1};function y(){m||(m=!0,o.run(g,d),Ce(s,function(C){C.rm()}),s=[],h===!0&&g.processNext(v),l())}return!u[Zu]||u[Zu](g,v,y)!==!0?y():h=!0,h},u.update=function(f,d){var p=u.core;if(!p||f&&p!==f.core())return;var h,m=!1,g=f||hh(null,p,i&&i[ba]?i[ba]():i),v=d||{reason:0};function y(){m||(m=!0,c(g.getCfg(),g.core(),g.getNext()))}return!u._doUpdate||u._doUpdate(g,v,y)!==!0?y():h=!0,h},u._addHook=function(f){f&&(Je(f)?s=s.concat(f):s.push(f))},fa(u,"_addUnloadCb",function(){return o},"add")}),t.diagLog=function(u){return a(u).diagLog()},t[fs]=function(){return r},t.setInitialized=function(u){r=u},t[Bp]=function(u){i=u},t.processNext=function(u,f){f?f.processNext(u):i&&nt(i.processTelemetry)&&i.processTelemetry(u,null)},t._getTelCtx=a;function a(u){u===void 0&&(u=null);var f=u;if(!f){var d=n||En(null,{},t.core);i&&i[ba]?f=d.createNew(null,i[ba]):f=d.createNew(null,i)}return f}function c(u,f,d){u&&wr(u,Aw,[],null,Ge),!d&&f&&(d=f.getProcessTelContext().getNext());var p=i;i&&i[ba]&&(p=i[ba]()),t.core=f,n=En(d,u,f,p)}function l(){r=!1,t.core=null,n=null,i=null,s=[],o=sl()}}return e}()});var vB,yB=qe(()=>{vn();Fr();dP();pa();_i();or();yn();vB=function(e){Hi(t,e);function t(){var r=e.call(this)||this;r.identifier="TelemetryInitializerPlugin",r.priority=199;var n,i;o(),ht(t,r,function(s,a){s.addTelemetryInitializer=function(c){var l={id:n++,fn:c};i.push(l);var u={remove:function(){Ce(i,function(f,d){if(f.id===l.id)return i.splice(d,1),-1})}};return u},s.processTelemetry=function(c,l){for(var u=!1,f=i.length,d=0;d<f;++d){var p=i[d];if(p)try{if(p.fn.apply(null,[c])===!1){u=!0;break}}catch(h){Xt(l.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Kc(h),{exception:Vt(h)},!0)}}u||s.processNext(c,l)},s[Zu]=function(){o()}});function o(){n=0,i=[]}return r}return t}(al)});function _ae(e,t){return new th(t)}function Sae(e,t,r){var n=[],i={};return Ce(r,function(o){(Ge(o)||Ge(o.initialize))&&Lr(wB);var s=o.priority,a=o.identifier;o&&s&&(Ge(i[s])?i[s]=a:Vx(e,"Two extensions have same priority #"+s+" - "+i[s]+", "+a)),(!s||s<t)&&n.push(o)}),{all:r,core:n}}function EB(e,t){var r=!1;return Ce(t,function(n){if(n===e)return r=!0,-1}),r}function xae(){var e;return ko((e={},e[Uc]=function(t){},e[Bc]=function(t){},e[ef]=function(t){},e[tf]=function(t,r){},e[rf]=function(t,r){},e))}var wB,CB,bB,bae,Eae,cl,pP=qe(()=>{vn();vn();Fr();mh();Tw();rh();Qx();or();fP();pa();Hx();gB();yB();sh();Dw();yn();"use strict";wB="Plugins must provide initialize method",CB="_notificationManager",bB="SDK is still unloading...",bae="SDK is not initialized",Eae={loggingLevelConsole:1};cl=function(){function e(){var t,r,n,i,o,s,a,c,l,u,f,d,p,h,m,g,v,y,C,b=0;ht(e,this,function(_){P(),_.isInitialized=function(){return t},_.initialize=function(D,$,Y,Q){p&&Lr(bB),_.isInitialized()&&Lr("Core should not be initialized more than once"),(!D||Ge(D.instrumentationKey))&&Lr("Please provide instrumentation key"),n=Q,_[CB]=Q,_.config=D||{},z(D),ee(D),D.extensions=Ge(D.extensions)?[]:D.extensions,ie(D),Y&&(_.logger=Y),c=[],c.push.apply(c,Yy(Yy([],$,!1),D.extensions,!1)),f=(D||{}).channels,x(D,null),(!d||d.length===0)&&Lr("No channels available"),t=!0,_.releaseQueue()},_.getTransmissionControls=function(){var D=[];return d&&Ce(d,function($){D.push($.queue)}),Cn(D)},_.track=function(D){wr(D,dB,_.config.instrumentationKey,null,af),wr(D,"time",Ei(new Date),null,af),wr(D,"ver","4.0",null,Ge),!p&&_.isInitialized()?S().processNext(D):r.push(D)},_.getProcessTelContext=S,_.getNotifyMgr=function(){return n||(n=xae(),_[CB]=n),n},_[Uc]=function(D){n&&n[Uc](D)},_[Bc]=function(D){n&&n[Bc](D)},_.getCookieMgr=function(){return s||(s=vs(_.config,_.logger)),s},_.setCookieMgr=function(D){s=D},_.getPerfMgr=function(){return!i&&!o&&_.config&&_.config.enablePerfMgr&&nt(_.config.createPerfMgr)&&(o=_.config.createPerfMgr(_,_.getNotifyMgr())),i||o||zx()},_.setPerfMgr=function(D){i=D},_.eventCnt=function(){return r.length},_.releaseQueue=function(){if(t&&r.length>0){var D=r;r=[],Ce(D,function($){S().processNext($)})}},_.pollInternalLogs=function(D){m=D||null;var $=_.config.diagnosticLogInterval;return(!$||!($>0))&&($=1e4),b&&clearInterval(b),b=setInterval(function(){L()},$),b},_.stopPollingInternalLogs=function(){b&&(clearInterval(b),b=0,L())},Yc(_,function(){return h},["addTelemetryInitializer"]),_.unload=function(D,$,Y){D===void 0&&(D=!0),t||Lr(bae),p&&Lr(bB);var Q={reason:50,isAsync:D,flushComplete:!1},X=Pf(A(),_);X.onComplete(function(){P(),$&&$(Q)},_);function ve(Pe){Q.flushComplete=Pe,p=!0,v.run(X,Q),_.stopPollingInternalLogs(),X.processNext(Q)}J(D,ve,6,Y)||ve(!1)},_.getPlugin=I,_.addPlugin=function(D,$,Y,Q){if(!D){Q&&Q(!1),M(wB);return}var X=I(D.identifier);if(X&&!$){Q&&Q(!1),M("Plugin ["+D.identifier+"] is already loaded!");return}var ve={reason:16};function Pe(Ee){c.push(D),ve.added=[D],x(_.config,ve),Q&&Q(!0)}if(X){var Se=[X.plugin],Oe={reason:2,isAsync:!!Y};O(Se,Oe,function(Ee){Ee?(ve.removed=Se,ve.reason|=32,Pe(!0)):Q&&Q(!1)})}else Pe(!1)},_.evtNamespace=function(){return g},_.flush=J,_.getTraceCtx=function(D){return C||(C=cB()),C},_.setTraceCtx=function(D){C=D||null},fa(_,"addUnloadCb",function(){return v},"add");function P(){t=!1,_.config=lf(!0,{},Eae),_.logger=new Si(_.config),_._extensions=[],h=new vB,r=[],n=null,i=null,o=null,s=null,a=null,l=null,c=[],u=null,f=null,d=null,p=!1,m=null,g=Ki("AIBaseCore",!0),v=sl(),C=null}function S(){return En(A(),_.config,_)}function x(D,$){var Y=Sae(_.logger,gh,c);l=Y.core,a=null;var Q=Y.all;if(d=Cn(mB(f,Q,D,_)),u){var X=vr(Q,u);X!==-1&&Q.splice(X,1),X=vr(l,u),X!==-1&&l.splice(X,1),u._setQueue(d)}else u=hB(d,_);Q.push(u),l.push(u),_._extensions=Iw(Q),u.initialize(D,_,Q),kw(S(),Q),_._extensions=Cn(Iw(l||[])).slice(),$&&q($)}function I(D){var $=null,Y=null;return Ce(_._extensions,function(Q){if(Q.identifier===D&&Q!==u&&Q!==h)return Y=Q,-1}),!Y&&u&&(Y=u.getChannel(D)),Y&&($={plugin:Y,setEnabled:function(Q){Cs(Y)[Hp]=!Q},isEnabled:function(){var Q=Cs(Y);return!Q[bi]&&!Q[Hp]},remove:function(Q,X){Q===void 0&&(Q=!0);var ve=[Y],Pe={reason:1,isAsync:Q};O(ve,Pe,function(Se){Se&&x(_.config,{reason:32,removed:ve}),X&&X(Se)})}}),$}function A(){if(!a){var D=(l||[]).slice();vr(D,h)===-1&&D.push(h),a=Ao(Iw(D),_.config,_)}return a}function O(D,$,Y){if(D&&D.length>0){var Q=Ao(D,_.config,_),X=Pf(Q,_);X.onComplete(function(){var ve=!1,Pe=[];Ce(c,function(Oe,Ee){EB(Oe,D)?ve=!0:Pe.push(Oe)}),c=Pe;var Se=[];f&&(Ce(f,function(Oe,Ee){var xt=[];Ce(Oe,function(At){EB(At,D)?ve=!0:xt.push(At)}),Se.push(xt)}),f=Se),Y&&Y(ve)}),X.processNext($)}else Y(!1)}function L(){var D=_.logger?_.logger.queue:[];D&&(Ce(D,function($){var Y={name:m||"InternalMessageId: "+$.messageId,iKey:_.config.instrumentationKey,time:Ei(new Date),baseType:el.dataType,baseData:{message:$.message}};_.track(Y)}),D.length=0)}function J(D,$,Y,Q){return u?u.flush(D,$,Y||6,Q):($&&$(!1),!0)}function z(D){D.disableDbgExt===!0&&y&&(n[Bc](y),y=null),n&&!y&&D.disableDbgExt!==!0&&(y=x2(D),n[Uc](y))}function ee(D){!D.enablePerfMgr&&o&&(o=null),D.enablePerfMgr&&wr(_.config,"createPerfMgr",_ae)}function ie(D){var $=Wp(D,Aw);$.NotificationManager=n}function q(D){var $=hh(A(),_);(!_._updateHook||_._updateHook($,D)!==!0)&&$.processNext(D)}function M(D){var $=_.logger;$?Xt($,2,73,D):Lr(D)}})}return e}()});function Rw(e,t,r,n){Ce(e,function(i){if(i&&i[t])if(r)setTimeout(function(){return n(i)},0);else try{n(i)}catch{}})}var vh,hP=qe(()=>{Fr();or();yn();vh=function(){function e(t){this.listeners=[];var r=!!(t||{}).perfEvtsSendAll;ht(e,this,function(n){n[Uc]=function(i){n.listeners.push(i)},n[Bc]=function(i){for(var o=vr(n.listeners,i);o>-1;)n.listeners.splice(o,1),o=vr(n.listeners,i)},n[ef]=function(i){Rw(n.listeners,ef,!0,function(o){o[ef](i)})},n[tf]=function(i,o){Rw(n.listeners,tf,!0,function(s){s[tf](i,o)})},n[rf]=function(i,o){Rw(n.listeners,rf,o,function(s){s[rf](i,o)})},n[Vp]=function(i){i&&(r||!i.isChildEvt())&&Rw(n.listeners,Vp,!1,function(o){i.isAsync?setTimeout(function(){return o[Vp](i)},0):o[Vp](i)})}})}return e}()});var yh,_B=qe(()=>{vn();pP();hP();rh();pa();Fr();or();yh=function(e){Hi(t,e);function t(){var r=e.call(this)||this;return ht(t,r,function(n,i){n.initialize=function(a,c,l,u){i.initialize(a,c,l||new Si(a),u||new vh(a))},n.track=function(a){er(n.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){a===null&&(s(a),Lr("Invalid telemetry item")),o(a),i.track(a)},function(){return{item:a}},!a.sync)};function o(a){Ge(a.name)&&(s(a),Lr("telemetry name required"))}function s(a){var c=n.getNotifyMgr();c&&c.eventsDiscarded([a],2)}}),r}return t}(cl)});var mP,wh,SB=qe(()=>{tw();mP=rn({CRITICAL:1,WARNING:2}),wh=rn({BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105,InstrumentationKeyDeprecation:106})});var bs=qe(()=>{YU();f2();_B();pP();dP();hw();tP();or();tw();Zx();_i();vn();hP();rh();pa();mh();SB();Qx();sh();Dw();cP()});var xB,PB,kB,IB,TB,AB,DB=qe(()=>{vn();bs();xB=rn({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),PB=rn({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),kB=rn({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),IB=rn({Normal:1,Critical:2}),TB=rn({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),AB=Cn(Ky(Ky({},wh),rn({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520})))});function ur(e){return!(e===""||Ge(e))}function bh(e){if(e){var t=e.indexOf("-");if(t>-1)return e.substring(0,t)}return""}function yP(){return gP===null&&(gP=!mt(Uint8Array)&&!Aae()&&!gs()),gP}function Eh(e){return!!(e&&wn(e)&&e>=1&&e<=4)}function _h(e,t,r){if(!t&&!ur(t)||typeof e!="string")return null;var n=typeof t;if(n==="string"||n==="number"||n==="boolean"||Je(t))t={value:t};else if(n==="object"&&!t.hasOwnProperty("value"))t={value:r?JSON.stringify(t):t};else if(Ge(t.value)||t.value===""||!Jt(t.value)&&!wn(t.value)&&!ds(t.value)&&!Je(t.value))return null;if(Je(t.value)&&!Nw(t.value))return null;if(!Ge(t.kind)){if(Je(t.value)||!kf(t.kind))return null;t.value=t.value.toString()}return t}function Sh(e,t,r){var n=-1;if(!mt(e))if(t>0&&(t===32?n=1<<13:t<=13&&(n=t<<5)),Tae(r))n===-1&&(n=0),n|=r;else{var i=Iae[Ji(e)]||-1;n!==-1&&i!==-1?n|=i:i===6&&(n=i)}return n}function wP(){va(null).setEnabled(!1)}function CP(e,t,r){Yi(null)&&va(null).set(e,t,r*86400,null,"/")}function bP(e){Yi(null)&&va(null).del(e)}function EP(e){return Yi(null)?_P(va(null),e):""}function _P(e,t,r){r===void 0&&(r=!0);var n;return e&&(n=e.get(t),r&&n&&decodeURIComponent&&(n=decodeURIComponent(n))),n||""}function SP(e){e===void 0&&(e="D");var t=Ef();return e==="B"?t="{"+t+"}":e==="P"?t="("+t+")":e==="N"&&(t=t.replace(/-/g,"")),t}function Ea(e,t,r,n,i){var o={},s=!1,a=0,c=arguments.length,l=Object[lr],u=arguments;for(l.toString.call(u[0])==="[object Boolean]"&&(s=u[0],a++);a<c;a++){var e=u[a];Lt(e,function(d,p){s&&p&&Nr(p)?Je(p)?(o[d]=o[d]||[],Ce(p,function(h,m){h&&Nr(h)?o[d][m]=Ea(!0,o[d][m],h):o[d][m]=h})):o[d]=Ea(!0,o[d],p):o[d]=p})}return o}function kf(e){return e===0||e>0&&e<=13||e===32}function Tae(e){return e>=0&&e<=9}function Aae(){var e=zn();if(!mt(e)&&e.userAgent){var t=e.userAgent.toLowerCase();if((t.indexOf("safari")>=0||t.indexOf("firefox")>=0)&&t.indexOf("chrome")<0)return!0}return!1}function Nw(e){return e.length>0}function If(e,t){var r=e;r.timings=r.timings||{},r.timings.processTelemetryStart=r.timings.processTelemetryStart||{},r.timings.processTelemetryStart[t]=nn()}function Ji(e){var t=0;if(e!=null){var r=typeof e;r==="string"?t=1:r==="number"?t=2:r==="boolean"?t=3:r===ar&&(t=4,Je(e)?(t=4096,e.length>0&&(t|=Ji(e[0]))):Io(e,"value")&&(t=8192|Ji(e.value)))}return t}function Lw(){return!!Qt("chrome")}function Fw(e,t,r,n,i,o){n===void 0&&(n=!1),i===void 0&&(i=!1);function s(c,l,u){try{c[l]=u}catch{}}var a=new XMLHttpRequest;return n&&s(a,Pae,n),r&&s(a,RB,r),a.open(e,t,!i),r&&s(a,RB,r),!i&&o&&s(a,kae,o),a}var Es,Ow,_s,Pae,RB,kae,Iae,gP,Ch,vP,nn,OB,NB,xh=qe(()=>{vn();bs();Ow="3.2.3",_s="1DS-Web-JS-"+Ow,Pae="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",RB="withCredentials",kae="timeout",Iae=(Es={},Es[0]=0,Es[2]=6,Es[1]=1,Es[3]=7,Es[4096|2]=6,Es[4096|1]=1,Es[4096|3]=7,Es),gP=null,Ch=Boolean(bn()),vP=Boolean(To());nn=_f;OB={Version:Ow,FullVersionString:_s,strUndefined:cr,strObject:ar,Undefined:cr,arrForEach:Ce,arrIndexOf:vr,arrMap:zc,arrReduce:Gc,objKeys:tn,toISOString:Ei,isReactNative:gs,isString:Jt,isNumber:wn,isBoolean:ds,isFunction:nt,isArray:Je,isObject:Nr,strTrim:Ft,isDocumentObjectAvailable:Ch,isWindowObjectAvailable:vP,isValueAssigned:ur,getTenantId:bh,isBeaconsSupported:da,isUint8ArrayAvailable:yP,isLatency:Eh,sanitizeProperty:_h,getISOString:Ei,useXDomainRequest:Zc,getCommonSchemaMetaData:Sh,cookieAvailable:Yi,disallowsSameSiteNone:gf,setCookie:CP,deleteCookie:bP,getCookie:EP,createGuid:SP,extend:Ea,getTime:nn,isValueKind:kf,isArrayValid:Nw,objDefineAccessors:Wn,addPageUnloadEventListener:ol,setProcessTelemetryTimings:If,addEventHandler:ya,getFieldValueType:Ji,strEndsWith:Vc,objForEachKey:Lt},NB={_canUseCookies:void 0,isTypeof:nf,isUndefined:mt,isNullOrUndefined:Ge,hasOwnProperty:Io,isFunction:nt,isObject:Nr,isDate:sf,isArray:Je,isError:Wc,isString:Jt,isNumber:wn,isBoolean:ds,toISOString:Ei,arrForEach:Ce,arrIndexOf:vr,arrMap:zc,arrReduce:Gc,strTrim:Ft,objCreate:ko,objKeys:tn,objDefineAccessors:Wn,addEventHandler:ya,dateNow:yr,isIE:zi,disableCookies:wP,newGuid:Ef,perfNow:_f,newId:ma,randomValue:rl,random32:Gi,mwcRandomSeed:pw,mwcRandom32:oh,generateW3CId:Ca}});var xP,PP,Dae,LB,FB=qe(()=>{vn();bs();xh();Fr();xP="version",PP="properties",Dae=function(e){Hi(t,e);function t(){var r=e.call(this)||this;return r.pluginVersionStringArr=[],r.pluginVersionString="",ht(t,r,function(n,i){(!n.logger||!n.logger.queue)&&(n.logger=new Si({loggingLevelConsole:1})),n.initialize=function(o,s,a,c){er(n,function(){return"AppInsightsCore.initialize"},function(){if(o){o.endpointUrl||(o.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var l=o.propertyStorageOverride;if(l&&(!l.getProperty||!l.setProperty))throw new Error("Invalid property storage override passed.");o.channels&&Ce(o.channels,function(d){d&&Ce(d,function(p){if(p.identifier&&p.version){var h=p.identifier+"="+p.version;n.pluginVersionStringArr.push(h)}})})}n.getWParam=function(){return typeof document!="undefined"?0:-1},s&&Ce(s,function(d){if(d&&d.identifier&&d.version){var p=d.identifier+"="+d.version;n.pluginVersionStringArr.push(p)}}),n.pluginVersionString=n.pluginVersionStringArr.join(";");try{i.initialize(o,s,a,c),n.pollInternalLogs("InternalLog")}catch(d){var u=n.logger,f=Vt(d);f.indexOf("channels")!==-1&&(f+=`
 - Channels must be provided through config.channels only!`),u.throwInternal(1,514,"SDK Initialization Failed - no telemetry will be sent: "+f)}},function(){return{config:o,extensions:s,logger:a,notificationManager:c}})},n.track=function(o){er(n,function(){return"AppInsightsCore.track"},function(){var s=o;if(s){s.timings=s.timings||{},s.timings.trackStart=nn(),Eh(s.latency)||(s.latency=1);var a=s.ext=s.ext||{};a.sdk=a.sdk||{},a.sdk.ver=_s;var c=s.baseData=s.baseData||{};c[PP]||(c[PP]={});var l=c[PP];l[xP]||(l[xP]=""),n.pluginVersionString!==""&&(l[xP]=n.pluginVersionString)}i.track(s)},function(){return{item:o}},!o.sync)}}),r}return t}(yh),LB=Dae});var Rae,MB,jB=qe(()=>{vn();Fr();bs();xh();Rae=function(e){Hi(t,e);function t(){var r=e.call(this)||this;return ht(t,r,function(n,i){n.initialize=function(o,s,a,c){o&&!o.endpointUrl&&(o.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/"),n.getWParam=function(){return Ch?0:-1};try{i.initialize(o,s,a,c)}catch(l){Xt(n.logger,1,514,"Initialization Failed: "+Vt(l)+`
 - Note: Channels must be provided through config.channels only`)}},n.track=function(o){var s=o;if(s){var a=s.ext=s.ext||{};a.sdk=a.sdk||{},a.sdk.ver=_s}i.track(s)}}),r}return t}(cl),MB=Rae});function Oae(e,t,r){return function(n){e[t]=n,r()}}var ll,Nae,_a,kP=qe(()=>{bs();Fr();ll=nt;Nae=function(){function e(t){var r=0,n=null,i=[];ht(e,this,function(l){l.then=function(u,f){return new e(function(d,p){o(u,f,d,p)})},l.catch=function(u){return l.then(null,u)}});function o(l,u,f,d){i.push(function(){var p;try{r===1?p=ll(l)?l(n):n:p=ll(u)?u(n):n,p instanceof e?p.then(f,d):r===2&&!ll(u)?d(p):f(p)}catch(h){d(h);return}}),r!==0&&s()}function s(){if(i.length>0){var l=i.slice();i=[],setTimeout(function(){for(var u=0,f=l.length;u<f;++u)try{l[u]()}catch{}},0)}}function a(l){r===0&&(n=l,r=1,s())}function c(l){r===0&&(n=l,r=2,s())}(function(){if(!ll(t))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{t(a,c)}catch(u){c(u)}})()}return e.resolve=function(t){return t instanceof e?t:t&&ll(t.then)?new e(function(r,n){try{t.then(r,n)}catch(i){n(i)}}):new e(function(r){r(t)})},e.reject=function(t){return new e(function(r,n){n(t)})},e.all=function(t){if(!(!t||!t.length))return new e(function(r,n){try{for(var i=[],o=0,s=0;s<t.length;s++){var a=t[s];a&&ll(a.then)?(o++,a.then(Oae(i,s,function(){--o==0&&r(i)}),n)):i[s]=a}o===0&&setTimeout(function(){r(i)},0)}catch(c){n(c)}})},e.race=function(t){return new e(function(r,n){if(!(!t||!t.length))try{for(var i=function(s){var a=t[s];a&&ll(a.then)?a.then(r,n):setTimeout(function(){r(a)},0)},o=0;o<t.length;o++)i(o)}catch(s){n(s)}})},e}(),_a=Nae});function Tf(){return new Date().getTime()}var Lae,qB,Ph,ul,IP,Fae,$B,UB=qe(()=>{kP();bs();Fr();Lae=6e5,qB=0,Ph=[],ul=[],IP=[];Fae=function(){function e(t,r){var n=0,i=(t||"<unnamed>")+"."+qB;qB++,ht(e,this,function(a){var c=null,l=0;a.scheduleEvent=function(f,d,p){var h=i+"."+l;l++,d&&(h+="-("+d+")");var m=h+"{"+n+"}";n++;var g={evt:null,tm:Tf(),id:m,isRunning:!1,isAborted:!1};return c?g.evt=S(g,c):g.evt=P(g),c=g,c.evt._schId=m,g.evt;function v(x){for(var I=Tf(),A=I-Lae,O=x.length,L=0;L<O;){var J=x[L];if(J&&J.tm<A){var z=null;J.abort?(z="Aborting ["+J.id+"] due to Excessive runtime ("+(I-J.tm)+" ms)",J.abort(z)):z="Removing ["+J.id+"] due to Excessive runtime ("+(I-J.tm)+" ms)",s(z),x.splice(L,1),O--}else L++}}function y(x,I){var A=!1,O=u(Ph,x);if(O||(O=u(IP,x),A=!0),O){O.to&&(clearTimeout(O.to),O.to=null);var L=Tf()-O.tm;I?A?s("Timed out event ["+x+"] finally complete -- "+L+" ms"):o("Promise ["+x+"] Complete -- "+L+" ms"):(IP.push(O),s("Event ["+x+"] Timed out and removed -- "+L+" ms"))}else o("Failed to remove ["+x+"] from running queue");c&&c.id===x&&(c=null),v(Ph),v(ul),v(IP)}function C(x,I){return function(A){return y(x,!0),I&&I(A),A}}function b(x,I,A,O){I.then(function(L){return L instanceof _a?(o("Event ["+x+"] returned a promise -- waiting"),b(x,L,A,O),L):C(x,A)(L)},C(x,O))}function _(x,I){var A=x.id;return new _a(function(O,L){o("Event ["+A+"] Starting -- waited for "+(x.wTm||"--")+" ms"),x.isRunning=!0,x.abort=function(z){x.abort=null,x.isAborted=!0,y(A,!1),L(new Error(z))};var J=I(A);J instanceof _a?(p&&(x.to=setTimeout(function(){y(A,!1),L(new Error("Timed out after ["+p+"] ms"))},p)),b(A,J,function(z){o("Event ["+A+"] Resolving after "+(Tf()-x.tm)+" ms"),O(z)},L)):(o("Promise ["+A+"] Auto completed as the start action did not return a promise"),O())})}function P(x){var I=Tf();return x.wTm=I-x.tm,x.tm=I,x.isAborted?_a.reject(new Error("["+h+"] was aborted")):(Ph.push(x),_(x,f))}function S(x,I){var A=new _a(function(O,L){var J=Tf()-I.tm,z=I.id;o("["+h+"] is waiting for ["+z+":"+J+" ms] to complete before starting -- ["+ul.length+"] waiting and ["+Ph.length+"] running"),x.abort=function(ee){x.abort=null,u(ul,h),x.isAborted=!0,L(new Error(ee))},I.evt.then(function(ee){u(ul,h),P(x).then(O,L)},function(ee){u(ul,h),P(x).then(O,L)})});return ul.push(x),A}};function u(f,d){for(var p=0;p<f.length;p++)if(f[p].id===d)return f.splice(p,1)[0];return null}});function o(a){var c=Bi();c&&c.QUnit&&console&&console.log("ESPromiseScheduler["+i+"] "+a)}function s(a){r&&r.warnToConsole("ESPromiseScheduler["+i+"] "+a)}}return e.incomplete=function(){return Ph},e.waitingToStart=function(){return ul},e}(),$B=Fae});var BB,HB=qe(()=>{bs();xh();BB=function(){function e(t){var r=this,n={},i=[],o=[];t&&o.push(t);function s(u,f){var d,p=n[u];if(p&&(d=p[f]),!d&&d!==null){if(Jt(u)&&Jt(f))if(o.length>0){for(var h=0;h<o.length;h++)if(o[h].handleField(u,f)){d={canHandle:!0,fieldHandler:o[h]};break}}else i.length===0&&(d={canHandle:!0});if(!d&&d!==null){d=null;for(var h=0;h<i.length;h++)if(i[h].handleField(u,f)){d={canHandle:!0,handler:i[h],fieldHandler:null};break}}p||(p=n[u]={}),p[f]=d}return d}r.addSanitizer=function(u){u&&(i.push(u),n={})},r.addFieldSanitizer=function(u){u&&(o.push(u),n={})},r.handleField=function(u,f){var d=s(u,f);return d?d.canHandle:!1},r.value=function(u,f,d,p){var h=s(u,f);if(h&&h.canHandle){if(!h||!h.canHandle)return null;if(h.handler)return h.handler.value(u,f,d,p);if(!Jt(f)||Ge(d)||d==="")return null;var m=null,g=Ji(d);if((g&8192)==8192){var v=g&~8192;if(m=d,!ur(m.value)||v!==1&&v!==2&&v!==3&&(v&4096)!=4096)return null}else g===1||g===2||g===3||(g&4096)==4096?m=c(u,f,d):g===4&&(m=c(u,f,p?JSON.stringify(d):d));if(m)return a(h,u,f,g,m,p)}return null},r.property=function(u,f,d,p){var h=s(u,f);if(!h||!h.canHandle||!Jt(f)||Ge(d)||!ur(d.value))return null;var m=Ji(d.value);return m===0?null:a(h,u,f,m,d,p)};function a(u,f,d,p,h,m){if(u.handler)return u.handler.property(f,d,h,m);if(!Ge(h.kind)){if((p&4096)==4096||!kf(h.kind))return null;h.value=h.value.toString()}return l(u.fieldHandler,f,d,p,h)}function c(u,f,d){return ur(d)?{value:d}:null}function l(u,f,d,p,h){if(h&&u){var m=u.getSanitizer(f,d,p,h.kind,h.propertyType);if(m)if(p===4){var g={},v=h.value;Lt(v,function(C,b){var _=f+"."+d;if(ur(b)){var P=c(_,C,b);P=l(u,_,C,Ji(b),P),P&&(g[C]=P.value)}}),h.value=g}else{var y={path:f,name:d,type:p,prop:h,sanitizer:r};h=m.call(r,y)}}return h}}return e.getFieldType=Ji,e}()});var VB={};lb(VB,{AppInsightsCore:()=>LB,BaseCore:()=>MB,BaseTelemetryPlugin:()=>al,CoreUtils:()=>NB,DiagnosticLogger:()=>Si,ESPromise:()=>_a,ESPromiseScheduler:()=>$B,EventHelper:()=>eP,EventLatency:()=>PB,EventPersistence:()=>IB,EventPropertyType:()=>kB,EventsDiscardedReason:()=>Wi,FullVersionString:()=>_s,InternalAppInsightsCore:()=>yh,InternalBaseCore:()=>cl,LoggingSeverity:()=>mP,MinChannelPriorty:()=>fx,NotificationManager:()=>vh,PerfEvent:()=>tl,PerfManager:()=>th,ProcessTelemetryContext:()=>uP,TraceLevel:()=>TB,Undefined:()=>cr,Utils:()=>OB,ValueKind:()=>xB,ValueSanitizer:()=>BB,Version:()=>Ow,_ExtendedInternalMessageId:()=>AB,_InternalLogMessage:()=>el,_InternalMessageId:()=>wh,__getRegisteredEvents:()=>Xx,_throwInternal:()=>Xt,addEventHandler:()=>ya,addEventListeners:()=>_w,addPageHideEventListener:()=>Cf,addPageShowEventListener:()=>bf,addPageUnloadEventListener:()=>ol,areCookiesSupported:()=>Yi,arrForEach:()=>Ce,arrIndexOf:()=>vr,arrMap:()=>zc,arrReduce:()=>Gc,attachEvent:()=>vf,cookieAvailable:()=>Yi,createCookieMgr:()=>vs,createEnumStyle:()=>rn,createGuid:()=>SP,createProcessTelemetryContext:()=>En,createTraceParent:()=>iP,createUniqueNamespace:()=>Ki,createUnloadHandlerContainer:()=>sl,dateNow:()=>yr,deleteCookie:()=>bP,detachEvent:()=>yf,disableCookies:()=>wP,disallowsSameSiteNone:()=>gf,doPerf:()=>er,dumpObj:()=>Vt,eventOff:()=>il,eventOn:()=>nl,extend:()=>Ea,findW3cTraceParent:()=>aP,formatTraceParent:()=>sP,generateW3CId:()=>Ca,getCommonSchemaMetaData:()=>Sh,getConsole:()=>Jp,getCookie:()=>EP,getCookieValue:()=>_P,getCrypto:()=>Qp,getDocument:()=>bn,getExceptionName:()=>Kc,getFieldValueType:()=>Ji,getGlobal:()=>Bi,getGlobalInst:()=>Qt,getHistory:()=>Mx,getIEVersion:()=>jx,getISOString:()=>Ei,getJSON:()=>pf,getLocation:()=>Qc,getMsCrypto:()=>Xp,getNavigator:()=>zn,getPerformance:()=>df,getSetValue:()=>Wp,getTenantId:()=>bh,getTime:()=>nn,getWindow:()=>To,hasDocument:()=>lw,hasHistory:()=>uw,hasJSON:()=>Xc,hasNavigator:()=>Yp,hasOwnProperty:()=>Io,hasWindow:()=>Kp,isArray:()=>Je,isArrayValid:()=>Nw,isBeaconsSupported:()=>da,isBoolean:()=>ds,isChromium:()=>Lw,isDate:()=>sf,isDocumentObjectAvailable:()=>Ch,isError:()=>Wc,isFetchSupported:()=>Zp,isFunction:()=>nt,isIE:()=>zi,isLatency:()=>Eh,isNotTruthy:()=>af,isNullOrUndefined:()=>Ge,isNumber:()=>wn,isObject:()=>Nr,isReactNative:()=>gs,isSampledFlag:()=>oP,isString:()=>Jt,isTruthy:()=>cf,isTypeof:()=>nf,isUint8ArrayAvailable:()=>yP,isUndefined:()=>mt,isValidSpanId:()=>xf,isValidTraceId:()=>Sf,isValidTraceParent:()=>Pw,isValueAssigned:()=>ur,isValueKind:()=>kf,isWindowObjectAvailable:()=>vP,isXhrSupported:()=>hf,mergeEvtNamespace:()=>ys,newGuid:()=>Ef,newId:()=>ma,normalizeJsName:()=>Hc,objCreate:()=>ko,objDefineAccessors:()=>Wn,objForEachKey:()=>Lt,objFreeze:()=>Cn,objKeys:()=>tn,objSeal:()=>bx,openXhr:()=>Fw,optimizeObject:()=>ps,parseTraceParent:()=>ph,perfNow:()=>_f,proxyAssign:()=>Ex,proxyFunctionAs:()=>fa,proxyFunctions:()=>Yc,random32:()=>Gi,randomValue:()=>rl,removeEventHandler:()=>Ew,removeEventListeners:()=>wa,removePageHideEventListener:()=>fh,removePageShowEventListener:()=>dh,removePageUnloadEventListener:()=>uh,safeGetCookieMgr:()=>va,safeGetLogger:()=>eh,sanitizeProperty:()=>_h,setCookie:()=>CP,setEnableEnvMocks:()=>Fx,setProcessTelemetryTimings:()=>If,setValue:()=>wr,strContains:()=>ir,strEndsWith:()=>Vc,strFunction:()=>Ci,strObject:()=>ar,strPrototype:()=>lr,strStartsWith:()=>of,strTrim:()=>Ft,strUndefined:()=>cr,throwError:()=>Lr,toISOString:()=>Ei,useXDomainRequest:()=>Zc});var fl=qe(()=>{DB();FB();jB();kP();UB();HB();bs();xh()});var dl,Mw,jw,TP=qe(()=>{dl="REAL_TIME",Mw="NEAR_REAL_TIME",jw="BEST_EFFORT"});var qw,WB,$w,zB,AP,GB,KB,YB,DP,RP,Uw,JB,OP,QB,NP,Bw,LP,Hw,Vw,Ww,kh,FP,XB,Af,zw=qe(()=>{qw="POST",WB="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",$w="drop",zB="send",AP="requeue",GB="rspFail",KB="oth",YB="no-cache, no-store",DP="application/x-json-stream",RP="cache-control",Uw="content-type",JB="kill-tokens",OP="kill-duration",QB="kill-duration-seconds",NP="time-delta-millis",Bw="client-version",LP="client-id",Hw="time-delta-to-apply-millis",Vw="upload-time",Ww="apikey",kh="AuthMsaDeviceTicket",FP="AuthXToken",XB="NoResponseBody",Af="msfpc"});function ZB(e){var t=(e.ext||{}).intweb;return t&&ur(t[Af])?t[Af]:null}function eH(e){for(var t=null,r=0;t===null&&r<e.length;r++)t=ZB(e[r]);return t}var Df,MP=qe(()=>{fl();zw();Df=function(){function e(t,r){var n=r?[].concat(r):[],i=this,o=eH(n);i.iKey=function(){return t},i.Msfpc=function(){return o||""},i.count=function(){return n.length},i.events=function(){return n},i.addEvent=function(s){return s?(n.push(s),o||(o=ZB(s)),!0):!1},i.split=function(s,a){var c;if(s<n.length){var l=n.length-s;Ge(a)||(l=a<l?a:l),c=n.splice(s,l),o=eH(n)}return new e(t,c)}}return e.create=function(t,r){return new e(t,r)},e}()});function oH(e,t,r,n){if(n&&e){var i=Sh(n.value,n.kind,n.propertyType);if(i>-1){var o=e[nH];o||(o=e[nH]={f:{}});var s=o[Gw];if(s||(s=o[Gw]={}),t)for(var a=0;a<t.length;a++){var c=t[a];s[c]||(s[c]={f:{}});var l=s[c][Gw];l||(l=s[c][Gw]={}),s=l}s=s[r]={},Je(n.value)?s.a={t:i}:s.t=i}}}var Mae,jae,tH,rH,qae,nH,Gw,$ae,iH,sH=qe(()=>{fl();MP();Fr();Mae=20,jae=3984588,tH=65e3,rH=2e6,qae=Math.min(rH,tH),nH="metadata",Gw="f",$ae=/\./,iH=function(){function e(t,r,n,i){var o="data",s="baseData",a="ext",c=!!i,l=!0,u=r,f={};ht(e,this,function(d){d.createPayload=function(m,g,v,y,C,b){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:m,isTeardown:g,isSync:v,isBeacon:y,sendType:b,sendReason:C}},d.appendPayload=function(m,g,v){var y=m&&g&&!m.overflow;return y&&er(t,function(){return"Serializer:appendPayload"},function(){for(var C=g.events(),b=m.payloadBlob,_=m.numEvents,P=!1,S=[],x=[],I=m.isBeacon,A=I?tH:jae,O=I?qae:rH,L=0,J=0;L<C.length;){var z=C[L];if(z){if(_>=v){m.overflow=g.split(L);break}var ee=d.getEventBlob(z);if(ee&&ee.length<=O){var ie=ee.length,q=b.length;if(q+ie>A){m.overflow=g.split(L);break}b&&(b+=`
`),b+=ee,J++,J>Mae&&(b.substr(0,1),J=0),P=!0,_++}else ee?S.push(z):x.push(z),C.splice(L,1),L--}L++}if(S&&S.length>0&&m.sizeExceed.push(Df.create(g.iKey(),S)),x&&x.length>0&&m.failedEvts.push(Df.create(g.iKey(),x)),P){m.batches.push(g),m.payloadBlob=b,m.numEvents=_;var M=g.iKey();vr(m.apiKeys,M)===-1&&m.apiKeys.push(M)}},function(){return{payload:m,theBatch:{iKey:g.iKey(),evts:g.events()},max:v}}),y},d.getEventBlob=function(m){try{return er(t,function(){return"Serializer.getEventBlob"},function(){var g={};g.name=m.name,g.time=m.time,g.ver=m.ver,g.iKey="o:"+bh(m.iKey);var v={},y=m[a];y&&(g[a]=v,Lt(y,function(_,P){var S=v[_]={};h(P,S,"ext."+_,!0,null,null,!0)}));var C=g[o]={};C.baseType=m.baseType;var b=C[s]={};return h(m.baseData,b,s,!1,[s],function(_,P,S){oH(v,_,P,S)},l),h(m.data,C,o,!1,[],function(_,P,S){oH(v,_,P,S)},l),JSON.stringify(g)},function(){return{item:m}})}catch{return null}};function p(m,g){var v=f[m];return v===void 0&&(m.length>=7&&(v=of(m,"ext.metadata")||of(m,"ext.web")),f[m]=v),v}function h(m,g,v,y,C,b,_){Lt(m,function(P,S){var x=null;if(S||ur(S)){var I=v,A=P,O=C,L=g;if(c&&!y&&$ae.test(P)){var J=P.split("."),z=J.length;if(z>1){O&&(O=O.slice());for(var ee=0;ee<z-1;ee++){var ie=J[ee];L=L[ie]=L[ie]||{},I+="."+ie,O&&O.push(ie)}A=J[z-1]}}var q=y&&p(I,A);if(!q&&u&&u.handleField(I,A)?x=u.value(I,A,S,n):x=_h(A,S,n),x){var M=x.value;if(L[A]=M,b&&b(O,A,x),_&&typeof M=="object"&&!Je(M)){var D=O;D&&(D=D.slice(),D.push(A)),h(S,M,I+"."+A,y,D,b,_)}}}})}})}return e}()});function cH(e){return!(e>=300&&e<500&&e!=408&&e!=429||e==501||e==505)}function Kw(e){var t=0,r=aH*Uae,n=aH*Bae,i=Math.floor(Math.random()*(n-r))+r;return t=Math.pow(2,e)*i,Math.min(t,Hae)}var Uae,Bae,aH,Hae,jP=qe(()=>{Uae=.8,Bae=1.2,aH=3e3,Hae=6e5});var Vae,Wae,lH,uH=qe(()=>{Fr();fl();Vae=1e3,Wae=function(){function e(){var t={};function r(n){var i=[];return n&&Ce(n,function(o){i.push(Ft(o))}),i}ht(e,this,function(n){n.setKillSwitchTenants=function(i,o){if(i&&o)try{var s=r(i.split(","));if(o==="this-request-only")return s;for(var a=parseInt(o,10)*Vae,c=0;c<s.length;++c)t[s[c]]=yr()+a}catch{return[]}return[]},n.isTenantKilled=function(i){var o=t,s=Ft(i);return o[s]!==void 0&&o[s]>yr()?!0:(delete o[s],!1)}})}return e}(),lH=Wae});var zae,fH,dH=qe(()=>{Fr();zae=function(){function e(){var t=!0,r=!0,n=!0,i="use-collector-delta",o=!1;ht(e,this,function(s){s.allowRequestSending=function(){return t},s.firstRequestSent=function(){n&&(n=!1,o||(t=!1))},s.shouldAddClockSkewHeaders=function(){return r},s.getClockSkewHeaderValue=function(){return i},s.setClockSkew=function(a){o||(a?(i=a,r=!0,o=!0):r=!1,t=!0)}})}return e}(),fH=zae});function hl(e,t,r){$P[e]=t,r!==!1&&(UP[t]=e)}function hH(e){try{return e.responseText}catch{}return""}function mH(e,t){var r=!1;if(e&&t){var n=tn(e);if(n&&n.length>0)for(var i=t.toLowerCase(),o=0;o<n.length;o++){var s=n[o];if(s&&Io(t,s)&&s.toLowerCase()===i){r=!0;break}}}return r}function Rf(e,t,r,n){t&&r&&r.length>0&&(n&&$P[t]?(e.hdrs[$P[t]]=r,e.useHdrs=!0):e.url+="&"+t+"="+r)}var pl,qP,pH,Gae,$P,UP,gH,vH=qe(()=>{fl();sH();jP();uH();dH();Fr();zw();qP="sendAttempt",pH="&"+XB+"=true",Gae=(pl={},pl[1]=AP,pl[100]=AP,pl[200]="sent",pl[8004]=$w,pl[8003]=$w,pl),$P={},UP={};hl(kh,kh,!1);hl(Bw,Bw);hl(LP,"Client-Id");hl(Ww,Ww);hl(Hw,Hw);hl(Vw,Vw);hl(FP,FP);gH=function(){function e(t,r,n,i,o){this._responseHandlers=[];var s="?cors=true&"+Uw.toLowerCase()+"="+DP,a=new lH,c=!1,l=new fH,u=!1,f=0,d,p,h,m=!0,g=[],v={},y=[],C=null,b=!1,_,P=!1,S=!1,x,I;ht(e,this,function(A){var O=!0;A.initialize=function(V,ae,re,fe,ge){var Be;ge||(ge={}),s=V+s,S=mt(ge.avoidOptions)?!0:!ge.avoidOptions,h=ae,_=ae.getCookieMgr(),b=!h.config.disableEventTimings;var Me=!!h.config.enableCompoundKey;d=re;var we=ge.valueSanitizer,je=ge.stringifyObjects;mt(ge.enableCompoundKey)||(Me=!!ge.enableCompoundKey),x=ge.xhrTimeout,I=ge.disableXhrSync,u=!gs(),C=new iH(h,we,je,Me);var _e=fe,G=ge.alwaysUseXhrOverride?fe:null,oe=ge.alwaysUseXhrOverride?fe:null;if(!fe){m=!1;var se=Qc();se&&se.protocol&&se.protocol.toLowerCase()==="file:"&&(O=!1);var de=[];gs()?de=[2,1]:de=[1,2,3];var be=ge.transports;be&&(wn(be)?de=[be].concat(de):Je(be)&&(de=be.concat(de))),fe=L(de,!1),_e=L(de,!0),fe||d.diagLog().warnToConsole("No available transport to send events")}p=(Be={},Be[0]=fe,Be[1]=_e||L([1,2,3],!0),Be[2]=G||L([3,2],!0)||_e||L([1],!0),Be[3]=oe||L([2,3],!0)||_e||L([1],!0),Be)};function L(V,ae){for(var re=0,fe=null,ge=0;fe==null&&ge<V.length;)re=V[ge],re===1?Zc()?fe=J:hf()&&(fe=ee):re===2&&Zp(ae)?fe=z:u&&re===3&&da()&&(fe=q),ge++;return fe?{_transport:re,_isSync:ae,sendPOST:fe}:null}A._getDbgPlgTargets=function(){return[p[0],a,C,p]};function J(V,ae,re){var fe=new XDomainRequest;fe.open(qw,V.urlString),V.timeout&&(fe.timeout=V.timeout),fe.onload=function(){var ge=hH(fe);ie(ae,200,{},ge),cn(ge)},fe.onerror=function(){ie(ae,400,{})},fe.ontimeout=function(){ie(ae,500,{})},fe.onprogress=function(){},re?fe.send(V.data):o.set(function(){fe.send(V.data)},0)}function z(V,ae,re){var fe,ge=V.urlString,Be=!1,Me=!1,we=(fe={body:V.data,method:qw},fe[WB]=!0,fe);re&&(we.keepalive=!0,V._sendReason===2&&(Be=!0,ge+=pH)),O&&(we.credentials="include"),V.headers&&tn(V.headers).length>0&&(we.headers=V.headers),fetch(ge,we).then(function(je){var _e={},G="";je.headers&&je.headers.forEach(function(oe,se){_e[se]=oe}),je.body&&je.text().then(function(oe){G=oe}),Me||(Me=!0,ie(ae,je.status,_e,G),cn(G))}).catch(function(je){Me||(Me=!0,ie(ae,0,{}))}),Be&&!Me&&(Me=!0,ie(ae,200,{})),!Me&&V.timeout>0&&o.set(function(){Me||(Me=!0,ie(ae,500,{}))},V.timeout)}function ee(V,ae,re){var fe=V.urlString;function ge(je,_e,G){if(!je[G]&&_e&&_e.getResponseHeader){var oe=_e.getResponseHeader(G);oe&&(je[G]=Ft(oe))}return je}function Be(je){var _e={};return je.getAllResponseHeaders?_e=Xe(je.getAllResponseHeaders()):(_e=ge(_e,je,NP),_e=ge(_e,je,OP),_e=ge(_e,je,QB)),_e}function Me(je,_e){ie(ae,je.status,Be(je),_e)}re&&V.disableXhrSync&&(re=!1);var we=Fw(qw,fe,O,!0,re,V.timeout);Lt(V.headers,function(je,_e){we.setRequestHeader(je,_e)}),we.onload=function(){var je=hH(we);Me(we,je),cn(je)},we.onerror=function(){Me(we)},we.ontimeout=function(){Me(we)},we.send(V.data)}function ie(V,ae,re,fe){try{V(ae,re,fe)}catch(ge){Xt(d.diagLog(),2,518,Vt(ge))}}function q(V,ae,re){var fe=V,ge=200,Be=fe._thePayload,Me=V.urlString+pH;try{var we=zn();if(!we.sendBeacon(Me,V.data))if(Be){var je=[];Ce(Be.batches,function(_e){if(je&&_e&&_e.count()>0){for(var G=_e.events(),oe=0;oe<G.length;oe++)if(!we.sendBeacon(Me,C.getEventBlob(G[oe]))){je.push(_e.split(oe));break}}else je.push(_e.split(0))}),ne(je,8003,Be.sendType,!0)}else ge=0}catch(_e){d.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+Vt(_e)),ge=0}finally{ie(ae,ge,{},"")}}function M(V){return V===2||V===3}function D(V){return P&&M(V)&&(V=2),V}A.addQueryStringParameter=function(V,ae){for(var re=0;re<g.length;re++)if(g[re].name===V){g[re].value=ae;return}g.push({name:V,value:ae})},A.addHeader=function(V,ae){v[V]=ae},A.canSendRequest=function(){return $()&&l.allowRequestSending()},A.sendQueuedRequests=function(V,ae){mt(V)&&(V=0),P&&(V=D(V),ae=2),Q(y,V,0)&&ve(Y(),0,!1,V,ae||0)},A.isCompletelyIdle=function(){return!c&&f===0&&y.length===0},A.setUnloading=function(V){P=V},A.addBatch=function(V){if(V&&V.count()>0){if(a.isTenantKilled(V.iKey()))return!1;y.push(V)}return!0},A.teardown=function(){y.length>0&&ve(Y(),0,!0,2,2)},A.pause=function(){c=!0},A.resume=function(){c=!1,A.sendQueuedRequests(0,4)},A.sendSynchronousBatch=function(V,ae,re){V&&V.count()>0&&(Ge(ae)&&(ae=1),P&&(ae=D(ae),re=2),ve([V],0,!1,ae,re||0))};function $(){return!c&&f<r}function Y(){var V=y;return y=[],V}function Q(V,ae,re){var fe=!1;return V&&V.length>0&&!c&&p[ae]&&C&&(fe=ae!==0||$()&&(re>0||l.allowRequestSending())),fe}function X(V){var ae={};return V&&Ce(V,function(re,fe){ae[fe]={iKey:re.iKey(),evts:re.events()}}),ae}function ve(V,ae,re,fe,ge){if(!(!V||V.length===0)){if(c){ne(V,1,fe);return}fe=D(fe);try{var Be=V,Me=fe!==0;er(h,function(){return"HttpManager:_sendBatches"},function(we){we&&(V=V.slice(0));for(var je=[],_e=null,G=nn(),oe=p[fe]||(Me?p[1]:p[0]),se=(P||M(fe)||oe&&oe._transport===3)&&Se();Q(V,fe,ae);){var de=V.shift();de&&de.count()>0&&(a.isTenantKilled(de.iKey())?je.push(de):(_e=_e||C.createPayload(ae,re,Me,se,ge,fe),C.appendPayload(_e,de,t)?_e.overflow!==null&&(V=[_e.overflow].concat(V),_e.overflow=null,Ee(_e,G,nn(),ge),G=nn(),_e=null):(Ee(_e,G,nn(),ge),G=nn(),V=[de].concat(V),_e=null)))}_e&&Ee(_e,G,nn(),ge),V.length>0&&(y=V.concat(y)),ne(je,8004,fe)},function(){return{batches:X(Be),retryCount:ae,isTeardown:re,isSynchronous:Me,sendReason:ge,useSendBeacon:M(fe),sendType:fe}},!Me)}catch(we){Xt(d.diagLog(),2,48,"Unexpected Exception sending batch: "+Vt(we))}}}function Pe(V,ae){var re={url:s,hdrs:{},useHdrs:!1};ae?(re.hdrs=Ea(re.hdrs,v),re.useHdrs=tn(re.hdrs).length>0):Lt(v,function(we,je){UP[we]?Rf(re,UP[we],je,!1):(re.hdrs[we]=je,re.useHdrs=!0)}),Rf(re,LP,"NO_AUTH",ae),Rf(re,Bw,_s,ae);var fe="";Ce(V.apiKeys,function(we){fe.length>0&&(fe+=","),fe+=we}),Rf(re,Ww,fe,ae),Rf(re,Vw,yr().toString(),ae);var ge=Jn(V);if(ur(ge)&&(re.url+="&ext.intweb.msfpc="+ge),l.shouldAddClockSkewHeaders()&&Rf(re,Hw,l.getClockSkewHeaderValue(),ae),h.getWParam){var Be=h.getWParam();Be>=0&&(re.url+="&w="+Be)}for(var Me=0;Me<g.length;Me++)re.url+="&"+g[Me].name+"="+g[Me].value;return re}function Se(){return!m&&u&&da()}function Oe(V,ae,re){V[ae]=V[ae]||{},V[ae][d.identifier]=re}function Ee(V,ae,re,fe){if(V&&V.payloadBlob&&V.payloadBlob.length>0){var ge=!!A.sendHook,Be=p[V.sendType];!M(V.sendType)&&V.isBeacon&&V.sendReason===2&&(Be=p[2]||p[3]||Be);var Me=S;(V.isBeacon||Be._transport===3)&&(Me=!1);var we=Pe(V,Me);Me=Me||we.useHdrs;var je=nn();er(h,function(){return"HttpManager:_doPayloadSend"},function(){for(var _e=0;_e<V.batches.length;_e++)for(var G=V.batches[_e],oe=G.events(),se=0;se<oe.length;se++){var de=oe[se];if(b){var be=de.timings=de.timings||{};Oe(be,"sendEventStart",je),Oe(be,"serializationStart",ae),Oe(be,"serializationCompleted",re)}de[qP]>0?de[qP]++:de[qP]=1}ne(V.batches,1e3+(fe||0),V.sendType,!0);var De={data:V.payloadBlob,urlString:we.url,headers:we.hdrs,_thePayload:V,_sendReason:fe,timeout:x};mt(I)||(De.disableXhrSync=!!I),Me&&(mH(De.headers,RP)||(De.headers[RP]=YB),mH(De.headers,Uw)||(De.headers[Uw]=DP));var it=null;Be&&(it=function(et){l.firstRequestSent();var ut=function($t,ye){At($t,ye,V,fe)},Ue=V.isTeardown||V.isSync;try{Be.sendPOST(et,ut,Ue),A.sendListener&&A.sendListener(De,et,Ue,V.isBeacon)}catch($t){d.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+Vt($t)),ie(ut,0,{})}}),er(h,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(it)if(V.sendType===0&&f++,ge&&!V.isBeacon&&Be._transport!==3){var et={data:De.data,urlString:De.urlString,headers:Ea({},De.headers),timeout:De.timeout,disableXhrSync:De.disableXhrSync},ut=!1;er(h,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{A.sendHook(et,function(Ue){ut=!0,!m&&!Ue._thePayload&&(Ue._thePayload=Ue._thePayload||De._thePayload,Ue._sendReason=Ue._sendReason||De._sendReason),it(Ue)},V.isSync||V.isTeardown)}catch{ut||it(De)}})}else it(De)})},function(){return{thePayload:V,serializationStart:ae,serializationCompleted:re,sendReason:fe}},V.isSync)}V.sizeExceed&&V.sizeExceed.length>0&&ne(V.sizeExceed,8003,V.sendType),V.failedEvts&&V.failedEvts.length>0&&ne(V.failedEvts,8002,V.sendType)}function xt(V,ae){b&&Ce(V,function(re){var fe=re.timings=re.timings||{};Oe(fe,"sendEventCompleted",ae)})}function At(V,ae,re,fe){var ge=9e3,Be=null,Me=!1,we=!1;try{var je=!0;if(typeof V!==cr){if(ae){l.setClockSkew(ae[NP]);var _e=ae[OP]||ae["kill-duration-seconds"];Ce(a.setKillSwitchTenants(ae[JB],_e),function(oe){Ce(re.batches,function(se){if(se.iKey()===oe){Be=Be||[];var de=se.split(0);re.numEvents-=de.count(),Be.push(de)}})})}if(V==200||V==204){ge=200;return}(!cH(V)||re.numEvents<=0)&&(je=!1),ge=9e3+V%1e3}if(je){ge=100;var G=re.retryCnt;re.sendType===0&&(G<n?(Me=!0,Fe(function(){re.sendType===0&&f--,ve(re.batches,G+1,re.isTeardown,P?2:re.sendType,5)},P,Kw(G))):(we=!0,P&&(ge=8001)))}}finally{Me||(l.setClockSkew(),Re(re,ge,fe,we)),ne(Be,8004,re.sendType)}}function Re(V,ae,re,fe){try{fe&&d._backOffTransmission(),ae===200&&(!fe&&!V.isSync&&d._clearBackOff(),Ae(V.batches)),ne(V.batches,ae,V.sendType,!0)}finally{V.sendType===0&&(f--,re!==5&&A.sendQueuedRequests(V.sendType,re))}}function Ae(V){if(b){var ae=nn();Ce(V,function(re){re&&re.count()>0&&xt(re.events(),ae)})}}function Fe(V,ae,re){ae?V():o.set(V,re)}function Xe(V){var ae={};if(Jt(V)){var re=Ft(V).split(/[\r\n]+/);Ce(re,function(fe){if(fe){var ge=fe.indexOf(": ");if(ge!==-1){var Be=Ft(fe.substring(0,ge)).toLowerCase(),Me=Ft(fe.substring(ge+1));ae[Be]=Me}else ae[Ft(fe)]=1}})}return ae}function Jn(V){for(var ae=0;ae<V.batches.length;ae++){var re=V.batches[ae].Msfpc();if(re)return encodeURIComponent(re)}return""}function cn(V){var ae=A._responseHandlers;try{for(var re=0;re<ae.length;re++)try{ae[re](V)}catch(ge){Xt(d.diagLog(),1,519,"Response handler failed: "+ge)}if(V){var fe=JSON.parse(V);ur(fe.webResult)&&ur(fe.webResult[Af])&&_.set("MSFPC",fe.webResult[Af],365*86400)}}catch{}}function ne(V,ae,re,fe){if(V&&V.length>0&&i){var ge=i[Qn(ae)];if(ge){var Be=re!==0;er(h,function(){return"HttpManager:_sendBatchesNotification"},function(){Fe(function(){try{ge.call(i,V,ae,Be,re)}catch(Me){Xt(d.diagLog(),1,74,"send request notification failed: "+Me)}},fe||Be,0)},function(){return{batches:X(V),reason:ae,isSync:Be,sendSync:fe,sendType:re}},!Be)}}}function Qn(V){var ae=Gae[V];return ur(ae)||(ae=KB,V>=9e3&&V<=9999?ae=GB:V>=8e3&&V<=8999?ae=$w:V>=1e3&&V<=1999&&(ae=zB)),ae}})}return e}()});function Kae(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout(e,t,r)}function Yae(e){clearTimeout(e)}function Ih(e,t){return{set:e||Kae,clear:t||Yae}}var yH=qe(()=>{});var Jae,wH,Qae,CH,bH,Xae,EH,Zae,ml,Yw,_H,SH,ece,tce,xH,PH=qe(()=>{vn();Fr();fl();TP();MP();vH();jP();zw();yH();Jae=.25,wH=500,Qae=20,CH=6,bH=2,Xae=4,EH=2,Zae=1,ml="eventsDiscarded",Yw="overrideInstrumentationKey",_H="maxEventRetryAttempts",SH="maxUnloadEventRetryAttempts",ece="addUnloadCb",tce=function(e){Hi(t,e);function t(){var r=e.call(this)||this;r.identifier="PostChannel",r.priority=1011,r.version="3.2.3";var n,i=!1,o=[],s=null,a=!1,c=0,l=500,u=0,f=1e4,d={},p=dl,h=null,m=null,g=0,v=0,y,C,b={},_,P,S=-1,x,I=!0,A=!1,O=CH,L=bH,J,z;return ht(t,r,function(ee,ie){ve(),ee._getDbgPlgTargets=function(){return[C]},ee.initialize=function(G,oe,se){er(oe,function(){return"PostChannel:initialize"},function(){var de=oe;ie.initialize(G,oe,se);try{var be=!!oe[ece];J=ys(Ki(ee.identifier),oe.evtNamespace&&oe.evtNamespace());var De=ee._getTelCtx();G.extensionConfig[ee.identifier]=G.extensionConfig[ee.identifier]||{},n=De.getExtCfg(ee.identifier),z=Ih(n.setTimeoutOverride,n.clearTimeoutOverride),I=!n.disableOptimizeObj&&Lw(),q(de),n.eventsLimitInMem>0&&(f=n.eventsLimitInMem),n.immediateEventLimit>0&&(l=n.immediateEventLimit),n.autoFlushEventsLimit>0&&(_=n.autoFlushEventsLimit),wn(n[_H])&&(O=n[_H]),wn(n[SH])&&(L=n[SH]),_e(),n.httpXHROverride&&n.httpXHROverride.sendPOST&&(y=n.httpXHROverride),ur(G.anonCookieName)&&C.addQueryStringParameter("anoncknm",G.anonCookieName),C.sendHook=n.payloadPreprocessor,C.sendListener=n.payloadListener;var it=n.overrideEndpointUrl?n.overrideEndpointUrl:G.endpointUrl;ee._notificationManager=G.extensionConfig.NotificationManager,C.initialize(it,ee.core,ee,y,n);var et=G.disablePageUnloadEvents||[];ol(M,et,J),Cf(M,et,J),bf(D,G.disablePageShowEvents,J)}catch(ut){throw ee.setInitialized(!1),ut}},function(){return{coreConfig:G,core:oe,extensions:se}})},ee.processTelemetry=function(G,oe){If(G,ee.identifier),oe=ee._getTelCtx(oe);var se=oe.getExtCfg(ee.identifier),de=!!n.disableTelemetry;se&&(de=de||!!se.disableTelemetry);var be=G;!de&&!i&&(n[Yw]&&(be.iKey=n[Yw]),se&&se[Yw]&&(be.iKey=se[Yw]),$(be,!0),A?Oe(2,2):X()),ee.processNext(be,oe)},ee._doTeardown=function(G,oe){Oe(2,2),i=!0,C.teardown(),uh(null,J),fh(null,J),dh(null,J),ve()};function q(G){var oe=G.getWParam;G.getWParam=function(){var se=0;return n.ignoreMc1Ms0CookieProcessing&&(se=se|2),se|oe()}}function M(G){var oe=G||To().event;oe.type!=="beforeunload"&&(A=!0,C.setUnloading(A)),Oe(2,2)}function D(G){A=!1,C.setUnloading(A)}function $(G,oe){if(G.sendAttempt||(G.sendAttempt=0),G.latency||(G.latency=1),G.ext&&G.ext.trace&&delete G.ext.trace,G.ext&&G.ext.user&&G.ext.user.id&&delete G.ext.user.id,I&&(G.ext=ps(G.ext),G.baseData&&(G.baseData=ps(G.baseData)),G.data&&(G.data=ps(G.data))),G.sync){if(g||a)G.latency=3,G.sync=!1;else if(C){I&&(G=ps(G)),C.sendSynchronousBatch(Df.create(G.iKey,[G]),G.sync===!0?1:G.sync,3);return}}var se=G.latency,de=u,be=f;se===4&&(de=c,be=l);var De=!1;if(de<be)De=!Re(G,oe);else{var it=1,et=Qae;se===4&&(it=4,et=1),De=!0,Ae(G.iKey,G.latency,it,et)&&(De=!Re(G,oe))}De&&re(ml,[G],Wi.QueueFull)}ee.setEventQueueLimits=function(G,oe){f=G>0?G:1e4,_=oe>0?oe:0,_e();var se=u>G;if(!se&&P>0)for(var de=1;!se&&de<=3;de++){var be=b[de];be&&be.batches&&Ce(be.batches,function(De){De&&De.count()>=P&&(se=!0)})}At(!0,se)},ee.pause=function(){Se(),a=!0,C.pause()},ee.resume=function(){a=!1,C.resume(),X()},ee.addResponseHandler=function(G){C._responseHandlers.push(G)},ee._loadTransmitProfiles=function(G){ne(),Lt(G,function(oe,se){var de=se.length;if(de>=2){var be=de>2?se[2]:0;if(se.splice(0,de-2),se[1]<0&&(se[0]=-1),se[1]>0&&se[0]>0){var De=se[0]/se[1];se[0]=Math.ceil(De)*se[1]}be>=0&&se[1]>=0&&be>se[1]&&(be=se[1]),se.push(be),d[oe]=se}})},ee.flush=function(G,oe,se){if(G===void 0&&(G=!0),!a)if(se=se||1,G)s==null?(Se(),Xe(1,0,se),s=Pe(function(){s=null,Jn(oe,se)},0)):o.push(oe);else{var de=Se();Y(1,1,se),oe!=null&&oe(),de&&X()}},ee.setMsaAuthTicket=function(G){C.addHeader(kh,G)},ee.hasEvents=Q,ee._setTransmitProfile=function(G){p!==G&&d[G]!==void 0&&(Se(),p=G,X())};function Y(G,oe,se){var de=Xe(G,oe,se);return C.sendQueuedRequests(oe,se),de}function Q(){return u>0}function X(){if(S>=0&&Xe(S,0,x)&&C.sendQueuedRequests(0,x),c>0&&!m&&!a){var G=d[p][2];G>=0&&(m=Pe(function(){m=null,Y(4,0,1),X()},G))}var oe=d[p][1];!h&&!s&&oe>=0&&!a&&(Q()?h=Pe(function(){h=null,Y(v===0?3:1,0,1),v++,v%=2,X()},oe):v=0)}ee._backOffTransmission=function(){g<Xae&&(g++,Se(),X())},ee._clearBackOff=function(){g&&(g=0,Se(),X())};function ve(){n=null,i=!1,o=[],s=null,a=!1,c=0,l=500,u=0,f=1e4,d={},p=dl,h=null,m=null,g=0,v=0,y=null,b={},_=void 0,P=0,S=-1,x=null,I=!0,A=!1,O=CH,L=bH,J=null,z=Ih(),C=new gH(wH,EH,Zae,{requeue:V,send:ge,sent:Be,drop:Me,rspFail:we,oth:je},z),Qn(),Ee(),_e()}function Pe(G,oe){oe===0&&g&&(oe=1);var se=1e3;return g&&(se=Kw(g-1)),z.set(G,oe*se)}function Se(){return h!==null?(z.clear(h),h=null,v=0,!0):!1}function Oe(G,oe){Se(),s&&(z.clear(s),s=null),a||Y(1,G,oe)}function Ee(){b[4]={batches:[],iKeyMap:{}},b[3]={batches:[],iKeyMap:{}},b[2]={batches:[],iKeyMap:{}},b[1]={batches:[],iKeyMap:{}}}function xt(G,oe,se){var de=b[oe];de||(oe=1,de=b[oe]);var be=de.iKeyMap[G];return!be&&se&&(be=Df.create(G),de.batches.push(be),de.iKeyMap[G]=be),be}function At(G,oe){C.canSendRequest()&&!g&&(_>0&&u>_&&(oe=!0),oe&&s==null&&ee.flush(G,null,20))}function Re(G,oe){I&&(G=ps(G));var se=G.latency,de=xt(G.iKey,se,!0);return de.addEvent(G)?(se!==4?(u++,oe&&G.sendAttempt===0&&At(!G.sync,P>0&&de.count()>=P)):c++,!0):!1}function Ae(G,oe,se,de){for(;se<=oe;){var be=xt(G,oe,!0);if(be&&be.count()>0){var De=be.split(0,de),it=De.count();if(it>0)return se===4?c-=it:u-=it,fe(ml,[De],Wi.QueueFull),!0}se++}return Fe(),!1}function Fe(){for(var G=0,oe=0,se=function(be){var De=b[be];De&&De.batches&&Ce(De.batches,function(it){be===4?G+=it.count():oe+=it.count()})},de=1;de<=4;de++)se(de);u=oe,c=G}function Xe(G,oe,se){var de=!1,be=oe===0;return!be||C.canSendRequest()?er(ee.core,function(){return"PostChannel._queueBatches"},function(){for(var De=[],it=4;it>=G;){var et=b[it];et&&et.batches&&et.batches.length>0&&(Ce(et.batches,function(ut){C.addBatch(ut)?de=de||ut&&ut.count()>0:De=De.concat(ut.events()),it===4?c-=ut.count():u-=ut.count()}),et.batches=[],et.iKeyMap={}),it--}De.length>0&&re(ml,De,Wi.KillSwitch),de&&S>=G&&(S=-1,x=0)},function(){return{latency:G,sendType:oe,sendReason:se}},!be):(S=S>=0?Math.min(S,G):G,x=Math.max(x,se)),de}function Jn(G,oe){Y(1,0,oe),Fe(),cn(function(){G&&G(),o.length>0?s=Pe(function(){s=null,Jn(o.shift(),oe)},0):(s=null,X())})}function cn(G){C.isCompletelyIdle()?G():s=Pe(function(){s=null,cn(G)},Jae)}function ne(){Se(),Qn(),p=dl,X()}function Qn(){d={},d[dl]=[2,1,0],d[Mw]=[6,3,0],d[jw]=[18,9,0]}function V(G,oe){var se=[],de=O;A&&(de=L),Ce(G,function(be){be&&be.count()>0&&Ce(be.events(),function(De){De&&(De.sync&&(De.latency=4,De.sync=!1),De.sendAttempt<de?(If(De,ee.identifier),$(De,!1)):se.push(De))})}),se.length>0&&re(ml,se,Wi.NonRetryableStatus),A&&Oe(2,2)}function ae(G,oe){var se=ee._notificationManager||{},de=se[G];if(de)try{de.apply(se,oe)}catch(be){Xt(ee.diagLog(),1,74,G+" notification failed: "+be)}}function re(G,oe){for(var se=[],de=2;de<arguments.length;de++)se[de-2]=arguments[de];oe&&oe.length>0&&ae(G,[oe].concat(se))}function fe(G,oe){for(var se=[],de=2;de<arguments.length;de++)se[de-2]=arguments[de];oe&&oe.length>0&&Ce(oe,function(be){be&&be.count()>0&&ae(G,[be.events()].concat(se))})}function ge(G,oe,se){G&&G.length>0&&ae("eventsSendRequest",[oe>=1e3&&oe<=1999?oe-1e3:0,se!==!0])}function Be(G,oe){fe("eventsSent",G,oe),X()}function Me(G,oe){fe(ml,G,oe>=8e3&&oe<=8999?oe-8e3:Wi.Unknown)}function we(G){fe(ml,G,Wi.NonRetryableStatus),X()}function je(G,oe){fe(ml,G,Wi.Unknown),X()}function _e(){!n||!n.disableAutoBatchFlushLimit?P=Math.max(wH*(EH+1),f/6):P=0}Wn(ee,"_setTimeoutOverride",function(){return z.set},function(G){z=Ih(G,z.clear)}),Wn(ee,"_clearTimeoutOverride",function(){return z.clear},function(G){z=Ih(z.set,G)})}),r}return t}(al),xH=tce});var kH={};lb(kH,{BE_PROFILE:()=>jw,NRT_PROFILE:()=>Mw,PostChannel:()=>xH,RT_PROFILE:()=>dl});var IH=qe(()=>{PH();TP()});var EV=T((V1e,bV)=>{var rce=Object.create,Th=Object.defineProperty,nce=Object.defineProperties,ice=Object.getOwnPropertyDescriptor,oce=Object.getOwnPropertyDescriptors,sce=Object.getOwnPropertyNames,TH=Object.getOwnPropertySymbols,ace=Object.getPrototypeOf,AH=Object.prototype.hasOwnProperty,cce=Object.prototype.propertyIsEnumerable,DH=(e,t,r)=>t in e?Th(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gl=(e,t)=>{for(var r in t||(t={}))AH.call(t,r)&&DH(e,r,t[r]);if(TH)for(var r of TH(t))cce.call(t,r)&&DH(e,r,t[r]);return e},lce=(e,t)=>nce(e,oce(t)),F=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),uce=(e,t)=>{for(var r in t)Th(e,r,{get:t[r],enumerable:!0})},RH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of sce(t))!AH.call(e,i)&&i!==r&&Th(e,i,{get:()=>t[i],enumerable:!(n=ice(t,i))||n.enumerable});return e},Jw=(e,t,r)=>(r=e!=null?rce(ace(e)):{},RH(t||!e||!e.__esModule?Th(r,"default",{value:e,enumerable:!0}):r,e)),fce=e=>RH(Th({},"__esModule",{value:!0}),e),Mr=F((e,t)=>{"use strict";var r=function(){function n(){}return n.info=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];n.enableDebug&&console.info(n.TAG+i,o)},n.warn=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];n.disableWarnings||console.warn(n.TAG+i,o)},n.enableDebug=!1,n.disableWarnings=!1,n.disableErrors=!1,n.TAG="ApplicationInsights:",n}();t.exports=r}),OH=F(e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(o){for(var s,a=1,c=arguments.length;a<c;a++){s=arguments[a];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncScopeManager=e.OpenTelemetryScopeManagerWrapper=void 0;var r=Nf(),n=require("events"),i=function(){function o(){}return o.prototype.active=function(){var s=this,a=r.CorrelationContextManager.getCurrentContext();return t(t({},a),{getValue:function(c){return s._activeSymbol?c===s._activeSymbol?a:!1:(s._activeSymbol=c,a)},setValue:function(){}})},o.prototype.with=function(s,a){var c=s.parentSpanId,l=s.name,u=o._spanToContext(s,c,l);return r.CorrelationContextManager.runWithContext(u,a)()},o.prototype.bind=function(s){return typeof s=="function"?r.CorrelationContextManager.wrapCallback(s):(s instanceof n.EventEmitter&&r.CorrelationContextManager.wrapEmitter(s),s)},o.prototype.enable=function(){return r.CorrelationContextManager.enable(),this},o.prototype.disable=function(){return r.CorrelationContextManager.disable(),this},o._spanToContext=function(s,a,c){var l=a?"|"+s.spanContext().traceId+"."+a+".":s.spanContext().traceId,u=t(t({},s.spanContext()),{traceFlags:s.spanContext().traceFlags}),f=r.CorrelationContextManager.spanToContextObject(u,l,c);return f},o}();e.OpenTelemetryScopeManagerWrapper=i,e.AsyncScopeManager=new i}),dce=F((e,t)=>{e=t.exports=ne;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var w=Array.prototype.slice.call(arguments,0);w.unshift("SEMVER"),console.log.apply(console,w)}:r=function(){},e.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=e.re=[],a=e.src=[],c=0,l=c++;a[l]="0|[1-9]\\d*";var u=c++;a[u]="[0-9]+";var f=c++;a[f]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var d=c++;a[d]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var p=c++;a[p]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var h=c++;a[h]="(?:"+a[l]+"|"+a[f]+")";var m=c++;a[m]="(?:"+a[u]+"|"+a[f]+")";var g=c++;a[g]="(?:-("+a[h]+"(?:\\."+a[h]+")*))";var v=c++;a[v]="(?:-?("+a[m]+"(?:\\."+a[m]+")*))";var y=c++;a[y]="[0-9A-Za-z-]+";var C=c++;a[C]="(?:\\+("+a[y]+"(?:\\."+a[y]+")*))";var b=c++,_="v?"+a[d]+a[g]+"?"+a[C]+"?";a[b]="^"+_+"$";var P="[v=\\s]*"+a[p]+a[v]+"?"+a[C]+"?",S=c++;a[S]="^"+P+"$";var x=c++;a[x]="((?:<|>)?=?)";var I=c++;a[I]=a[u]+"|x|X|\\*";var A=c++;a[A]=a[l]+"|x|X|\\*";var O=c++;a[O]="[v=\\s]*("+a[A]+")(?:\\.("+a[A]+")(?:\\.("+a[A]+")(?:"+a[g]+")?"+a[C]+"?)?)?";var L=c++;a[L]="[v=\\s]*("+a[I]+")(?:\\.("+a[I]+")(?:\\.("+a[I]+")(?:"+a[v]+")?"+a[C]+"?)?)?";var J=c++;a[J]="^"+a[x]+"\\s*"+a[O]+"$";var z=c++;a[z]="^"+a[x]+"\\s*"+a[L]+"$";var ee=c++;a[ee]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var ie=c++;a[ie]="(?:~>?)";var q=c++;a[q]="(\\s*)"+a[ie]+"\\s+",s[q]=new RegExp(a[q],"g");var M="$1~",D=c++;a[D]="^"+a[ie]+a[O]+"$";var $=c++;a[$]="^"+a[ie]+a[L]+"$";var Y=c++;a[Y]="(?:\\^)";var Q=c++;a[Q]="(\\s*)"+a[Y]+"\\s+",s[Q]=new RegExp(a[Q],"g");var X="$1^",ve=c++;a[ve]="^"+a[Y]+a[O]+"$";var Pe=c++;a[Pe]="^"+a[Y]+a[L]+"$";var Se=c++;a[Se]="^"+a[x]+"\\s*("+P+")$|^$";var Oe=c++;a[Oe]="^"+a[x]+"\\s*("+_+")$|^$";var Ee=c++;a[Ee]="(\\s*)"+a[x]+"\\s*("+P+"|"+a[O]+")",s[Ee]=new RegExp(a[Ee],"g");var xt="$1$2$3",At=c++;a[At]="^\\s*("+a[O]+")\\s+-\\s+("+a[O]+")\\s*$";var Re=c++;a[Re]="^\\s*("+a[L]+")\\s+-\\s+("+a[L]+")\\s*$";var Ae=c++;for(a[Ae]="(<|>)?=?\\s*\\*",Fe=0;Fe<c;Fe++)r(Fe,a[Fe]),s[Fe]||(s[Fe]=new RegExp(a[Fe]));var Fe;e.parse=Xe;function Xe(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ne)return w;if(typeof w!="string"||w.length>n)return null;var k=E.loose?s[S]:s[b];if(!k.test(w))return null;try{return new ne(w,E)}catch{return null}}e.valid=Jn;function Jn(w,E){var k=Xe(w,E);return k?k.version:null}e.clean=cn;function cn(w,E){var k=Xe(w.trim().replace(/^[=v]+/,""),E);return k?k.version:null}e.SemVer=ne;function ne(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ne){if(w.loose===E.loose)return w;w=w.version}else if(typeof w!="string")throw new TypeError("Invalid Version: "+w);if(w.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof ne))return new ne(w,E);r("SemVer",w,E),this.options=E,this.loose=!!E.loose;var k=w.trim().match(E.loose?s[S]:s[b]);if(!k)throw new TypeError("Invalid Version: "+w);if(this.raw=w,this.major=+k[1],this.minor=+k[2],this.patch=+k[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");k[4]?this.prerelease=k[4].split(".").map(function(N){if(/^[0-9]+$/.test(N)){var j=+N;if(j>=0&&j<i)return j}return N}):this.prerelease=[],this.build=k[5]?k[5].split("."):[],this.format()}ne.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},ne.prototype.toString=function(){return this.version},ne.prototype.compare=function(w){return r("SemVer.compare",this.version,this.options,w),w instanceof ne||(w=new ne(w,this.options)),this.compareMain(w)||this.comparePre(w)},ne.prototype.compareMain=function(w){return w instanceof ne||(w=new ne(w,this.options)),re(this.major,w.major)||re(this.minor,w.minor)||re(this.patch,w.patch)},ne.prototype.comparePre=function(w){if(w instanceof ne||(w=new ne(w,this.options)),this.prerelease.length&&!w.prerelease.length)return-1;if(!this.prerelease.length&&w.prerelease.length)return 1;if(!this.prerelease.length&&!w.prerelease.length)return 0;var E=0;do{var k=this.prerelease[E],N=w.prerelease[E];if(r("prerelease compare",E,k,N),k===void 0&&N===void 0)return 0;if(N===void 0)return 1;if(k===void 0)return-1;if(k!==N)return re(k,N)}while(++E)},ne.prototype.inc=function(w,E){switch(w){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",E);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",E);break;case"prepatch":this.prerelease.length=0,this.inc("patch",E),this.inc("pre",E);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",E),this.inc("pre",E);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var k=this.prerelease.length;--k>=0;)typeof this.prerelease[k]=="number"&&(this.prerelease[k]++,k=-2);k===-1&&this.prerelease.push(0)}E&&(this.prerelease[0]===E?isNaN(this.prerelease[1])&&(this.prerelease=[E,0]):this.prerelease=[E,0]);break;default:throw new Error("invalid increment argument: "+w)}return this.format(),this.raw=this.version,this},e.inc=Qn;function Qn(w,E,k,N){typeof k=="string"&&(N=k,k=void 0);try{return new ne(w,k).inc(E,N).version}catch{return null}}e.diff=V;function V(w,E){if(be(w,E))return null;var k=Xe(w),N=Xe(E),j="";if(k.prerelease.length||N.prerelease.length){j="pre";var U="prerelease"}for(var W in k)if((W==="major"||W==="minor"||W==="patch")&&k[W]!==N[W])return j+W;return U}e.compareIdentifiers=re;var ae=/^[0-9]+$/;function re(w,E){var k=ae.test(w),N=ae.test(E);return k&&N&&(w=+w,E=+E),w===E?0:k&&!N?-1:N&&!k?1:w<E?-1:1}e.rcompareIdentifiers=fe;function fe(w,E){return re(E,w)}e.major=ge;function ge(w,E){return new ne(w,E).major}e.minor=Be;function Be(w,E){return new ne(w,E).minor}e.patch=Me;function Me(w,E){return new ne(w,E).patch}e.compare=we;function we(w,E,k){return new ne(w,k).compare(new ne(E,k))}e.compareLoose=je;function je(w,E){return we(w,E,!0)}e.rcompare=_e;function _e(w,E,k){return we(E,w,k)}e.sort=G;function G(w,E){return w.sort(function(k,N){return e.compare(k,N,E)})}e.rsort=oe;function oe(w,E){return w.sort(function(k,N){return e.rcompare(k,N,E)})}e.gt=se;function se(w,E,k){return we(w,E,k)>0}e.lt=de;function de(w,E,k){return we(w,E,k)<0}e.eq=be;function be(w,E,k){return we(w,E,k)===0}e.neq=De;function De(w,E,k){return we(w,E,k)!==0}e.gte=it;function it(w,E,k){return we(w,E,k)>=0}e.lte=et;function et(w,E,k){return we(w,E,k)<=0}e.cmp=ut;function ut(w,E,k,N){switch(E){case"===":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w===k;case"!==":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w!==k;case"":case"=":case"==":return be(w,k,N);case"!=":return De(w,k,N);case">":return se(w,k,N);case">=":return it(w,k,N);case"<":return de(w,k,N);case"<=":return et(w,k,N);default:throw new TypeError("Invalid operator: "+E)}}e.Comparator=Ue;function Ue(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof Ue){if(w.loose===!!E.loose)return w;w=w.value}if(!(this instanceof Ue))return new Ue(w,E);r("comparator",w,E),this.options=E,this.loose=!!E.loose,this.parse(w),this.semver===$t?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var $t={};Ue.prototype.parse=function(w){var E=this.options.loose?s[Se]:s[Oe],k=w.match(E);if(!k)throw new TypeError("Invalid comparator: "+w);this.operator=k[1],this.operator==="="&&(this.operator=""),k[2]?this.semver=new ne(k[2],this.options.loose):this.semver=$t},Ue.prototype.toString=function(){return this.value},Ue.prototype.test=function(w){return r("Comparator.test",w,this.options.loose),this.semver===$t?!0:(typeof w=="string"&&(w=new ne(w,this.options)),ut(w,this.operator,this.semver,this.options))},Ue.prototype.intersects=function(w,E){if(!(w instanceof Ue))throw new TypeError("a Comparator is required");(!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1});var k;if(this.operator==="")return k=new ye(w.value,E),$r(this.value,k,E);if(w.operator==="")return k=new ye(this.value,E),$r(w.semver,k,E);var N=(this.operator===">="||this.operator===">")&&(w.operator===">="||w.operator===">"),j=(this.operator==="<="||this.operator==="<")&&(w.operator==="<="||w.operator==="<"),U=this.semver.version===w.semver.version,W=(this.operator===">="||this.operator==="<=")&&(w.operator===">="||w.operator==="<="),le=ut(this.semver,"<",w.semver,E)&&(this.operator===">="||this.operator===">")&&(w.operator==="<="||w.operator==="<"),ce=ut(this.semver,">",w.semver,E)&&(this.operator==="<="||this.operator==="<")&&(w.operator===">="||w.operator===">");return N||j||U&&W||le||ce},e.Range=ye;function ye(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ye)return w.loose===!!E.loose&&w.includePrerelease===!!E.includePrerelease?w:new ye(w.raw,E);if(w instanceof Ue)return new ye(w.value,E);if(!(this instanceof ye))return new ye(w,E);if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=w,this.set=w.split(/\s*\|\|\s*/).map(function(k){return this.parseRange(k.trim())},this).filter(function(k){return k.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+w);this.format()}ye.prototype.format=function(){return this.range=this.set.map(function(w){return w.join(" ").trim()}).join("||").trim(),this.range},ye.prototype.toString=function(){return this.range},ye.prototype.parseRange=function(w){var E=this.options.loose;w=w.trim();var k=E?s[Re]:s[At];w=w.replace(k,Wa),r("hyphen replace",w),w=w.replace(s[Ee],xt),r("comparator trim",w,s[Ee]),w=w.replace(s[q],M),w=w.replace(s[Q],X),w=w.split(/\s+/).join(" ");var N=E?s[Se]:s[Oe],j=w.split(" ").map(function(U){return Di(U,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(j=j.filter(function(U){return!!U.match(N)})),j=j.map(function(U){return new Ue(U,this.options)},this),j},ye.prototype.intersects=function(w,E){if(!(w instanceof ye))throw new TypeError("a Range is required");return this.set.some(function(k){return k.every(function(N){return w.set.some(function(j){return j.every(function(U){return N.intersects(U,E)})})})})},e.toComparators=As;function As(w,E){return new ye(w,E).set.map(function(k){return k.map(function(N){return N.value}).join(" ").trim().split(" ")})}function Di(w,E){return r("comp",w,E),w=Ua(w,E),r("caret",w),w=Tn(w,E),r("tildes",w),w=Ha(w,E),r("xrange",w),w=Jr(w,E),r("stars",w),w}function He(w){return!w||w.toLowerCase()==="x"||w==="*"}function Tn(w,E){return w.trim().split(/\s+/).map(function(k){return $a(k,E)}).join(" ")}function $a(w,E){var k=E.loose?s[$]:s[D];return w.replace(k,function(N,j,U,W,le){r("tilde",w,N,j,U,W,le);var ce;return He(j)?ce="":He(U)?ce=">="+j+".0.0 <"+(+j+1)+".0.0":He(W)?ce=">="+j+"."+U+".0 <"+j+"."+(+U+1)+".0":le?(r("replaceTilde pr",le),ce=">="+j+"."+U+"."+W+"-"+le+" <"+j+"."+(+U+1)+".0"):ce=">="+j+"."+U+"."+W+" <"+j+"."+(+U+1)+".0",r("tilde return",ce),ce})}function Ua(w,E){return w.trim().split(/\s+/).map(function(k){return Ba(k,E)}).join(" ")}function Ba(w,E){r("caret",w,E);var k=E.loose?s[Pe]:s[ve];return w.replace(k,function(N,j,U,W,le){r("caret",w,N,j,U,W,le);var ce;return He(j)?ce="":He(U)?ce=">="+j+".0.0 <"+(+j+1)+".0.0":He(W)?j==="0"?ce=">="+j+"."+U+".0 <"+j+"."+(+U+1)+".0":ce=">="+j+"."+U+".0 <"+(+j+1)+".0.0":le?(r("replaceCaret pr",le),j==="0"?U==="0"?ce=">="+j+"."+U+"."+W+"-"+le+" <"+j+"."+U+"."+(+W+1):ce=">="+j+"."+U+"."+W+"-"+le+" <"+j+"."+(+U+1)+".0":ce=">="+j+"."+U+"."+W+"-"+le+" <"+(+j+1)+".0.0"):(r("no pr"),j==="0"?U==="0"?ce=">="+j+"."+U+"."+W+" <"+j+"."+U+"."+(+W+1):ce=">="+j+"."+U+"."+W+" <"+j+"."+(+U+1)+".0":ce=">="+j+"."+U+"."+W+" <"+(+j+1)+".0.0"),r("caret return",ce),ce})}function Ha(w,E){return r("replaceXRanges",w,E),w.split(/\s+/).map(function(k){return Va(k,E)}).join(" ")}function Va(w,E){w=w.trim();var k=E.loose?s[z]:s[J];return w.replace(k,function(N,j,U,W,le,ce){r("xRange",w,N,j,U,W,le,ce);var ft=He(U),tt=ft||He(W),Ye=tt||He(le),Ke=Ye;return j==="="&&Ke&&(j=""),ft?j===">"||j==="<"?N="<0.0.0":N="*":j&&Ke?(tt&&(W=0),le=0,j===">"?(j=">=",tt?(U=+U+1,W=0,le=0):(W=+W+1,le=0)):j==="<="&&(j="<",tt?U=+U+1:W=+W+1),N=j+U+"."+W+"."+le):tt?N=">="+U+".0.0 <"+(+U+1)+".0.0":Ye&&(N=">="+U+"."+W+".0 <"+U+"."+(+W+1)+".0"),r("xRange return",N),N})}function Jr(w,E){return r("replaceStars",w,E),w.trim().replace(s[Ae],"")}function Wa(w,E,k,N,j,U,W,le,ce,ft,tt,Ye,Ke){return He(k)?E="":He(N)?E=">="+k+".0.0":He(j)?E=">="+k+"."+N+".0":E=">="+E,He(ce)?le="":He(ft)?le="<"+(+ce+1)+".0.0":He(tt)?le="<"+ce+"."+(+ft+1)+".0":Ye?le="<="+ce+"."+ft+"."+tt+"-"+Ye:le="<="+le,(E+" "+le).trim()}ye.prototype.test=function(w){if(!w)return!1;typeof w=="string"&&(w=new ne(w,this.options));for(var E=0;E<this.set.length;E++)if(za(this.set[E],w,this.options))return!0;return!1};function za(w,E,k){for(var N=0;N<w.length;N++)if(!w[N].test(E))return!1;if(E.prerelease.length&&!k.includePrerelease){for(N=0;N<w.length;N++)if(r(w[N].semver),w[N].semver!==$t&&w[N].semver.prerelease.length>0){var j=w[N].semver;if(j.major===E.major&&j.minor===E.minor&&j.patch===E.patch)return!0}return!1}return!0}e.satisfies=$r;function $r(w,E,k){try{E=new ye(E,k)}catch{return!1}return E.test(w)}e.maxSatisfying=Ga;function Ga(w,E,k){var N=null,j=null;try{var U=new ye(E,k)}catch{return null}return w.forEach(function(W){U.test(W)&&(!N||j.compare(W)===-1)&&(N=W,j=new ne(N,k))}),N}e.minSatisfying=Ka;function Ka(w,E,k){var N=null,j=null;try{var U=new ye(E,k)}catch{return null}return w.forEach(function(W){U.test(W)&&(!N||j.compare(W)===1)&&(N=W,j=new ne(N,k))}),N}e.minVersion=Xn;function Xn(w,E){w=new ye(w,E);var k=new ne("0.0.0");if(w.test(k)||(k=new ne("0.0.0-0"),w.test(k)))return k;k=null;for(var N=0;N<w.set.length;++N){var j=w.set[N];j.forEach(function(U){var W=new ne(U.semver.version);switch(U.operator){case">":W.prerelease.length===0?W.patch++:W.prerelease.push(0),W.raw=W.format();case"":case">=":(!k||se(k,W))&&(k=W);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+U.operator)}})}return k&&w.test(k)?k:null}e.validRange=Ya;function Ya(w,E){try{return new ye(w,E).range||"*"}catch{return null}}e.ltr=Ja;function Ja(w,E,k){return An(w,E,"<",k)}e.gtr=Qa;function Qa(w,E,k){return An(w,E,">",k)}e.outside=An;function An(w,E,k,N){w=new ne(w,N),E=new ye(E,N);var j,U,W,le,ce;switch(k){case">":j=se,U=et,W=de,le=">",ce=">=";break;case"<":j=de,U=it,W=se,le="<",ce="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if($r(w,E,N))return!1;for(var ft=0;ft<E.set.length;++ft){var tt=E.set[ft],Ye=null,Ke=null;if(tt.forEach(function(kt){kt.semver===$t&&(kt=new Ue(">=0.0.0")),Ye=Ye||kt,Ke=Ke||kt,j(kt.semver,Ye.semver,N)?Ye=kt:W(kt.semver,Ke.semver,N)&&(Ke=kt)}),Ye.operator===le||Ye.operator===ce||(!Ke.operator||Ke.operator===le)&&U(w,Ke.semver)||Ke.operator===ce&&W(w,Ke.semver))return!1}return!0}e.prerelease=Xa;function Xa(w,E){var k=Xe(w,E);return k&&k.prerelease.length?k.prerelease:null}e.intersects=Zn;function Zn(w,E,k){return w=new ye(w,k),E=new ye(E,k),w.intersects(E)}e.coerce=Za;function Za(w){if(w instanceof ne)return w;if(typeof w!="string")return null;var E=w.match(s[ee]);return E==null?null:Xe(E[1]+"."+(E[2]||"0")+"."+(E[3]||"0"))}}),NH=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makePatchingRequire=void 0;var t=require("path"),r=dce(),n=require("module"),i=Object.keys(process.binding("natives")),o=n.prototype.require;function s(a){var c={};return function(l){var u=o.apply(this,arguments);if(a[l]){var f=n._resolveFilename(l,this);if(c.hasOwnProperty(f))return c[f];var d=void 0;if(i.indexOf(l)<0)try{d=o.call(this,t.join(l,"package.json")).version}catch{return u}else d=process.version.substring(1);var p=d.indexOf("-");p>=0&&(d=d.substring(0,p));for(var h=u,m=0,g=a[l];m<g.length;m++){var v=g[m];r.satisfies(d,v.versionSpecifier)&&(h=v.patch(h,f))}return c[f]=h}return u}}e.makePatchingRequire=s}),pce=F((e,t)=>{t.exports={name:"diagnostic-channel",version:"1.0.0",main:"./dist/src/channel.js",types:"./dist/src/channel.d.ts",scripts:{build:"tsc",lint:"tslint -c tslint.json -p tsconfig.json",clean:"rimraf ./dist",test:"mocha ./dist/tests/**/*.js"},homepage:"https://github.com/Microsoft/node-diagnostic-channel",bugs:{url:"https://github.com/Microsoft/node-diagnostic-channel/issues"},repository:{type:"git",url:"https://github.com/Microsoft/node-diagnostic-channel.git"},description:"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers",dependencies:{semver:"^5.3.0"},devDependencies:{"@types/mocha":"^2.2.40","@types/node":"~8.0.0",mocha:"^3.2.0",rimraf:"^2.6.1",tslint:"^5.0.0",typescript:"4.1.2"},files:["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],license:"MIT"}}),fr=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.channel=e.makePatchingRequire=void 0;var t=NH(),r=NH();Object.defineProperty(e,"makePatchingRequire",{enumerable:!0,get:function(){return r.makePatchingRequire}});var n=function(s){return!0},i=function(){function s(){this.version=pce().version,this.subscribers={},this.contextPreservationFunction=function(a){return a},this.knownPatches={},this.currentlyPublishing=!1}return s.prototype.shouldPublish=function(a){var c=this.subscribers[a];return c?c.some(function(l){var u=l.filter;return!u||u(!1)}):!1},s.prototype.publish=function(a,c){if(!this.currentlyPublishing){var l=this.subscribers[a];if(l){var u={timestamp:Date.now(),data:c};this.currentlyPublishing=!0,l.forEach(function(f){var d=f.listener,p=f.filter;try{p&&p(!0)&&d(u)}catch{}}),this.currentlyPublishing=!1}}},s.prototype.subscribe=function(a,c,l){l===void 0&&(l=n),this.subscribers[a]||(this.subscribers[a]=[]),this.subscribers[a].push({listener:c,filter:l})},s.prototype.unsubscribe=function(a,c,l){l===void 0&&(l=n);var u=this.subscribers[a];if(u){for(var f=0;f<u.length;++f)if(u[f].listener===c&&u[f].filter===l)return u.splice(f,1),!0}return!1},s.prototype.reset=function(){var a=this;this.subscribers={},this.contextPreservationFunction=function(c){return c},Object.getOwnPropertyNames(this.knownPatches).forEach(function(c){return delete a.knownPatches[c]})},s.prototype.bindToContext=function(a){return this.contextPreservationFunction(a)},s.prototype.addContextPreservation=function(a){var c=this.contextPreservationFunction;this.contextPreservationFunction=function(l){return a(c(l))}},s.prototype.registerMonkeyPatch=function(a,c){this.knownPatches[a]||(this.knownPatches[a]=[]),this.knownPatches[a].push(c)},s.prototype.getPatchesObject=function(){return this.knownPatches},s}();global.diagnosticsSource||(global.diagnosticsSource=new i,o=require("module"),o.prototype.require=t.makePatchingRequire(global.diagnosticsSource.getPatchesObject()));var o;e.channel=global.diagnosticsSource}),hce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),mce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._globalThis=void 0,e._globalThis=typeof globalThis=="object"?globalThis:global}),gce=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(mce(),e)}),vce=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(gce(),e)}),LH=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="1.0.3"}),yce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCompatible=e._makeCompatibilityCheck=void 0;var t=LH(),r=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function n(i){var o=new Set([i]),s=new Set,a=i.match(r);if(!a)return function(){return!1};var c={major:+a[1],minor:+a[2],patch:+a[3],prerelease:a[4]};if(c.prerelease!=null)return function(f){return f===i};function l(f){return s.add(f),!1}function u(f){return o.add(f),!0}return function(f){if(o.has(f))return!0;if(s.has(f))return!1;var d=f.match(r);if(!d)return l(f);var p={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};return p.prerelease!=null||c.major!==p.major?l(f):c.major===0?c.minor===p.minor&&c.patch<=p.patch?u(f):l(f):c.minor<=p.minor?u(f):l(f)}}e._makeCompatibilityCheck=n,e.isCompatible=n(t.VERSION)}),Ah=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unregisterGlobal=e.getGlobal=e.registerGlobal=void 0;var t=vce(),r=LH(),n=yce(),i=r.VERSION.split(".")[0],o=Symbol.for("opentelemetry.js.api."+i),s=t._globalThis;function a(u,f,d,p){var h;p===void 0&&(p=!1);var m=s[o]=(h=s[o])!==null&&h!==void 0?h:{version:r.VERSION};if(!p&&m[u]){var g=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+u);return d.error(g.stack||g.message),!1}if(m.version!==r.VERSION){var g=new Error("@opentelemetry/api: All API registration versions must match");return d.error(g.stack||g.message),!1}return m[u]=f,d.debug("@opentelemetry/api: Registered a global for "+u+" v"+r.VERSION+"."),!0}e.registerGlobal=a;function c(u){var f,d,p=(f=s[o])===null||f===void 0?void 0:f.version;if(!(!p||!n.isCompatible(p)))return(d=s[o])===null||d===void 0?void 0:d[u]}e.getGlobal=c;function l(u,f){f.debug("@opentelemetry/api: Unregistering a global for "+u+" v"+r.VERSION+".");var d=s[o];d&&delete d[u]}e.unregisterGlobal=l}),wce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagComponentLogger=void 0;var t=Ah(),r=function(){function i(o){this._namespace=o.namespace||"DiagComponentLogger"}return i.prototype.debug=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("debug",this._namespace,o)},i.prototype.error=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("error",this._namespace,o)},i.prototype.info=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("info",this._namespace,o)},i.prototype.warn=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("warn",this._namespace,o)},i.prototype.verbose=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("verbose",this._namespace,o)},i}();e.DiagComponentLogger=r;function n(i,o,s){var a=t.getGlobal("diag");if(a)return s.unshift(o),a[i].apply(a,s)}}),BP=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagLogLevel=void 0;var t;(function(r){r[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"})(t=e.DiagLogLevel||(e.DiagLogLevel={}))}),Cce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createLogLevelDiagLogger=void 0;var t=BP();function r(n,i){n<t.DiagLogLevel.NONE?n=t.DiagLogLevel.NONE:n>t.DiagLogLevel.ALL&&(n=t.DiagLogLevel.ALL),i=i||{};function o(s,a){var c=i[s];return typeof c=="function"&&n>=a?c.bind(i):function(){}}return{error:o("error",t.DiagLogLevel.ERROR),warn:o("warn",t.DiagLogLevel.WARN),info:o("info",t.DiagLogLevel.INFO),debug:o("debug",t.DiagLogLevel.DEBUG),verbose:o("verbose",t.DiagLogLevel.VERBOSE)}}e.createLogLevelDiagLogger=r}),Dh=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagAPI=void 0;var t=wce(),r=Cce(),n=BP(),i=Ah(),o="diag",s=function(){function a(){function c(u){return function(){var f=i.getGlobal("diag");if(f)return f[u].apply(f,arguments)}}var l=this;l.setLogger=function(u,f){var d,p;if(f===void 0&&(f=n.DiagLogLevel.INFO),u===l){var h=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return l.error((d=h.stack)!==null&&d!==void 0?d:h.message),!1}var m=i.getGlobal("diag"),g=r.createLogLevelDiagLogger(f,u);if(m){var v=(p=new Error().stack)!==null&&p!==void 0?p:"<failed to generate stacktrace>";m.warn("Current logger will be overwritten from "+v),g.warn("Current logger will overwrite one already registered from "+v)}return i.registerGlobal("diag",g,l,!0)},l.disable=function(){i.unregisterGlobal(o,l)},l.createComponentLogger=function(u){return new t.DiagComponentLogger(u)},l.verbose=c("verbose"),l.debug=c("debug"),l.info=c("info"),l.warn=c("warn"),l.error=c("error")}return a.instance=function(){return this._instance||(this._instance=new a),this._instance},a}();e.DiagAPI=s}),bce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaggageImpl=void 0;var t=function(){function r(n){this._entries=n?new Map(n):new Map}return r.prototype.getEntry=function(n){var i=this._entries.get(n);if(i)return Object.assign({},i)},r.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(n){var i=n[0],o=n[1];return[i,o]})},r.prototype.setEntry=function(n,i){var o=new r(this._entries);return o._entries.set(n,i),o},r.prototype.removeEntry=function(n){var i=new r(this._entries);return i._entries.delete(n),i},r.prototype.removeEntries=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=new r(this._entries),s=0,a=n;s<a.length;s++){var c=a[s];o._entries.delete(c)}return o},r.prototype.clear=function(){return new r},r}();e.BaggageImpl=t}),Ece=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baggageEntryMetadataSymbol=void 0,e.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")}),FH=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baggageEntryMetadataFromString=e.createBaggage=void 0;var t=Dh(),r=bce(),n=Ece(),i=t.DiagAPI.instance();function o(a){return a===void 0&&(a={}),new r.BaggageImpl(new Map(Object.entries(a)))}e.createBaggage=o;function s(a){return typeof a!="string"&&(i.error("Cannot create baggage metadata from unknown type: "+typeof a),a=""),{__TYPE__:n.baggageEntryMetadataSymbol,toString:function(){return a}}}e.baggageEntryMetadataFromString=s}),_ce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Sce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),xce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagConsoleLogger=void 0;var t=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],r=function(){function n(){function i(s){return function(){var a=arguments;if(console){var c=console[s];if(typeof c!="function"&&(c=console.log),typeof c=="function")return c.apply(console,a)}}}for(var o=0;o<t.length;o++)this[t[o].n]=i(t[o].c)}return n}();e.DiagConsoleLogger=r}),Pce=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(xce(),e),r(BP(),e)}),MH=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTextMapSetter=e.defaultTextMapGetter=void 0,e.defaultTextMapGetter={get:function(t,r){if(t!=null)return t[r]},keys:function(t){return t==null?[]:Object.keys(t)}},e.defaultTextMapSetter={set:function(t,r,n){t!=null&&(t[r]=n)}}}),kce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Ice=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Qw=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ROOT_CONTEXT=e.createContextKey=void 0;function t(n){return Symbol.for(n)}e.createContextKey=t;var r=function(){function n(i){var o=this;o._currentContext=i?new Map(i):new Map,o.getValue=function(s){return o._currentContext.get(s)},o.setValue=function(s,a){var c=new n(o._currentContext);return c._currentContext.set(s,a),c},o.deleteValue=function(s){var a=new n(o._currentContext);return a._currentContext.delete(s),a}}return n}();e.ROOT_CONTEXT=new r}),Tce=F(e=>{"use strict";var t=e&&e.__spreadArray||function(i,o){for(var s=0,a=o.length,c=i.length;s<a;s++,c++)i[c]=o[s];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.NoopContextManager=void 0;var r=Qw(),n=function(){function i(){}return i.prototype.active=function(){return r.ROOT_CONTEXT},i.prototype.with=function(o,s,a){for(var c=[],l=3;l<arguments.length;l++)c[l-3]=arguments[l];return s.call.apply(s,t([a],c))},i.prototype.bind=function(o,s){return s},i.prototype.enable=function(){return this},i.prototype.disable=function(){return this},i}();e.NoopContextManager=n}),jH=F(e=>{"use strict";var t=e&&e.__spreadArray||function(c,l){for(var u=0,f=l.length,d=c.length;u<f;u++,d++)c[d]=l[u];return c};Object.defineProperty(e,"__esModule",{value:!0}),e.ContextAPI=void 0;var r=Tce(),n=Ah(),i=Dh(),o="context",s=new r.NoopContextManager,a=function(){function c(){}return c.getInstance=function(){return this._instance||(this._instance=new c),this._instance},c.prototype.setGlobalContextManager=function(l){return n.registerGlobal(o,l,i.DiagAPI.instance())},c.prototype.active=function(){return this._getContextManager().active()},c.prototype.with=function(l,u,f){for(var d,p=[],h=3;h<arguments.length;h++)p[h-3]=arguments[h];return(d=this._getContextManager()).with.apply(d,t([l,u,f],p))},c.prototype.bind=function(l,u){return this._getContextManager().bind(l,u)},c.prototype._getContextManager=function(){return n.getGlobal(o)||s},c.prototype.disable=function(){this._getContextManager().disable(),n.unregisterGlobal(o,i.DiagAPI.instance())},c}();e.ContextAPI=a}),qH=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceFlags=void 0;var t;(function(r){r[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"})(t=e.TraceFlags||(e.TraceFlags={}))}),HP=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=void 0;var t=qH();e.INVALID_SPANID="0000000000000000",e.INVALID_TRACEID="00000000000000000000000000000000",e.INVALID_SPAN_CONTEXT={traceId:e.INVALID_TRACEID,spanId:e.INVALID_SPANID,traceFlags:t.TraceFlags.NONE}}),VP=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NonRecordingSpan=void 0;var t=HP(),r=function(){function n(i){i===void 0&&(i=t.INVALID_SPAN_CONTEXT),this._spanContext=i}return n.prototype.spanContext=function(){return this._spanContext},n.prototype.setAttribute=function(i,o){return this},n.prototype.setAttributes=function(i){return this},n.prototype.addEvent=function(i,o){return this},n.prototype.setStatus=function(i){return this},n.prototype.updateName=function(i){return this},n.prototype.end=function(i){},n.prototype.isRecording=function(){return!1},n.prototype.recordException=function(i,o){},n}();e.NonRecordingSpan=r}),$H=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSpanContext=e.setSpanContext=e.deleteSpan=e.setSpan=e.getSpan=void 0;var t=Qw(),r=VP(),n=t.createContextKey("OpenTelemetry Context Key SPAN");function i(l){return l.getValue(n)||void 0}e.getSpan=i;function o(l,u){return l.setValue(n,u)}e.setSpan=o;function s(l){return l.deleteValue(n)}e.deleteSpan=s;function a(l,u){return o(l,new r.NonRecordingSpan(u))}e.setSpanContext=a;function c(l){var u;return(u=i(l))===null||u===void 0?void 0:u.spanContext()}e.getSpanContext=c}),WP=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wrapSpanContext=e.isSpanContextValid=e.isValidSpanId=e.isValidTraceId=void 0;var t=HP(),r=VP(),n=/^([0-9a-f]{32})$/i,i=/^[0-9a-f]{16}$/i;function o(l){return n.test(l)&&l!==t.INVALID_TRACEID}e.isValidTraceId=o;function s(l){return i.test(l)&&l!==t.INVALID_SPANID}e.isValidSpanId=s;function a(l){return o(l.traceId)&&s(l.spanId)}e.isSpanContextValid=a;function c(l){return new r.NonRecordingSpan(l)}e.wrapSpanContext=c}),UH=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTracer=void 0;var t=jH(),r=$H(),n=VP(),i=WP(),o=t.ContextAPI.getInstance(),s=function(){function c(){}return c.prototype.startSpan=function(l,u,f){var d=Boolean(u==null?void 0:u.root);if(d)return new n.NonRecordingSpan;var p=f&&r.getSpanContext(f);return a(p)&&i.isSpanContextValid(p)?new n.NonRecordingSpan(p):new n.NonRecordingSpan},c.prototype.startActiveSpan=function(l,u,f,d){var p,h,m;if(!(arguments.length<2)){arguments.length===2?m=u:arguments.length===3?(p=u,m=f):(p=u,h=f,m=d);var g=h!=null?h:o.active(),v=this.startSpan(l,p,g),y=r.setSpan(g,v);return o.with(y,m,void 0,v)}},c}();e.NoopTracer=s;function a(c){return typeof c=="object"&&typeof c.spanId=="string"&&typeof c.traceId=="string"&&typeof c.traceFlags=="number"}}),BH=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyTracer=void 0;var t=UH(),r=new t.NoopTracer,n=function(){function i(o,s,a){this._provider=o,this.name=s,this.version=a}return i.prototype.startSpan=function(o,s,a){return this._getTracer().startSpan(o,s,a)},i.prototype.startActiveSpan=function(o,s,a,c){var l=this._getTracer();return Reflect.apply(l.startActiveSpan,l,arguments)},i.prototype._getTracer=function(){if(this._delegate)return this._delegate;var o=this._provider.getDelegateTracer(this.name,this.version);return o?(this._delegate=o,this._delegate):r},i}();e.ProxyTracer=n}),Ace=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTracerProvider=void 0;var t=UH(),r=function(){function n(){}return n.prototype.getTracer=function(i,o){return new t.NoopTracer},n}();e.NoopTracerProvider=r}),HH=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyTracerProvider=void 0;var t=BH(),r=Ace(),n=new r.NoopTracerProvider,i=function(){function o(){}return o.prototype.getTracer=function(s,a){var c;return(c=this.getDelegateTracer(s,a))!==null&&c!==void 0?c:new t.ProxyTracer(this,s,a)},o.prototype.getDelegate=function(){var s;return(s=this._delegate)!==null&&s!==void 0?s:n},o.prototype.setDelegate=function(s){this._delegate=s},o.prototype.getDelegateTracer=function(s,a){var c;return(c=this._delegate)===null||c===void 0?void 0:c.getTracer(s,a)},o}();e.ProxyTracerProvider=i}),Dce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Rce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SamplingDecision=void 0;var t;(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(t=e.SamplingDecision||(e.SamplingDecision={}))}),Oce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Nce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SpanKind=void 0;var t;(function(r){r[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"})(t=e.SpanKind||(e.SpanKind={}))}),Lce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Fce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Mce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SpanStatusCode=void 0;var t;(function(r){r[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"})(t=e.SpanStatusCode||(e.SpanStatusCode={}))}),jce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),qce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),$ce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Uce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Bce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceAPI=void 0;var t=Ah(),r=HH(),n=WP(),i=$H(),o=Dh(),s="trace",a=function(){function c(){this._proxyTracerProvider=new r.ProxyTracerProvider,this.wrapSpanContext=n.wrapSpanContext,this.isSpanContextValid=n.isSpanContextValid,this.deleteSpan=i.deleteSpan,this.getSpan=i.getSpan,this.getSpanContext=i.getSpanContext,this.setSpan=i.setSpan,this.setSpanContext=i.setSpanContext}return c.getInstance=function(){return this._instance||(this._instance=new c),this._instance},c.prototype.setGlobalTracerProvider=function(l){var u=t.registerGlobal(s,this._proxyTracerProvider,o.DiagAPI.instance());return u&&this._proxyTracerProvider.setDelegate(l),u},c.prototype.getTracerProvider=function(){return t.getGlobal(s)||this._proxyTracerProvider},c.prototype.getTracer=function(l,u){return this.getTracerProvider().getTracer(l,u)},c.prototype.disable=function(){t.unregisterGlobal(s,o.DiagAPI.instance()),this._proxyTracerProvider=new r.ProxyTracerProvider},c}();e.TraceAPI=a}),Hce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTextMapPropagator=void 0;var t=function(){function r(){}return r.prototype.inject=function(n,i){},r.prototype.extract=function(n,i){return n},r.prototype.fields=function(){return[]},r}();e.NoopTextMapPropagator=t}),Vce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deleteBaggage=e.setBaggage=e.getBaggage=void 0;var t=Qw(),r=t.createContextKey("OpenTelemetry Baggage Key");function n(s){return s.getValue(r)||void 0}e.getBaggage=n;function i(s,a){return s.setValue(r,a)}e.setBaggage=i;function o(s){return s.deleteValue(r)}e.deleteBaggage=o}),Wce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PropagationAPI=void 0;var t=Ah(),r=Hce(),n=MH(),i=Vce(),o=FH(),s=Dh(),a="propagation",c=new r.NoopTextMapPropagator,l=function(){function u(){this.createBaggage=o.createBaggage,this.getBaggage=i.getBaggage,this.setBaggage=i.setBaggage,this.deleteBaggage=i.deleteBaggage}return u.getInstance=function(){return this._instance||(this._instance=new u),this._instance},u.prototype.setGlobalPropagator=function(f){return t.registerGlobal(a,f,s.DiagAPI.instance())},u.prototype.inject=function(f,d,p){return p===void 0&&(p=n.defaultTextMapSetter),this._getGlobalPropagator().inject(f,d,p)},u.prototype.extract=function(f,d,p){return p===void 0&&(p=n.defaultTextMapGetter),this._getGlobalPropagator().extract(f,d,p)},u.prototype.fields=function(){return this._getGlobalPropagator().fields()},u.prototype.disable=function(){t.unregisterGlobal(a,s.DiagAPI.instance())},u.prototype._getGlobalPropagator=function(){return t.getGlobal(a)||c},u}();e.PropagationAPI=l}),Wt=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(u,f,d,p){p===void 0&&(p=d),Object.defineProperty(u,p,{enumerable:!0,get:function(){return f[d]}})}:function(u,f,d,p){p===void 0&&(p=d),u[p]=f[d]}),r=e&&e.__exportStar||function(u,f){for(var d in u)d!=="default"&&!Object.prototype.hasOwnProperty.call(f,d)&&t(f,u,d)};Object.defineProperty(e,"__esModule",{value:!0}),e.diag=e.propagation=e.trace=e.context=e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=e.isValidSpanId=e.isValidTraceId=e.isSpanContextValid=e.baggageEntryMetadataFromString=void 0,r(hce(),e);var n=FH();Object.defineProperty(e,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return n.baggageEntryMetadataFromString}}),r(_ce(),e),r(Sce(),e),r(Pce(),e),r(MH(),e),r(kce(),e),r(Ice(),e),r(BH(),e),r(HH(),e),r(Dce(),e),r(Rce(),e),r(Oce(),e),r(Nce(),e),r(Lce(),e),r(Fce(),e),r(Mce(),e),r(qH(),e),r(jce(),e),r(qce(),e),r($ce(),e);var i=WP();Object.defineProperty(e,"isSpanContextValid",{enumerable:!0,get:function(){return i.isSpanContextValid}}),Object.defineProperty(e,"isValidTraceId",{enumerable:!0,get:function(){return i.isValidTraceId}}),Object.defineProperty(e,"isValidSpanId",{enumerable:!0,get:function(){return i.isValidSpanId}});var o=HP();Object.defineProperty(e,"INVALID_SPANID",{enumerable:!0,get:function(){return o.INVALID_SPANID}}),Object.defineProperty(e,"INVALID_TRACEID",{enumerable:!0,get:function(){return o.INVALID_TRACEID}}),Object.defineProperty(e,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return o.INVALID_SPAN_CONTEXT}}),r(Qw(),e),r(Uce(),e);var s=jH();e.context=s.ContextAPI.getInstance();var a=Bce();e.trace=a.TraceAPI.getInstance();var c=Wce();e.propagation=c.PropagationAPI.getInstance();var l=Dh();e.diag=l.DiagAPI.instance(),e.default={trace:e.trace,context:e.context,propagation:e.propagation,diag:e.diag}}),zP=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTracingSuppressed=e.unsuppressTracing=e.suppressTracing=void 0;var t=Wt(),r=t.createContextKey("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function n(s){return s.setValue(r,!0)}e.suppressTracing=n;function i(s){return s.deleteValue(r)}e.unsuppressTracing=i;function o(s){return s.getValue(r)===!0}e.isTracingSuppressed=o}),VH=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BAGGAGE_MAX_TOTAL_LENGTH=e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=e.BAGGAGE_MAX_NAME_VALUE_PAIRS=e.BAGGAGE_HEADER=e.BAGGAGE_ITEMS_SEPARATOR=e.BAGGAGE_PROPERTIES_SEPARATOR=e.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,e.BAGGAGE_KEY_PAIR_SEPARATOR="=",e.BAGGAGE_PROPERTIES_SEPARATOR=";",e.BAGGAGE_ITEMS_SEPARATOR=",",e.BAGGAGE_HEADER="baggage",e.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,e.BAGGAGE_MAX_TOTAL_LENGTH=8192}),WH=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseKeyPairsIntoRecord=e.parsePairKeyValue=e.getKeyPairs=e.serializeKeyPairs=void 0;var t=Wt(),r=VH(),n=a=>a.reduce((c,l)=>{let u=`${c}${c!==""?r.BAGGAGE_ITEMS_SEPARATOR:""}${l}`;return u.length>r.BAGGAGE_MAX_TOTAL_LENGTH?c:u},"");e.serializeKeyPairs=n;var i=a=>a.getAllEntries().map(([c,l])=>`${encodeURIComponent(c)}=${encodeURIComponent(l.value)}`);e.getKeyPairs=i;var o=a=>{let c=a.split(r.BAGGAGE_PROPERTIES_SEPARATOR);if(c.length<=0)return;let l=c.shift();if(!l)return;let u=l.split(r.BAGGAGE_KEY_PAIR_SEPARATOR);if(u.length!==2)return;let f=decodeURIComponent(u[0].trim()),d=decodeURIComponent(u[1].trim()),p;return c.length>0&&(p=t.baggageEntryMetadataFromString(c.join(r.BAGGAGE_PROPERTIES_SEPARATOR))),{key:f,value:d,metadata:p}};e.parsePairKeyValue=o;var s=a=>typeof a!="string"||a.length===0?{}:a.split(r.BAGGAGE_ITEMS_SEPARATOR).map(c=>e.parsePairKeyValue(c)).filter(c=>c!==void 0&&c.value.length>0).reduce((c,l)=>(c[l.key]=l.value,c),{});e.parseKeyPairsIntoRecord=s}),zce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpBaggagePropagator=void 0;var t=Wt(),r=zP(),n=VH(),i=WH(),o=class{inject(s,a,c){let l=t.propagation.getBaggage(s);if(!l||r.isTracingSuppressed(s))return;let u=i.getKeyPairs(l).filter(d=>d.length<=n.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,n.BAGGAGE_MAX_NAME_VALUE_PAIRS),f=i.serializeKeyPairs(u);f.length>0&&c.set(a,n.BAGGAGE_HEADER,f)}extract(s,a,c){let l=c.get(a,n.BAGGAGE_HEADER);if(!l)return s;let u={};return l.length===0||(l.split(n.BAGGAGE_ITEMS_SEPARATOR).forEach(f=>{let d=i.parsePairKeyValue(f);if(d){let p={value:d.value};d.metadata&&(p.metadata=d.metadata),u[d.key]=p}}),Object.entries(u).length===0)?s:t.propagation.setBaggage(s,t.propagation.createBaggage(u))}fields(){return[n.BAGGAGE_HEADER]}};e.HttpBaggagePropagator=o}),Gce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAttributeValue=e.sanitizeAttributes=void 0;function t(o){let s={};if(o==null||typeof o!="object")return s;for(let[a,c]of Object.entries(o))r(c)&&(Array.isArray(c)?s[a]=c.slice():s[a]=c);return s}e.sanitizeAttributes=t;function r(o){return o==null?!0:Array.isArray(o)?n(o):i(o)}e.isAttributeValue=r;function n(o){let s;for(let a of o)if(a!=null){if(!s){if(i(a)){s=typeof a;continue}return!1}if(typeof a!==s)return!1}return!0}function i(o){switch(typeof o){case"number":return!0;case"boolean":return!0;case"string":return!0}return!1}}),zH=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loggingErrorHandler=void 0;var t=Wt();function r(){return o=>{t.diag.error(n(o))}}e.loggingErrorHandler=r;function n(o){return typeof o=="string"?o:JSON.stringify(i(o))}function i(o){let s={},a=o;for(;a!==null;)Object.getOwnPropertyNames(a).forEach(c=>{if(s[c])return;let l=a[c];l&&(s[c]=String(l))}),a=Object.getPrototypeOf(a);return s}}),GH=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.globalErrorHandler=e.setGlobalErrorHandler=void 0;var t=zH(),r=t.loggingErrorHandler();function n(o){r=o}e.setGlobalErrorHandler=n;var i=o=>{try{r(o)}catch{}};e.globalErrorHandler=i}),KH=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TracesSamplerValues=void 0;var t;(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(t=e.TracesSamplerValues||(e.TracesSamplerValues={}))}),YH=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseEnvironment=e.DEFAULT_ENVIRONMENT=void 0;var t=Wt(),r=KH(),n=",",i=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT"];function o(p){return i.indexOf(p)>-1}var s=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function a(p){return s.indexOf(p)>-1}e.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:t.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:r.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:""};function c(p,h,m,g=-1/0,v=1/0){if(typeof m[p]<"u"){let y=Number(m[p]);isNaN(y)||(y<g?h[p]=g:y>v?h[p]=v:h[p]=y)}}function l(p,h,m,g=n){let v=m[p];typeof v=="string"&&(h[p]=v.split(g).map(y=>y.trim()))}var u={ALL:t.DiagLogLevel.ALL,VERBOSE:t.DiagLogLevel.VERBOSE,DEBUG:t.DiagLogLevel.DEBUG,INFO:t.DiagLogLevel.INFO,WARN:t.DiagLogLevel.WARN,ERROR:t.DiagLogLevel.ERROR,NONE:t.DiagLogLevel.NONE};function f(p,h,m){let g=m[p];if(typeof g=="string"){let v=u[g.toUpperCase()];v!=null&&(h[p]=v)}}function d(p){let h={};for(let m in e.DEFAULT_ENVIRONMENT){let g=m;switch(g){case"OTEL_LOG_LEVEL":f(g,h,p);break;default:if(o(g))c(g,h,p);else if(a(g))l(g,h,p);else{let v=p[g];typeof v<"u"&&v!==null&&(h[g]=String(v))}}}return h}e.parseEnvironment=d}),Kce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnv=void 0;var t=require("os"),r=YH();function n(){let i=r.parseEnvironment(process.env);return Object.assign({HOSTNAME:t.hostname()},r.DEFAULT_ENVIRONMENT,i)}e.getEnv=n}),Yce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hexToBase64=void 0;function t(r){let n=r.length,i="";for(let o=0;o<n;o+=2){let s=r.substring(o,o+2),a=parseInt(s,16);i+=String.fromCharCode(a)}return Buffer.from(i,"ascii").toString("base64")}e.hexToBase64=t}),Jce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomIdGenerator=void 0;var t=8,r=16,n=class{constructor(){this.generateTraceId=o(r),this.generateSpanId=o(t)}};e.RandomIdGenerator=n;var i=Buffer.allocUnsafe(r);function o(s){return function(){for(let a=0;a<s/4;a++)i.writeUInt32BE(Math.random()*2**32>>>0,a*4);for(let a=0;a<s&&!(i[a]>0);a++)a===s-1&&(i[s-1]=1);return i.toString("hex",0,s)}}}),Qce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.otperformance=void 0;var t=require("perf_hooks");e.otperformance=t.performance}),GP=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="0.23.0"}),Xce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RpcGrpcStatusCodeValues=e.MessagingOperationValues=e.MessagingDestinationKindValues=e.HttpFlavorValues=e.NetTransportValues=e.FaasInvokedProviderValues=e.FaasDocumentOperationValues=e.FaasTriggerValues=e.DbCassandraConsistencyLevelValues=e.DbSystemValues=e.SemanticAttributes=void 0,e.SemanticAttributes={DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_METHOD:"rpc.jsonrpc.method",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message"};var t;(function(f){f.OTHER_SQL="other_sql",f.MSSQL="mssql",f.MYSQL="mysql",f.ORACLE="oracle",f.DB2="db2",f.POSTGRESQL="postgresql",f.REDSHIFT="redshift",f.HIVE="hive",f.CLOUDSCAPE="cloudscape",f.HSQLDB="hsqldb",f.PROGRESS="progress",f.MAXDB="maxdb",f.HANADB="hanadb",f.INGRES="ingres",f.FIRSTSQL="firstsql",f.EDB="edb",f.CACHE="cache",f.ADABAS="adabas",f.FIREBIRD="firebird",f.DERBY="derby",f.FILEMAKER="filemaker",f.INFORMIX="informix",f.INSTANTDB="instantdb",f.INTERBASE="interbase",f.MARIADB="mariadb",f.NETEZZA="netezza",f.PERVASIVE="pervasive",f.POINTBASE="pointbase",f.SQLITE="sqlite",f.SYBASE="sybase",f.TERADATA="teradata",f.VERTICA="vertica",f.H2="h2",f.COLDFUSION="coldfusion",f.CASSANDRA="cassandra",f.HBASE="hbase",f.MONGODB="mongodb",f.REDIS="redis",f.COUCHBASE="couchbase",f.COUCHDB="couchdb",f.COSMOSDB="cosmosdb",f.DYNAMODB="dynamodb",f.NEO4J="neo4j",f.GEODE="geode",f.ELASTICSEARCH="elasticsearch",f.MEMCACHED="memcached",f.COCKROACHDB="cockroachdb"})(t=e.DbSystemValues||(e.DbSystemValues={}));var r;(function(f){f.ALL="all",f.EACH_QUORUM="each_quorum",f.QUORUM="quorum",f.LOCAL_QUORUM="local_quorum",f.ONE="one",f.TWO="two",f.THREE="three",f.LOCAL_ONE="local_one",f.ANY="any",f.SERIAL="serial",f.LOCAL_SERIAL="local_serial"})(r=e.DbCassandraConsistencyLevelValues||(e.DbCassandraConsistencyLevelValues={}));var n;(function(f){f.DATASOURCE="datasource",f.HTTP="http",f.PUBSUB="pubsub",f.TIMER="timer",f.OTHER="other"})(n=e.FaasTriggerValues||(e.FaasTriggerValues={}));var i;(function(f){f.INSERT="insert",f.EDIT="edit",f.DELETE="delete"})(i=e.FaasDocumentOperationValues||(e.FaasDocumentOperationValues={}));var o;(function(f){f.AWS="aws",f.AZURE="azure",f.GCP="gcp"})(o=e.FaasInvokedProviderValues||(e.FaasInvokedProviderValues={}));var s;(function(f){f.IP_TCP="ip_tcp",f.IP_UDP="ip_udp",f.IP="ip",f.UNIX="unix",f.PIPE="pipe",f.INPROC="inproc",f.OTHER="other"})(s=e.NetTransportValues||(e.NetTransportValues={}));var a;(function(f){f.HTTP_1_0="1.0",f.HTTP_1_1="1.1",f.HTTP_2_0="2.0",f.SPDY="SPDY",f.QUIC="QUIC"})(a=e.HttpFlavorValues||(e.HttpFlavorValues={}));var c;(function(f){f.QUEUE="queue",f.TOPIC="topic"})(c=e.MessagingDestinationKindValues||(e.MessagingDestinationKindValues={}));var l;(function(f){f.RECEIVE="receive",f.PROCESS="process"})(l=e.MessagingOperationValues||(e.MessagingOperationValues={}));var u;(function(f){f[f.OK=0]="OK",f[f.CANCELLED=1]="CANCELLED",f[f.UNKNOWN=2]="UNKNOWN",f[f.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",f[f.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",f[f.NOT_FOUND=5]="NOT_FOUND",f[f.ALREADY_EXISTS=6]="ALREADY_EXISTS",f[f.PERMISSION_DENIED=7]="PERMISSION_DENIED",f[f.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",f[f.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",f[f.ABORTED=10]="ABORTED",f[f.OUT_OF_RANGE=11]="OUT_OF_RANGE",f[f.UNIMPLEMENTED=12]="UNIMPLEMENTED",f[f.INTERNAL=13]="INTERNAL",f[f.UNAVAILABLE=14]="UNAVAILABLE",f[f.DATA_LOSS=15]="DATA_LOSS",f[f.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(u=e.RpcGrpcStatusCodeValues||(e.RpcGrpcStatusCodeValues={}))}),Zce=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Xce(),e)}),ele=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetrySdkLanguageValues=e.OsTypeValues=e.HostArchValues=e.AwsEcsLaunchtypeValues=e.CloudPlatformValues=e.CloudProviderValues=e.ResourceAttributes=void 0,e.ResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};var t;(function(a){a.AWS="aws",a.AZURE="azure",a.GCP="gcp"})(t=e.CloudProviderValues||(e.CloudProviderValues={}));var r;(function(a){a.AWS_EC2="aws_ec2",a.AWS_ECS="aws_ecs",a.AWS_EKS="aws_eks",a.AWS_LAMBDA="aws_lambda",a.AWS_ELASTIC_BEANSTALK="aws_elastic_beanstalk",a.AZURE_VM="azure_vm",a.AZURE_CONTAINER_INSTANCES="azure_container_instances",a.AZURE_AKS="azure_aks",a.AZURE_FUNCTIONS="azure_functions",a.AZURE_APP_SERVICE="azure_app_service",a.GCP_COMPUTE_ENGINE="gcp_compute_engine",a.GCP_CLOUD_RUN="gcp_cloud_run",a.GCP_KUBERNETES_ENGINE="gcp_kubernetes_engine",a.GCP_CLOUD_FUNCTIONS="gcp_cloud_functions",a.GCP_APP_ENGINE="gcp_app_engine"})(r=e.CloudPlatformValues||(e.CloudPlatformValues={}));var n;(function(a){a.EC2="ec2",a.FARGATE="fargate"})(n=e.AwsEcsLaunchtypeValues||(e.AwsEcsLaunchtypeValues={}));var i;(function(a){a.AMD64="amd64",a.ARM32="arm32",a.ARM64="arm64",a.IA64="ia64",a.PPC32="ppc32",a.PPC64="ppc64",a.X86="x86"})(i=e.HostArchValues||(e.HostArchValues={}));var o;(function(a){a.WINDOWS="windows",a.LINUX="linux",a.DARWIN="darwin",a.FREEBSD="freebsd",a.NETBSD="netbsd",a.OPENBSD="openbsd",a.DRAGONFLYBSD="dragonflybsd",a.HPUX="hpux",a.AIX="aix",a.SOLARIS="solaris",a.Z_OS="z_os"})(o=e.OsTypeValues||(e.OsTypeValues={}));var s;(function(a){a.CPP="cpp",a.DOTNET="dotnet",a.ERLANG="erlang",a.GO="go",a.JAVA="java",a.NODEJS="nodejs",a.PHP="php",a.PYTHON="python",a.RUBY="ruby",a.WEBJS="webjs"})(s=e.TelemetrySdkLanguageValues||(e.TelemetrySdkLanguageValues={}))}),tle=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(ele(),e)}),Rh=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Zce(),e),r(tle(),e)}),rle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SDK_INFO=void 0;var t=GP(),r=Rh();e.SDK_INFO={[r.ResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[r.ResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[r.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.TelemetrySdkLanguageValues.NODEJS,[r.ResourceAttributes.TELEMETRY_SDK_VERSION]:t.VERSION}}),nle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unrefTimer=void 0;function t(r){r.unref()}e.unrefTimer=t}),ile=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Kce(),e),r(Yce(),e),r(Jce(),e),r(Qce(),e),r(rle(),e),r(nle(),e)}),JH=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(ile(),e)}),ole=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTimeInput=e.isTimeInputHrTime=e.hrTimeToMicroseconds=e.hrTimeToMilliseconds=e.hrTimeToNanoseconds=e.hrTimeToTimeStamp=e.hrTimeDuration=e.timeInputToHrTime=e.hrTime=void 0;var t=JH(),r=9,n=Math.pow(10,r);function i(m){let g=m/1e3,v=Math.trunc(g),y=Number((g-v).toFixed(r))*n;return[v,y]}function o(){let m=t.otperformance.timeOrigin;if(typeof m!="number"){let g=t.otperformance;m=g.timing&&g.timing.fetchStart}return m}function s(m){let g=i(o()),v=i(typeof m=="number"?m:t.otperformance.now()),y=g[0]+v[0],C=g[1]+v[1];return C>n&&(C-=n,y+=1),[y,C]}e.hrTime=s;function a(m){if(p(m))return m;if(typeof m=="number")return m<o()?s(m):i(m);if(m instanceof Date)return i(m.getTime());throw TypeError("Invalid input type")}e.timeInputToHrTime=a;function c(m,g){let v=g[0]-m[0],y=g[1]-m[1];return y<0&&(v-=1,y+=n),[v,y]}e.hrTimeDuration=c;function l(m){let g=r,v=`${"0".repeat(g)}${m[1]}Z`,y=v.substr(v.length-g-1);return new Date(m[0]*1e3).toISOString().replace("000Z",y)}e.hrTimeToTimeStamp=l;function u(m){return m[0]*n+m[1]}e.hrTimeToNanoseconds=u;function f(m){return Math.round(m[0]*1e3+m[1]/1e6)}e.hrTimeToMilliseconds=f;function d(m){return Math.round(m[0]*1e6+m[1]/1e3)}e.hrTimeToMicroseconds=d;function p(m){return Array.isArray(m)&&m.length===2&&typeof m[0]=="number"&&typeof m[1]=="number"}e.isTimeInputHrTime=p;function h(m){return p(m)||typeof m=="number"||m instanceof Date}e.isTimeInput=h}),sle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),ale=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExportResultCode=void 0;var t;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(t=e.ExportResultCode||(e.ExportResultCode={}))}),cle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositePropagator=void 0;var t=Wt(),r=class{constructor(n={}){var i;this._propagators=(i=n.propagators)!==null&&i!==void 0?i:[],this._fields=Array.from(new Set(this._propagators.map(o=>typeof o.fields=="function"?o.fields():[]).reduce((o,s)=>o.concat(s),[])))}inject(n,i,o){for(let s of this._propagators)try{s.inject(n,i,o)}catch(a){t.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${a.message}`)}}extract(n,i,o){return this._propagators.reduce((s,a)=>{try{return a.extract(s,i,o)}catch(c){t.diag.warn(`Failed to inject with ${a.constructor.name}. Err: ${c.message}`)}return s},n)}fields(){return this._fields.slice()}};e.CompositePropagator=r}),lle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateValue=e.validateKey=void 0;var t="[_0-9a-z-*/]",r=`[a-z]${t}{0,255}`,n=`[a-z0-9]${t}{0,240}@[a-z]${t}{0,13}`,i=new RegExp(`^(?:${r}|${n})$`),o=/^[ -~]{0,255}[!-~]$/,s=/,|=/;function a(l){return i.test(l)}e.validateKey=a;function c(l){return o.test(l)&&!s.test(l)}e.validateValue=c}),QH=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceState=void 0;var t=lle(),r=32,n=512,i=",",o="=",s=class{constructor(a){this._internalState=new Map,a&&this._parse(a)}set(a,c){let l=this._clone();return l._internalState.has(a)&&l._internalState.delete(a),l._internalState.set(a,c),l}unset(a){let c=this._clone();return c._internalState.delete(a),c}get(a){return this._internalState.get(a)}serialize(){return this._keys().reduce((a,c)=>(a.push(c+o+this.get(c)),a),[]).join(i)}_parse(a){a.length>n||(this._internalState=a.split(i).reverse().reduce((c,l)=>{let u=l.trim(),f=u.indexOf(o);if(f!==-1){let d=u.slice(0,f),p=u.slice(f+1,l.length);t.validateKey(d)&&t.validateValue(p)&&c.set(d,p)}return c},new Map),this._internalState.size>r&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,r))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let a=new s;return a._internalState=new Map(this._internalState),a}};e.TraceState=s}),ule=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpTraceContextPropagator=e.parseTraceParent=e.TRACE_STATE_HEADER=e.TRACE_PARENT_HEADER=void 0;var t=Wt(),r=zP(),n=QH();e.TRACE_PARENT_HEADER="traceparent",e.TRACE_STATE_HEADER="tracestate";var i="00",o="(?!ff)[\\da-f]{2}",s="(?![0]{32})[\\da-f]{32}",a="(?![0]{16})[\\da-f]{16}",c="[\\da-f]{2}",l=new RegExp(`^\\s?(${o})-(${s})-(${a})-(${c})(-.*)?\\s?$`);function u(d){let p=l.exec(d);return!p||p[1]==="00"&&p[5]?null:{traceId:p[2],spanId:p[3],traceFlags:parseInt(p[4],16)}}e.parseTraceParent=u;var f=class{inject(d,p,h){let m=t.trace.getSpanContext(d);if(!m||r.isTracingSuppressed(d)||!t.isSpanContextValid(m))return;let g=`${i}-${m.traceId}-${m.spanId}-0${Number(m.traceFlags||t.TraceFlags.NONE).toString(16)}`;h.set(p,e.TRACE_PARENT_HEADER,g),m.traceState&&h.set(p,e.TRACE_STATE_HEADER,m.traceState.serialize())}extract(d,p,h){let m=h.get(p,e.TRACE_PARENT_HEADER);if(!m)return d;let g=Array.isArray(m)?m[0]:m;if(typeof g!="string")return d;let v=u(g);if(!v)return d;v.isRemote=!0;let y=h.get(p,e.TRACE_STATE_HEADER);if(y){let C=Array.isArray(y)?y.join(","):y;v.traceState=new n.TraceState(typeof C=="string"?C:void 0)}return t.trace.setSpanContext(d,v)}fields(){return[e.TRACE_PARENT_HEADER,e.TRACE_STATE_HEADER]}};e.HttpTraceContextPropagator=f}),fle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),dle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRPCMetadata=e.deleteRPCMetadata=e.setRPCMetadata=e.RPCType=void 0;var t=Wt(),r=t.createContextKey("OpenTelemetry SDK Context Key RPC_METADATA"),n;(function(a){a.HTTP="http"})(n=e.RPCType||(e.RPCType={}));function i(a,c){return a.setValue(r,c)}e.setRPCMetadata=i;function o(a){return a.deleteValue(r)}e.deleteRPCMetadata=o;function s(a){return a.getValue(r)}e.getRPCMetadata=s}),XH=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysOffSampler=void 0;var t=Wt(),r=class{shouldSample(){return{decision:t.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};e.AlwaysOffSampler=r}),ZH=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysOnSampler=void 0;var t=Wt(),r=class{shouldSample(){return{decision:t.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};e.AlwaysOnSampler=r}),ple=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParentBasedSampler=void 0;var t=Wt(),r=GH(),n=XH(),i=ZH(),o=class{constructor(s){var a,c,l,u;this._root=s.root,this._root||(r.globalErrorHandler(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new i.AlwaysOnSampler),this._remoteParentSampled=(a=s.remoteParentSampled)!==null&&a!==void 0?a:new i.AlwaysOnSampler,this._remoteParentNotSampled=(c=s.remoteParentNotSampled)!==null&&c!==void 0?c:new n.AlwaysOffSampler,this._localParentSampled=(l=s.localParentSampled)!==null&&l!==void 0?l:new i.AlwaysOnSampler,this._localParentNotSampled=(u=s.localParentNotSampled)!==null&&u!==void 0?u:new n.AlwaysOffSampler}shouldSample(s,a,c,l,u,f){let d=t.trace.getSpanContext(s);return!d||!t.isSpanContextValid(d)?this._root.shouldSample(s,a,c,l,u,f):d.isRemote?d.traceFlags&t.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(s,a,c,l,u,f):this._remoteParentNotSampled.shouldSample(s,a,c,l,u,f):d.traceFlags&t.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(s,a,c,l,u,f):this._localParentNotSampled.shouldSample(s,a,c,l,u,f)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};e.ParentBasedSampler=o}),hle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceIdRatioBasedSampler=void 0;var t=Wt(),r=class{constructor(n=0){this._ratio=n,this._ratio=this._normalize(n),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(n,i){return{decision:t.isValidTraceId(i)&&this._accumulate(i)<this._upperBound?t.SamplingDecision.RECORD_AND_SAMPLED:t.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(n){return typeof n!="number"||isNaN(n)?0:n>=1?1:n<=0?0:n}_accumulate(n){let i=0;for(let o=0;o<n.length/8;o++){let s=o*8,a=parseInt(n.slice(s,s+8),16);i=(i^a)>>>0}return i}};e.TraceIdRatioBasedSampler=r}),mle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isUrlIgnored=e.urlMatches=void 0;function t(n,i){return typeof i=="string"?n===i:i.test(n)}e.urlMatches=t;function r(n,i){if(!i)return!1;for(let o of i)if(t(n,o))return!0;return!1}e.isUrlIgnored=r}),gle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isWrapped=void 0;function t(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}e.isWrapped=t}),Qi=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.baggageUtils=void 0,r(zce(),e),r(Gce(),e),r(GH(),e),r(zH(),e),r(ole(),e),r(sle(),e),r(ale(),e),r(GP(),e),e.baggageUtils=WH(),r(JH(),e),r(cle(),e),r(ule(),e),r(fle(),e),r(dle(),e),r(XH(),e),r(ZH(),e),r(ple(),e),r(hle(),e),r(zP(),e),r(QH(),e),r(YH(),e),r(KH(),e),r(mle(),e),r(gle(),e),r(GP(),e)}),vle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExceptionEventName=void 0,e.ExceptionEventName="exception"}),eV=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Span=void 0;var t=Wt(),r=Qi(),n=Rh(),i=vle(),o=class{constructor(s,a,c,l,u,f,d=[],p=r.hrTime()){this.attributes={},this.links=[],this.events=[],this.status={code:t.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=c,this._spanContext=l,this.parentSpanId=f,this.kind=u,this.links=d,this.startTime=r.timeInputToHrTime(p),this.resource=s.resource,this.instrumentationLibrary=s.instrumentationLibrary,this._spanLimits=s.getSpanLimits(),this._spanProcessor=s.getActiveSpanProcessor(),this._spanProcessor.onStart(this,a)}spanContext(){return this._spanContext}setAttribute(s,a){return a==null||this._isSpanEnded()?this:s.length===0?(t.diag.warn(`Invalid attribute key: ${s}`),this):r.isAttributeValue(a)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,s)?this:(this.attributes[s]=a,this):(t.diag.warn(`Invalid attribute value set for key: ${s}`),this)}setAttributes(s){for(let[a,c]of Object.entries(s))this.setAttribute(a,c);return this}addEvent(s,a,c){return this._isSpanEnded()?this:(this.events.length>=this._spanLimits.eventCountLimit&&(t.diag.warn("Dropping extra events."),this.events.shift()),r.isTimeInput(a)&&(typeof c>"u"&&(c=a),a=void 0),typeof c>"u"&&(c=r.hrTime()),this.events.push({name:s,attributes:a,time:r.timeInputToHrTime(c)}),this)}setStatus(s){return this._isSpanEnded()?this:(this.status=s,this)}updateName(s){return this._isSpanEnded()?this:(this.name=s,this)}end(s=r.hrTime()){if(this._isSpanEnded()){t.diag.error("You can only call end() on a span once.");return}this._ended=!0,this.endTime=r.timeInputToHrTime(s),this._duration=r.hrTimeDuration(this.startTime,this.endTime),this._duration[0]<0&&t.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this)}isRecording(){return this._ended===!1}recordException(s,a=r.hrTime()){let c={};typeof s=="string"?c[n.SemanticAttributes.EXCEPTION_MESSAGE]=s:s&&(s.code?c[n.SemanticAttributes.EXCEPTION_TYPE]=s.code.toString():s.name&&(c[n.SemanticAttributes.EXCEPTION_TYPE]=s.name),s.message&&(c[n.SemanticAttributes.EXCEPTION_MESSAGE]=s.message),s.stack&&(c[n.SemanticAttributes.EXCEPTION_STACKTRACE]=s.stack)),c[n.SemanticAttributes.EXCEPTION_TYPE]||c[n.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(i.ExceptionEventName,c,a):t.diag.warn(`Failed to record an exception ${s}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&t.diag.warn("Can not execute the operation on ended Span {traceId: %s, spanId: %s}",this._spanContext.traceId,this._spanContext.spanId),this._ended}};e.Span=o}),tV=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildSamplerFromEnv=e.DEFAULT_CONFIG=void 0;var t=Wt(),r=Qi(),n=r.getEnv(),i=r.TracesSamplerValues.AlwaysOn;e.DEFAULT_CONFIG={sampler:o(n),forceFlushTimeoutMillis:3e4,spanLimits:{attributeCountLimit:r.getEnv().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:r.getEnv().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:r.getEnv().OTEL_SPAN_EVENT_COUNT_LIMIT}};function o(c=r.getEnv()){switch(c.OTEL_TRACES_SAMPLER){case r.TracesSamplerValues.AlwaysOn:return new r.AlwaysOnSampler;case r.TracesSamplerValues.AlwaysOff:return new r.AlwaysOffSampler;case r.TracesSamplerValues.ParentBasedAlwaysOn:return new r.ParentBasedSampler({root:new r.AlwaysOnSampler});case r.TracesSamplerValues.ParentBasedAlwaysOff:return new r.ParentBasedSampler({root:new r.AlwaysOffSampler});case r.TracesSamplerValues.TraceIdRatio:return new r.TraceIdRatioBasedSampler(a(c));case r.TracesSamplerValues.ParentBasedTraceIdRatio:return new r.ParentBasedSampler({root:new r.TraceIdRatioBasedSampler(a(c))});default:return t.diag.error(`OTEL_TRACES_SAMPLER value "${c.OTEL_TRACES_SAMPLER} invalid, defaulting to ${i}".`),new r.AlwaysOnSampler}}e.buildSamplerFromEnv=o;var s=1;function a(c){if(c.OTEL_TRACES_SAMPLER_ARG===void 0||c.OTEL_TRACES_SAMPLER_ARG==="")return t.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${s}.`),s;let l=Number(c.OTEL_TRACES_SAMPLER_ARG);return isNaN(l)?(t.diag.error(`OTEL_TRACES_SAMPLER_ARG=${c.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${s}.`),s):l<0||l>1?(t.diag.error(`OTEL_TRACES_SAMPLER_ARG=${c.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${s}.`),s):l}}),yle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeConfig=void 0;var t=tV();function r(n){let i={sampler:t.buildSamplerFromEnv()},o=Object.assign({},t.DEFAULT_CONFIG,i,n);return o.spanLimits=Object.assign({},t.DEFAULT_CONFIG.spanLimits,n.spanLimits||{}),o}e.mergeConfig=r}),wle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tracer=void 0;var t=Wt(),r=Qi(),n=eV(),i=yle(),o=class{constructor(a,c,l){this._tracerProvider=l;let u=i.mergeConfig(c);this._sampler=u.sampler,this._spanLimits=u.spanLimits,this._idGenerator=c.idGenerator||new r.RandomIdGenerator,this.resource=l.resource,this.instrumentationLibrary=a}startSpan(a,c={},l=t.context.active()){var u,f;if(r.isTracingSuppressed(l))return t.diag.debug("Instrumentation suppressed, returning Noop Span"),t.trace.wrapSpanContext(t.INVALID_SPAN_CONTEXT);let d=s(c,l),p=this._idGenerator.generateSpanId(),h,m,g;!d||!t.trace.isSpanContextValid(d)?h=this._idGenerator.generateTraceId():(h=d.traceId,m=d.traceState,g=d.spanId);let v=(u=c.kind)!==null&&u!==void 0?u:t.SpanKind.INTERNAL,y=(f=c.links)!==null&&f!==void 0?f:[],C=r.sanitizeAttributes(c.attributes),b=this._sampler.shouldSample(c.root?t.trace.setSpanContext(l,t.INVALID_SPAN_CONTEXT):l,h,a,v,C,y),_=b.decision===t.SamplingDecision.RECORD_AND_SAMPLED?t.TraceFlags.SAMPLED:t.TraceFlags.NONE,P={traceId:h,spanId:p,traceFlags:_,traceState:m};if(b.decision===t.SamplingDecision.NOT_RECORD)return t.diag.debug("Recording is off, propagating context in a non-recording span"),t.trace.wrapSpanContext(P);let S=new n.Span(this,l,a,P,v,g,y,c.startTime);return S.setAttributes(Object.assign(C,b.attributes)),S}startActiveSpan(a,c,l,u){let f,d,p;if(arguments.length<2)return;arguments.length===2?p=c:arguments.length===3?(f=c,p=l):(f=c,d=l,p=u);let h=d!=null?d:t.context.active(),m=this.startSpan(a,f,h),g=t.trace.setSpan(h,m);return t.context.with(g,p,void 0,m)}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};e.Tracer=o;function s(a,c){if(!a.root)return t.trace.getSpanContext(c)}}),Cle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultServiceName=void 0;function t(){return`unknown_service:${process.argv0}`}e.defaultServiceName=t}),ble=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.detectResources=void 0;var t=nV(),r=Wt(),n=require("util"),i=async(s={})=>{let a=Object.assign(s),c=await Promise.all((a.detectors||[]).map(async l=>{try{let u=await l.detect(a);return r.diag.debug(`${l.constructor.name} found resource.`,u),u}catch(u){return r.diag.debug(`${l.constructor.name} failed: ${u.message}`),t.Resource.empty()}}));return o(c),c.reduce((l,u)=>l.merge(u),t.Resource.empty())};e.detectResources=i;var o=s=>{s.forEach(a=>{if(Object.keys(a.attributes).length>0){let c=n.inspect(a.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});r.diag.verbose(c)}})}}),Ele=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.envDetector=void 0;var t=Wt(),r=Qi(),n=Rh(),i=KP(),o=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(s){let a={},c=r.getEnv(),l=c.OTEL_RESOURCE_ATTRIBUTES,u=c.OTEL_SERVICE_NAME;if(l)try{let f=this._parseResourceAttributes(l);Object.assign(a,f)}catch(f){t.diag.debug(`EnvDetector failed: ${f.message}`)}return u&&(a[n.ResourceAttributes.SERVICE_NAME]=u),new i.Resource(a)}_parseResourceAttributes(s){if(!s)return{};let a={},c=s.split(this._COMMA_SEPARATOR,-1);for(let l of c){let u=l.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(u.length!==2)continue;let[f,d]=u;if(f=f.trim(),d=d.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(f))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(d))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);a[f]=d}return a}_isValid(s){return s.length<=this._MAX_LENGTH&&this._isPrintableString(s)}_isPrintableString(s){for(let a=0;a<s.length;a++){let c=s.charAt(a);if(c<=" "||c>="~")return!1}return!0}_isValidAndNotEmpty(s){return s.length>0&&this._isValid(s)}};e.envDetector=new o}),_le=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.processDetector=void 0;var t=Wt(),r=Rh(),n=KP(),i=class{async detect(o){let s={[r.ResourceAttributes.PROCESS_PID]:process.pid,[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[r.ResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[r.ResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||""};return this._getResourceAttributes(s,o)}_getResourceAttributes(o,s){return o[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||o[r.ResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||o[r.ResourceAttributes.PROCESS_COMMAND]===""||o[r.ResourceAttributes.PROCESS_COMMAND_LINE]===""?(t.diag.debug("ProcessDetector failed: Unable to find required process resources. "),n.Resource.empty()):new n.Resource(Object.assign({},o))}};e.processDetector=new i}),Sle=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Ele(),e),r(_le(),e)}),xle=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Cle(),e),r(ble(),e),r(Sle(),e)}),rV=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(xle(),e)}),nV=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Resource=void 0;var t=Rh(),r=Qi(),n=rV(),i=class{constructor(o){this.attributes=o}static empty(){return i.EMPTY}static default(){return new i({[t.ResourceAttributes.SERVICE_NAME]:n.defaultServiceName(),[t.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_LANGUAGE],[t.ResourceAttributes.TELEMETRY_SDK_NAME]:r.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_NAME],[t.ResourceAttributes.TELEMETRY_SDK_VERSION]:r.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(o){if(!o||!Object.keys(o.attributes).length)return this;let s=Object.assign({},this.attributes,o.attributes);return new i(s)}};e.Resource=i,i.EMPTY=new i({})}),Ple=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),kle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),KP=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(nV(),e),r(rV(),e),r(Ple(),e),r(kle(),e)}),Ile=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiSpanProcessor=void 0;var t=Qi(),r=class{constructor(n){this._spanProcessors=n}forceFlush(){let n=[];for(let i of this._spanProcessors)n.push(i.forceFlush());return new Promise(i=>{Promise.all(n).then(()=>{i()}).catch(o=>{t.globalErrorHandler(o||new Error("MultiSpanProcessor: forceFlush failed")),i()})})}onStart(n,i){for(let o of this._spanProcessors)o.onStart(n,i)}onEnd(n){for(let i of this._spanProcessors)i.onEnd(n)}shutdown(){let n=[];for(let i of this._spanProcessors)n.push(i.shutdown());return new Promise((i,o)=>{Promise.all(n).then(()=>{i()},o)})}};e.MultiSpanProcessor=r}),iV=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopSpanProcessor=void 0;var t=class{onStart(r,n){}onEnd(r){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};e.NoopSpanProcessor=t}),Tle=F((e,t)=>{var r=200,n="__lodash_hash_undefined__",i=800,o=16,s=9007199254740991,a="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Function]",h="[object GeneratorFunction]",m="[object Map]",g="[object Number]",v="[object Null]",y="[object Object]",C="[object Proxy]",b="[object RegExp]",_="[object Set]",P="[object String]",S="[object Undefined]",x="[object WeakMap]",I="[object ArrayBuffer]",A="[object DataView]",O="[object Float32Array]",L="[object Float64Array]",J="[object Int8Array]",z="[object Int16Array]",ee="[object Int32Array]",ie="[object Uint8Array]",q="[object Uint8ClampedArray]",M="[object Uint16Array]",D="[object Uint32Array]",$=/[\\^$.*+?()[\]{}|]/g,Y=/^\[object .+?Constructor\]$/,Q=/^(?:0|[1-9]\d*)$/,X={};X[O]=X[L]=X[J]=X[z]=X[ee]=X[ie]=X[q]=X[M]=X[D]=!0,X[a]=X[c]=X[I]=X[u]=X[A]=X[f]=X[d]=X[p]=X[m]=X[g]=X[y]=X[b]=X[_]=X[P]=X[x]=!1;var ve=typeof global=="object"&&global&&global.Object===Object&&global,Pe=typeof self=="object"&&self&&self.Object===Object&&self,Se=ve||Pe||Function("return this")(),Oe=typeof e=="object"&&e&&!e.nodeType&&e,Ee=Oe&&typeof t=="object"&&t&&!t.nodeType&&t,xt=Ee&&Ee.exports===Oe,At=xt&&ve.process,Re=function(){try{var R=Ee&&Ee.require&&Ee.require("util").types;return R||At&&At.binding&&At.binding("util")}catch{}}(),Ae=Re&&Re.isTypedArray;function Fe(R,H,Z){switch(Z.length){case 0:return R.call(H);case 1:return R.call(H,Z[0]);case 2:return R.call(H,Z[0],Z[1]);case 3:return R.call(H,Z[0],Z[1],Z[2])}return R.apply(H,Z)}function Xe(R,H){for(var Z=-1,xe=Array(R);++Z<R;)xe[Z]=H(Z);return xe}function Jn(R){return function(H){return R(H)}}function cn(R,H){return R==null?void 0:R[H]}function ne(R,H){return function(Z){return R(H(Z))}}var Qn=Array.prototype,V=Function.prototype,ae=Object.prototype,re=Se["__core-js_shared__"],fe=V.toString,ge=ae.hasOwnProperty,Be=function(){var R=/[^.]+$/.exec(re&&re.keys&&re.keys.IE_PROTO||"");return R?"Symbol(src)_1."+R:""}(),Me=ae.toString,we=fe.call(Object),je=RegExp("^"+fe.call(ge).replace($,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_e=xt?Se.Buffer:void 0,G=Se.Symbol,oe=Se.Uint8Array,se=_e?_e.allocUnsafe:void 0,de=ne(Object.getPrototypeOf,Object),be=Object.create,De=ae.propertyIsEnumerable,it=Qn.splice,et=G?G.toStringTag:void 0,ut=function(){try{var R=eb(Object,"defineProperty");return R({},"",{}),R}catch{}}(),Ue=_e?_e.isBuffer:void 0,$t=Math.max,ye=Date.now,As=eb(Se,"Map"),Di=eb(Object,"create"),He=function(){function R(){}return function(H){if(!ec(H))return{};if(be)return be(H);R.prototype=H;var Z=new R;return R.prototype=void 0,Z}}();function Tn(R){var H=-1,Z=R==null?0:R.length;for(this.clear();++H<Z;){var xe=R[H];this.set(xe[0],xe[1])}}function $a(){this.__data__=Di?Di(null):{},this.size=0}function Ua(R){var H=this.has(R)&&delete this.__data__[R];return this.size-=H?1:0,H}function Ba(R){var H=this.__data__;if(Di){var Z=H[R];return Z===n?void 0:Z}return ge.call(H,R)?H[R]:void 0}function Ha(R){var H=this.__data__;return Di?H[R]!==void 0:ge.call(H,R)}function Va(R,H){var Z=this.__data__;return this.size+=this.has(R)?0:1,Z[R]=Di&&H===void 0?n:H,this}Tn.prototype.clear=$a,Tn.prototype.delete=Ua,Tn.prototype.get=Ba,Tn.prototype.has=Ha,Tn.prototype.set=Va;function Jr(R){var H=-1,Z=R==null?0:R.length;for(this.clear();++H<Z;){var xe=R[H];this.set(xe[0],xe[1])}}function Wa(){this.__data__=[],this.size=0}function za(R){var H=this.__data__,Z=le(H,R);if(Z<0)return!1;var xe=H.length-1;return Z==xe?H.pop():it.call(H,Z,1),--this.size,!0}function $r(R){var H=this.__data__,Z=le(H,R);return Z<0?void 0:H[Z][1]}function Ga(R){return le(this.__data__,R)>-1}function Ka(R,H){var Z=this.__data__,xe=le(Z,R);return xe<0?(++this.size,Z.push([R,H])):Z[xe][1]=H,this}Jr.prototype.clear=Wa,Jr.prototype.delete=za,Jr.prototype.get=$r,Jr.prototype.has=Ga,Jr.prototype.set=Ka;function Xn(R){var H=-1,Z=R==null?0:R.length;for(this.clear();++H<Z;){var xe=R[H];this.set(xe[0],xe[1])}}function Ya(){this.size=0,this.__data__={hash:new Tn,map:new(As||Jr),string:new Tn}}function Ja(R){var H=$m(this,R).delete(R);return this.size-=H?1:0,H}function Qa(R){return $m(this,R).get(R)}function An(R){return $m(this,R).has(R)}function Xa(R,H){var Z=$m(this,R),xe=Z.size;return Z.set(R,H),this.size+=Z.size==xe?0:1,this}Xn.prototype.clear=Ya,Xn.prototype.delete=Ja,Xn.prototype.get=Qa,Xn.prototype.has=An,Xn.prototype.set=Xa;function Zn(R){var H=this.__data__=new Jr(R);this.size=H.size}function Za(){this.__data__=new Jr,this.size=0}function w(R){var H=this.__data__,Z=H.delete(R);return this.size=H.size,Z}function E(R){return this.__data__.get(R)}function k(R){return this.__data__.has(R)}function N(R,H){var Z=this.__data__;if(Z instanceof Jr){var xe=Z.__data__;if(!As||xe.length<r-1)return xe.push([R,H]),this.size=++Z.size,this;Z=this.__data__=new Xn(xe)}return Z.set(R,H),this.size=Z.size,this}Zn.prototype.clear=Za,Zn.prototype.delete=w,Zn.prototype.get=E,Zn.prototype.has=k,Zn.prototype.set=N;function j(R,H){var Z=nb(R),xe=!Z&&rb(R),dt=!Z&&!xe&&dA(R),Ot=!Z&&!xe&&!dt&&hA(R),Ut=Z||xe||dt||Ot,st=Ut?Xe(R.length,String):[],Bt=st.length;for(var ei in R)(H||ge.call(R,ei))&&!(Ut&&(ei=="length"||dt&&(ei=="offset"||ei=="parent")||Ot&&(ei=="buffer"||ei=="byteLength"||ei=="byteOffset")||uA(ei,Bt)))&&st.push(ei);return st}function U(R,H,Z){(Z!==void 0&&!Um(R[H],Z)||Z===void 0&&!(H in R))&&ce(R,H,Z)}function W(R,H,Z){var xe=R[H];(!(ge.call(R,H)&&Um(xe,Z))||Z===void 0&&!(H in R))&&ce(R,H,Z)}function le(R,H){for(var Z=R.length;Z--;)if(Um(R[Z][0],H))return Z;return-1}function ce(R,H,Z){H=="__proto__"&&ut?ut(R,H,{configurable:!0,enumerable:!0,value:Z,writable:!0}):R[H]=Z}var ft=g8();function tt(R){return R==null?R===void 0?S:v:et&&et in Object(R)?v8(R):_8(R)}function Ye(R){return fd(R)&&tt(R)==a}function Ke(R){if(!ec(R)||b8(R))return!1;var H=ob(R)?je:Y;return H.test(k8(R))}function kt(R){return fd(R)&&pA(R.length)&&!!X[tt(R)]}function s8(R){if(!ec(R))return E8(R);var H=fA(R),Z=[];for(var xe in R)xe=="constructor"&&(H||!ge.call(R,xe))||Z.push(xe);return Z}function lA(R,H,Z,xe,dt){R!==H&&ft(H,function(Ot,Ut){if(dt||(dt=new Zn),ec(Ot))a8(R,H,Ut,Z,lA,xe,dt);else{var st=xe?xe(tb(R,Ut),Ot,Ut+"",R,H,dt):void 0;st===void 0&&(st=Ot),U(R,Ut,st)}},mA)}function a8(R,H,Z,xe,dt,Ot,Ut){var st=tb(R,Z),Bt=tb(H,Z),ei=Ut.get(Bt);if(ei){U(R,Z,ei);return}var Dn=Ot?Ot(st,Bt,Z+"",R,H,Ut):void 0,dd=Dn===void 0;if(dd){var sb=nb(Bt),ab=!sb&&dA(Bt),vA=!sb&&!ab&&hA(Bt);Dn=Bt,sb||ab||vA?nb(st)?Dn=st:I8(st)?Dn=p8(st):ab?(dd=!1,Dn=u8(Bt,!0)):vA?(dd=!1,Dn=d8(Bt,!0)):Dn=[]:T8(Bt)||rb(Bt)?(Dn=st,rb(st)?Dn=A8(st):(!ec(st)||ob(st))&&(Dn=y8(Bt))):dd=!1}dd&&(Ut.set(Bt,Dn),dt(Dn,Bt,xe,Ot,Ut),Ut.delete(Bt)),U(R,Z,Dn)}function c8(R,H){return x8(S8(R,H,gA),R+"")}var l8=ut?function(R,H){return ut(R,"toString",{configurable:!0,enumerable:!1,value:R8(H),writable:!0})}:gA;function u8(R,H){if(H)return R.slice();var Z=R.length,xe=se?se(Z):new R.constructor(Z);return R.copy(xe),xe}function f8(R){var H=new R.constructor(R.byteLength);return new oe(H).set(new oe(R)),H}function d8(R,H){var Z=H?f8(R.buffer):R.buffer;return new R.constructor(Z,R.byteOffset,R.length)}function p8(R,H){var Z=-1,xe=R.length;for(H||(H=Array(xe));++Z<xe;)H[Z]=R[Z];return H}function h8(R,H,Z,xe){var dt=!Z;Z||(Z={});for(var Ot=-1,Ut=H.length;++Ot<Ut;){var st=H[Ot],Bt=xe?xe(Z[st],R[st],st,Z,R):void 0;Bt===void 0&&(Bt=R[st]),dt?ce(Z,st,Bt):W(Z,st,Bt)}return Z}function m8(R){return c8(function(H,Z){var xe=-1,dt=Z.length,Ot=dt>1?Z[dt-1]:void 0,Ut=dt>2?Z[2]:void 0;for(Ot=R.length>3&&typeof Ot=="function"?(dt--,Ot):void 0,Ut&&w8(Z[0],Z[1],Ut)&&(Ot=dt<3?void 0:Ot,dt=1),H=Object(H);++xe<dt;){var st=Z[xe];st&&R(H,st,xe,Ot)}return H})}function g8(R){return function(H,Z,xe){for(var dt=-1,Ot=Object(H),Ut=xe(H),st=Ut.length;st--;){var Bt=Ut[R?st:++dt];if(Z(Ot[Bt],Bt,Ot)===!1)break}return H}}function $m(R,H){var Z=R.__data__;return C8(H)?Z[typeof H=="string"?"string":"hash"]:Z.map}function eb(R,H){var Z=cn(R,H);return Ke(Z)?Z:void 0}function v8(R){var H=ge.call(R,et),Z=R[et];try{R[et]=void 0;var xe=!0}catch{}var dt=Me.call(R);return xe&&(H?R[et]=Z:delete R[et]),dt}function y8(R){return typeof R.constructor=="function"&&!fA(R)?He(de(R)):{}}function uA(R,H){var Z=typeof R;return H=H!=null?H:s,!!H&&(Z=="number"||Z!="symbol"&&Q.test(R))&&R>-1&&R%1==0&&R<H}function w8(R,H,Z){if(!ec(Z))return!1;var xe=typeof H;return(xe=="number"?ib(Z)&&uA(H,Z.length):xe=="string"&&H in Z)?Um(Z[H],R):!1}function C8(R){var H=typeof R;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?R!=="__proto__":R===null}function b8(R){return!!Be&&Be in R}function fA(R){var H=R&&R.constructor,Z=typeof H=="function"&&H.prototype||ae;return R===Z}function E8(R){var H=[];if(R!=null)for(var Z in Object(R))H.push(Z);return H}function _8(R){return Me.call(R)}function S8(R,H,Z){return H=$t(H===void 0?R.length-1:H,0),function(){for(var xe=arguments,dt=-1,Ot=$t(xe.length-H,0),Ut=Array(Ot);++dt<Ot;)Ut[dt]=xe[H+dt];dt=-1;for(var st=Array(H+1);++dt<H;)st[dt]=xe[dt];return st[H]=Z(Ut),Fe(R,this,st)}}function tb(R,H){if(!(H==="constructor"&&typeof R[H]=="function")&&H!="__proto__")return R[H]}var x8=P8(l8);function P8(R){var H=0,Z=0;return function(){var xe=ye(),dt=o-(xe-Z);if(Z=xe,dt>0){if(++H>=i)return arguments[0]}else H=0;return R.apply(void 0,arguments)}}function k8(R){if(R!=null){try{return fe.call(R)}catch{}try{return R+""}catch{}}return""}function Um(R,H){return R===H||R!==R&&H!==H}var rb=Ye(function(){return arguments}())?Ye:function(R){return fd(R)&&ge.call(R,"callee")&&!De.call(R,"callee")},nb=Array.isArray;function ib(R){return R!=null&&pA(R.length)&&!ob(R)}function I8(R){return fd(R)&&ib(R)}var dA=Ue||O8;function ob(R){if(!ec(R))return!1;var H=tt(R);return H==p||H==h||H==l||H==C}function pA(R){return typeof R=="number"&&R>-1&&R%1==0&&R<=s}function ec(R){var H=typeof R;return R!=null&&(H=="object"||H=="function")}function fd(R){return R!=null&&typeof R=="object"}function T8(R){if(!fd(R)||tt(R)!=y)return!1;var H=de(R);if(H===null)return!0;var Z=ge.call(H,"constructor")&&H.constructor;return typeof Z=="function"&&Z instanceof Z&&fe.call(Z)==we}var hA=Ae?Jn(Ae):kt;function A8(R){return h8(R,mA(R))}function mA(R){return ib(R)?j(R,!0):s8(R)}var D8=m8(function(R,H,Z){lA(R,H,Z)});function R8(R){return function(){return R}}function gA(R){return R}function O8(){return!1}t.exports=D8}),Ale=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchSpanProcessorBase=void 0;var t=Wt(),r=Qi(),n=class{constructor(i,o){this._exporter=i,this._finishedSpans=[],this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve();let s=r.getEnv();this._maxExportBatchSize=typeof(o==null?void 0:o.maxExportBatchSize)=="number"?o.maxExportBatchSize:s.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(o==null?void 0:o.maxQueueSize)=="number"?o.maxQueueSize:s.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(o==null?void 0:o.scheduledDelayMillis)=="number"?o.scheduledDelayMillis:s.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(o==null?void 0:o.exportTimeoutMillis)=="number"?o.exportTimeoutMillis:s.OTEL_BSP_EXPORT_TIMEOUT}forceFlush(){return this._isShutdown?this._shuttingDownPromise:this._flushAll()}onStart(i){}onEnd(i){this._isShutdown||this._addToBuffer(i)}shutdown(){return this._isShutdown?this._shuttingDownPromise:(this._isShutdown=!0,this._shuttingDownPromise=new Promise((i,o)=>{Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown()).then(i).catch(s=>{o(s)})}),this._shuttingDownPromise)}_addToBuffer(i){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(i),this._maybeStartTimer())}_flushAll(){return new Promise((i,o)=>{let s=[],a=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let c=0,l=a;c<l;c++)s.push(this._flushOneBatch());Promise.all(s).then(()=>{i()}).catch(o)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((i,o)=>{let s=setTimeout(()=>{o(new Error("Timeout"))},this._exportTimeoutMillis);t.context.with(r.suppressTracing(t.context.active()),()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),a=>{var c;clearTimeout(s),a.code===r.ExportResultCode.SUCCESS?i():o((c=a.error)!==null&&c!==void 0?c:new Error("BatchSpanProcessor: span export failed"))})})})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(i=>{r.globalErrorHandler(i)})},this._scheduledDelayMillis),r.unrefTimer(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};e.BatchSpanProcessorBase=n}),Dle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchSpanProcessor=void 0;var t=Ale(),r=class extends t.BatchSpanProcessorBase{onShutdown(){}};e.BatchSpanProcessor=r}),Rle=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Dle(),e)}),oV=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Rle(),e)}),Ole=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicTracerProvider=e.ForceFlushState=void 0;var t=Wt(),r=Qi(),n=KP(),i=sV(),o=tV(),s=Ile(),a=iV(),c=Tle(),l=oV(),u;(function(d){d[d.resolved=0]="resolved",d[d.timeout=1]="timeout",d[d.error=2]="error",d[d.unresolved=3]="unresolved"})(u=e.ForceFlushState||(e.ForceFlushState={}));var f=class{constructor(d={}){var p;this._registeredSpanProcessors=[],this._tracers=new Map;let h=c({},o.DEFAULT_CONFIG,d);this.resource=(p=h.resource)!==null&&p!==void 0?p:n.Resource.empty(),this.resource=n.Resource.default().merge(this.resource),this._config=Object.assign({},h,{resource:this.resource});let m=this._buildExporterFromEnv();if(m!==void 0){let g=new l.BatchSpanProcessor(m);this.activeSpanProcessor=g}else this.activeSpanProcessor=new a.NoopSpanProcessor}getTracer(d,p){let h=`${d}@${p||""}`;return this._tracers.has(h)||this._tracers.set(h,new i.Tracer({name:d,version:p},this._config,this)),this._tracers.get(h)}addSpanProcessor(d){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(p=>t.diag.error("Error while trying to shutdown current span processor",p)),this._registeredSpanProcessors.push(d),this.activeSpanProcessor=new s.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(d={}){t.trace.setGlobalTracerProvider(this),d.propagator===void 0&&(d.propagator=this._buildPropagatorFromEnv()),d.contextManager&&t.context.setGlobalContextManager(d.contextManager),d.propagator&&t.propagation.setGlobalPropagator(d.propagator)}forceFlush(){let d=this._config.forceFlushTimeoutMillis,p=this._registeredSpanProcessors.map(h=>new Promise(m=>{let g,v=setTimeout(()=>{m(new Error(`Span processor did not completed within timeout period of ${d} ms`)),g=u.timeout},d);h.forceFlush().then(()=>{clearTimeout(v),g!==u.timeout&&(g=u.resolved,m(g))}).catch(y=>{clearTimeout(v),g=u.error,m(y)})}));return new Promise((h,m)=>{Promise.all(p).then(g=>{let v=g.filter(y=>y!==u.resolved);v.length>0?m(v):h()}).catch(g=>m([g]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(d){var p;return(p=f._registeredPropagators.get(d))===null||p===void 0?void 0:p()}_getSpanExporter(d){var p;return(p=f._registeredExporters.get(d))===null||p===void 0?void 0:p()}_buildPropagatorFromEnv(){let d=Array.from(new Set(r.getEnv().OTEL_PROPAGATORS)),p=d.map(h=>{let m=this._getPropagator(h);return m||t.diag.warn(`Propagator "${h}" requested through environment variable is unavailable.`),m}).reduce((h,m)=>(m&&h.push(m),h),[]);if(p.length!==0)return d.length===1?p[0]:new r.CompositePropagator({propagators:p})}_buildExporterFromEnv(){let d=r.getEnv().OTEL_TRACES_EXPORTER;if(d==="none")return;let p=this._getSpanExporter(d);return p||t.diag.error(`Exporter "${d}" requested through environment variable is unavailable.`),p}};e.BasicTracerProvider=f,f._registeredPropagators=new Map([["tracecontext",()=>new r.HttpTraceContextPropagator],["baggage",()=>new r.HttpBaggagePropagator]]),f._registeredExporters=new Map}),Nle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleSpanExporter=void 0;var t=Qi(),r=class{export(n,i){return this._sendSpans(n,i)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(n){return{traceId:n.spanContext().traceId,parentId:n.parentSpanId,name:n.name,id:n.spanContext().spanId,kind:n.kind,timestamp:t.hrTimeToMicroseconds(n.startTime),duration:t.hrTimeToMicroseconds(n.duration),attributes:n.attributes,status:n.status,events:n.events}}_sendSpans(n,i){for(let o of n)console.log(this._exportInfo(o));if(i)return i({code:t.ExportResultCode.SUCCESS})}};e.ConsoleSpanExporter=r}),Lle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemorySpanExporter=void 0;var t=Qi(),r=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(n,i){if(this._stopped)return i({code:t.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...n),setTimeout(()=>i({code:t.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};e.InMemorySpanExporter=r}),Fle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Mle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleSpanProcessor=void 0;var t=Wt(),r=Qi(),n=class{constructor(i){this._exporter=i,this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve()}forceFlush(){return Promise.resolve()}onStart(i){}onEnd(i){this._isShutdown||t.context.with(r.suppressTracing(t.context.active()),()=>{this._exporter.export([i],o=>{var s;o.code!==r.ExportResultCode.SUCCESS&&r.globalErrorHandler((s=o.error)!==null&&s!==void 0?s:new Error(`SimpleSpanProcessor: span export failed (status ${o})`))})})}shutdown(){return this._isShutdown?this._shuttingDownPromise:(this._isShutdown=!0,this._shuttingDownPromise=new Promise((i,o)=>{Promise.resolve().then(()=>this._exporter.shutdown()).then(i).catch(s=>{o(s)})}),this._shuttingDownPromise)}};e.SimpleSpanProcessor=n}),jle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),qle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),$le=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Ule=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),sV=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(wle(),e),r(Ole(),e),r(oV(),e),r(Nle(),e),r(Lle(),e),r(Fle(),e),r(Mle(),e),r(jle(),e),r(iV(),e),r(eV(),e),r(qle(),e),r($le(),e),r(Ule(),e)}),Ble=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.azureCoreTracing=e.AzureMonitorSymbol=void 0;var t=fr();e.AzureMonitorSymbol="Azure_Monitor_Tracer";var r=!1,n=function(o){if(r)return o;try{var s=sV(),a=Wt(),c=new s.BasicTracerProvider,l=c.getTracer("applicationinsights tracer"),u=o.setTracer;o.setTracer=function(f){var d=f.startSpan;f.startSpan=function(p,h,m){var g=d.call(this,p,h,m),v=g.end;return g.end=function(){var y=v.apply(this,arguments);return t.channel.publish("azure-coretracing",g),y},g},f[e.AzureMonitorSymbol]=!0,u.call(this,f)},a.trace.getSpan(a.context.active()),o.setTracer(l),r=!0}catch{}return o};e.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:n};function i(){t.channel.registerMonkeyPatch("@azure/core-tracing",e.azureCoreTracing)}e.enable=i}),Hle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.bunyan=void 0;var t=fr(),r=function(i){var o=i.prototype._emit;return i.prototype._emit=function(s,a){var c=o.apply(this,arguments);if(!a){var l=c;l||(l=o.call(this,s,!0)),t.channel.publish("bunyan",{level:s.level,result:l})}return c},i};e.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:r};function n(){t.channel.registerMonkeyPatch("bunyan",e.bunyan)}e.enable=n}),Vle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.console=void 0;var t=fr(),r=require("stream"),n=function(o){var s=new r.Writable,a=new r.Writable;s.write=function(h){if(!h)return!0;var m=h.toString();return t.channel.publish("console",{message:m}),!0},a.write=function(h){if(!h)return!0;var m=h.toString();return t.channel.publish("console",{message:m,stderr:!0}),!0};for(var c=new o.Console(s,a),l=["log","info","warn","error","dir","time","timeEnd","trace","assert"],u=function(h){var m=o[h];m&&(o[h]=function(){if(c[h])try{c[h].apply(c,arguments)}catch{}return m.apply(o,arguments)})},f=0,d=l;f<d.length;f++){var p=d[f];u(p)}return o};e.console={versionSpecifier:">= 4.0.0",patch:n};function i(){t.channel.registerMonkeyPatch("console",e.console),require("console")}e.enable=i}),Wle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mongoCore=void 0;var t=fr(),r=function(i){var o=i.Server.prototype.connect;return i.Server.prototype.connect=function(){var s=o.apply(this,arguments),a=this.s.pool.write;this.s.pool.write=function(){var l=typeof arguments[1]=="function"?1:2;return typeof arguments[l]=="function"&&(arguments[l]=t.channel.bindToContext(arguments[l])),a.apply(this,arguments)};var c=this.s.pool.logout;return this.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=t.channel.bindToContext(arguments[1])),c.apply(this,arguments)},s},i};e.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:r};function n(){t.channel.registerMonkeyPatch("mongodb-core",e.mongoCore)}e.enable=n}),zle=F(e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(c){for(var l,u=1,f=arguments.length;u<f;u++){l=arguments[u];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(c[d]=l[d])}return c},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mongo330=e.mongo3=e.mongo2=void 0;var r=fr(),n=function(c){var l=c.instrument({operationIdGenerator:{next:function(){return r.channel.bindToContext(function(f){return f()})}}}),u={};return l.on("started",function(f){u[f.requestId]||(u[f.requestId]=t(t({},f),{time:new Date}))}),l.on("succeeded",function(f){var d=u[f.requestId];d&&delete u[f.requestId],typeof f.operationId=="function"?f.operationId(function(){return r.channel.publish("mongodb",{startedData:d,event:f,succeeded:!0})}):r.channel.publish("mongodb",{startedData:d,event:f,succeeded:!0})}),l.on("failed",function(f){var d=u[f.requestId];d&&delete u[f.requestId],typeof f.operationId=="function"?f.operationId(function(){return r.channel.publish("mongodb",{startedData:d,event:f,succeeded:!1})}):r.channel.publish("mongodb",{startedData:d,event:f,succeeded:!1})}),c},i=function(c){var l=c.instrument(),u={},f={};return l.on("started",function(d){u[d.requestId]||(f[d.requestId]=r.channel.bindToContext(function(p){return p()}),u[d.requestId]=t(t({},d),{time:new Date}))}),l.on("succeeded",function(d){var p=u[d.requestId];p&&delete u[d.requestId],typeof d=="object"&&typeof f[d.requestId]=="function"&&(f[d.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:d,succeeded:!0})}),delete f[d.requestId])}),l.on("failed",function(d){var p=u[d.requestId];p&&delete u[d.requestId],typeof d=="object"&&typeof f[d.requestId]=="function"&&(f[d.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:d,succeeded:!1})}),delete f[d.requestId])}),c},o=function(c){var l=c.Server.prototype.connect;return c.Server.prototype.connect=function(){var u=l.apply(this,arguments),f=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var p=typeof arguments[1]=="function"?1:2;return typeof arguments[p]=="function"&&(arguments[p]=r.channel.bindToContext(arguments[p])),f.apply(this,arguments)};var d=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=r.channel.bindToContext(arguments[1])),d.apply(this,arguments)},u},c},s=function(c){o(c);var l=c.instrument(),u={},f={};return l.on("started",function(d){u[d.requestId]||(f[d.requestId]=r.channel.bindToContext(function(p){return p()}),u[d.requestId]=d)}),l.on("succeeded",function(d){var p=u[d.requestId];p&&delete u[d.requestId],typeof d=="object"&&typeof f[d.requestId]=="function"&&(f[d.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:d,succeeded:!0})}),delete f[d.requestId])}),l.on("failed",function(d){var p=u[d.requestId];p&&delete u[d.requestId],typeof d=="object"&&typeof f[d.requestId]=="function"&&(f[d.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:d,succeeded:!1})}),delete f[d.requestId])}),c};e.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:n},e.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:i},e.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:s};function a(){r.channel.registerMonkeyPatch("mongodb",e.mongo2),r.channel.registerMonkeyPatch("mongodb",e.mongo3),r.channel.registerMonkeyPatch("mongodb",e.mongo330)}e.enable=a}),Gle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mysql=void 0;var t=fr(),r=require("path"),n=function(o,s){var a=function(p,h){return function(m,g){var v=p[m];v&&(p[m]=function(){for(var y=arguments.length-1,C=arguments.length-1;C>=0;--C)if(typeof arguments[C]=="function"){y=C;break}else if(typeof arguments[C]<"u")break;var b=arguments[y],_={result:null,startTime:null,startDate:null};typeof b=="function"&&(g?(_.startTime=process.hrtime(),_.startDate=new Date,arguments[y]=t.channel.bindToContext(g(_,b))):arguments[y]=t.channel.bindToContext(b));var P=v.apply(this,arguments);return _.result=P,P})}},c=function(p,h){return a(p.prototype,h+".prototype")},l=["connect","changeUser","ping","statistics","end"],u=require(r.dirname(s)+"/lib/Connection");l.forEach(function(p){return c(u,"Connection")(p)}),a(u,"Connection")("createQuery",function(p,h){return function(m){var g=process.hrtime(p.startTime),v=g[0]*1e3+g[1]/1e6|0;t.channel.publish("mysql",{query:p.result,callbackArgs:arguments,err:m,duration:v,time:p.startDate}),h.apply(this,arguments)}});var f=["_enqueueCallback"],d=require(r.dirname(s)+"/lib/Pool");return f.forEach(function(p){return c(d,"Pool")(p)}),o};e.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:n};function i(){t.channel.registerMonkeyPatch("mysql",e.mysql)}e.enable=i}),Kle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.postgresPool1=void 0;var t=fr();function r(i){var o=i.prototype.connect;return i.prototype.connect=function(s){return s&&(arguments[0]=t.channel.bindToContext(s)),o.apply(this,arguments)},i}e.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:r};function n(){t.channel.registerMonkeyPatch("pg-pool",e.postgresPool1)}e.enable=n}),Yle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.postgres7=e.postgres6=void 0;var t=fr(),r=require("events");function n(s,a){var c=s.Client.prototype.query,l="__diagnosticOriginalFunc";return s.Client.prototype.query=function(u,f,d){var p={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},h=process.hrtime(),m;function g(v){v&&v[l]&&(v=v[l]);var y=t.channel.bindToContext(function(C,b){var _=process.hrtime(h);if(p.result=b&&{rowCount:b.rowCount,command:b.command},p.error=C,p.duration=Math.ceil(_[0]*1e3+_[1]/1e6),t.channel.publish("postgres",p),C){if(v)return v.apply(this,arguments);m&&m instanceof r.EventEmitter&&m.emit("error",C)}else v&&v.apply(this,arguments)});try{return Object.defineProperty(y,l,{value:v}),y}catch{return v}}try{typeof u=="string"?f instanceof Array?(p.query.preparable={text:u,args:f},d=g(d)):(p.query.text=u,d?d=g(d):f=g(f)):(typeof u.name=="string"?p.query.plan=u.name:u.values instanceof Array?p.query.preparable={text:u.text,args:u.values}:p.query.text=u.text,d?d=g(d):f?f=g(f):u.callback=g(u.callback))}catch{return c.apply(this,arguments)}return arguments[0]=u,arguments[1]=f,arguments[2]=d,arguments.length=arguments.length>3?arguments.length:3,m=c.apply(this,arguments),m},s}function i(s,a){var c=s.Client.prototype.query,l="__diagnosticOriginalFunc";return s.Client.prototype.query=function(u,f,d){var p=this,h=!!d,m={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},g=process.hrtime(),v;function y(C){C&&C[l]&&(C=C[l]);var b=t.channel.bindToContext(function(_,P){var S=process.hrtime(g);if(m.result=P&&{rowCount:P.rowCount,command:P.command},m.error=_,m.duration=Math.ceil(S[0]*1e3+S[1]/1e6),t.channel.publish("postgres",m),_){if(C)return C.apply(this,arguments);v&&v instanceof r.EventEmitter&&v.emit("error",_)}else C&&C.apply(this,arguments)});try{return Object.defineProperty(b,l,{value:C}),b}catch{return C}}try{typeof u=="string"?f instanceof Array?(m.query.preparable={text:u,args:f},h=typeof d=="function",d=h?y(d):d):(m.query.text=u,d?(h=typeof d=="function",d=h?y(d):d):(h=typeof f=="function",f=h?y(f):f)):(typeof u.name=="string"?m.query.plan=u.name:u.values instanceof Array?m.query.preparable={text:u.text,args:u.values}:m.query.text=u.text,d?(h=typeof d=="function",d=y(d)):f?(h=typeof f=="function",f=h?y(f):f):(h=typeof u.callback=="function",u.callback=h?y(u.callback):u.callback))}catch{return c.apply(this,arguments)}return arguments[0]=u,arguments[1]=f,arguments[2]=d,arguments.length=arguments.length>3?arguments.length:3,v=c.apply(this,arguments),h?v:v.then(function(C){return y()(void 0,C),new p._Promise(function(b,_){b(C)})}).catch(function(C){return y()(C,void 0),new p._Promise(function(b,_){_(C)})})},s}e.postgres6={versionSpecifier:"6.*",patch:n},e.postgres7={versionSpecifier:">=7.* <=8.*",patch:i};function o(){t.channel.registerMonkeyPatch("pg",e.postgres6),t.channel.registerMonkeyPatch("pg",e.postgres7)}e.enable=o}),Jle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.redis=void 0;var t=fr(),r=function(i){var o=i.RedisClient.prototype.internal_send_command;return i.RedisClient.prototype.internal_send_command=function(s){if(s){var a=s.callback;if(!a||!a.pubsubBound){var c=this.address,l=process.hrtime(),u=new Date;s.callback=t.channel.bindToContext(function(f,d){var p=process.hrtime(l),h=p[0]*1e3+p[1]/1e6|0;t.channel.publish("redis",{duration:h,address:c,commandObj:s,err:f,result:d,time:u}),typeof a=="function"&&a.apply(this,arguments)}),s.callback.pubsubBound=!0}}return o.call(this,s)},i};e.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:r};function n(){t.channel.registerMonkeyPatch("redis",e.redis)}e.enable=n}),Qle=F(e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(o){for(var s,a=1,c=arguments.length;a<c;a++){s=arguments[a];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.tedious=void 0;var r=fr(),n=function(o){var s=o.Connection.prototype.makeRequest;return o.Connection.prototype.makeRequest=function(){function a(l){var u=process.hrtime(),f={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return r.channel.bindToContext(function(d,p,h){var m=process.hrtime(u);f=t(t({},f),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!d&&{rowCount:p,rows:h},query:{text:this.parametersByName.statement.value},error:d,duration:Math.ceil(m[0]*1e3+m[1]/1e6)}),r.channel.publish("tedious",f),l.call(this,d,p,h)})}var c=arguments[0];arguments[0].callback=a(c.callback),s.apply(this,arguments)},o};e.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:n};function i(){r.channel.registerMonkeyPatch("tedious",e.tedious)}e.enable=i}),Xle=F(e=>{"use strict";var t=e&&e.__extends||function(){var a=function(c,l){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(u[d]=f[d])},a(c,l)};return function(c,l){a(c,l);function u(){this.constructor=c}c.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}}(),r=e&&e.__rest||function(a,c){var l={};for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&c.indexOf(u)<0&&(l[u]=a[u]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,u=Object.getOwnPropertySymbols(a);f<u.length;f++)c.indexOf(u[f])<0&&Object.prototype.propertyIsEnumerable.call(a,u[f])&&(l[u[f]]=a[u[f]]);return l};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.winston2=e.winston3=void 0;var n=fr(),i=function(a){var c=a.Logger.prototype.log,l,u=function(f,d,p){var h;return l===a.config.npm.levels?h="npm":l===a.config.syslog.levels?h="syslog":h="unknown",n.channel.publish("winston",{level:f,message:d,meta:p,levelKind:h}),d};return a.Logger.prototype.log=function(){return l=this.levels,!this.filters||this.filters.length===0?this.filters=[u]:this.filters[this.filters.length-1]!==u&&(this.filters=this.filters.filter(function(f){return f!==u}),this.filters.push(u)),c.apply(this,arguments)},a},o=function(a){var c=function(p,h){var m;return p.config.npm.levels[h]!=null?m="npm":p.config.syslog.levels[h]!=null?m="syslog":m="unknown",m},l=function(p){t(h,p);function h(m,g){var v=p.call(this,g)||this;return v.winston=m,v}return h.prototype.log=function(m,g){var v=m.message,y=m.level,C=m.meta,b=r(m,["message","level","meta"]);y=typeof Symbol.for=="function"?m[Symbol.for("level")]:y,v=m instanceof Error?m:v;var _=c(this.winston,y);C=C||{};for(var P in b)b.hasOwnProperty(P)&&(C[P]=b[P]);n.channel.publish("winston",{message:v,level:y,levelKind:_,meta:C}),g()},h}(a.Transport);function u(){var p=arguments[0].levels||a.config.npm.levels,h;for(var m in p)p.hasOwnProperty(m)&&(h=h===void 0||p[m]>p[h]?m:h);this.add(new l(a,{level:h}))}var f=a.createLogger;a.createLogger=function(){var p=arguments[0].levels||a.config.npm.levels,h;for(var m in p)p.hasOwnProperty(m)&&(h=h===void 0||p[m]>p[h]?m:h);var g=f.apply(this,arguments);g.add(new l(a,{level:h}));var v=g.configure;return g.configure=function(){v.apply(this,arguments),u.apply(this,arguments)},g};var d=a.configure;return a.configure=function(){d.apply(this,arguments),u.apply(this,arguments)},a.add(new l(a)),a};e.winston3={versionSpecifier:"3.x",patch:o},e.winston2={versionSpecifier:"2.x",patch:i};function s(){n.channel.registerMonkeyPatch("winston",e.winston2),n.channel.registerMonkeyPatch("winston",e.winston3)}e.enable=s}),Zle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.tedious=e.pgPool=e.pg=e.winston=e.redis=e.mysql=e.mongodb=e.mongodbCore=e.console=e.bunyan=e.azuresdk=void 0;var t=Ble();e.azuresdk=t;var r=Hle();e.bunyan=r;var n=Vle();e.console=n;var i=Wle();e.mongodbCore=i;var o=zle();e.mongodb=o;var s=Gle();e.mysql=s;var a=Kle();e.pgPool=a;var c=Yle();e.pg=c;var l=Jle();e.redis=l;var u=Qle();e.tedious=u;var f=Xle();e.winston=f;function d(){r.enable(),n.enable(),i.enable(),o.enable(),s.enable(),c.enable(),a.enable(),l.enable(),f.enable(),t.enable(),u.enable()}e.enable=d}),YP=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerContextPreservation=e.IsInitialized=void 0;var t=OH(),r=Mr();e.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var n="DiagnosticChannel";if(e.IsInitialized){i=Zle(),o=process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"",s=o.split(","),a={bunyan:i.bunyan,console:i.console,mongodb:i.mongodb,mongodbCore:i.mongodbCore,mysql:i.mysql,redis:i.redis,pg:i.pg,pgPool:i.pgPool,winston:i.winston,azuresdk:i.azuresdk};for(c in a)s.indexOf(c)===-1&&(a[c].enable(),r.info(n,"Subscribed to "+c+" events"));s.length>0&&r.info(n,"Some modules will not be patched",s)}else r.info(n,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");var i,o,s,a,c;function l(u){if(e.IsInitialized){var f=fr();f.channel.addContextPreservation(u),f.channel.spanContextPropagator=t.AsyncScopeManager}}e.registerContextPreservation=l}),Oh=F((e,t)=>{"use strict";t.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}}),xi=F((e,t)=>{"use strict";var r=e&&e.__assign||function(){return r=Object.assign||function(u){for(var f,d=1,p=arguments.length;d<p;d++){f=arguments[d];for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h])}return u},r.apply(this,arguments)},n=require("http"),i=require("https"),o=require("url"),s=require("constants"),a=Mr(),c=Oh(),l=function(){function u(){}return u.getCookie=function(f,d){var p="";if(f&&f.length&&typeof d=="string")for(var h=f+"=",m=d.split(";"),g=0;g<m.length;g++){var d=m[g];if(d=u.trim(d),d&&d.indexOf(h)===0){p=d.substring(h.length,m[g].length);break}}return p},u.trim=function(f){return typeof f=="string"?f.replace(/^\s+|\s+$/g,""):""},u.int32ArrayToBase64=function(f){var d=function(v,y){return String.fromCharCode(v>>y&255)},p=function(v){return d(v,24)+d(v,16)+d(v,8)+d(v,0)},h=f.map(p).join(""),m=Buffer.from?Buffer.from(h,"binary"):new Buffer(h,"binary"),g=m.toString("base64");return g.substr(0,g.indexOf("="))},u.random32=function(){return 4294967296*Math.random()|0},u.randomu32=function(){return u.random32()+2147483648},u.w3cTraceId=function(){for(var f=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],d="",p,h=0;h<4;h++)p=u.random32(),d+=f[p&15]+f[p>>4&15]+f[p>>8&15]+f[p>>12&15]+f[p>>16&15]+f[p>>20&15]+f[p>>24&15]+f[p>>28&15];var m=f[8+Math.random()*4|0];return d.substr(0,8)+d.substr(9,4)+"4"+d.substr(13,3)+m+d.substr(16,3)+d.substr(19,12)},u.w3cSpanId=function(){return u.w3cTraceId().substring(16)},u.isValidW3CId=function(f){return f.length===32&&f!=="00000000000000000000000000000000"},u.isArray=function(f){return Object.prototype.toString.call(f)==="[object Array]"},u.isError=function(f){return f instanceof Error},u.isPrimitive=function(f){var d=typeof f;return d==="string"||d==="number"||d==="boolean"},u.isDate=function(f){return Object.prototype.toString.call(f)==="[object Date]"},u.msToTimeSpan=function(f){(isNaN(f)||f<0)&&(f=0);var d=(f/1e3%60).toFixed(7).replace(/0{0,4}$/,""),p=""+Math.floor(f/(1e3*60))%60,h=""+Math.floor(f/(1e3*60*60))%24,m=Math.floor(f/(1e3*60*60*24));d=d.indexOf(".")<2?"0"+d:d,p=p.length<2?"0"+p:p,h=h.length<2?"0"+h:h;var g=m>0?m+".":"";return g+h+":"+p+":"+d},u.extractError=function(f){var d=f;return{message:f.message,code:d.code||d.id||""}},u.extractObject=function(f){return f instanceof Error?u.extractError(f):typeof f.toJSON=="function"?f.toJSON():f},u.validateStringMap=function(f){if(typeof f!="object"){a.info("Invalid properties dropped from payload");return}var d={};for(var p in f){var h="",m=f[p],g=typeof m;if(u.isPrimitive(m))h=m.toString();else if(m===null||g==="undefined")h="";else if(g==="function"){a.info("key: "+p+" was function; will not serialize");continue}else{var v=u.isArray(m)?m:u.extractObject(m);try{u.isPrimitive(v)?h=v:h=JSON.stringify(v)}catch(y){h=m.constructor.name.toString()+" (Error: "+y.message+")",a.info("key: "+p+", could not be serialized")}}d[p]=h.substring(0,u.MAX_PROPERTY_LENGTH)}return d},u.canIncludeCorrelationHeader=function(f,d){var p=f&&f.config&&f.config.correlationHeaderExcludedDomains;if(!p||p.length==0||!d)return!0;for(var h=0;h<p.length;h++){var m=new RegExp(p[h].replace(/\./g,".").replace(/\*/g,".*"));if(m.test(o.parse(d).hostname))return!1}return!0},u.getCorrelationContextTarget=function(f,d){var p=f.headers&&f.headers[c.requestContextHeader];if(p)for(var h=p.split(","),m=0;m<h.length;++m){var g=h[m].split("=");if(g.length==2&&g[0]==d)return g[1]}},u.makeRequest=function(f,d,p,h){d&&d.indexOf("//")===0&&(d="https:"+d);var m=o.parse(d),g=r(r({},p),{host:m.hostname,port:m.port,path:m.pathname}),v=void 0;if(m.protocol==="https:"&&(v=f.proxyHttpsUrl||void 0),m.protocol==="http:"&&(v=f.proxyHttpUrl||void 0),v){v.indexOf("//")===0&&(v="http:"+v);var y=o.parse(v);y.protocol==="https:"?(a.info("Proxies that use HTTPS are not supported"),v=void 0):g=r(r({},g),{host:y.hostname,port:y.port||"80",path:d,headers:r(r({},g.headers),{Host:m.hostname})})}var C=m.protocol==="https:"&&!v;return C&&f.httpsAgent!==void 0?g.agent=f.httpsAgent:!C&&f.httpAgent!==void 0?g.agent=f.httpAgent:C&&(g.agent=u.tlsRestrictedAgent),C?i.request(g,h):n.request(g,h)},u.safeIncludeCorrelationHeader=function(f,d,p){var h;if(typeof p=="string")h=p;else if(p instanceof Array)h=p.join(",");else if(p&&typeof p.toString=="function")try{h=p.toString()}catch(m){a.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",m,p)}h?u.addCorrelationIdHeaderFromString(f,d,h):d.setHeader(c.requestContextHeader,c.requestContextSourceKey+"="+f.config.correlationId)},u.dumpObj=function(f){var d=Object.prototype.toString.call(f),p="";return d==="[object Error]"?p="{ stack: '"+f.stack+"', message: '"+f.message+"', name: '"+f.name+"'":p=JSON.stringify(f),d+p},u.addCorrelationIdHeaderFromString=function(f,d,p){var h=p.split(","),m=c.requestContextSourceKey+"=",g=h.some(function(v){return v.substring(0,m.length)===m});g||d.setHeader(c.requestContextHeader,p+","+c.requestContextSourceKey+"="+f.config.correlationId)},u.MAX_PROPERTY_LENGTH=8192,u.tlsRestrictedAgent=new i.Agent({keepAlive:!0,maxSockets:25,secureOptions:s.SSL_OP_NO_SSLv2|s.SSL_OP_NO_SSLv3|s.SSL_OP_NO_TLSv1|s.SSL_OP_NO_TLSv1_1}),u}();t.exports=l}),Of=F((e,t)=>{"use strict";var r=xi(),n=Mr(),i=function(){function o(){}return o.queryCorrelationId=function(s,a){var c=s.profileQueryEndpoint+"/api/profiles/"+s.instrumentationKey+"/appId";if(o.completedLookups.hasOwnProperty(c)){a(o.completedLookups[c]);return}else if(o.pendingLookups[c]){o.pendingLookups[c].push(a);return}o.pendingLookups[c]=[a];var l=function(){if(o.pendingLookups[c]){var u={method:"GET",disableAppInsightsAutoCollection:!0};n.info(o.TAG,u);var f=r.makeRequest(s,c,u,function(d){if(d.statusCode===200){var p="";d.setEncoding("utf-8"),d.on("data",function(h){p+=h}),d.on("end",function(){n.info(o.TAG,p);var h=o.correlationIdPrefix+p;o.completedLookups[c]=h,o.pendingLookups[c]&&o.pendingLookups[c].forEach(function(m){return m(h)}),delete o.pendingLookups[c]})}else d.statusCode>=400&&d.statusCode<500?(o.completedLookups[c]=void 0,delete o.pendingLookups[c]):setTimeout(l,s.correlationIdRetryIntervalMs)});f&&(f.on("error",function(d){n.warn(o.TAG,d)}),f.end())}};setTimeout(l,0)},o.cancelCorrelationIdQuery=function(s,a){var c=s.profileQueryEndpoint+"/api/profiles/"+s.instrumentationKey+"/appId",l=o.pendingLookups[c];l&&(o.pendingLookups[c]=l.filter(function(u){return u!=a}),o.pendingLookups[c].length==0&&delete o.pendingLookups[c])},o.generateRequestId=function(s){if(s){s=s[0]=="|"?s:"|"+s,s[s.length-1]!=="."&&(s+=".");var a=(o.currentRootId++).toString(16);return o.appendSuffix(s,a,"_")}else return o.generateRootId()},o.getRootId=function(s){var a=s.indexOf(".");a<0&&(a=s.length);var c=s[0]==="|"?1:0;return s.substring(c,a)},o.generateRootId=function(){return"|"+r.w3cTraceId()+"."},o.appendSuffix=function(s,a,c){if(s.length+a.length<o.requestIdMaxLength)return s+a+c;var l=o.requestIdMaxLength-9;if(s.length>l)for(;l>1;--l){var u=s[l-1];if(u==="."||u==="_")break}if(l<=1)return o.generateRootId();for(a=r.randomu32().toString(16);a.length<8;)a="0"+a;return s.substring(0,l)+a+"#"},o.TAG="CorrelationIdManager",o.correlationIdPrefix="cid-v1:",o.w3cEnabled=!0,o.pendingLookups={},o.completedLookups={},o.requestIdMaxLength=1024,o.currentRootId=r.randomu32(),o}();t.exports=i}),Xw=F((e,t)=>{"use strict";var r=xi(),n=Of(),i=function(){function o(s,a){if(this.traceFlag=o.DEFAULT_TRACE_FLAG,this.version=o.DEFAULT_VERSION,s&&typeof s=="string")if(s.split(",").length>1)this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16);else{var c=s.trim().split("-"),l=c.length;l>=4?(this.version=c[0],this.traceId=c[1],this.spanId=c[2],this.traceFlag=c[3]):(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=o.DEFAULT_VERSION,this.traceId=r.w3cTraceId()),this.version==="00"&&l!==4&&(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version==="ff"&&(this.version=o.DEFAULT_VERSION,this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=o.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=o.DEFAULT_TRACE_FLAG,this.traceId=r.w3cTraceId()),o.isValidTraceId(this.traceId)||(this.traceId=r.w3cTraceId()),o.isValidSpanId(this.spanId)||(this.spanId=r.w3cTraceId().substr(0,16),this.traceId=r.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(a){this.parentId=a.slice();var u=n.getRootId(a);o.isValidTraceId(u)||(this.legacyRootId=u,u=r.w3cTraceId()),a.indexOf("|")!==-1&&(a=a.substring(1+a.substring(0,a.length-1).lastIndexOf("."),a.length-1)),this.traceId=u,this.spanId=a}else this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)}return o.isValidTraceId=function(s){return s.match(/^[0-9a-f]{32}$/)&&s!=="00000000000000000000000000000000"},o.isValidSpanId=function(s){return s.match(/^[0-9a-f]{16}$/)&&s!=="0000000000000000"},o.formatOpenTelemetryTraceFlags=function(s){var a="0"+s.toString(16);return a.substring(a.length-2)},o.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},o.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},o.prototype.updateSpanId=function(){this.spanId=r.w3cTraceId().substr(0,16)},o.DEFAULT_TRACE_FLAG="01",o.DEFAULT_VERSION="00",o}();t.exports=i}),aV=F((e,t)=>{"use strict";var r=function(){function n(i){this.fieldmap=[],i&&(this.fieldmap=this.parseHeader(i))}return n.prototype.toString=function(){var i=this.fieldmap;return!i||i.length==0?null:i.join(", ")},n.validateKeyChars=function(i){var o=i.split("@");if(o.length==2){var s=o[0].trim(),a=o[1].trim(),c=Boolean(s.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),l=Boolean(a.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return c&&l}else if(o.length==1)return Boolean(i.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/));return!1},n.prototype.parseHeader=function(i){var o=[],s={},a=i.split(",");if(a.length>32)return null;for(var c=0,l=a;c<l.length;c++){var u=l[c],f=u.trim();if(f.length!==0){var d=f.split("=");if(d.length!==2||!n.validateKeyChars(d[0])||s[d[0]])return null;s[d[0]]=!0,o.push(f)}}return o},n.strict=!0,n}();t.exports=r}),Sa=F((e,t)=>{"use strict";var r=function(){function n(){}return n}();t.exports=r}),eue=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Sa(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);t.exports=i}),cV=F((e,t)=>{"use strict";var r=function(){function n(){}return n}();t.exports=r}),tue=F((e,t)=>{"use strict";var r=function(){function n(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}return n}();t.exports=r}),rue=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=cV(),i=function(o){r(s,o);function s(){return o.call(this)||this}return s}(n);t.exports=i}),lV=F((e,t)=>{"use strict";var r;(function(n){n[n.Measurement=0]="Measurement",n[n.Aggregation=1]="Aggregation"})(r||(r={})),t.exports=r}),nue=F((e,t)=>{"use strict";var r=lV(),n=function(){function i(){this.kind=r.Measurement}return i}();t.exports=n}),iue=F((e,t)=>{"use strict";var r=function(){function n(){this.ver=1,this.sampleRate=100,this.tags={}}return n}();t.exports=r}),uV=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Sa(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);t.exports=i}),oue=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Sa(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.exceptions=[],a.properties={},a.measurements={},a}return s}(n);t.exports=i}),sue=F((e,t)=>{"use strict";var r=function(){function n(){this.hasFullStack=!0,this.parsedStack=[]}return n}();t.exports=r}),aue=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Sa(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a}return s}(n);t.exports=i}),cue=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Sa(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.metrics=[],a.properties={},a}return s}(n);t.exports=i}),lue=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=uV(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);t.exports=i}),uue=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Sa(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.success=!0,a.properties={},a.measurements={},a}return s}(n);t.exports=i}),fue=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Sa(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);t.exports=i}),due=F((e,t)=>{"use strict";var r;(function(n){n[n.Verbose=0]="Verbose",n[n.Information=1]="Information",n[n.Warning=2]="Warning",n[n.Error=3]="Error",n[n.Critical=4]="Critical"})(r||(r={})),t.exports=r}),pue=F((e,t)=>{"use strict";var r=function(){function n(){}return n}();t.exports=r}),fV=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AvailabilityData=eue(),e.Base=cV(),e.ContextTagKeys=tue(),e.Data=rue(),e.DataPoint=nue(),e.DataPointType=lV(),e.Domain=Sa(),e.Envelope=iue(),e.EventData=uV(),e.ExceptionData=oue(),e.ExceptionDetails=sue(),e.MessageData=aue(),e.MetricData=cue(),e.PageViewData=lue(),e.RemoteDependencyData=uue(),e.RequestData=fue(),e.SeverityLevel=due(),e.StackFrame=pue()}),hue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.domainSupportsProperties=e.RemoteDependencyDataConstants=void 0;var t=fV(),r=function(){function i(){}return i.TYPE_HTTP="Http",i.TYPE_AI="Http (tracked component)",i}();e.RemoteDependencyDataConstants=r;function n(i){return"properties"in i||i instanceof t.EventData||i instanceof t.ExceptionData||i instanceof t.MessageData||i instanceof t.MetricData||i instanceof t.PageViewData||i instanceof t.RemoteDependencyData||i instanceof t.RequestData}e.domainSupportsProperties=n}),mue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),gue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),vue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),yue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),wue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Cue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),bue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Eue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),_ue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Sue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),xue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Pue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),kue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryType=e.TelemetryTypeString=e.baseTypeToTelemetryType=e.telemetryTypeToBaseType=void 0;function t(i){switch(i){case n.Event:return"EventData";case n.Exception:return"ExceptionData";case n.Trace:return"MessageData";case n.Metric:return"MetricData";case n.Request:return"RequestData";case n.Dependency:return"RemoteDependencyData";case n.Availability:return"AvailabilityData";case n.PageView:return"PageViewData"}}e.telemetryTypeToBaseType=t;function r(i){switch(i){case"EventData":return n.Event;case"ExceptionData":return n.Exception;case"MessageData":return n.Trace;case"MetricData":return n.Metric;case"RequestData":return n.Request;case"RemoteDependencyData":return n.Dependency;case"AvailabilityData":return n.Availability;case"PageViewData":return n.PageView}}e.baseTypeToTelemetryType=r,e.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"};var n;(function(i){i[i.Event=0]="Event",i[i.Exception=1]="Exception",i[i.Trace=2]="Trace",i[i.Metric=3]="Metric",i[i.Request=4]="Request",i[i.Dependency=5]="Dependency",i[i.Availability=6]="Availability",i[i.PageView=7]="PageView"})(n=e.TelemetryType||(e.TelemetryType={}))}),Iue=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(mue(),e),r(gue(),e),r(vue(),e),r(yue(),e),r(wue(),e),r(Cue(),e),r(bue(),e),r(Eue(),e),r(_ue(),e),r(Sue(),e),r(xue(),e),r(Pue(),e),r(kue(),e)}),Tue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Aue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Due=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Rue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Oue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Nue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Lue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Fue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Mue=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Tue(),e),r(Aue(),e),r(Due(),e),r(Rue(),e),r(Oue(),e),r(Nue(),e),r(Lue(),e),r(Fue(),e)}),_n=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(hue(),e),r(fV(),e),r(Iue(),e),r(Mue(),e)}),dV=F((e,t)=>{"use strict";var r=function(){function n(){}return n.prototype.getUrl=function(){return this.url},n.prototype.RequestParser=function(){this.startTime=+new Date},n.prototype._setStatus=function(i,o){var s=+new Date;this.duration=s-this.startTime,this.statusCode=i;var a=this.properties||{};if(o){if(typeof o=="string")a.error=o;else if(o instanceof Error)a.error=o.message;else if(typeof o=="object")for(var c in o)a[c]=o[c]&&o[c].toString&&o[c].toString()}this.properties=a},n.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},n}();t.exports=r}),pV=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var d=function(p,h){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(m[v]=g[v])},d(p,h)};return function(p,h){d(p,h);function m(){this.constructor=p}p.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}(),n=require("url"),i=_n(),o=xi(),s=Oh(),a=dV(),c=Of(),l=aV(),u=Xw(),f=function(d){r(p,d);function p(h,m){var g=d.call(this)||this;return h&&(g.method=h.method,g.url=g._getAbsoluteUrl(h),g.startTime=+new Date,g.socketRemoteAddress=h.socket&&h.socket.remoteAddress,g.parseHeaders(h,m),h.connection&&(g.connectionRemoteAddress=h.connection.remoteAddress,g.legacySocketRemoteAddress=h.connection.socket&&h.connection.socket.remoteAddress)),g}return p.prototype.onError=function(h,m){this._setStatus(void 0,h),m&&(this.duration=m)},p.prototype.onResponse=function(h,m){this._setStatus(h.statusCode,void 0),m&&(this.duration=m)},p.prototype.getRequestTelemetry=function(h){var m={id:this.requestId,name:this.method+" "+n.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(h&&h.time?m.time=h.time:this.startTime&&(m.time=new Date(this.startTime)),h){for(var g in h)m[g]||(m[g]=h[g]);if(h.properties)for(var g in h.properties)m.properties[g]=h.properties[g]}return m},p.prototype.getRequestTags=function(h){var m={};for(var g in h)m[g]=h[g];return m[p.keys.locationIp]=h[p.keys.locationIp]||this._getIp(),m[p.keys.sessionId]=h[p.keys.sessionId]||this._getId("ai_session"),m[p.keys.userId]=h[p.keys.userId]||this._getId("ai_user"),m[p.keys.userAuthUserId]=h[p.keys.userAuthUserId]||this._getId("ai_authUser"),m[p.keys.operationName]=this.getOperationName(h),m[p.keys.operationParentId]=this.getOperationParentId(h),m[p.keys.operationId]=this.getOperationId(h),m},p.prototype.getOperationId=function(h){return h[p.keys.operationId]||this.operationId},p.prototype.getOperationParentId=function(h){return h[p.keys.operationParentId]||this.parentId||this.getOperationId(h)},p.prototype.getOperationName=function(h){return h[p.keys.operationName]||this.method+" "+n.parse(this.url).pathname},p.prototype.getRequestId=function(){return this.requestId},p.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},p.prototype.getTraceparent=function(){return this.traceparent},p.prototype.getTracestate=function(){return this.tracestate},p.prototype.getLegacyRootId=function(){return this.legacyRootId},p.prototype._getAbsoluteUrl=function(h){if(!h.headers)return h.url;var m=h.connection?h.connection.encrypted:null,g=n.parse(h.url),v=g.pathname,y=g.search,C=m||h.headers["x-forwarded-proto"]=="https"?"https":"http",b=n.format({protocol:C,host:h.headers.host,pathname:v,search:y});return b},p.prototype._getIp=function(){var h=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,m=function(v){var y=h.exec(v);if(y)return y[0]},g=m(this.rawHeaders["x-forwarded-for"])||m(this.rawHeaders["x-client-ip"])||m(this.rawHeaders["x-real-ip"])||m(this.connectionRemoteAddress)||m(this.socketRemoteAddress)||m(this.legacySocketRemoteAddress);return!g&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&this.connectionRemoteAddress.substr(0,2)==="::"&&(g="127.0.0.1"),g},p.prototype._getId=function(h){var m=this.rawHeaders&&this.rawHeaders.cookie&&typeof this.rawHeaders.cookie=="string"&&this.rawHeaders.cookie||"",g=p.parseId(o.getCookie(h,m));return g},p.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},p.prototype.parseHeaders=function(h,m){if(this.rawHeaders=h.headers||h.rawHeaders,this.userAgent=h.headers&&h.headers["user-agent"],this.sourceCorrelationId=o.getCorrelationContextTarget(h,s.requestContextSourceKey),h.headers){var g=h.headers[s.traceStateHeader]?h.headers[s.traceStateHeader].toString():null,v=h.headers[s.traceparentHeader]?h.headers[s.traceparentHeader].toString():null,y=h.headers[s.requestIdHeader]?h.headers[s.requestIdHeader].toString():null,C=h.headers[s.parentIdHeader]?h.headers[s.parentIdHeader].toString():null,b=h.headers[s.rootIdHeader]?h.headers[s.rootIdHeader].toString():null;this.correlationContextHeader=h.headers[s.correlationContextHeader]?h.headers[s.correlationContextHeader].toString():null,c.w3cEnabled&&(v||g)?(this.traceparent=new u(v?v.toString():null),this.tracestate=v&&g&&new l(g?g.toString():null),this.setBackCompatFromThisTraceContext()):y?c.w3cEnabled?(this.traceparent=new u(null,y),this.setBackCompatFromThisTraceContext()):(this.parentId=y,this.requestId=c.generateRequestId(this.parentId),this.operationId=c.getRootId(this.requestId)):c.w3cEnabled?(this.traceparent=new u,this.traceparent.parentId=C,this.traceparent.legacyRootId=b||C,this.setBackCompatFromThisTraceContext()):(this.parentId=C,this.requestId=c.generateRequestId(b||this.parentId),this.correlationContextHeader=null,this.operationId=c.getRootId(this.requestId)),m&&(this.requestId=m,this.operationId=c.getRootId(this.requestId))}},p.parseId=function(h){var m=h.split("|");return m.length>0?m[0]:""},p.keys=new i.ContextTagKeys,p}(a);t.exports=f}),jue=F((e,t)=>{e=t.exports=ne;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var w=Array.prototype.slice.call(arguments,0);w.unshift("SEMVER"),console.log.apply(console,w)}:r=function(){},e.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=e.re=[],a=e.src=[],c=0,l=c++;a[l]="0|[1-9]\\d*";var u=c++;a[u]="[0-9]+";var f=c++;a[f]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var d=c++;a[d]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var p=c++;a[p]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var h=c++;a[h]="(?:"+a[l]+"|"+a[f]+")";var m=c++;a[m]="(?:"+a[u]+"|"+a[f]+")";var g=c++;a[g]="(?:-("+a[h]+"(?:\\."+a[h]+")*))";var v=c++;a[v]="(?:-?("+a[m]+"(?:\\."+a[m]+")*))";var y=c++;a[y]="[0-9A-Za-z-]+";var C=c++;a[C]="(?:\\+("+a[y]+"(?:\\."+a[y]+")*))";var b=c++,_="v?"+a[d]+a[g]+"?"+a[C]+"?";a[b]="^"+_+"$";var P="[v=\\s]*"+a[p]+a[v]+"?"+a[C]+"?",S=c++;a[S]="^"+P+"$";var x=c++;a[x]="((?:<|>)?=?)";var I=c++;a[I]=a[u]+"|x|X|\\*";var A=c++;a[A]=a[l]+"|x|X|\\*";var O=c++;a[O]="[v=\\s]*("+a[A]+")(?:\\.("+a[A]+")(?:\\.("+a[A]+")(?:"+a[g]+")?"+a[C]+"?)?)?";var L=c++;a[L]="[v=\\s]*("+a[I]+")(?:\\.("+a[I]+")(?:\\.("+a[I]+")(?:"+a[v]+")?"+a[C]+"?)?)?";var J=c++;a[J]="^"+a[x]+"\\s*"+a[O]+"$";var z=c++;a[z]="^"+a[x]+"\\s*"+a[L]+"$";var ee=c++;a[ee]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var ie=c++;a[ie]="(?:~>?)";var q=c++;a[q]="(\\s*)"+a[ie]+"\\s+",s[q]=new RegExp(a[q],"g");var M="$1~",D=c++;a[D]="^"+a[ie]+a[O]+"$";var $=c++;a[$]="^"+a[ie]+a[L]+"$";var Y=c++;a[Y]="(?:\\^)";var Q=c++;a[Q]="(\\s*)"+a[Y]+"\\s+",s[Q]=new RegExp(a[Q],"g");var X="$1^",ve=c++;a[ve]="^"+a[Y]+a[O]+"$";var Pe=c++;a[Pe]="^"+a[Y]+a[L]+"$";var Se=c++;a[Se]="^"+a[x]+"\\s*("+P+")$|^$";var Oe=c++;a[Oe]="^"+a[x]+"\\s*("+_+")$|^$";var Ee=c++;a[Ee]="(\\s*)"+a[x]+"\\s*("+P+"|"+a[O]+")",s[Ee]=new RegExp(a[Ee],"g");var xt="$1$2$3",At=c++;a[At]="^\\s*("+a[O]+")\\s+-\\s+("+a[O]+")\\s*$";var Re=c++;a[Re]="^\\s*("+a[L]+")\\s+-\\s+("+a[L]+")\\s*$";var Ae=c++;for(a[Ae]="(<|>)?=?\\s*\\*",Fe=0;Fe<c;Fe++)r(Fe,a[Fe]),s[Fe]||(s[Fe]=new RegExp(a[Fe]));var Fe;e.parse=Xe;function Xe(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ne)return w;if(typeof w!="string"||w.length>n)return null;var k=E.loose?s[S]:s[b];if(!k.test(w))return null;try{return new ne(w,E)}catch{return null}}e.valid=Jn;function Jn(w,E){var k=Xe(w,E);return k?k.version:null}e.clean=cn;function cn(w,E){var k=Xe(w.trim().replace(/^[=v]+/,""),E);return k?k.version:null}e.SemVer=ne;function ne(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ne){if(w.loose===E.loose)return w;w=w.version}else if(typeof w!="string")throw new TypeError("Invalid Version: "+w);if(w.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof ne))return new ne(w,E);r("SemVer",w,E),this.options=E,this.loose=!!E.loose;var k=w.trim().match(E.loose?s[S]:s[b]);if(!k)throw new TypeError("Invalid Version: "+w);if(this.raw=w,this.major=+k[1],this.minor=+k[2],this.patch=+k[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");k[4]?this.prerelease=k[4].split(".").map(function(N){if(/^[0-9]+$/.test(N)){var j=+N;if(j>=0&&j<i)return j}return N}):this.prerelease=[],this.build=k[5]?k[5].split("."):[],this.format()}ne.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},ne.prototype.toString=function(){return this.version},ne.prototype.compare=function(w){return r("SemVer.compare",this.version,this.options,w),w instanceof ne||(w=new ne(w,this.options)),this.compareMain(w)||this.comparePre(w)},ne.prototype.compareMain=function(w){return w instanceof ne||(w=new ne(w,this.options)),re(this.major,w.major)||re(this.minor,w.minor)||re(this.patch,w.patch)},ne.prototype.comparePre=function(w){if(w instanceof ne||(w=new ne(w,this.options)),this.prerelease.length&&!w.prerelease.length)return-1;if(!this.prerelease.length&&w.prerelease.length)return 1;if(!this.prerelease.length&&!w.prerelease.length)return 0;var E=0;do{var k=this.prerelease[E],N=w.prerelease[E];if(r("prerelease compare",E,k,N),k===void 0&&N===void 0)return 0;if(N===void 0)return 1;if(k===void 0)return-1;if(k!==N)return re(k,N)}while(++E)},ne.prototype.inc=function(w,E){switch(w){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",E);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",E);break;case"prepatch":this.prerelease.length=0,this.inc("patch",E),this.inc("pre",E);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",E),this.inc("pre",E);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var k=this.prerelease.length;--k>=0;)typeof this.prerelease[k]=="number"&&(this.prerelease[k]++,k=-2);k===-1&&this.prerelease.push(0)}E&&(this.prerelease[0]===E?isNaN(this.prerelease[1])&&(this.prerelease=[E,0]):this.prerelease=[E,0]);break;default:throw new Error("invalid increment argument: "+w)}return this.format(),this.raw=this.version,this},e.inc=Qn;function Qn(w,E,k,N){typeof k=="string"&&(N=k,k=void 0);try{return new ne(w,k).inc(E,N).version}catch{return null}}e.diff=V;function V(w,E){if(be(w,E))return null;var k=Xe(w),N=Xe(E),j="";if(k.prerelease.length||N.prerelease.length){j="pre";var U="prerelease"}for(var W in k)if((W==="major"||W==="minor"||W==="patch")&&k[W]!==N[W])return j+W;return U}e.compareIdentifiers=re;var ae=/^[0-9]+$/;function re(w,E){var k=ae.test(w),N=ae.test(E);return k&&N&&(w=+w,E=+E),w===E?0:k&&!N?-1:N&&!k?1:w<E?-1:1}e.rcompareIdentifiers=fe;function fe(w,E){return re(E,w)}e.major=ge;function ge(w,E){return new ne(w,E).major}e.minor=Be;function Be(w,E){return new ne(w,E).minor}e.patch=Me;function Me(w,E){return new ne(w,E).patch}e.compare=we;function we(w,E,k){return new ne(w,k).compare(new ne(E,k))}e.compareLoose=je;function je(w,E){return we(w,E,!0)}e.rcompare=_e;function _e(w,E,k){return we(E,w,k)}e.sort=G;function G(w,E){return w.sort(function(k,N){return e.compare(k,N,E)})}e.rsort=oe;function oe(w,E){return w.sort(function(k,N){return e.rcompare(k,N,E)})}e.gt=se;function se(w,E,k){return we(w,E,k)>0}e.lt=de;function de(w,E,k){return we(w,E,k)<0}e.eq=be;function be(w,E,k){return we(w,E,k)===0}e.neq=De;function De(w,E,k){return we(w,E,k)!==0}e.gte=it;function it(w,E,k){return we(w,E,k)>=0}e.lte=et;function et(w,E,k){return we(w,E,k)<=0}e.cmp=ut;function ut(w,E,k,N){switch(E){case"===":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w===k;case"!==":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w!==k;case"":case"=":case"==":return be(w,k,N);case"!=":return De(w,k,N);case">":return se(w,k,N);case">=":return it(w,k,N);case"<":return de(w,k,N);case"<=":return et(w,k,N);default:throw new TypeError("Invalid operator: "+E)}}e.Comparator=Ue;function Ue(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof Ue){if(w.loose===!!E.loose)return w;w=w.value}if(!(this instanceof Ue))return new Ue(w,E);r("comparator",w,E),this.options=E,this.loose=!!E.loose,this.parse(w),this.semver===$t?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var $t={};Ue.prototype.parse=function(w){var E=this.options.loose?s[Se]:s[Oe],k=w.match(E);if(!k)throw new TypeError("Invalid comparator: "+w);this.operator=k[1],this.operator==="="&&(this.operator=""),k[2]?this.semver=new ne(k[2],this.options.loose):this.semver=$t},Ue.prototype.toString=function(){return this.value},Ue.prototype.test=function(w){return r("Comparator.test",w,this.options.loose),this.semver===$t?!0:(typeof w=="string"&&(w=new ne(w,this.options)),ut(w,this.operator,this.semver,this.options))},Ue.prototype.intersects=function(w,E){if(!(w instanceof Ue))throw new TypeError("a Comparator is required");(!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1});var k;if(this.operator==="")return k=new ye(w.value,E),$r(this.value,k,E);if(w.operator==="")return k=new ye(this.value,E),$r(w.semver,k,E);var N=(this.operator===">="||this.operator===">")&&(w.operator===">="||w.operator===">"),j=(this.operator==="<="||this.operator==="<")&&(w.operator==="<="||w.operator==="<"),U=this.semver.version===w.semver.version,W=(this.operator===">="||this.operator==="<=")&&(w.operator===">="||w.operator==="<="),le=ut(this.semver,"<",w.semver,E)&&(this.operator===">="||this.operator===">")&&(w.operator==="<="||w.operator==="<"),ce=ut(this.semver,">",w.semver,E)&&(this.operator==="<="||this.operator==="<")&&(w.operator===">="||w.operator===">");return N||j||U&&W||le||ce},e.Range=ye;function ye(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ye)return w.loose===!!E.loose&&w.includePrerelease===!!E.includePrerelease?w:new ye(w.raw,E);if(w instanceof Ue)return new ye(w.value,E);if(!(this instanceof ye))return new ye(w,E);if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=w,this.set=w.split(/\s*\|\|\s*/).map(function(k){return this.parseRange(k.trim())},this).filter(function(k){return k.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+w);this.format()}ye.prototype.format=function(){return this.range=this.set.map(function(w){return w.join(" ").trim()}).join("||").trim(),this.range},ye.prototype.toString=function(){return this.range},ye.prototype.parseRange=function(w){var E=this.options.loose;w=w.trim();var k=E?s[Re]:s[At];w=w.replace(k,Wa),r("hyphen replace",w),w=w.replace(s[Ee],xt),r("comparator trim",w,s[Ee]),w=w.replace(s[q],M),w=w.replace(s[Q],X),w=w.split(/\s+/).join(" ");var N=E?s[Se]:s[Oe],j=w.split(" ").map(function(U){return Di(U,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(j=j.filter(function(U){return!!U.match(N)})),j=j.map(function(U){return new Ue(U,this.options)},this),j},ye.prototype.intersects=function(w,E){if(!(w instanceof ye))throw new TypeError("a Range is required");return this.set.some(function(k){return k.every(function(N){return w.set.some(function(j){return j.every(function(U){return N.intersects(U,E)})})})})},e.toComparators=As;function As(w,E){return new ye(w,E).set.map(function(k){return k.map(function(N){return N.value}).join(" ").trim().split(" ")})}function Di(w,E){return r("comp",w,E),w=Ua(w,E),r("caret",w),w=Tn(w,E),r("tildes",w),w=Ha(w,E),r("xrange",w),w=Jr(w,E),r("stars",w),w}function He(w){return!w||w.toLowerCase()==="x"||w==="*"}function Tn(w,E){return w.trim().split(/\s+/).map(function(k){return $a(k,E)}).join(" ")}function $a(w,E){var k=E.loose?s[$]:s[D];return w.replace(k,function(N,j,U,W,le){r("tilde",w,N,j,U,W,le);var ce;return He(j)?ce="":He(U)?ce=">="+j+".0.0 <"+(+j+1)+".0.0":He(W)?ce=">="+j+"."+U+".0 <"+j+"."+(+U+1)+".0":le?(r("replaceTilde pr",le),ce=">="+j+"."+U+"."+W+"-"+le+" <"+j+"."+(+U+1)+".0"):ce=">="+j+"."+U+"."+W+" <"+j+"."+(+U+1)+".0",r("tilde return",ce),ce})}function Ua(w,E){return w.trim().split(/\s+/).map(function(k){return Ba(k,E)}).join(" ")}function Ba(w,E){r("caret",w,E);var k=E.loose?s[Pe]:s[ve];return w.replace(k,function(N,j,U,W,le){r("caret",w,N,j,U,W,le);var ce;return He(j)?ce="":He(U)?ce=">="+j+".0.0 <"+(+j+1)+".0.0":He(W)?j==="0"?ce=">="+j+"."+U+".0 <"+j+"."+(+U+1)+".0":ce=">="+j+"."+U+".0 <"+(+j+1)+".0.0":le?(r("replaceCaret pr",le),j==="0"?U==="0"?ce=">="+j+"."+U+"."+W+"-"+le+" <"+j+"."+U+"."+(+W+1):ce=">="+j+"."+U+"."+W+"-"+le+" <"+j+"."+(+U+1)+".0":ce=">="+j+"."+U+"."+W+"-"+le+" <"+(+j+1)+".0.0"):(r("no pr"),j==="0"?U==="0"?ce=">="+j+"."+U+"."+W+" <"+j+"."+U+"."+(+W+1):ce=">="+j+"."+U+"."+W+" <"+j+"."+(+U+1)+".0":ce=">="+j+"."+U+"."+W+" <"+(+j+1)+".0.0"),r("caret return",ce),ce})}function Ha(w,E){return r("replaceXRanges",w,E),w.split(/\s+/).map(function(k){return Va(k,E)}).join(" ")}function Va(w,E){w=w.trim();var k=E.loose?s[z]:s[J];return w.replace(k,function(N,j,U,W,le,ce){r("xRange",w,N,j,U,W,le,ce);var ft=He(U),tt=ft||He(W),Ye=tt||He(le),Ke=Ye;return j==="="&&Ke&&(j=""),ft?j===">"||j==="<"?N="<0.0.0":N="*":j&&Ke?(tt&&(W=0),le=0,j===">"?(j=">=",tt?(U=+U+1,W=0,le=0):(W=+W+1,le=0)):j==="<="&&(j="<",tt?U=+U+1:W=+W+1),N=j+U+"."+W+"."+le):tt?N=">="+U+".0.0 <"+(+U+1)+".0.0":Ye&&(N=">="+U+"."+W+".0 <"+U+"."+(+W+1)+".0"),r("xRange return",N),N})}function Jr(w,E){return r("replaceStars",w,E),w.trim().replace(s[Ae],"")}function Wa(w,E,k,N,j,U,W,le,ce,ft,tt,Ye,Ke){return He(k)?E="":He(N)?E=">="+k+".0.0":He(j)?E=">="+k+"."+N+".0":E=">="+E,He(ce)?le="":He(ft)?le="<"+(+ce+1)+".0.0":He(tt)?le="<"+ce+"."+(+ft+1)+".0":Ye?le="<="+ce+"."+ft+"."+tt+"-"+Ye:le="<="+le,(E+" "+le).trim()}ye.prototype.test=function(w){if(!w)return!1;typeof w=="string"&&(w=new ne(w,this.options));for(var E=0;E<this.set.length;E++)if(za(this.set[E],w,this.options))return!0;return!1};function za(w,E,k){for(var N=0;N<w.length;N++)if(!w[N].test(E))return!1;if(E.prerelease.length&&!k.includePrerelease){for(N=0;N<w.length;N++)if(r(w[N].semver),w[N].semver!==$t&&w[N].semver.prerelease.length>0){var j=w[N].semver;if(j.major===E.major&&j.minor===E.minor&&j.patch===E.patch)return!0}return!1}return!0}e.satisfies=$r;function $r(w,E,k){try{E=new ye(E,k)}catch{return!1}return E.test(w)}e.maxSatisfying=Ga;function Ga(w,E,k){var N=null,j=null;try{var U=new ye(E,k)}catch{return null}return w.forEach(function(W){U.test(W)&&(!N||j.compare(W)===-1)&&(N=W,j=new ne(N,k))}),N}e.minSatisfying=Ka;function Ka(w,E,k){var N=null,j=null;try{var U=new ye(E,k)}catch{return null}return w.forEach(function(W){U.test(W)&&(!N||j.compare(W)===1)&&(N=W,j=new ne(N,k))}),N}e.minVersion=Xn;function Xn(w,E){w=new ye(w,E);var k=new ne("0.0.0");if(w.test(k)||(k=new ne("0.0.0-0"),w.test(k)))return k;k=null;for(var N=0;N<w.set.length;++N){var j=w.set[N];j.forEach(function(U){var W=new ne(U.semver.version);switch(U.operator){case">":W.prerelease.length===0?W.patch++:W.prerelease.push(0),W.raw=W.format();case"":case">=":(!k||se(k,W))&&(k=W);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+U.operator)}})}return k&&w.test(k)?k:null}e.validRange=Ya;function Ya(w,E){try{return new ye(w,E).range||"*"}catch{return null}}e.ltr=Ja;function Ja(w,E,k){return An(w,E,"<",k)}e.gtr=Qa;function Qa(w,E,k){return An(w,E,">",k)}e.outside=An;function An(w,E,k,N){w=new ne(w,N),E=new ye(E,N);var j,U,W,le,ce;switch(k){case">":j=se,U=et,W=de,le=">",ce=">=";break;case"<":j=de,U=it,W=se,le="<",ce="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if($r(w,E,N))return!1;for(var ft=0;ft<E.set.length;++ft){var tt=E.set[ft],Ye=null,Ke=null;if(tt.forEach(function(kt){kt.semver===$t&&(kt=new Ue(">=0.0.0")),Ye=Ye||kt,Ke=Ke||kt,j(kt.semver,Ye.semver,N)?Ye=kt:W(kt.semver,Ke.semver,N)&&(Ke=kt)}),Ye.operator===le||Ye.operator===ce||(!Ke.operator||Ke.operator===le)&&U(w,Ke.semver)||Ke.operator===ce&&W(w,Ke.semver))return!1}return!0}e.prerelease=Xa;function Xa(w,E){var k=Xe(w,E);return k&&k.prerelease.length?k.prerelease:null}e.intersects=Zn;function Zn(w,E,k){return w=new ye(w,k),E=new ye(E,k),w.intersects(E)}e.coerce=Za;function Za(w){if(w instanceof ne)return w;if(typeof w!="string")return null;var E=w.match(s[ee]);return E==null?null:Xe(E[1]+"."+(E[2]||"0")+"."+(E[3]||"0"))}}),JP=F((e,t)=>{"use strict";function r(u){return typeof u=="function"}var n=console.error.bind(console);function i(u,f,d){var p=!!u[f]&&u.propertyIsEnumerable(f);Object.defineProperty(u,f,{configurable:!0,enumerable:p,writable:!0,value:d})}function o(u){u&&u.logger&&(r(u.logger)?n=u.logger:n("new logger isn't a function, not replacing"))}function s(u,f,d){if(!u||!u[f]){n("no original function "+f+" to wrap");return}if(!d){n("no wrapper function"),n(new Error().stack);return}if(!r(u[f])||!r(d)){n("original object and wrapper must be functions");return}var p=u[f],h=d(p,f);return i(h,"__original",p),i(h,"__unwrap",function(){u[f]===h&&i(u,f,p)}),i(h,"__wrapped",!0),i(u,f,h),h}function a(u,f,d){if(u)Array.isArray(u)||(u=[u]);else{n("must provide one or more modules to patch"),n(new Error().stack);return}if(!(f&&Array.isArray(f))){n("must provide one or more functions to wrap on modules");return}u.forEach(function(p){f.forEach(function(h){s(p,h,d)})})}function c(u,f){if(!u||!u[f]){n("no function to unwrap."),n(new Error().stack);return}if(!u[f].__unwrap)n("no original to unwrap to -- has "+f+" already been unwrapped?");else return u[f].__unwrap()}function l(u,f){if(u)Array.isArray(u)||(u=[u]);else{n("must provide one or more modules to patch"),n(new Error().stack);return}if(!(f&&Array.isArray(f))){n("must provide one or more functions to unwrap on modules");return}u.forEach(function(d){f.forEach(function(p){c(d,p)})})}o.wrap=s,o.massWrap=a,o.unwrap=c,o.massUnwrap=l,t.exports=o}),QP=F((e,t)=>{"use strict";var r=JP(),n=r.wrap,i=r.unwrap,o="wrap@before";function s(f,d,p){var h=!!f[d]&&f.propertyIsEnumerable(d);Object.defineProperty(f,d,{configurable:!0,enumerable:h,writable:!0,value:p})}function a(f,d){for(var p=d.length,h=0;h<p;h++){var m=d[h],g=f[o];if(typeof g=="function")g(m);else if(Array.isArray(g))for(var v=g.length,y=0;y<v;y++)g[y](m)}}function c(f,d){var p;return p=f._events&&f._events[d],Array.isArray(p)||(p?p=[p]:p=[]),p}function l(f,d,p){var h=c(f,d),m=h.filter(function(g){return p.indexOf(g)===-1});m.length>0&&a(f,m)}function u(f,d){if(f){var p=f;if(typeof f=="function")p=d(f);else if(Array.isArray(f)){p=[];for(var h=0;h<f.length;h++)p[h]=d(f[h])}return p}}t.exports=function(f,d,p){if(!f||!f.on||!f.addListener||!f.removeListener||!f.emit)throw new Error("can only wrap real EEs");if(!d)throw new Error("must have function to run on listener addition");if(!p)throw new Error("must have function to wrap listeners when emitting");function h(g){return function(v,y){var C=c(this,v).slice();try{var b=g.call(this,v,y);return l(this,v,C),b}finally{this.on.__wrapped||n(this,"on",h),this.addListener.__wrapped||n(this,"addListener",h)}}}function m(g){return function(v){if(!this._events||!this._events[v])return g.apply(this,arguments);var y=this._events[v];function C(b){return function(){this._events[v]=y;try{return b.apply(this,arguments)}finally{y=this._events[v],this._events[v]=u(y,p)}}}n(this,"removeListener",C);try{return this._events[v]=u(y,p),g.apply(this,arguments)}finally{i(this,"removeListener"),this._events[v]=y}}}f[o]?typeof f[o]=="function"?s(f,o,[f[o],d]):Array.isArray(f[o])&&f[o].push(d):s(f,o,d),f.__wrapped||(n(f,"addListener",h),n(f,"on",h),n(f,"emit",m),s(f,"__unwrap",function(){i(f,"addListener"),i(f,"on"),i(f,"emit"),delete f[o],delete f.__wrapped}),s(f,"__wrapped",!0))}}),que=F((e,t)=>{"use strict";var r=require("util"),n=require("assert"),i=QP(),o=require("async_hooks"),s="cls@contexts",a="error@context",c=process.env.DEBUG_CLS_HOOKED,l=-1;t.exports={getNamespace:f,createNamespace:d,destroyNamespace:p,reset:h,ERROR_SYMBOL:a};function u(g){this.name=g,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}u.prototype.set=function(g,v){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");if(this.active[g]=v,c){let y=" ".repeat(this._indent<0?0:this._indent);m(y+"CONTEXT-SET KEY:"+g+"="+v+" in ns:"+this.name+" currentUid:"+l+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0}))}return v},u.prototype.get=function(g){if(!this.active){if(c){let v=o.currentId(),y=o.triggerAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);m(`${C}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${g}=undefined currentUid:${l} asyncHooksCurrentId:${v} triggerId:${y} len:${this._set.length}`)}return}if(c){let v=o.executionAsyncId(),y=o.triggerAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);m(C+"CONTEXT-GETTING KEY:"+g+"="+this.active[g]+" ("+this.name+") currentUid:"+l+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),m(`${C}CONTEXT-GETTING KEY: (${this.name}) ${g}=${this.active[g]} currentUid:${l} asyncHooksCurrentId:${v} triggerId:${y} len:${this._set.length} active:${r.inspect(this.active)}`)}return this.active[g]},u.prototype.createContext=function(){let g=Object.create(this.active?this.active:Object.prototype);if(g._ns_name=this.name,g.id=l,c){let v=o.executionAsyncId(),y=o.triggerAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);m(`${C}CONTEXT-CREATED Context: (${this.name}) currentUid:${l} asyncHooksCurrentId:${v} triggerId:${y} len:${this._set.length} context:${r.inspect(g,{showHidden:!0,depth:2,colors:!0})}`)}return g},u.prototype.run=function(g){let v=this.createContext();this.enter(v);try{if(c){let y=o.triggerAsyncId(),C=o.executionAsyncId(),b=" ".repeat(this._indent<0?0:this._indent);m(`${b}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${l} triggerId:${y} asyncHooksCurrentId:${C} len:${this._set.length} context:${r.inspect(v)}`)}return g(v),v}catch(y){throw y&&(y[a]=v),y}finally{if(c){let y=o.triggerAsyncId(),C=o.executionAsyncId(),b=" ".repeat(this._indent<0?0:this._indent);m(`${b}CONTEXT-RUN END: (${this.name}) currentUid:${l} triggerId:${y} asyncHooksCurrentId:${C} len:${this._set.length} ${r.inspect(v)}`)}this.exit(v)}},u.prototype.runAndReturn=function(g){let v;return this.run(function(y){v=g(y)}),v},u.prototype.runPromise=function(g){let v=this.createContext();this.enter(v);let y=g(v);if(!y||!y.then||!y.catch)throw new Error("fn must return a promise.");return c&&m("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+r.inspect(v)),y.then(C=>(c&&m("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+r.inspect(v)),this.exit(v),C)).catch(C=>{throw C[a]=v,c&&m("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+r.inspect(v)),this.exit(v),C})},u.prototype.bind=function(g,v){v||(this.active?v=this.active:v=this.createContext());let y=this;return function(){y.enter(v);try{return g.apply(this,arguments)}catch(C){throw C&&(C[a]=v),C}finally{y.exit(v)}}},u.prototype.enter=function(g){if(n.ok(g,"context must be provided for entering"),c){let v=o.executionAsyncId(),y=o.triggerAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);m(`${C}CONTEXT-ENTER: (${this.name}) currentUid:${l} triggerId:${y} asyncHooksCurrentId:${v} len:${this._set.length} ${r.inspect(g)}`)}this._set.push(this.active),this.active=g},u.prototype.exit=function(g){if(n.ok(g,"context must be provided for exiting"),c){let y=o.executionAsyncId(),C=o.triggerAsyncId(),b=" ".repeat(this._indent<0?0:this._indent);m(`${b}CONTEXT-EXIT: (${this.name}) currentUid:${l} triggerId:${C} asyncHooksCurrentId:${y} len:${this._set.length} ${r.inspect(g)}`)}if(this.active===g){n.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let v=this._set.lastIndexOf(g);v<0?(c&&m("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(g)),n.ok(v>=0,`context not currently entered; can't exit. 
`+r.inspect(this)+`
`+r.inspect(g))):(n.ok(v,"can't remove top context"),this._set.splice(v,1))},u.prototype.bindEmitter=function(g){n.ok(g.on&&g.addListener&&g.emit,"can only bind real EEs");let v=this,y="context@"+this.name;function C(_){!_||(_[s]||(_[s]=Object.create(null)),_[s][y]={namespace:v,context:v.active})}function b(_){if(!(_&&_[s]))return _;let P=_,S=_[s];return Object.keys(S).forEach(function(x){let I=S[x];P=I.namespace.bind(P,I.context)}),P}i(g,C,b)},u.prototype.fromException=function(g){return g[a]};function f(g){return process.namespaces[g]}function d(g){n.ok(g,"namespace must be given a name."),c&&m(`NS-CREATING NAMESPACE (${g})`);let v=new u(g);return v.id=l,o.createHook({init(y,C,b,_){if(l=o.executionAsyncId(),v.active){if(v._contexts.set(y,v.active),c){let P=" ".repeat(v._indent<0?0:v._indent);m(`${P}INIT [${C}] (${g}) asyncId:${y} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${_}`)}}else if(l===0){let P=o.triggerAsyncId(),S=v._contexts.get(P);if(S){if(v._contexts.set(y,S),c){let x=" ".repeat(v._indent<0?0:v._indent);m(`${x}INIT USING CONTEXT FROM TRIGGERID [${C}] (${g}) asyncId:${y} currentUid:${l} triggerId:${P} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${_}`)}}else if(c){let x=" ".repeat(v._indent<0?0:v._indent);m(`${x}INIT MISSING CONTEXT [${C}] (${g}) asyncId:${y} currentUid:${l} triggerId:${P} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${_}`)}}if(c&&C==="PROMISE"){m(r.inspect(_,{showHidden:!0}));let P=_.parentId,S=" ".repeat(v._indent<0?0:v._indent);m(`${S}INIT RESOURCE-PROMISE [${C}] (${g}) parentId:${P} asyncId:${y} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${_}`)}},before(y){l=o.executionAsyncId();let C;if(C=v._contexts.get(y)||v._contexts.get(l),C){if(c){let b=o.triggerAsyncId(),_=" ".repeat(v._indent<0?0:v._indent);m(`${_}BEFORE (${g}) asyncId:${y} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(C)}`),v._indent+=2}v.enter(C)}else if(c){let b=o.triggerAsyncId(),_=" ".repeat(v._indent<0?0:v._indent);m(`${_}BEFORE MISSING CONTEXT (${g}) asyncId:${y} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${r.inspect(v._contexts,{showHidden:!0,depth:2,colors:!0})}`),v._indent+=2}},after(y){l=o.executionAsyncId();let C;if(C=v._contexts.get(y)||v._contexts.get(l),C){if(c){let b=o.triggerAsyncId();v._indent-=2;let _=" ".repeat(v._indent<0?0:v._indent);m(`${_}AFTER (${g}) asyncId:${y} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(C)}`)}v.exit(C)}else if(c){let b=o.triggerAsyncId();v._indent-=2;let _=" ".repeat(v._indent<0?0:v._indent);m(`${_}AFTER MISSING CONTEXT (${g}) asyncId:${y} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(C)}`)}},destroy(y){if(l=o.executionAsyncId(),c){let C=o.triggerAsyncId(),b=" ".repeat(v._indent<0?0:v._indent);m(`${b}DESTROY (${g}) currentUid:${l} asyncId:${y} triggerId:${C} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(v._contexts.get(l))}`)}v._contexts.delete(y)}}).enable(),process.namespaces[g]=v,v}function p(g){let v=f(g);n.ok(v,`can't delete nonexistent namespace! "`+g+'"'),n.ok(v.id,"don't assign to process.namespaces directly! "+r.inspect(v)),process.namespaces[g]=null}function h(){process.namespaces&&Object.keys(process.namespaces).forEach(function(g){p(g)}),process.namespaces=Object.create(null)}process.namespaces={};function m(...g){c&&process._rawDebug(`${r.format(...g)}`)}}),$ue=F((e,t)=>{"use strict";function r(){}t.exports=function(){let n=this._hooks,i=this._state,o=process.nextTick;process.nextTick=function(){if(!i.enabled)return o.apply(process,arguments);let s=new Array(arguments.length);for(let u=0;u<arguments.length;u++)s[u]=arguments[u];let a=s[0];if(typeof a!="function")throw new TypeError("callback is not a function");let c=new r,l=--i.counter;return n.init.call(c,l,0,null,null),s[0]=function(){n.pre.call(c,l);let u=!0;try{a.apply(this,arguments),u=!1}finally{u&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){n.post.call(c,l,!0),n.destroy.call(null,l)})}n.post.call(c,l,!1),n.destroy.call(null,l)},o.apply(process,s)}}}),Uue=F((e,t)=>{"use strict";function r(){}t.exports=function(){let n=this._hooks,i=this._state,o=global.Promise,s=o.prototype.then;o.prototype.then=u;function a(f,d,p,h){return typeof f!="function"?h?c(p):l(p):function(){n.pre.call(d,p);try{return f.apply(this,arguments)}finally{n.post.call(d,p,!1),n.destroy.call(null,p)}}}function c(f){return function(d){return n.destroy.call(null,f),d}}function l(f){return function(d){throw n.destroy.call(null,f),d}}function u(f,d){if(!i.enabled)return s.call(this,f,d);let p=new r,h=--i.counter;return n.init.call(p,h,0,null,null),s.call(this,a(f,p,h,!0),a(d,p,h,!1))}}}),Bue=F((e,t)=>{"use strict";var r=require("timers");function n(){}function i(){}function o(){}var s=new Map,a=new Map,c=new Map,l=null,u=!1;t.exports=function(){f(this._hooks,this._state,"setTimeout","clearTimeout",n,s,!0),f(this._hooks,this._state,"setInterval","clearInterval",i,a,!1),f(this._hooks,this._state,"setImmediate","clearImmediate",o,c,!0),global.setTimeout=r.setTimeout,global.setInterval=r.setInterval,global.setImmediate=r.setImmediate,global.clearTimeout=r.clearTimeout,global.clearInterval=r.clearInterval,global.clearImmediate=r.clearImmediate};function f(d,p,h,m,g,v,y){let C=r[h],b=r[m];r[h]=function(){if(!p.enabled)return C.apply(r,arguments);let _=new Array(arguments.length);for(let A=0;A<arguments.length;A++)_[A]=arguments[A];let P=_[0];if(typeof P!="function")throw new TypeError('"callback" argument must be a function');let S=new g,x=--p.counter,I;return d.init.call(S,x,0,null,null),_[0]=function(){l=I,d.pre.call(S,x);let A=!0;try{P.apply(this,arguments),A=!1}finally{A&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){d.post.call(S,x,!0),v.delete(I),d.destroy.call(null,x)})}d.post.call(S,x,!1),l=null,(y||u)&&(u=!1,v.delete(I),d.destroy.call(null,x))},I=C.apply(r,_),v.set(I,x),I},r[m]=function(_){if(l===_&&_!==null)u=!0;else if(v.has(_)){let P=v.get(_);v.delete(_),d.destroy.call(null,P)}b.apply(r,arguments)}}}),hV=F((e,t)=>{t.exports={name:"async-hook-jl",description:"Inspect the life of handle objects in node",version:"1.7.6",author:"Andreas Madsen <amwebdk@gmail.com>",main:"./index.js",scripts:{test:"node ./test/runner.js && eslint ."},repository:{type:"git",url:"git://github.com/jeff-lewis/async-hook-jl.git"},keywords:["async","async hooks","inspect","async wrap"],license:"MIT",dependencies:{"stack-chain":"^1.3.7"},devDependencies:{async:"1.5.x","cli-color":"1.1.x",eslint:"^3.4.0",endpoint:"0.4.x"},engines:{node:"^4.7 || >=6.9 || >=7.3"}}}),Hue=F((e,t)=>{"use strict";var r=process.binding("async_wrap"),n=r.Providers.TIMERWRAP,i={nextTick:$ue(),promise:Uue(),timers:Bue()},o=new Set;function s(){this.enabled=!1,this.counter=0}function a(){let u=this.initFns=[],f=this.preFns=[],d=this.postFns=[],p=this.destroyFns=[];this.init=function(h,m,g,v){if(m===n){o.add(h);return}for(let y of u)y(h,this,m,g,v)},this.pre=function(h){if(!o.has(h))for(let m of f)m(h,this)},this.post=function(h,m){if(!o.has(h))for(let g of d)g(h,this,m)},this.destroy=function(h){if(o.has(h)){o.delete(h);return}for(let m of p)m(h)}}a.prototype.add=function(u){u.init&&this.initFns.push(u.init),u.pre&&this.preFns.push(u.pre),u.post&&this.postFns.push(u.post),u.destroy&&this.destroyFns.push(u.destroy)};function c(u,f){let d=u.indexOf(f);d!==-1&&u.splice(d,1)}a.prototype.remove=function(u){u.init&&c(this.initFns,u.init),u.pre&&c(this.preFns,u.pre),u.post&&c(this.postFns,u.post),u.destroy&&c(this.destroyFns,u.destroy)};function l(){this._state=new s,this._hooks=new a,this.version=hV().version,this.providers=r.Providers;for(let u of Object.keys(i))i[u].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),r.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}t.exports=l,l.prototype.addHooks=function(u){this._hooks.add(u)},l.prototype.removeHooks=function(u){this._hooks.remove(u)},l.prototype.enable=function(){this._state.enabled=!0,r.enable()},l.prototype.disable=function(){this._state.enabled=!1,r.disable()}}),mV=F((e,t)=>{t.exports={name:"stack-chain",description:"API for combining call site modifiers",version:"1.3.7",author:"Andreas Madsen <amwebdk@gmail.com>",scripts:{test:"tap ./test/simple"},repository:{type:"git",url:"git://github.com/AndreasMadsen/stack-chain.git"},keywords:["stack","chain","trace","call site","concat","format"],devDependencies:{tap:"2.x.x","uglify-js":"2.5.x"},license:"MIT"}}),Vue=F((e,t)=>{function r(n){try{return Error.prototype.toString.call(n)}catch(i){try{return"<error: "+i+">"}catch{return"<error>"}}}t.exports=function(n,i){var o=[];o.push(r(n));for(var s=0;s<i.length;s++){var a=i[s],c;try{c=a.toString()}catch(l){try{c="<error: "+l+">"}catch{c="<error>"}}o.push("    at "+c)}return o.join(`
`)}}),Wue=F((e,t)=>{var r=Vue();function n(){this.extend=new s,this.filter=new s,this.format=new a,this.version=mV().version}var i=!1;n.prototype.callSite=function f(d){d||(d={}),i=!0;var p={};Error.captureStackTrace(p,f);var h=p.stack;return i=!1,h=h.slice(d.slice||0),d.extend&&(h=this.extend._modify(p,h)),d.filter&&(h=this.filter._modify(p,h)),h};var o=new n;function s(){this._modifiers=[]}s.prototype._modify=function(f,d){for(var p=0,h=this._modifiers.length;p<h;p++)d=this._modifiers[p](f,d);return d},s.prototype.attach=function(f){this._modifiers.push(f)},s.prototype.deattach=function(f){var d=this._modifiers.indexOf(f);return d===-1?!1:(this._modifiers.splice(d,1),!0)};function a(){this._formater=r,this._previous=void 0}a.prototype.replace=function(f){f?this._formater=f:this.restore()},a.prototype.restore=function(){this._formater=r,this._previous=void 0},a.prototype._backup=function(){this._previous=this._formater},a.prototype._roolback=function(){this._previous===r?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&o.format.replace(Error.prepareStackTrace);var c=!1;function l(f,d){if(i)return d;if(c)return r(f,d);var p=d.concat();p=o.extend._modify(f,p),p=o.filter._modify(f,p),p=p.slice(0,Error.stackTraceLimit),Object.isExtensible(f)&&Object.getOwnPropertyDescriptor(f,"callSite")===void 0&&(f.callSite={original:d,mutated:p}),c=!0;var h=o.format._formater(f,p);return c=!1,h}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return l},set:function(f){f===l?o.format._roolback():(o.format._backup(),o.format.replace(f))}});function u(){return this.stack,this.callSite}Object.defineProperty(Error.prototype,"callSite",{get:u,set:function(f){Object.defineProperty(this,"callSite",{value:f,writable:!0,configurable:!0})},configurable:!0}),t.exports=o}),gV=F((e,t)=>{if(global._stackChain)if(global._stackChain.version===mV().version)t.exports=global._stackChain;else throw new Error("Conflicting version of stack-chain found");else t.exports=global._stackChain=Wue()}),zue=F((e,t)=>{"use strict";var r=Hue();if(global._asyncHook)if(global._asyncHook.version===hV().version)t.exports=global._asyncHook;else throw new Error("Conflicting version of async-hook-jl found");else gV().filter.attach(function(n,i){return i.filter(function(o){let s=o.getFileName();return!(s&&s.slice(0,__dirname.length)===__dirname)})}),t.exports=global._asyncHook=new r}),Gue=F((e,t)=>{"use strict";var r=require("util"),n=require("assert"),i=QP(),o=zue(),s="cls@contexts",a="error@context",c=[];for(let b in o.providers)c[o.providers[b]]=b;var l=process.env.DEBUG_CLS_HOOKED,u=-1;t.exports={getNamespace:d,createNamespace:p,destroyNamespace:h,reset:m,ERROR_SYMBOL:a};function f(b){this.name=b,this.active=null,this._set=[],this.id=null,this._contexts=new Map}f.prototype.set=function(b,_){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return l&&g("    SETTING KEY:"+b+"="+_+" in ns:"+this.name+" uid:"+u+" active:"+r.inspect(this.active,!0)),this.active[b]=_,_},f.prototype.get=function(b){if(!this.active){l&&g("    GETTING KEY:"+b+"=undefined "+this.name+" uid:"+u+" active:"+r.inspect(this.active,!0));return}return l&&g("    GETTING KEY:"+b+"="+this.active[b]+" "+this.name+" uid:"+u+" active:"+r.inspect(this.active,!0)),this.active[b]},f.prototype.createContext=function(){l&&g("   CREATING Context: "+this.name+" uid:"+u+" len:"+this._set.length+"  active:"+r.inspect(this.active,!0,2,!0));let b=Object.create(this.active?this.active:Object.prototype);return b._ns_name=this.name,b.id=u,l&&g("   CREATED Context: "+this.name+" uid:"+u+" len:"+this._set.length+"  context:"+r.inspect(b,!0,2,!0)),b},f.prototype.run=function(b){let _=this.createContext();this.enter(_);try{return l&&g(" BEFORE RUN: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(_)),b(_),_}catch(P){throw P&&(P[a]=_),P}finally{l&&g(" AFTER RUN: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(_)),this.exit(_)}},f.prototype.runAndReturn=function(b){var _;return this.run(function(P){_=b(P)}),_},f.prototype.runPromise=function(b){let _=this.createContext();this.enter(_);let P=b(_);if(!P||!P.then||!P.catch)throw new Error("fn must return a promise.");return l&&g(" BEFORE runPromise: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(_)),P.then(S=>(l&&g(" AFTER runPromise: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(_)),this.exit(_),S)).catch(S=>{throw S[a]=_,l&&g(" AFTER runPromise: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(_)),this.exit(_),S})},f.prototype.bind=function(b,_){_||(this.active?_=this.active:_=this.createContext());let P=this;return function(){P.enter(_);try{return b.apply(this,arguments)}catch(S){throw S&&(S[a]=_),S}finally{P.exit(_)}}},f.prototype.enter=function(b){n.ok(b,"context must be provided for entering"),l&&g("  ENTER "+this.name+" uid:"+u+" len:"+this._set.length+" context: "+r.inspect(b)),this._set.push(this.active),this.active=b},f.prototype.exit=function(b){if(n.ok(b,"context must be provided for exiting"),l&&g("  EXIT "+this.name+" uid:"+u+" len:"+this._set.length+" context: "+r.inspect(b)),this.active===b){n.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let _=this._set.lastIndexOf(b);_<0?(l&&g("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(b)),n.ok(_>=0,`context not currently entered; can't exit. 
`+r.inspect(this)+`
`+r.inspect(b))):(n.ok(_,"can't remove top context"),this._set.splice(_,1))},f.prototype.bindEmitter=function(b){n.ok(b.on&&b.addListener&&b.emit,"can only bind real EEs");let _=this,P="context@"+this.name;function S(I){!I||(I[s]||(I[s]=Object.create(null)),I[s][P]={namespace:_,context:_.active})}function x(I){if(!(I&&I[s]))return I;let A=I,O=I[s];return Object.keys(O).forEach(function(L){let J=O[L];A=J.namespace.bind(A,J.context)}),A}i(b,S,x)},f.prototype.fromException=function(b){return b[a]};function d(b){return process.namespaces[b]}function p(b){n.ok(b,"namespace must be given a name."),l&&g("CREATING NAMESPACE "+b);let _=new f(b);return _.id=u,o.addHooks({init(P,S,x,I,A){u=P,I?(_._contexts.set(P,_._contexts.get(I)),l&&g("PARENTID: "+b+" uid:"+P+" parent:"+I+" provider:"+x)):_._contexts.set(u,_.active),l&&g("INIT "+b+" uid:"+P+" parent:"+I+" provider:"+c[x]+" active:"+r.inspect(_.active,!0))},pre(P,S){u=P;let x=_._contexts.get(P);x?(l&&g(" PRE "+b+" uid:"+P+" handle:"+v(S)+" context:"+r.inspect(x)),_.enter(x)):l&&g(" PRE MISSING CONTEXT "+b+" uid:"+P+" handle:"+v(S))},post(P,S){u=P;let x=_._contexts.get(P);x?(l&&g(" POST "+b+" uid:"+P+" handle:"+v(S)+" context:"+r.inspect(x)),_.exit(x)):l&&g(" POST MISSING CONTEXT "+b+" uid:"+P+" handle:"+v(S))},destroy(P){u=P,l&&g("DESTROY "+b+" uid:"+P+" context:"+r.inspect(_._contexts.get(u))+" active:"+r.inspect(_.active,!0)),_._contexts.delete(P)}}),process.namespaces[b]=_,_}function h(b){let _=d(b);n.ok(_,`can't delete nonexistent namespace! "`+b+'"'),n.ok(_.id,"don't assign to process.namespaces directly! "+r.inspect(_)),process.namespaces[b]=null}function m(){process.namespaces&&Object.keys(process.namespaces).forEach(function(b){h(b)}),process.namespaces=Object.create(null)}process.namespaces={},o._state&&!o._state.enabled&&o.enable();function g(b){process.env.DEBUG&&process._rawDebug(b)}function v(b){if(!b)return b;if(typeof b=="function")return b.name?b.name:(b.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1];if(b.constructor&&b.constructor.name)return b.constructor.name}if(l){y=gV();for(C in y.filter._modifiers)y.filter.deattach(C)}var y,C}),Kue=F((e,t)=>{"use strict";var r=jue();process&&r.gte(process.versions.node,"8.0.0")?t.exports=que():t.exports=Gue()}),Yue=F((e,t)=>{e=t.exports=ne;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var w=Array.prototype.slice.call(arguments,0);w.unshift("SEMVER"),console.log.apply(console,w)}:r=function(){},e.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=e.re=[],a=e.src=[],c=0,l=c++;a[l]="0|[1-9]\\d*";var u=c++;a[u]="[0-9]+";var f=c++;a[f]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var d=c++;a[d]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var p=c++;a[p]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var h=c++;a[h]="(?:"+a[l]+"|"+a[f]+")";var m=c++;a[m]="(?:"+a[u]+"|"+a[f]+")";var g=c++;a[g]="(?:-("+a[h]+"(?:\\."+a[h]+")*))";var v=c++;a[v]="(?:-?("+a[m]+"(?:\\."+a[m]+")*))";var y=c++;a[y]="[0-9A-Za-z-]+";var C=c++;a[C]="(?:\\+("+a[y]+"(?:\\."+a[y]+")*))";var b=c++,_="v?"+a[d]+a[g]+"?"+a[C]+"?";a[b]="^"+_+"$";var P="[v=\\s]*"+a[p]+a[v]+"?"+a[C]+"?",S=c++;a[S]="^"+P+"$";var x=c++;a[x]="((?:<|>)?=?)";var I=c++;a[I]=a[u]+"|x|X|\\*";var A=c++;a[A]=a[l]+"|x|X|\\*";var O=c++;a[O]="[v=\\s]*("+a[A]+")(?:\\.("+a[A]+")(?:\\.("+a[A]+")(?:"+a[g]+")?"+a[C]+"?)?)?";var L=c++;a[L]="[v=\\s]*("+a[I]+")(?:\\.("+a[I]+")(?:\\.("+a[I]+")(?:"+a[v]+")?"+a[C]+"?)?)?";var J=c++;a[J]="^"+a[x]+"\\s*"+a[O]+"$";var z=c++;a[z]="^"+a[x]+"\\s*"+a[L]+"$";var ee=c++;a[ee]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var ie=c++;a[ie]="(?:~>?)";var q=c++;a[q]="(\\s*)"+a[ie]+"\\s+",s[q]=new RegExp(a[q],"g");var M="$1~",D=c++;a[D]="^"+a[ie]+a[O]+"$";var $=c++;a[$]="^"+a[ie]+a[L]+"$";var Y=c++;a[Y]="(?:\\^)";var Q=c++;a[Q]="(\\s*)"+a[Y]+"\\s+",s[Q]=new RegExp(a[Q],"g");var X="$1^",ve=c++;a[ve]="^"+a[Y]+a[O]+"$";var Pe=c++;a[Pe]="^"+a[Y]+a[L]+"$";var Se=c++;a[Se]="^"+a[x]+"\\s*("+P+")$|^$";var Oe=c++;a[Oe]="^"+a[x]+"\\s*("+_+")$|^$";var Ee=c++;a[Ee]="(\\s*)"+a[x]+"\\s*("+P+"|"+a[O]+")",s[Ee]=new RegExp(a[Ee],"g");var xt="$1$2$3",At=c++;a[At]="^\\s*("+a[O]+")\\s+-\\s+("+a[O]+")\\s*$";var Re=c++;a[Re]="^\\s*("+a[L]+")\\s+-\\s+("+a[L]+")\\s*$";var Ae=c++;for(a[Ae]="(<|>)?=?\\s*\\*",Fe=0;Fe<c;Fe++)r(Fe,a[Fe]),s[Fe]||(s[Fe]=new RegExp(a[Fe]));var Fe;e.parse=Xe;function Xe(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ne)return w;if(typeof w!="string"||w.length>n)return null;var k=E.loose?s[S]:s[b];if(!k.test(w))return null;try{return new ne(w,E)}catch{return null}}e.valid=Jn;function Jn(w,E){var k=Xe(w,E);return k?k.version:null}e.clean=cn;function cn(w,E){var k=Xe(w.trim().replace(/^[=v]+/,""),E);return k?k.version:null}e.SemVer=ne;function ne(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ne){if(w.loose===E.loose)return w;w=w.version}else if(typeof w!="string")throw new TypeError("Invalid Version: "+w);if(w.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof ne))return new ne(w,E);r("SemVer",w,E),this.options=E,this.loose=!!E.loose;var k=w.trim().match(E.loose?s[S]:s[b]);if(!k)throw new TypeError("Invalid Version: "+w);if(this.raw=w,this.major=+k[1],this.minor=+k[2],this.patch=+k[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");k[4]?this.prerelease=k[4].split(".").map(function(N){if(/^[0-9]+$/.test(N)){var j=+N;if(j>=0&&j<i)return j}return N}):this.prerelease=[],this.build=k[5]?k[5].split("."):[],this.format()}ne.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},ne.prototype.toString=function(){return this.version},ne.prototype.compare=function(w){return r("SemVer.compare",this.version,this.options,w),w instanceof ne||(w=new ne(w,this.options)),this.compareMain(w)||this.comparePre(w)},ne.prototype.compareMain=function(w){return w instanceof ne||(w=new ne(w,this.options)),re(this.major,w.major)||re(this.minor,w.minor)||re(this.patch,w.patch)},ne.prototype.comparePre=function(w){if(w instanceof ne||(w=new ne(w,this.options)),this.prerelease.length&&!w.prerelease.length)return-1;if(!this.prerelease.length&&w.prerelease.length)return 1;if(!this.prerelease.length&&!w.prerelease.length)return 0;var E=0;do{var k=this.prerelease[E],N=w.prerelease[E];if(r("prerelease compare",E,k,N),k===void 0&&N===void 0)return 0;if(N===void 0)return 1;if(k===void 0)return-1;if(k!==N)return re(k,N)}while(++E)},ne.prototype.inc=function(w,E){switch(w){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",E);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",E);break;case"prepatch":this.prerelease.length=0,this.inc("patch",E),this.inc("pre",E);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",E),this.inc("pre",E);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var k=this.prerelease.length;--k>=0;)typeof this.prerelease[k]=="number"&&(this.prerelease[k]++,k=-2);k===-1&&this.prerelease.push(0)}E&&(this.prerelease[0]===E?isNaN(this.prerelease[1])&&(this.prerelease=[E,0]):this.prerelease=[E,0]);break;default:throw new Error("invalid increment argument: "+w)}return this.format(),this.raw=this.version,this},e.inc=Qn;function Qn(w,E,k,N){typeof k=="string"&&(N=k,k=void 0);try{return new ne(w,k).inc(E,N).version}catch{return null}}e.diff=V;function V(w,E){if(be(w,E))return null;var k=Xe(w),N=Xe(E),j="";if(k.prerelease.length||N.prerelease.length){j="pre";var U="prerelease"}for(var W in k)if((W==="major"||W==="minor"||W==="patch")&&k[W]!==N[W])return j+W;return U}e.compareIdentifiers=re;var ae=/^[0-9]+$/;function re(w,E){var k=ae.test(w),N=ae.test(E);return k&&N&&(w=+w,E=+E),w===E?0:k&&!N?-1:N&&!k?1:w<E?-1:1}e.rcompareIdentifiers=fe;function fe(w,E){return re(E,w)}e.major=ge;function ge(w,E){return new ne(w,E).major}e.minor=Be;function Be(w,E){return new ne(w,E).minor}e.patch=Me;function Me(w,E){return new ne(w,E).patch}e.compare=we;function we(w,E,k){return new ne(w,k).compare(new ne(E,k))}e.compareLoose=je;function je(w,E){return we(w,E,!0)}e.rcompare=_e;function _e(w,E,k){return we(E,w,k)}e.sort=G;function G(w,E){return w.sort(function(k,N){return e.compare(k,N,E)})}e.rsort=oe;function oe(w,E){return w.sort(function(k,N){return e.rcompare(k,N,E)})}e.gt=se;function se(w,E,k){return we(w,E,k)>0}e.lt=de;function de(w,E,k){return we(w,E,k)<0}e.eq=be;function be(w,E,k){return we(w,E,k)===0}e.neq=De;function De(w,E,k){return we(w,E,k)!==0}e.gte=it;function it(w,E,k){return we(w,E,k)>=0}e.lte=et;function et(w,E,k){return we(w,E,k)<=0}e.cmp=ut;function ut(w,E,k,N){switch(E){case"===":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w===k;case"!==":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w!==k;case"":case"=":case"==":return be(w,k,N);case"!=":return De(w,k,N);case">":return se(w,k,N);case">=":return it(w,k,N);case"<":return de(w,k,N);case"<=":return et(w,k,N);default:throw new TypeError("Invalid operator: "+E)}}e.Comparator=Ue;function Ue(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof Ue){if(w.loose===!!E.loose)return w;w=w.value}if(!(this instanceof Ue))return new Ue(w,E);r("comparator",w,E),this.options=E,this.loose=!!E.loose,this.parse(w),this.semver===$t?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var $t={};Ue.prototype.parse=function(w){var E=this.options.loose?s[Se]:s[Oe],k=w.match(E);if(!k)throw new TypeError("Invalid comparator: "+w);this.operator=k[1],this.operator==="="&&(this.operator=""),k[2]?this.semver=new ne(k[2],this.options.loose):this.semver=$t},Ue.prototype.toString=function(){return this.value},Ue.prototype.test=function(w){return r("Comparator.test",w,this.options.loose),this.semver===$t?!0:(typeof w=="string"&&(w=new ne(w,this.options)),ut(w,this.operator,this.semver,this.options))},Ue.prototype.intersects=function(w,E){if(!(w instanceof Ue))throw new TypeError("a Comparator is required");(!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1});var k;if(this.operator==="")return k=new ye(w.value,E),$r(this.value,k,E);if(w.operator==="")return k=new ye(this.value,E),$r(w.semver,k,E);var N=(this.operator===">="||this.operator===">")&&(w.operator===">="||w.operator===">"),j=(this.operator==="<="||this.operator==="<")&&(w.operator==="<="||w.operator==="<"),U=this.semver.version===w.semver.version,W=(this.operator===">="||this.operator==="<=")&&(w.operator===">="||w.operator==="<="),le=ut(this.semver,"<",w.semver,E)&&(this.operator===">="||this.operator===">")&&(w.operator==="<="||w.operator==="<"),ce=ut(this.semver,">",w.semver,E)&&(this.operator==="<="||this.operator==="<")&&(w.operator===">="||w.operator===">");return N||j||U&&W||le||ce},e.Range=ye;function ye(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ye)return w.loose===!!E.loose&&w.includePrerelease===!!E.includePrerelease?w:new ye(w.raw,E);if(w instanceof Ue)return new ye(w.value,E);if(!(this instanceof ye))return new ye(w,E);if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=w,this.set=w.split(/\s*\|\|\s*/).map(function(k){return this.parseRange(k.trim())},this).filter(function(k){return k.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+w);this.format()}ye.prototype.format=function(){return this.range=this.set.map(function(w){return w.join(" ").trim()}).join("||").trim(),this.range},ye.prototype.toString=function(){return this.range},ye.prototype.parseRange=function(w){var E=this.options.loose;w=w.trim();var k=E?s[Re]:s[At];w=w.replace(k,Wa),r("hyphen replace",w),w=w.replace(s[Ee],xt),r("comparator trim",w,s[Ee]),w=w.replace(s[q],M),w=w.replace(s[Q],X),w=w.split(/\s+/).join(" ");var N=E?s[Se]:s[Oe],j=w.split(" ").map(function(U){return Di(U,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(j=j.filter(function(U){return!!U.match(N)})),j=j.map(function(U){return new Ue(U,this.options)},this),j},ye.prototype.intersects=function(w,E){if(!(w instanceof ye))throw new TypeError("a Range is required");return this.set.some(function(k){return k.every(function(N){return w.set.some(function(j){return j.every(function(U){return N.intersects(U,E)})})})})},e.toComparators=As;function As(w,E){return new ye(w,E).set.map(function(k){return k.map(function(N){return N.value}).join(" ").trim().split(" ")})}function Di(w,E){return r("comp",w,E),w=Ua(w,E),r("caret",w),w=Tn(w,E),r("tildes",w),w=Ha(w,E),r("xrange",w),w=Jr(w,E),r("stars",w),w}function He(w){return!w||w.toLowerCase()==="x"||w==="*"}function Tn(w,E){return w.trim().split(/\s+/).map(function(k){return $a(k,E)}).join(" ")}function $a(w,E){var k=E.loose?s[$]:s[D];return w.replace(k,function(N,j,U,W,le){r("tilde",w,N,j,U,W,le);var ce;return He(j)?ce="":He(U)?ce=">="+j+".0.0 <"+(+j+1)+".0.0":He(W)?ce=">="+j+"."+U+".0 <"+j+"."+(+U+1)+".0":le?(r("replaceTilde pr",le),ce=">="+j+"."+U+"."+W+"-"+le+" <"+j+"."+(+U+1)+".0"):ce=">="+j+"."+U+"."+W+" <"+j+"."+(+U+1)+".0",r("tilde return",ce),ce})}function Ua(w,E){return w.trim().split(/\s+/).map(function(k){return Ba(k,E)}).join(" ")}function Ba(w,E){r("caret",w,E);var k=E.loose?s[Pe]:s[ve];return w.replace(k,function(N,j,U,W,le){r("caret",w,N,j,U,W,le);var ce;return He(j)?ce="":He(U)?ce=">="+j+".0.0 <"+(+j+1)+".0.0":He(W)?j==="0"?ce=">="+j+"."+U+".0 <"+j+"."+(+U+1)+".0":ce=">="+j+"."+U+".0 <"+(+j+1)+".0.0":le?(r("replaceCaret pr",le),j==="0"?U==="0"?ce=">="+j+"."+U+"."+W+"-"+le+" <"+j+"."+U+"."+(+W+1):ce=">="+j+"."+U+"."+W+"-"+le+" <"+j+"."+(+U+1)+".0":ce=">="+j+"."+U+"."+W+"-"+le+" <"+(+j+1)+".0.0"):(r("no pr"),j==="0"?U==="0"?ce=">="+j+"."+U+"."+W+" <"+j+"."+U+"."+(+W+1):ce=">="+j+"."+U+"."+W+" <"+j+"."+(+U+1)+".0":ce=">="+j+"."+U+"."+W+" <"+(+j+1)+".0.0"),r("caret return",ce),ce})}function Ha(w,E){return r("replaceXRanges",w,E),w.split(/\s+/).map(function(k){return Va(k,E)}).join(" ")}function Va(w,E){w=w.trim();var k=E.loose?s[z]:s[J];return w.replace(k,function(N,j,U,W,le,ce){r("xRange",w,N,j,U,W,le,ce);var ft=He(U),tt=ft||He(W),Ye=tt||He(le),Ke=Ye;return j==="="&&Ke&&(j=""),ft?j===">"||j==="<"?N="<0.0.0":N="*":j&&Ke?(tt&&(W=0),le=0,j===">"?(j=">=",tt?(U=+U+1,W=0,le=0):(W=+W+1,le=0)):j==="<="&&(j="<",tt?U=+U+1:W=+W+1),N=j+U+"."+W+"."+le):tt?N=">="+U+".0.0 <"+(+U+1)+".0.0":Ye&&(N=">="+U+"."+W+".0 <"+U+"."+(+W+1)+".0"),r("xRange return",N),N})}function Jr(w,E){return r("replaceStars",w,E),w.trim().replace(s[Ae],"")}function Wa(w,E,k,N,j,U,W,le,ce,ft,tt,Ye,Ke){return He(k)?E="":He(N)?E=">="+k+".0.0":He(j)?E=">="+k+"."+N+".0":E=">="+E,He(ce)?le="":He(ft)?le="<"+(+ce+1)+".0.0":He(tt)?le="<"+ce+"."+(+ft+1)+".0":Ye?le="<="+ce+"."+ft+"."+tt+"-"+Ye:le="<="+le,(E+" "+le).trim()}ye.prototype.test=function(w){if(!w)return!1;typeof w=="string"&&(w=new ne(w,this.options));for(var E=0;E<this.set.length;E++)if(za(this.set[E],w,this.options))return!0;return!1};function za(w,E,k){for(var N=0;N<w.length;N++)if(!w[N].test(E))return!1;if(E.prerelease.length&&!k.includePrerelease){for(N=0;N<w.length;N++)if(r(w[N].semver),w[N].semver!==$t&&w[N].semver.prerelease.length>0){var j=w[N].semver;if(j.major===E.major&&j.minor===E.minor&&j.patch===E.patch)return!0}return!1}return!0}e.satisfies=$r;function $r(w,E,k){try{E=new ye(E,k)}catch{return!1}return E.test(w)}e.maxSatisfying=Ga;function Ga(w,E,k){var N=null,j=null;try{var U=new ye(E,k)}catch{return null}return w.forEach(function(W){U.test(W)&&(!N||j.compare(W)===-1)&&(N=W,j=new ne(N,k))}),N}e.minSatisfying=Ka;function Ka(w,E,k){var N=null,j=null;try{var U=new ye(E,k)}catch{return null}return w.forEach(function(W){U.test(W)&&(!N||j.compare(W)===1)&&(N=W,j=new ne(N,k))}),N}e.minVersion=Xn;function Xn(w,E){w=new ye(w,E);var k=new ne("0.0.0");if(w.test(k)||(k=new ne("0.0.0-0"),w.test(k)))return k;k=null;for(var N=0;N<w.set.length;++N){var j=w.set[N];j.forEach(function(U){var W=new ne(U.semver.version);switch(U.operator){case">":W.prerelease.length===0?W.patch++:W.prerelease.push(0),W.raw=W.format();case"":case">=":(!k||se(k,W))&&(k=W);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+U.operator)}})}return k&&w.test(k)?k:null}e.validRange=Ya;function Ya(w,E){try{return new ye(w,E).range||"*"}catch{return null}}e.ltr=Ja;function Ja(w,E,k){return An(w,E,"<",k)}e.gtr=Qa;function Qa(w,E,k){return An(w,E,">",k)}e.outside=An;function An(w,E,k,N){w=new ne(w,N),E=new ye(E,N);var j,U,W,le,ce;switch(k){case">":j=se,U=et,W=de,le=">",ce=">=";break;case"<":j=de,U=it,W=se,le="<",ce="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if($r(w,E,N))return!1;for(var ft=0;ft<E.set.length;++ft){var tt=E.set[ft],Ye=null,Ke=null;if(tt.forEach(function(kt){kt.semver===$t&&(kt=new Ue(">=0.0.0")),Ye=Ye||kt,Ke=Ke||kt,j(kt.semver,Ye.semver,N)?Ye=kt:W(kt.semver,Ke.semver,N)&&(Ke=kt)}),Ye.operator===le||Ye.operator===ce||(!Ke.operator||Ke.operator===le)&&U(w,Ke.semver)||Ke.operator===ce&&W(w,Ke.semver))return!1}return!0}e.prerelease=Xa;function Xa(w,E){var k=Xe(w,E);return k&&k.prerelease.length?k.prerelease:null}e.intersects=Zn;function Zn(w,E,k){return w=new ye(w,k),E=new ye(E,k),w.intersects(E)}e.coerce=Za;function Za(w){if(w instanceof ne)return w;if(typeof w!="string")return null;var E=w.match(s[ee]);return E==null?null:Xe(E[1]+"."+(E[2]||"0")+"."+(E[3]||"0"))}}),Jue=F((e,t)=>{var r=JP().wrap,n=1<<0,i=1<<1,o=1<<2,s=1<<3,a=[],c=0,l=!1,u=[],f,d;function p(S,x){var I=S.length,A=x.length,O=[];if(I===0&&A===0)return O;for(var L=0;L<I;L++)O[L]=S[L];if(A===0)return O;for(var J=0;J<A;J++){var z=!0;for(L=0;L<I;L++)if(S[L].uid===x[J].uid){z=!1;break}z&&O.push(x[J])}return O}process._fatalException?(h=!1,f=function(S){var x=a.length;if(h||x===0)return!1;var I=!1;h=!0;for(var A=0;A<x;++A){var O=a[A];if((O.flags&s)!=0){var L=m&&m[O.uid];I=O.error(L,S)||I}}return h=!1,u.length>0&&(a=u.pop()),m=void 0,I&&!l},d=function(S,x,I){var A=[];l=!0;for(var O=0;O<I;++O){var L=x[O];if(A[L.uid]=L.data,(L.flags&n)!=0){var J=L.create(L.data);J!==void 0&&(A[L.uid]=J)}}return l=!1,function(){m=A,u.push(a),a=p(x,a),l=!0;for(var z=0;z<I;++z)(x[z].flags&i)>0&&x[z].before(this,A[x[z].uid]);l=!1;var ee=S.apply(this,arguments);for(l=!0,z=0;z<I;++z)(x[z].flags&o)>0&&x[z].after(this,A[x[z].uid]);return l=!1,a=u.pop(),m=void 0,ee}},r(process,"_fatalException",function(S){return function(x){return f(x)||S(x)}})):(g=!1,f=function(S){if(g)throw S;for(var x=!1,I=a.length,A=0;A<I;++A){var O=a[A];(O.flags&s)!=0&&(x=O.error(null,S)||x)}if(!x&&l)throw S},d=function(S,x,I){var A=[];l=!0;for(var O=0;O<I;++O){var L=x[O];if(A[L.uid]=L.data,(L.flags&n)!=0){var J=L.create(L.data);J!==void 0&&(A[L.uid]=J)}}return l=!1,function(){var z=!1,ee=!1;u.push(a),a=p(x,a),l=!0;for(var ie=0;ie<I;++ie)(x[ie].flags&i)>0&&x[ie].before(this,A[x[ie].uid]);l=!1;var q;try{q=S.apply(this,arguments)}catch(M){z=!0;for(var ie=0;ie<I;++ie)if((a[ie].flags&s)!=0)try{ee=a[ie].error(A[x[ie].uid],M)||ee}catch($){throw g=!0,$}if(!ee)throw process.removeListener("uncaughtException",f),process._originalNextTick(function(){process.addListener("uncaughtException",f)}),M}finally{if(!z||ee){for(l=!0,ie=0;ie<I;++ie)(x[ie].flags&o)>0&&x[ie].after(this,A[x[ie].uid]);l=!1}a=u.pop()}return q}},process.addListener("uncaughtException",f));var h,m,g;function v(S,x,I){l=!0;for(var A=0;A<I;++A){var O=x[A];O.create&&O.create(O.data)}return l=!1,function(){u.push(a),a=p(x,a);var L=S.apply(this,arguments);return a=u.pop(),L}}function y(S){var x=a.length;if(x===0)return S;for(var I=a.slice(),A=0;A<x;++A)if(I[A].flags>0)return d(S,I,x);return v(S,I,x)}function C(S,x){typeof S.create=="function"&&(this.create=S.create,this.flags|=n),typeof S.before=="function"&&(this.before=S.before,this.flags|=i),typeof S.after=="function"&&(this.after=S.after,this.flags|=o),typeof S.error=="function"&&(this.error=S.error,this.flags|=s),this.uid=++c,this.data=x===void 0?null:x}C.prototype.create=void 0,C.prototype.before=void 0,C.prototype.after=void 0,C.prototype.error=void 0,C.prototype.data=void 0,C.prototype.uid=0,C.prototype.flags=0;function b(S,x){if(typeof S!="object"||!S)throw new TypeError("callbacks argument must be an object");return S instanceof C?S:new C(S,x)}function _(S,x){var I;S instanceof C?I=S:I=b(S,x);for(var A=!1,O=0;O<a.length;O++)if(I===a[O]){A=!0;break}return A||a.push(I),I}function P(S){for(var x=0;x<a.length;x++)if(S===a[x]){a.splice(x,1);break}}process.createAsyncListener=b,process.addAsyncListener=_,process.removeAsyncListener=P,t.exports=y}),Que=F((e,t)=>{"use strict";t.exports=(r,n)=>class extends r{constructor(i){var o,s;super(c);var a=this;try{i.apply(o,s)}catch(l){s[1](l)}return a;function c(l,u){o=this,s=[f,d];function f(p){return n(a,!1),l(p)}function d(p){return n(a,!1),u(p)}}}}}),Xue=F(()=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var e=JP(),t=Yue(),r=e.wrap,n=e.massWrap,i=Jue(),o=require("util"),s=t.gte(process.version,"6.0.0"),a=t.gte(process.version,"7.0.0"),c=t.gte(process.version,"8.0.0"),l=t.gte(process.version,"11.0.0"),u=require("net");a&&!u._normalizeArgs?u._normalizeArgs=function(q){if(q.length===0)return[{},null];var M=q[0],D={};typeof M=="object"&&M!==null?D=M:ie(M)?D.path=M:(D.port=M,q.length>1&&typeof q[1]=="string"&&(D.host=q[1]));var $=q[q.length-1];return typeof $!="function"?[D,null]:[D,$]}:!a&&!u._normalizeConnectArgs&&(u._normalizeConnectArgs=function(q){var M={};function D(Y){return(Y=Number(Y))>=0?Y:!1}typeof q[0]=="object"&&q[0]!==null?M=q[0]:typeof q[0]=="string"&&D(q[0])===!1?M.path=q[0]:(M.port=q[0],typeof q[1]=="string"&&(M.host=q[1]));var $=q[q.length-1];return typeof $=="function"?[M,$]:[M]}),"_setUpListenHandle"in u.Server.prototype?r(u.Server.prototype,"_setUpListenHandle",f):r(u.Server.prototype,"_listen2",f);function f(q){return function(){this.on("connection",function(M){M._handle&&(M._handle.onread=i(M._handle.onread))});try{return q.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=i(this._handle.onconnection))}}}function d(q){if(q&&q._handle){var M=q._handle;M._originalOnread||(M._originalOnread=M.onread),M.onread=i(M._originalOnread)}}r(u.Socket.prototype,"connect",function(q){return function(){var M;c&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?M=arguments[0]:M=a?u._normalizeArgs(arguments):u._normalizeConnectArgs(arguments),M[1]&&(M[1]=i(M[1]));var D=q.apply(this,M);return d(this),D}});var p=require("http");r(p.Agent.prototype,"addRequest",function(q){return function(M){var D=M.onSocket;return M.onSocket=i(function($){return d($),D.apply(this,arguments)}),q.apply(this,arguments)}});var h=require("child_process");function m(q){Array.isArray(q.stdio)&&q.stdio.forEach(function(M){M&&M._handle&&(M._handle.onread=i(M._handle.onread),r(M._handle,"close",z))}),q._handle&&(q._handle.onexit=i(q._handle.onexit))}h.ChildProcess?r(h.ChildProcess.prototype,"spawn",function(q){return function(){var M=q.apply(this,arguments);return m(this),M}}):n(h,["execFile","fork","spawn"],function(q){return function(){var M=q.apply(this,arguments);return m(M),M}}),process._fatalException||(process._originalNextTick=process.nextTick);var g=[];process._nextDomainTick&&g.push("_nextDomainTick"),process._tickDomainCallback&&g.push("_tickDomainCallback"),n(process,g,J),r(process,"nextTick",z);var v=["setTimeout","setInterval"];global.setImmediate&&v.push("setImmediate");var y=require("timers"),C=global.setTimeout===y.setTimeout;n(y,v,z),C&&n(global,v,z);var b=require("dns");n(b,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],J),b.resolveNaptr&&r(b,"resolveNaptr",J);var _=require("fs");n(_,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],J),_.lchown&&r(_,"lchown",J),_.lchmod&&r(_,"lchmod",J),_.ftruncate&&r(_,"ftruncate",J);var P;try{P=require("zlib")}catch{}P&&P.Deflate&&P.Deflate.prototype&&(S=Object.getPrototypeOf(P.Deflate.prototype),S._transform?r(S,"_transform",J):S.write&&S.flush&&S.end&&n(S,["write","flush","end"],J));var S,x;try{x=require("crypto")}catch{}x&&(I=["pbkdf2","randomBytes"],l||I.push("pseudoRandomBytes"),n(x,I,J));var I,A=!!global.Promise&&Promise.toString()==="function Promise() { [native code] }"&&Promise.toString.toString()==="function toString() { [native code] }";A&&(O=process.addAsyncListener({create:function(){A=!1}}),global.Promise.resolve(!0).then(function(){A=!1}),process.removeAsyncListener(O));var O;A&&L();function L(){var q=global.Promise;function M(X){if(!(this instanceof M))return q(X);if(typeof X!="function")return new q(X);var ve,Pe,Se=new q(Oe);Se.__proto__=M.prototype;try{X.apply(ve,Pe)}catch(Ee){Pe[1](Ee)}return Se;function Oe(Ee,xt){ve=this,Pe=[At,Re];function At(Ae){return $(Se,!1),Ee(Ae)}function Re(Ae){return $(Se,!1),xt(Ae)}}}if(o.inherits(M,q),r(q.prototype,"then",Q),q.prototype.chain&&r(q.prototype,"chain",Q),s)global.Promise=Que()(q,$);else{var D=["all","race","reject","resolve","accept","defer"];D.forEach(function(X){typeof q[X]=="function"&&(M[X]=q[X])}),global.Promise=M}function $(X,ve){(!X.__asl_wrapper||ve)&&(X.__asl_wrapper=i(Y))}function Y(X,ve,Pe,Se){var Oe;try{return Oe=ve.call(X,Pe),{returnVal:Oe,error:!1}}catch(Ee){return{errorVal:Ee,error:!0}}finally{Oe instanceof q?Se.__asl_wrapper=function(){var Ee=Oe.__asl_wrapper||Y;return Ee.apply(this,arguments)}:$(Se,!0)}}function Q(X){return function(){var ve=this,Pe=X.apply(ve,Array.prototype.map.call(arguments,Se));return Pe.__asl_wrapper=function(Oe,Ee,xt,At){return ve.__asl_wrapper?(ve.__asl_wrapper(Oe,function(){},null,Pe),Pe.__asl_wrapper(Oe,Ee,xt,At)):Y(Oe,Ee,xt,At)},Pe;function Se(Oe){return typeof Oe!="function"?Oe:i(function(Ee){var xt=(ve.__asl_wrapper||Y)(this,Oe,Ee,Pe);if(xt.error)throw xt.errorVal;return xt.returnVal})}}}}function J(q){var M=function(){var D,$=arguments.length-1;if(typeof arguments[$]=="function"){D=Array(arguments.length);for(var Y=0;Y<arguments.length-1;Y++)D[Y]=arguments[Y];D[$]=i(arguments[$])}return q.apply(this,D||arguments)};switch(q.length){case 1:return function(D){return arguments.length!==1?M.apply(this,arguments):(typeof D=="function"&&(D=i(D)),q.call(this,D))};case 2:return function(D,$){return arguments.length!==2?M.apply(this,arguments):(typeof $=="function"&&($=i($)),q.call(this,D,$))};case 3:return function(D,$,Y){return arguments.length!==3?M.apply(this,arguments):(typeof Y=="function"&&(Y=i(Y)),q.call(this,D,$,Y))};case 4:return function(D,$,Y,Q){return arguments.length!==4?M.apply(this,arguments):(typeof Q=="function"&&(Q=i(Q)),q.call(this,D,$,Y,Q))};case 5:return function(D,$,Y,Q,X){return arguments.length!==5?M.apply(this,arguments):(typeof X=="function"&&(X=i(X)),q.call(this,D,$,Y,Q,X))};case 6:return function(D,$,Y,Q,X,ve){return arguments.length!==6?M.apply(this,arguments):(typeof ve=="function"&&(ve=i(ve)),q.call(this,D,$,Y,Q,X,ve))};default:return M}}function z(q){var M=function(){var D;if(typeof arguments[0]=="function"){D=Array(arguments.length),D[0]=i(arguments[0]);for(var $=1;$<arguments.length;$++)D[$]=arguments[$]}return q.apply(this,D||arguments)};switch(q.length){case 1:return function(D){return arguments.length!==1?M.apply(this,arguments):(typeof D=="function"&&(D=i(D)),q.call(this,D))};case 2:return function(D,$){return arguments.length!==2?M.apply(this,arguments):(typeof D=="function"&&(D=i(D)),q.call(this,D,$))};case 3:return function(D,$,Y){return arguments.length!==3?M.apply(this,arguments):(typeof D=="function"&&(D=i(D)),q.call(this,D,$,Y))};case 4:return function(D,$,Y,Q){return arguments.length!==4?M.apply(this,arguments):(typeof D=="function"&&(D=i(D)),q.call(this,D,$,Y,Q))};case 5:return function(D,$,Y,Q,X){return arguments.length!==5?M.apply(this,arguments):(typeof D=="function"&&(D=i(D)),q.call(this,D,$,Y,Q,X))};case 6:return function(D,$,Y,Q,X,ve){return arguments.length!==6?M.apply(this,arguments):(typeof D=="function"&&(D=i(D)),q.call(this,D,$,Y,Q,X,ve))};default:return M}}function ee(q){return(q=Number(q))>=0?q:!1}function ie(q){return typeof q=="string"&&ee(q)===!1}}),Zue=F((e,t)=>{"use strict";var r=require("assert"),n=QP(),i="cls@contexts",o="error@context";process.addAsyncListener||Xue();function s(f){this.name=f,this.active=null,this._set=[],this.id=null}s.prototype.set=function(f,d){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[f]=d,d},s.prototype.get=function(f){if(this.active)return this.active[f]},s.prototype.createContext=function(){return Object.create(this.active)},s.prototype.run=function(f){var d=this.createContext();this.enter(d);try{return f(d),d}catch(p){throw p&&(p[o]=d),p}finally{this.exit(d)}},s.prototype.runAndReturn=function(f){var d;return this.run(function(p){d=f(p)}),d},s.prototype.bind=function(f,d){d||(this.active?d=this.active:d=this.createContext());var p=this;return function(){p.enter(d);try{return f.apply(this,arguments)}catch(h){throw h&&(h[o]=d),h}finally{p.exit(d)}}},s.prototype.enter=function(f){r.ok(f,"context must be provided for entering"),this._set.push(this.active),this.active=f},s.prototype.exit=function(f){if(r.ok(f,"context must be provided for exiting"),this.active===f){r.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}var d=this._set.lastIndexOf(f);r.ok(d>=0,"context not currently entered; can't exit"),r.ok(d,"can't remove top context"),this._set.splice(d,1)},s.prototype.bindEmitter=function(f){r.ok(f.on&&f.addListener&&f.emit,"can only bind real EEs");var d=this,p="context@"+this.name;function h(g){!g||(g[i]||(g[i]=Object.create(null)),g[i][p]={namespace:d,context:d.active})}function m(g){if(!(g&&g[i]))return g;var v=g,y=g[i];return Object.keys(y).forEach(function(C){var b=y[C];v=b.namespace.bind(v,b.context)}),v}n(f,h,m)},s.prototype.fromException=function(f){return f[o]};function a(f){return process.namespaces[f]}function c(f){r.ok(f,"namespace must be given a name!");var d=new s(f);return d.id=process.addAsyncListener({create:function(){return d.active},before:function(p,h){h&&d.enter(h)},after:function(p,h){h&&d.exit(h)},error:function(p){p&&d.exit(p)}}),process.namespaces[f]=d,d}function l(f){var d=a(f);r.ok(d,"can't delete nonexistent namespace!"),r.ok(d.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(d.id),process.namespaces[f]=null}function u(){process.namespaces&&Object.keys(process.namespaces).forEach(function(f){l(f)}),process.namespaces=Object.create(null)}process.namespaces||u(),t.exports={getNamespace:a,createNamespace:c,destroyNamespace:l,reset:u}}),Nf=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CorrelationContextManager=void 0;var t=Mr(),r=YP(),n=Xw(),i=aV(),o=pV(),s=function(){function c(){}return c.getCurrentContext=function(){if(!c.enabled)return null;var l=c.session.get(c.CONTEXT_NAME);return l===void 0?null:l},c.generateContextObject=function(l,u,f,d,p,h){return u=u||l,this.enabled?{operation:{name:f,id:l,parentId:u,traceparent:p,tracestate:h},customProperties:new a(d)}:null},c.spanToContextObject=function(l,u,f){var d=new n;return d.traceId=l.traceId,d.spanId=l.spanId,d.traceFlag=n.formatOpenTelemetryTraceFlags(l.traceFlags)||n.DEFAULT_TRACE_FLAG,d.parentId=u,c.generateContextObject(d.traceId,d.parentId,f,null,d)},c.runWithContext=function(l,u){var f;return c.enabled?c.session.bind(u,(f={},f[c.CONTEXT_NAME]=l,f))():u()},c.wrapEmitter=function(l){c.enabled&&c.session.bindEmitter(l)},c.wrapCallback=function(l,u){var f;return c.enabled?c.session.bind(l,u?(f={},f[c.CONTEXT_NAME]=u,f):void 0):l},c.enable=function(l){if(!this.enabled){if(!this.isNodeVersionCompatible()){this.enabled=!1;return}c.hasEverEnabled||(this.forceClsHooked=l,this.hasEverEnabled=!0,typeof this.cls>"u"&&(c.forceClsHooked===!0||c.forceClsHooked===void 0&&c.shouldUseClsHooked()?this.cls=Kue():this.cls=Zue()),c.session=this.cls.createNamespace("AI-CLS-Session"),r.registerContextPreservation(function(u){return c.session.bind(u)})),this.enabled=!0}},c.startOperation=function(l,u){var f=l&&l.traceContext||null,d=l&&l.traceId?l:null,p=l&&l.headers;if(d){var h=new n("00-"+d.traceId+"-"+d.spanId+"-01"),m=new i(d.traceState?d.traceState.serialize():null),g=c.generateContextObject(d.traceId,"|"+d.traceId+"."+d.spanId+".",typeof u=="string"?u:"",void 0,h,m);return g}if(f){var h=new n(f.traceparent),m=new i(f.tracestate),v=typeof u=="object"?new o(u):null,g=c.generateContextObject(h.traceId,h.parentId,typeof u=="string"?u:v.getOperationName({}),v&&v.getCorrelationContextHeader()||void 0,h,m);return g}if(p){var h=new n(p.traceparent?p.traceparent.toString():null),m=new i(p.tracestate?p.tracestate.toString():null),v=new o(l),g=c.generateContextObject(h.traceId,h.parentId,v.getOperationName({}),v.getCorrelationContextHeader(),h,m);return g}return t.warn("startOperation was called with invalid arguments",arguments),null},c.disable=function(){this.enabled=!1},c.reset=function(){c.hasEverEnabled&&(c.session=null,c.session=this.cls.createNamespace("AI-CLS-Session"))},c.isNodeVersionCompatible=function(){var l=process.versions.node.split(".");return parseInt(l[0])>3||parseInt(l[0])>2&&parseInt(l[1])>2},c.shouldUseClsHooked=function(){var l=process.versions.node.split(".");return parseInt(l[0])>8||parseInt(l[0])>=8&&parseInt(l[1])>=2},c.canUseClsHooked=function(){var l=process.versions.node.split("."),u=parseInt(l[0])>8||parseInt(l[0])>=8&&parseInt(l[1])>=0,f=parseInt(l[0])<8||parseInt(l[0])<=8&&parseInt(l[1])<2,d=parseInt(l[0])>4||parseInt(l[0])>=4&&parseInt(l[1])>=7;return!(u&&f)&&d},c.enabled=!1,c.hasEverEnabled=!1,c.forceClsHooked=void 0,c.CONTEXT_NAME="ApplicationInsights-Context",c}();e.CorrelationContextManager=s;var a=function(){function c(l){this.props=[],this.addHeaderData(l)}return c.prototype.addHeaderData=function(l){var u=l?l.split(", "):[];this.props=u.map(function(f){var d=f.split("=");return{key:d[0],value:d[1]}}).concat(this.props)},c.prototype.serializeToHeader=function(){return this.props.map(function(l){return l.key+"="+l.value}).join(", ")},c.prototype.getProperty=function(l){for(var u=0;u<this.props.length;++u){var f=this.props[u];if(f.key===l)return f.value}},c.prototype.setProperty=function(l,u){if(c.bannedCharacters.test(l)||c.bannedCharacters.test(u)){t.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+l+" and value: "+u);return}for(var f=0;f<this.props.length;++f){var d=this.props[f];if(d.key===l){d.value=u;return}}this.props.push({key:l,value:u})},c.bannedCharacters=/[,=]/,c}()}),efe=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=_n(),r=fr(),n=[],i=function(a){var c=a.data.message;n.forEach(function(l){c instanceof Error?l.trackException({exception:c}):(c.lastIndexOf(`
`)==c.length-1&&(c=c.substring(0,c.length-1)),l.trackTrace({message:c,severity:a.data.stderr?t.SeverityLevel.Warning:t.SeverityLevel.Information}))})};function o(a,c){a?(n.length===0&&r.channel.subscribe("console",i),n.push(c)):(n=n.filter(function(l){return l!=c}),n.length===0&&r.channel.unsubscribe("console",i))}e.enable=o;function s(){r.channel.unsubscribe("console",i),n=[]}e.dispose=s}),tfe=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=_n(),r=fr(),n=[],i={10:t.SeverityLevel.Verbose,20:t.SeverityLevel.Verbose,30:t.SeverityLevel.Information,40:t.SeverityLevel.Warning,50:t.SeverityLevel.Error,60:t.SeverityLevel.Critical},o=function(c){var l=c.data.result;n.forEach(function(u){var f=i[c.data.level];l instanceof Error?u.trackException({exception:l}):u.trackTrace({message:l,severity:f})})};function s(c,l){c?(n.length===0&&r.channel.subscribe("bunyan",o),n.push(l)):(n=n.filter(function(u){return u!=l}),n.length===0&&r.channel.unsubscribe("bunyan",o))}e.enable=s;function a(){r.channel.unsubscribe("bunyan",o),n=[]}e.dispose=a}),rfe=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=_n(),r=fr(),n=[],i={syslog:function(c){var l={emerg:t.SeverityLevel.Critical,alert:t.SeverityLevel.Critical,crit:t.SeverityLevel.Critical,error:t.SeverityLevel.Error,warning:t.SeverityLevel.Warning,notice:t.SeverityLevel.Information,info:t.SeverityLevel.Information,debug:t.SeverityLevel.Verbose};return l[c]===void 0?t.SeverityLevel.Information:l[c]},npm:function(c){var l={error:t.SeverityLevel.Error,warn:t.SeverityLevel.Warning,info:t.SeverityLevel.Information,verbose:t.SeverityLevel.Verbose,debug:t.SeverityLevel.Verbose,silly:t.SeverityLevel.Verbose};return l[c]===void 0?t.SeverityLevel.Information:l[c]},unknown:function(c){return t.SeverityLevel.Information}},o=function(c){var l=c.data.message;n.forEach(function(u){if(l instanceof Error)u.trackException({exception:l,properties:c.data.meta});else{var f=i[c.data.levelKind](c.data.level);u.trackTrace({message:l,severity:f,properties:c.data.meta})}})};function s(c,l){c?(n.length===0&&r.channel.subscribe("winston",o),n.push(l)):(n=n.filter(function(u){return u!=l}),n.length===0&&r.channel.unsubscribe("winston",o))}e.enable=s;function a(){r.channel.unsubscribe("winston",o),n=[]}e.dispose=a}),nfe=F((e,t)=>{"use strict";var r=YP(),n=function(){function i(o){if(i.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=o,i.INSTANCE=this}return i.prototype.enable=function(o,s){r.IsInitialized&&(efe().enable(o&&s,this._client),tfe().enable(o,this._client),rfe().enable(o,this._client))},i.prototype.isInitialized=function(){return this._isInitialized},i.prototype.dispose=function(){i.INSTANCE=null,this.enable(!1,!1)},i._methodNames=["debug","info","log","warn","error"],i}();t.exports=n}),ife=F((e,t)=>{"use strict";var r=function(){function n(i){if(n.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");n.INSTANCE=this,this._client=i;var o=process.versions.node.split(".");n._canUseUncaughtExceptionMonitor=parseInt(o[0])>13||parseInt(o[0])===13&&parseInt(o[1])>=7}return n.prototype.isInitialized=function(){return this._isInitialized},n.prototype.enable=function(i){var o=this;if(i){this._isInitialized=!0;var s=this;if(!this._exceptionListenerHandle){var a=function(c,l,u){u===void 0&&(u=new Error(n._FALLBACK_ERROR_MESSAGE)),o._client.trackException({exception:u}),o._client.flush({isAppCrashing:!0}),c&&l&&process.listeners(l).length===1&&(console.error(u),process.exit(1))};n._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=a.bind(this,!1,void 0),process.on(n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=a.bind(this,!0,n.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=a.bind(this,!1,void 0),process.on(n.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(n.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(n._canUseUncaughtExceptionMonitor?process.removeListener(n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(n.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(n.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},n.prototype.dispose=function(){n.INSTANCE=null,this.enable(!1),this._isInitialized=!1},n.INSTANCE=null,n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",n.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",n.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",n._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",n._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",n._canUseUncaughtExceptionMonitor=!1,n}();t.exports=r}),xa=F(e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.HeartBeatMetricName=e.DependencyTypeName=e.SpanAttribute=e.TelemetryTypeStringToQuickPulseDocumentType=e.TelemetryTypeStringToQuickPulseType=e.QuickPulseType=e.QuickPulseDocumentType=e.PerformanceToQuickPulseCounter=e.MetricId=e.PerformanceCounter=e.QuickPulseCounter=e.DEFAULT_LIVEMETRICS_HOST=e.DEFAULT_LIVEMETRICS_ENDPOINT=e.DEFAULT_BREEZE_ENDPOINT=void 0,e.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",e.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",e.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com";var r;(function(o){o.COMMITTED_BYTES="\\Memory\\Committed Bytes",o.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",o.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",o.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",o.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",o.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",o.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",o.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",o.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"})(r=e.QuickPulseCounter||(e.QuickPulseCounter={}));var n;(function(o){o.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",o.AVAILABLE_BYTES="\\Memory\\Available Bytes",o.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",o.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",o.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",o.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"})(n=e.PerformanceCounter||(e.PerformanceCounter={}));var i;(function(o){o.REQUESTS_DURATION="requests/duration",o.DEPENDENCIES_DURATION="dependencies/duration",o.EXCEPTIONS_COUNT="exceptions/count",o.TRACES_COUNT="traces/count"})(i=e.MetricId||(e.MetricId={})),e.PerformanceToQuickPulseCounter=(t={},t[n.PROCESSOR_TIME]=r.PROCESSOR_TIME,t[n.REQUEST_RATE]=r.REQUEST_RATE,t[n.REQUEST_DURATION]=r.REQUEST_DURATION,t[r.COMMITTED_BYTES]=r.COMMITTED_BYTES,t[r.REQUEST_FAILURE_RATE]=r.REQUEST_FAILURE_RATE,t[r.DEPENDENCY_RATE]=r.DEPENDENCY_RATE,t[r.DEPENDENCY_FAILURE_RATE]=r.DEPENDENCY_FAILURE_RATE,t[r.DEPENDENCY_DURATION]=r.DEPENDENCY_DURATION,t[r.EXCEPTION_RATE]=r.EXCEPTION_RATE,t),e.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability",PageView:"PageView"},e.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument",PageView:"PageViewTelemetryDocument"},e.TelemetryTypeStringToQuickPulseType={EventData:e.QuickPulseType.Event,ExceptionData:e.QuickPulseType.Exception,MessageData:e.QuickPulseType.Trace,MetricData:e.QuickPulseType.Metric,RequestData:e.QuickPulseType.Request,RemoteDependencyData:e.QuickPulseType.Dependency,AvailabilityData:e.QuickPulseType.Availability,PageViewData:e.QuickPulseType.PageView},e.TelemetryTypeStringToQuickPulseDocumentType={EventData:e.QuickPulseDocumentType.Event,ExceptionData:e.QuickPulseDocumentType.Exception,MessageData:e.QuickPulseDocumentType.Trace,MetricData:e.QuickPulseDocumentType.Metric,RequestData:e.QuickPulseDocumentType.Request,RemoteDependencyData:e.QuickPulseDocumentType.Dependency,AvailabilityData:e.QuickPulseDocumentType.Availability,PageViewData:e.QuickPulseDocumentType.PageView},e.SpanAttribute={HttpHost:"http.host",HttpMethod:"http.method",HttpPort:"http.port",HttpStatusCode:"http.status_code",HttpUrl:"http.url",HttpUserAgent:"http.user_agent",GrpcMethod:"grpc.method",GrpcService:"rpc.service"},e.DependencyTypeName={Grpc:"GRPC",Http:"HTTP",InProc:"InProc"},e.HeartBeatMetricName="HeartBeat"}),XP=F((e,t)=>{"use strict";var r=require("os"),n=xa(),i=function(){function o(s,a,c){a===void 0&&(a=6e4),c===void 0&&(c=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,o.INSTANCE||(o.INSTANCE=this),this._isInitialized=!1,this._client=s,this._collectionInterval=a,this._enableLiveMetricsCounters=c}return o.prototype.enable=function(s,a){var c=this;this._isEnabled=s,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),s?this._handle||(this._lastCpus=r.cpus(),this._lastRequests={totalRequestCount:o._totalRequestCount,totalFailedRequestCount:o._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:o._totalDependencyCount,totalFailedDependencyCount:o._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:o._totalExceptionCount,time:+new Date},typeof process.cpuUsage=="function"&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=a||this._collectionInterval,this._handle=setInterval(function(){return c.trackPerformance()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},o.countRequest=function(s,a){var c;if(o.isEnabled()){if(typeof s=="string")c=+new Date("1970-01-01T"+s+"Z");else if(typeof s=="number")c=s;else return;o._intervalRequestExecutionTime+=c,a===!1&&o._totalFailedRequestCount++,o._totalRequestCount++}},o.countException=function(){o._totalExceptionCount++},o.countDependency=function(s,a){var c;if(o.isEnabled()){if(typeof s=="string")c=+new Date("1970-01-01T"+s+"Z");else if(typeof s=="number")c=s;else return;o._intervalDependencyExecutionTime+=c,a===!1&&o._totalFailedDependencyCount++,o._totalDependencyCount++}},o.prototype.isInitialized=function(){return this._isInitialized},o.isEnabled=function(){return o.INSTANCE&&o.INSTANCE._isEnabled},o.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},o.prototype._trackCpu=function(){var s=r.cpus();if(s&&s.length&&this._lastCpus&&s.length===this._lastCpus.length){for(var a=0,c=0,l=0,u=0,f=0,d=0;!!s&&d<s.length;d++){var p=s[d],h=this._lastCpus[d],m="% cpu("+d+") ",g=p.model,v=p.speed,y=p.times,C=h.times,b=y.user-C.user||0;a+=b;var _=y.sys-C.sys||0;c+=_;var P=y.nice-C.nice||0;l+=P;var S=y.idle-C.idle||0;u+=S;var x=y.irq-C.irq||0;f+=x}var I=void 0;if(typeof process.cpuUsage=="function"){var A=process.cpuUsage(),O=process.hrtime(),L=A.user-this._lastAppCpuUsage.user+(A.system-this._lastAppCpuUsage.system)||0;if(typeof this._lastHrtime<"u"&&this._lastHrtime.length===2){var J=(O[0]-this._lastHrtime[0])*1e6+(O[1]-this._lastHrtime[1])/1e3||0;I=100*L/(J*s.length)}this._lastAppCpuUsage=A,this._lastHrtime=O}var z=a+c+l+u+f||1;this._client.trackMetric({name:n.PerformanceCounter.PROCESSOR_TIME,value:(z-u)/z*100}),this._client.trackMetric({name:n.PerformanceCounter.PROCESS_TIME,value:I||a/z*100})}this._lastCpus=s},o.prototype._trackMemory=function(){var s=r.freemem(),a=process.memoryUsage().rss,c=r.totalmem()-s;this._client.trackMetric({name:n.PerformanceCounter.PRIVATE_BYTES,value:a}),this._client.trackMetric({name:n.PerformanceCounter.AVAILABLE_BYTES,value:s}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:n.QuickPulseCounter.COMMITTED_BYTES,value:c})},o.prototype._trackNetwork=function(){var s=this._lastRequests,a={totalRequestCount:o._totalRequestCount,totalFailedRequestCount:o._totalFailedRequestCount,time:+new Date},c=a.totalRequestCount-s.totalRequestCount||0,l=a.totalFailedRequestCount-s.totalFailedRequestCount||0,u=a.time-s.time,f=u/1e3,d=(o._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/c||0;if(this._lastIntervalRequestExecutionTime=o._intervalRequestExecutionTime,u>0){var p=c/f,h=l/f;this._client.trackMetric({name:n.PerformanceCounter.REQUEST_RATE,value:p}),(!this._enableLiveMetricsCounters||c>0)&&this._client.trackMetric({name:n.PerformanceCounter.REQUEST_DURATION,value:d}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:n.QuickPulseCounter.REQUEST_FAILURE_RATE,value:h})}this._lastRequests=a},o.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var s=this._lastDependencies,a={totalDependencyCount:o._totalDependencyCount,totalFailedDependencyCount:o._totalFailedDependencyCount,time:+new Date},c=a.totalDependencyCount-s.totalDependencyCount||0,l=a.totalFailedDependencyCount-s.totalFailedDependencyCount||0,u=a.time-s.time,f=u/1e3,d=(o._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/c||0;if(this._lastIntervalDependencyExecutionTime=o._intervalDependencyExecutionTime,u>0){var p=c/f,h=l/f;this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_RATE,value:p}),this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:h}),(!this._enableLiveMetricsCounters||c>0)&&this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_DURATION,value:d})}this._lastDependencies=a}},o.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var s=this._lastExceptions,a={totalExceptionCount:o._totalExceptionCount,time:+new Date},c=a.totalExceptionCount-s.totalExceptionCount||0,l=a.time-s.time,u=l/1e3;if(l>0){var f=c/u;this._client.trackMetric({name:n.QuickPulseCounter.EXCEPTION_RATE,value:f})}this._lastExceptions=a}},o.prototype.dispose=function(){o.INSTANCE=null,this.enable(!1),this._isInitialized=!1},o._totalRequestCount=0,o._totalFailedRequestCount=0,o._totalDependencyCount=0,o._totalFailedDependencyCount=0,o._totalExceptionCount=0,o._intervalDependencyExecutionTime=0,o._intervalRequestExecutionTime=0,o}();t.exports=i}),ofe=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AggregatedMetricCounter=void 0;var t=function(){function r(n){this.dimensions=n,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0}return r}();e.AggregatedMetricCounter=t}),sfe=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PreaggregatedMetricPropertyNames=void 0,e.PreaggregatedMetricPropertyNames={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel"}}),vV=F((e,t)=>{"use strict";var r=e&&e.__assign||function(){return r=Object.assign||function(a){for(var c,l=1,u=arguments.length;l<u;l++){c=arguments[l];for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f])}return a},r.apply(this,arguments)},n=xa(),i=ofe(),o=sfe(),s=function(){function a(c,l){l===void 0&&(l=6e4),a.INSTANCE||(a.INSTANCE=this),this._isInitialized=!1,a._dependencyCountersCollection=[],a._requestCountersCollection=[],a._exceptionCountersCollection=[],a._traceCountersCollection=[],this._client=c,this._collectionInterval=l}return a.prototype.enable=function(c,l){var u=this;this._isEnabled=c,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),c?this._handle||(this._collectionInterval=l||this._collectionInterval,this._handle=setInterval(function(){return u.trackPreAggregatedMetrics()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},a.countException=function(c){if(a.isEnabled()){var l=a._getAggregatedCounter(c,this._exceptionCountersCollection);l.totalCount++}},a.countTrace=function(c){if(a.isEnabled()){var l=a._getAggregatedCounter(c,this._traceCountersCollection);l.totalCount++}},a.countRequest=function(c,l){if(a.isEnabled()){var u,f=a._getAggregatedCounter(l,this._requestCountersCollection);if(typeof c=="string")u=+new Date("1970-01-01T"+c+"Z");else if(typeof c=="number")u=c;else return;f.intervalExecutionTime+=u,f.totalCount++}},a.countDependency=function(c,l){if(a.isEnabled()){var u=a._getAggregatedCounter(l,this._dependencyCountersCollection),f;if(typeof c=="string")f=+new Date("1970-01-01T"+c+"Z");else if(typeof c=="number")f=c;else return;u.intervalExecutionTime+=f,u.totalCount++}},a.prototype.isInitialized=function(){return this._isInitialized},a.isEnabled=function(){return a.INSTANCE&&a.INSTANCE._isEnabled},a.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},a._getAggregatedCounter=function(c,l){for(var u=!1,f=0;f<l.length;f++){if(c===l[f].dimensions)return l[f];if(Object.keys(c).length===Object.keys(l[f].dimensions).length){for(var d in c)if(c[d]!=l[f].dimensions[d]){u=!0;break}if(!u)return l[f];u=!1}}var p=new i.AggregatedMetricCounter(c);return l.push(p),p},a.prototype._trackRequestMetrics=function(){for(var c=0;c<a._requestCountersCollection.length;c++){var l=a._requestCountersCollection[c];l.time=+new Date;var u=l.totalCount-l.lastTotalCount||0,f=l.time-l.lastTime,d=(l.intervalExecutionTime-l.lastIntervalExecutionTime)/u||0;l.lastIntervalExecutionTime=l.intervalExecutionTime,f>0&&u>0&&this._trackPreAggregatedMetric({name:"Server response time",dimensions:l.dimensions,value:d,count:u,aggregationInterval:f,metricType:n.MetricId.REQUESTS_DURATION}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},a.prototype._trackDependencyMetrics=function(){for(var c=0;c<a._dependencyCountersCollection.length;c++){var l=a._dependencyCountersCollection[c];l.time=+new Date;var u=l.totalCount-l.lastTotalCount||0,f=l.time-l.lastTime,d=(l.intervalExecutionTime-l.lastIntervalExecutionTime)/u||0;l.lastIntervalExecutionTime=l.intervalExecutionTime,f>0&&u>0&&this._trackPreAggregatedMetric({name:"Dependency duration",dimensions:l.dimensions,value:d,count:u,aggregationInterval:f,metricType:n.MetricId.DEPENDENCIES_DURATION}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},a.prototype._trackExceptionMetrics=function(){for(var c=0;c<a._exceptionCountersCollection.length;c++){var l=a._exceptionCountersCollection[c],u=l.totalCount-l.lastTotalCount||0,f=l.time-l.lastTime;this._trackPreAggregatedMetric({name:"Exceptions",dimensions:l.dimensions,value:u,count:u,aggregationInterval:f,metricType:n.MetricId.EXCEPTIONS_COUNT}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},a.prototype._trackTraceMetrics=function(){for(var c=0;c<a._traceCountersCollection.length;c++){var l=a._traceCountersCollection[c],u=l.totalCount-l.lastTotalCount||0,f=l.time-l.lastTime;this._trackPreAggregatedMetric({name:"Traces",dimensions:l.dimensions,value:u,count:u,aggregationInterval:f,metricType:n.MetricId.TRACES_COUNT}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},a.prototype._trackPreAggregatedMetric=function(c){var l={};for(var u in c.dimensions)l[o.PreaggregatedMetricPropertyNames[u]]=c.dimensions[u];l=r(r({},l),{"_MS.MetricId":c.metricType,"_MS.AggregationIntervalMs":String(c.aggregationInterval),"_MS.IsAutocollected":"True"});var f={name:c.name,value:c.value,count:c.count,properties:l,kind:"Aggregation"};this._client.trackMetric(f)},a.prototype.dispose=function(){a.INSTANCE=null,this.enable(!1),this._isInitialized=!1},a}();t.exports=s}),Zw=F((e,t)=>{"use strict";var r=require("os"),n=require("fs"),i=require("path"),o=_n(),s=Mr(),a=function(){function c(l){this.keys=new o.ContextTagKeys,this.tags={},this._loadApplicationContext(l),this._loadDeviceContext(),this._loadInternalContext()}return c.prototype._loadApplicationContext=function(l){if(l=l||i.resolve(__dirname,"../../../../package.json"),!c.appVersion[l]){c.appVersion[l]="unknown";try{var u=JSON.parse(n.readFileSync(l,"utf8"));u&&typeof u.version=="string"&&(c.appVersion[l]=u.version)}catch(f){s.info("unable to read app version: ",f)}}this.tags[this.keys.applicationVersion]=c.appVersion[l]},c.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=r&&r.hostname(),this.tags[this.keys.deviceOSVersion]=r&&r.type()+" "+r.release(),this.tags[this.keys.cloudRole]=c.DefaultRoleName,this.tags["ai.device.osArchitecture"]=r&&r.arch(),this.tags["ai.device.osPlatform"]=r&&r.platform()},c.prototype._loadInternalContext=function(){var l=i.resolve(__dirname,"../../package.json");if(!c.sdkVersion){c.sdkVersion="unknown";try{var u=JSON.parse(n.readFileSync(l,"utf8"));u&&typeof u.version=="string"&&(c.sdkVersion=u.version)}catch(f){s.info("unable to read app version: ",f)}}this.tags[this.keys.internalSdkVersion]="node:"+c.sdkVersion},c.DefaultRoleName="Web",c.appVersion={},c.sdkVersion=null,c}();t.exports=a}),afe=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var u=function(f,d){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(p[m]=h[m])},u(f,d)};return function(f,d){u(f,d);function p(){this.constructor=f}f.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}(),n=require("url"),i=_n(),o=xi(),s=Oh(),a=dV(),c=Of(),l=function(u){r(f,u);function f(d,p){var h=u.call(this)||this;return p&&p.method&&d&&(h.method=p.method,h.url=f._getUrlFromRequestOptions(d,p),h.startTime=+new Date),h}return f.prototype.onError=function(d){this._setStatus(void 0,d)},f.prototype.onResponse=function(d){this._setStatus(d.statusCode,void 0),this.correlationId=o.getCorrelationContextTarget(d,s.requestContextTargetKey)},f.prototype.getDependencyTelemetry=function(d,p){var h=n.parse(this.url);h.search=void 0,h.hash=void 0;var m=this.method.toUpperCase()+" "+h.pathname,g=i.RemoteDependencyDataConstants.TYPE_HTTP,v=h.hostname;h.port&&(v+=":"+h.port),this.correlationId?(g=i.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==c.correlationIdPrefix&&(v+=" | "+this.correlationId)):g=i.RemoteDependencyDataConstants.TYPE_HTTP;var y={id:p,name:m,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:g,target:v};if(d&&d.time?y.time=d.time:this.startTime&&(y.time=new Date(this.startTime)),d){for(var C in d)y[C]||(y[C]=d[C]);if(d.properties)for(var C in d.properties)y.properties[C]=d.properties[C]}return y},f._getUrlFromRequestOptions=function(d,p){if(typeof d=="string")if(d.indexOf("http://")===0||d.indexOf("https://")===0)d=n.parse(d);else{var h=n.parse(d);h.host==="443"?d=n.parse("https://"+d):d=n.parse("http://"+d)}else{if(d&&typeof n.URL=="function"&&d instanceof n.URL)return n.format(d);var m=d;d={},m&&Object.keys(m).forEach(function(y){d[y]=m[y]})}if(d.path){var g=n.parse(d.path);d.pathname=g.pathname,d.search=g.search}if(d.host&&d.port){var v=n.parse("http://"+d.host);!v.port&&d.port&&(d.hostname=d.host,delete d.host)}return d.protocol=d.protocol||p.agent&&p.agent.protocol||p.protocol||void 0,d.hostname=d.hostname||"localhost",n.format(d)},f}(a);t.exports=l}),cfe=F(e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(s){for(var a,c=1,l=arguments.length;c<l;c++){a=arguments[c];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])}return s},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.spanToTelemetryContract=void 0;var r=Wt(),n=xa();function i(s){var a=t({},s);return Object.keys(n.SpanAttribute).forEach(function(c){delete a[c]}),a}function o(s){var a="|"+s.spanContext().traceId+"."+s.spanContext().spanId+".",c=Math.round(s._duration[0]*1e3+s._duration[1]/1e6),l=s.attributes["peer.address"]?s.attributes["peer.address"].toString():"",u=s.attributes.component?s.attributes.component.toString():"",f=u.toUpperCase()===n.DependencyTypeName.Http||!!s.attributes[n.SpanAttribute.HttpUrl],d=u.toLowerCase()===n.DependencyTypeName.Grpc;if(f){var p=s.attributes[n.SpanAttribute.HttpMethod]||"GET",h=new URL(s.attributes[n.SpanAttribute.HttpUrl].toString()),m=s.attributes[n.SpanAttribute.HttpHost]||h.host,g=s.attributes[n.SpanAttribute.HttpPort]||h.port||null,v=h.pathname||"/",y=p+" "+v,C=n.DependencyTypeName.Http,b=g?(m+":"+g).toString():m.toString(),_=h.toString(),P=s.attributes[n.SpanAttribute.HttpStatusCode]||s.status.code||0,S=P<400;return{id:a,name:y,dependencyTypeName:C,target:b,data:_,success:S,duration:c,url:_,resultCode:String(P),properties:i(s.attributes)}}else if(d){var p=s.attributes[n.SpanAttribute.GrpcMethod]||"rpc",x=s.attributes[n.SpanAttribute.GrpcService],I=x?p+" "+x:s.name;return{id:a,duration:c,name:I,target:x.toString(),data:x.toString()||I,url:x.toString()||I,dependencyTypeName:n.DependencyTypeName.Grpc,resultCode:String(s.status.code||0),success:s.status.code===0,properties:i(s.attributes)}}else{var A=s.name,O=s.links&&s.links.map(function(L){return{operation_Id:L.context.traceId,id:L.context.spanId}});return{id:a,duration:c,name:A,target:l,data:l||A,url:l||A,dependencyTypeName:s.kind===r.SpanKind.INTERNAL?n.DependencyTypeName.InProc:u||s.name,resultCode:String(s.status.code||0),success:s.status.code===0,properties:t(t({},i(s.attributes)),{"_MS.links":O||void 0})}}}e.spanToTelemetryContract=o}),lfe=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=Wt(),r=fr(),n=Xw(),i=cfe(),o=OH(),s=[],a=function(l){var u=l.data,f=i.spanToTelemetryContract(u),d=u.spanContext(),p=new n;p.traceId=d.traceId,p.spanId=d.spanId,p.traceFlag=n.formatOpenTelemetryTraceFlags(d.traceFlags),p.parentId=u.parentSpanId?"|"+d.traceId+"."+u.parentSpanId+".":null,o.AsyncScopeManager.with(u,function(){s.forEach(function(h){u.kind===t.SpanKind.SERVER?h.trackRequest(f):(u.kind===t.SpanKind.CLIENT||u.kind===t.SpanKind.INTERNAL)&&h.trackDependency(f)})})};e.subscriber=a;function c(l,u){l?(s.length===0&&r.channel.subscribe("azure-coretracing",e.subscriber),s.push(u)):(s=s.filter(function(f){return f!=u}),s.length===0&&r.channel.unsubscribe("azure-coretracing",e.subscriber))}e.enable=c}),ufe=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=fr(),r=[],n=function(o){o.data.event.commandName!=="ismaster"&&r.forEach(function(s){var a=o.data.startedData&&o.data.startedData.databaseName||"Unknown database";s.trackDependency({target:a,data:o.data.event.commandName,name:o.data.event.commandName,duration:o.data.event.duration,success:o.data.succeeded,resultCode:o.data.succeeded?"0":"1",time:o.data.startedData.time,dependencyTypeName:"mongodb"})})};e.subscriber=n;function i(o,s){o?(r.length===0&&t.channel.subscribe("mongodb",e.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&t.channel.unsubscribe("mongodb",e.subscriber))}e.enable=i}),ffe=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=fr(),r=[],n=function(o){r.forEach(function(s){var a=o.data.query||{},c=a.sql||"Unknown query",l=!o.data.err,u=a._connection||{},f=u.config||{},d=f.socketPath?f.socketPath:(f.host||"localhost")+":"+f.port;s.trackDependency({target:d,data:c,name:c,duration:o.data.duration,success:l,resultCode:l?"0":"1",time:o.data.time,dependencyTypeName:"mysql"})})};e.subscriber=n;function i(o,s){o?(r.length===0&&t.channel.subscribe("mysql",e.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&t.channel.unsubscribe("mysql",e.subscriber))}e.enable=i}),dfe=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=fr(),r=[],n=function(o){r.forEach(function(s){o.data.commandObj.command!=="info"&&s.trackDependency({target:o.data.address,name:o.data.commandObj.command,data:o.data.commandObj.command,duration:o.data.duration,success:!o.data.err,resultCode:o.data.err?"1":"0",time:o.data.time,dependencyTypeName:"redis"})})};e.subscriber=n;function i(o,s){o?(r.length===0&&t.channel.subscribe("redis",e.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&t.channel.unsubscribe("redis",e.subscriber))}e.enable=i}),pfe=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=fr(),r=[],n=function(o){r.forEach(function(s){var a=o.data.query,c=a.preparable&&a.preparable.text||a.plan||a.text||"unknown query",l=!o.data.error,u=o.data.database.host+":"+o.data.database.port;s.trackDependency({target:u,data:c,name:c,duration:o.data.duration,success:l,resultCode:l?"0":"1",time:o.data.time,dependencyTypeName:"postgres"})})};e.subscriber=n;function i(o,s){o?(r.length===0&&t.channel.subscribe("postgres",e.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&t.channel.unsubscribe("postgres",e.subscriber))}e.enable=i}),Nh=F((e,t)=>{"use strict";var r=e&&e.__spreadArrays||function(){for(var h=0,m=0,g=arguments.length;m<g;m++)h+=arguments[m].length;for(var v=Array(h),y=0,m=0;m<g;m++)for(var C=arguments[m],b=0,_=C.length;b<_;b++,y++)v[y]=C[b];return v},n=require("http"),i=require("https"),o=Mr(),s=xi(),a=Oh(),c=afe(),l=Nf(),u=Of(),f=Xw(),d=YP(),p=function(){function h(m){if(h.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");h.INSTANCE=this,this._client=m}return h.prototype.enable=function(m){this._isEnabled=m,this._isEnabled&&!this._isInitialized&&this._initialize(),d.IsInitialized&&(lfe().enable(!0,this._client),ufe().enable(m,this._client),ffe().enable(m,this._client),dfe().enable(m,this._client),pfe().enable(m,this._client))},h.prototype.isInitialized=function(){return this._isInitialized},h.prototype._initialize=function(){var m=this;this._isInitialized=!0;var g=n.request,v=i.request,y=function(C,b){var _=!b[h.disableCollectionRequestOption]&&!C[h.alreadyAutoCollectedFlag];b.headers&&b.headers["user-agent"]&&b.headers["user-agent"].toString().indexOf("azsdk-js")!==-1&&(_=!1),C[h.alreadyAutoCollectedFlag]=!0,C&&b&&_&&(l.CorrelationContextManager.wrapEmitter(C),h.trackRequest(m._client,{options:b,request:C}))};n.request=function(C){for(var b=[],_=1;_<arguments.length;_++)b[_-1]=arguments[_];var P=g.call.apply(g,r([n,C],b));return y(P,C),P},i.request=function(C){for(var b=[],_=1;_<arguments.length;_++)b[_-1]=arguments[_];var P=v.call.apply(v,r([i,C],b));return y(P,C),P},n.get=function(C){for(var b,_=[],P=1;P<arguments.length;P++)_[P-1]=arguments[P];var S=(b=n.request).call.apply(b,r([n,C],_));return S.end(),S},i.get=function(C){for(var b,_=[],P=1;P<arguments.length;P++)_[P-1]=arguments[P];var S=(b=i.request).call.apply(b,r([i,C],_));return S.end(),S}},h.trackRequest=function(m,g){if(!g.options||!g.request||!m){o.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!g.options,!g.request,!m);return}var v=new c(g.options,g.request),y=l.CorrelationContextManager.getCurrentContext(),C,b;if(y&&y.operation&&y.operation.traceparent&&f.isValidTraceId(y.operation.traceparent.traceId))y.operation.traceparent.updateSpanId(),C=y.operation.traceparent.getBackCompatRequestId();else if(u.w3cEnabled){var _=new f;b=_.toString(),C=_.getBackCompatRequestId()}else C=y&&y.operation&&y.operation.parentId+h.requestNumber+++".";if(s.canIncludeCorrelationHeader(m,v.getUrl())&&g.request.getHeader&&g.request.setHeader&&m.config&&m.config.correlationId){var P=g.request.getHeader(a.requestContextHeader);try{s.safeIncludeCorrelationHeader(m,g.request,P)}catch(I){o.warn("Request-Context header could not be set. Correlation of requests may be lost",I)}if(y&&y.operation)try{if(g.request.setHeader(a.requestIdHeader,C),m.config.ignoreLegacyHeaders||(g.request.setHeader(a.parentIdHeader,y.operation.id),g.request.setHeader(a.rootIdHeader,C)),b||y.operation.traceparent)g.request.setHeader(a.traceparentHeader,b||y.operation.traceparent.toString());else if(u.w3cEnabled){var _=new f().toString();g.request.setHeader(a.traceparentHeader,_)}if(y.operation.tracestate){var S=y.operation.tracestate.toString();S&&g.request.setHeader(a.traceStateHeader,S)}var x=y.customProperties.serializeToHeader();x&&g.request.setHeader(a.correlationContextHeader,x)}catch(I){o.warn("Correlation headers could not be set. Correlation of requests may be lost.",I)}}g.request.on&&(g.request.on("response",function(I){v.onResponse(I);var A=v.getDependencyTelemetry(g,C);A.contextObjects=A.contextObjects||{},A.contextObjects["http.RequestOptions"]=g.options,A.contextObjects["http.ClientRequest"]=g.request,A.contextObjects["http.ClientResponse"]=I,m.trackDependency(A)}),g.request.on("error",function(I){v.onError(I);var A=v.getDependencyTelemetry(g,C);A.contextObjects=A.contextObjects||{},A.contextObjects["http.RequestOptions"]=g.options,A.contextObjects["http.ClientRequest"]=g.request,A.contextObjects.Error=I,m.trackDependency(A)}),g.request.on("abort",function(){v.onError(new Error);var I=v.getDependencyTelemetry(g,C);I.contextObjects=I.contextObjects||{},I.contextObjects["http.RequestOptions"]=g.options,I.contextObjects["http.ClientRequest"]=g.request,m.trackDependency(I)}))},h.prototype.dispose=function(){h.INSTANCE=null,this.enable(!1),this._isInitialized=!1},h.disableCollectionRequestOption="disableAppInsightsAutoCollection",h.requestNumber=1,h.alreadyAutoCollectedFlag="_appInsightsAutoCollected",h}();t.exports=p}),hfe=F((e,t)=>{"use strict";var r=require("os"),n=xa(),i=xi(),o=Zw(),s=Nh(),a="http://169.254.169.254/metadata/instance/compute",c="api-version=2017-12-01",l="format=json",u="ENETUNREACH",f=function(){function d(p){this._collectionInterval=9e5,this._vmData={},this._azInst_vmId="",this._azInst_subscriptionId="",this._azInst_osType="",d.INSTANCE||(d.INSTANCE=this),this._isInitialized=!1,this._client=p}return d.prototype.enable=function(p,h){var m=this;this._isEnabled=p,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),p?this._handle||(this._handle=setInterval(function(){return m.trackHeartBeat(h,function(){})},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=null)},d.prototype.isInitialized=function(){return this._isInitialized},d.isEnabled=function(){return d.INSTANCE&&d.INSTANCE._isEnabled},d.prototype.trackHeartBeat=function(p,h){var m=this,g=!1,v={},y=o.sdkVersion;v.sdk=y,v.osType=r.type(),process.env.WEBSITE_SITE_NAME?(v.appSrv_SiteName=process.env.WEBSITE_SITE_NAME||"",v.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME||"",v.appSrv_wsHost=process.env.WEBSITE_HOSTNAME||""):process.env.FUNCTIONS_WORKER_RUNTIME?v.azfunction_appId=process.env.WEBSITE_HOSTNAME:p&&(this._isVM===void 0?(g=!0,this._getAzureComputeMetadata(p,function(){m._isVM&&Object.keys(m._vmData).length>0&&(v.azInst_vmId=m._vmData.vmId||"",v.azInst_subscriptionId=m._vmData.subscriptionId||"",v.azInst_osType=m._vmData.osType||"",m._azInst_vmId=m._vmData.vmId||"",m._azInst_subscriptionId=m._vmData.subscriptionId||"",m._azInst_osType=m._vmData.osType||""),m._client.trackMetric({name:n.HeartBeatMetricName,value:0,properties:v}),h()})):this._isVM&&(v.azInst_vmId=this._azInst_vmId,v.azInst_subscriptionId=this._azInst_subscriptionId,v.azInst_osType=this._azInst_osType)),g||(this._client.trackMetric({name:n.HeartBeatMetricName,value:0,properties:v}),h())},d.prototype.dispose=function(){d.INSTANCE=null,this.enable(!1),this._isInitialized=!1},d.prototype._getAzureComputeMetadata=function(p,h){var m,g=this,v=a+"?"+c+"&"+l,y=(m={method:"GET"},m[s.disableCollectionRequestOption]=!0,m.headers={Metadata:"True"},m),C=i.makeRequest(p,v,y,function(b){if(b.statusCode===200){g._isVM=!0;var _="";b.on("data",function(P){_+=P}),b.on("end",function(){g._vmData=g._isJSON(_)?JSON.parse(_):{},h()})}else h()});C&&(C.on("error",function(b){b&&b.message&&b.message.indexOf(u)>-1&&(g._isVM=!1),h()}),C.end())},d.prototype._isJSON=function(p){try{return JSON.parse(p)&&!!p}catch{return!1}},d}();t.exports=f}),yV=F((e,t)=>{"use strict";var r=require("http"),n=require("https"),i=Mr(),o=xi(),s=Oh(),a=pV(),c=Nf(),l=XP(),u=function(){function f(d){if(f.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");f.INSTANCE=this,this._client=d}return f.prototype.enable=function(d){this._isEnabled=d,(this._isAutoCorrelating||this._isEnabled||l.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},f.prototype.useAutoCorrelation=function(d,p){d&&!this._isAutoCorrelating?c.CorrelationContextManager.enable(p):!d&&this._isAutoCorrelating&&c.CorrelationContextManager.disable(),this._isAutoCorrelating=d},f.prototype.isInitialized=function(){return this._isInitialized},f.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},f.prototype._generateCorrelationContext=function(d){if(this._isAutoCorrelating)return c.CorrelationContextManager.generateContextObject(d.getOperationId(this._client.context.tags),d.getRequestId(),d.getOperationName(this._client.context.tags),d.getCorrelationContextHeader(),d.getTraceparent(),d.getTracestate())},f.prototype._initialize=function(){var d=this;this._isInitialized=!0;var p=function(v){if(v){if(typeof v!="function")throw new Error("onRequest handler must be a function");return function(y,C){c.CorrelationContextManager.wrapEmitter(y),c.CorrelationContextManager.wrapEmitter(C);var b=y&&!y[f.alreadyAutoCollectedFlag];if(y&&b){var _=new a(y),P=d._generateCorrelationContext(_);c.CorrelationContextManager.runWithContext(P,function(){d._isEnabled&&(y[f.alreadyAutoCollectedFlag]=!0,f.trackRequest(d._client,{request:y,response:C},_)),typeof v=="function"&&v(y,C)})}else typeof v=="function"&&v(y,C)}}},h=function(v){var y=v.addListener.bind(v);v.addListener=function(C,b){switch(C){case"request":case"checkContinue":return y(C,p(b));default:return y(C,b)}},v.on=v.addListener},m=r.createServer;r.createServer=function(v,y){if(y&&typeof y=="function"){var C=m(v,p(y));return h(C),C}else{var C=m(p(v));return h(C),C}};var g=n.createServer;n.createServer=function(v,y){var C=g(v,p(y));return h(C),C}},f.trackRequestSync=function(d,p){if(!p.request||!p.response||!d){i.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!p.request,!p.response,!d);return}f.addResponseCorrelationIdHeader(d,p.response);var h=c.CorrelationContextManager.getCurrentContext(),m=new a(p.request,h&&h.operation.parentId);h&&(h.operation.id=m.getOperationId(d.context.tags)||h.operation.id,h.operation.name=m.getOperationName(d.context.tags)||h.operation.name,h.operation.parentId=m.getRequestId()||h.operation.parentId,h.customProperties.addHeaderData(m.getCorrelationContextHeader())),f.endRequest(d,m,p,p.duration,p.error)},f.trackRequest=function(d,p,h){if(!p.request||!p.response||!d){i.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!p.request,!p.response,!d);return}var m=c.CorrelationContextManager.getCurrentContext(),g=h||new a(p.request,m&&m.operation.parentId);o.canIncludeCorrelationHeader(d,g.getUrl())&&f.addResponseCorrelationIdHeader(d,p.response),m&&!h&&(m.operation.id=g.getOperationId(d.context.tags)||m.operation.id,m.operation.name=g.getOperationName(d.context.tags)||m.operation.name,m.operation.parentId=g.getOperationParentId(d.context.tags)||m.operation.parentId,m.customProperties.addHeaderData(g.getCorrelationContextHeader())),p.response.once&&p.response.once("finish",function(){f.endRequest(d,g,p,null,null)}),p.request.on&&p.request.on("error",function(v){f.endRequest(d,g,p,null,v)}),p.request.on&&p.request.on("aborted",function(){var v="The request has been aborted and the network socket has closed.";f.endRequest(d,g,p,null,v)})},f.addResponseCorrelationIdHeader=function(d,p){if(d.config&&d.config.correlationId&&p.getHeader&&p.setHeader&&!p.headersSent){var h=p.getHeader(s.requestContextHeader);o.safeIncludeCorrelationHeader(d,p,h)}},f.endRequest=function(d,p,h,m,g){g?p.onError(g,m):p.onResponse(h.response,m);var v=p.getRequestTelemetry(h);if(v.tagOverrides=p.getRequestTags(d.context.tags),h.tagOverrides)for(var y in h.tagOverrides)v.tagOverrides[y]=h.tagOverrides[y];var C=p.getLegacyRootId();C&&(v.properties.ai_legacyRootId=C),v.contextObjects=v.contextObjects||{},v.contextObjects["http.ServerRequest"]=h.request,v.contextObjects["http.ServerResponse"]=h.response,d.trackRequest(v)},f.prototype.dispose=function(){f.INSTANCE=null,this.enable(!1),this._isInitialized=!1,c.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},f.alreadyAutoCollectedFlag="_appInsightsAutoCollected",f}();t.exports=u}),mfe=F((e,t)=>{"use strict";var r=e&&e.__assign||function(){return r=Object.assign||function(u){for(var f,d=1,p=arguments.length;d<p;d++){f=arguments[d];for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h])}return u},r.apply(this,arguments)},n=require("os"),i=_n(),o=xa(),s=xi(),a=Mr(),c=s.w3cTraceId(),l=function(){function u(){}return u.createQuickPulseEnvelope=function(f,d,p,h){var m=n&&typeof n.hostname=="function"&&n.hostname()||"Unknown",g=h.tags&&h.keys&&h.keys.cloudRoleInstance&&h.tags[h.keys.cloudRoleInstance]||m,v=h.tags&&h.keys&&h.keys.cloudRole&&h.tags[h.keys.cloudRole]||null,y={Documents:d.length>0?d:null,InstrumentationKey:p.instrumentationKey||"",Metrics:f.length>0?f:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:h.tags[h.keys.internalSdkVersion],StreamId:c,MachineName:m,Instance:g,RoleName:v};return y},u.createQuickPulseMetric=function(f){var d;return d={Name:f.name,Value:f.value,Weight:f.count||1},d},u.telemetryEnvelopeToQuickPulseDocument=function(f){switch(f.data.baseType){case i.TelemetryTypeString.Event:return u.createQuickPulseEventDocument(f);case i.TelemetryTypeString.Exception:return u.createQuickPulseExceptionDocument(f);case i.TelemetryTypeString.Trace:return u.createQuickPulseTraceDocument(f);case i.TelemetryTypeString.Dependency:return u.createQuickPulseDependencyDocument(f);case i.TelemetryTypeString.Request:return u.createQuickPulseRequestDocument(f)}return null},u.createQuickPulseEventDocument=function(f){var d=u.createQuickPulseDocument(f),p=f.data.baseData.name,h=r(r({},d),{Name:p});return h},u.createQuickPulseTraceDocument=function(f){var d=u.createQuickPulseDocument(f),p=f.data.baseData.severityLevel||0,h=r(r({},d),{Message:f.data.baseData.message,SeverityLevel:i.SeverityLevel[p]});return h},u.createQuickPulseExceptionDocument=function(f){var d=u.createQuickPulseDocument(f),p=f.data.baseData.exceptions,h="",m="",g="";p&&p.length>0&&(p[0].parsedStack&&p[0].parsedStack.length>0?p[0].parsedStack.forEach(function(y){h+=y.assembly+`
`}):p[0].stack&&p[0].stack.length>0&&(h=p[0].stack),m=p[0].message,g=p[0].typeName);var v=r(r({},d),{Exception:h,ExceptionMessage:m,ExceptionType:g});return v},u.createQuickPulseRequestDocument=function(f){var d=u.createQuickPulseDocument(f),p=f.data.baseData,h=r(r({},d),{Name:p.name,Success:p.success,Duration:p.duration,ResponseCode:p.responseCode,OperationName:p.name});return h},u.createQuickPulseDependencyDocument=function(f){var d=u.createQuickPulseDocument(f),p=f.data.baseData,h=r(r({},d),{Name:p.name,Target:p.target,Success:p.success,Duration:p.duration,ResultCode:p.resultCode,CommandName:p.data,OperationName:d.OperationId,DependencyTypeName:p.type});return h},u.createQuickPulseDocument=function(f){var d,p,h,m;f.data.baseType?(p=o.TelemetryTypeStringToQuickPulseType[f.data.baseType],d=o.TelemetryTypeStringToQuickPulseDocumentType[f.data.baseType]):a.warn("Document type invalid; not sending live metric document",f.data.baseType),h=f.tags[u.keys.operationId],m=u.aggregateProperties(f);var g={DocumentType:d,__type:p,OperationId:h,Version:"1.0",Properties:m};return g},u.aggregateProperties=function(f){var d=[],p=f.data.baseData.measurements||{};for(var h in p)if(p.hasOwnProperty(h)){var m=p[h],g={key:h,value:m};d.push(g)}var v=f.data.baseData.properties||{};for(var h in v)if(v.hasOwnProperty(h)){var m=v[h],g={key:h,value:m};d.push(g)}return d},u.keys=new i.ContextTagKeys,u}();t.exports=l}),gfe=F((e,t)=>{"use strict";var r=function(){return(Date.now()+621355968e5)*1e4};t.exports={getTransmissionTime:r}}),vfe=F((e,t)=>{"use strict";var r=e&&e.__awaiter||function(f,d,p,h){function m(g){return g instanceof p?g:new p(function(v){v(g)})}return new(p||(p=Promise))(function(g,v){function y(_){try{b(h.next(_))}catch(P){v(P)}}function C(_){try{b(h.throw(_))}catch(P){v(P)}}function b(_){_.done?g(_.value):m(_.value).then(y,C)}b((h=h.apply(f,d||[])).next())})},n=e&&e.__generator||function(f,d){var p={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},h,m,g,v;return v={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function y(b){return function(_){return C([b,_])}}function C(b){if(h)throw new TypeError("Generator is already executing.");for(;p;)try{if(h=1,m&&(g=b[0]&2?m.return:b[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,b[1])).done)return g;switch(m=0,g&&(b=[b[0]&2,g.value]),b[0]){case 0:case 1:g=b;break;case 4:return p.label++,{value:b[1],done:!1};case 5:p.label++,m=b[1],b=[0];continue;case 7:b=p.ops.pop(),p.trys.pop();continue;default:if(g=p.trys,!(g=g.length>0&&g[g.length-1])&&(b[0]===6||b[0]===2)){p=0;continue}if(b[0]===3&&(!g||b[1]>g[0]&&b[1]<g[3])){p.label=b[1];break}if(b[0]===6&&p.label<g[1]){p.label=g[1],g=b;break}if(g&&p.label<g[2]){p.label=g[2],p.ops.push(b);break}g[2]&&p.ops.pop(),p.trys.pop();continue}b=d.call(f,p)}catch(_){b=[6,_],m=0}finally{h=g=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},i=require("https"),o=Nh(),s=Mr(),a=gfe(),c=xi(),l={method:"POST",time:"x-ms-qps-transmission-time",pollingIntervalHint:"x-ms-qps-service-polling-interval-hint",endpointRedirect:"x-ms-qps-service-endpoint-redirect",instanceName:"x-ms-qps-instance-name",streamId:"x-ms-qps-stream-id",machineName:"x-ms-qps-machine-name",roleName:"x-ms-qps-role-name",streamid:"x-ms-qps-stream-id",invariantVersion:"x-ms-qps-invariant-version",subscribed:"x-ms-qps-subscribed"},u=function(){function f(d){this._config=d,this._consecutiveErrors=0}return f.prototype.ping=function(d,p,h){var m=[{name:l.streamId,value:d.StreamId},{name:l.machineName,value:d.MachineName},{name:l.roleName,value:d.RoleName},{name:l.instanceName,value:d.Instance},{name:l.invariantVersion,value:d.InvariantVersion.toString()}];this._submitData(d,p,h,"ping",m)},f.prototype.post=function(d,p,h){return r(this,void 0,void 0,function(){return n(this,function(m){switch(m.label){case 0:return[4,this._submitData([d],p,h,"post")];case 1:return m.sent(),[2]}})})},f.prototype._submitData=function(d,p,h,m,g){return r(this,void 0,void 0,function(){var v,y,C,b,_,P=this;return n(this,function(S){return v=JSON.stringify(d),y=(b={},b[o.disableCollectionRequestOption]=!0,b.host=p&&p.length>0?p:this._config.quickPulseHost,b.method=l.method,b.path="/QuickPulseService.svc/"+m+"?ikey="+this._config.instrumentationKey,b.headers=(_={Expect:"100-continue"},_[l.time]=a.getTransmissionTime(),_["Content-Type"]="application/json",_["Content-Length"]=Buffer.byteLength(v),_),b),g&&g.length>0&&g.forEach(function(x){return y.headers[x.name]=x.value}),this._config.httpsAgent?y.agent=this._config.httpsAgent:y.agent=c.tlsRestrictedAgent,C=i.request(y,function(x){if(x.statusCode==200){var I=x.headers[l.subscribed]==="true",A=x.headers[l.endpointRedirect]?x.headers[l.endpointRedirect].toString():null,O=x.headers[l.pollingIntervalHint]?parseInt(x.headers[l.pollingIntervalHint].toString()):null;P._consecutiveErrors=0,h(I,x,A,O)}else P._onError("StatusCode:"+x.statusCode+" StatusMessage:"+x.statusMessage),h()}),C.on("error",function(x){P._onError(x),h()}),C.write(v),C.end(),[2]})})},f.prototype._onError=function(d){this._consecutiveErrors++;var p="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";this._consecutiveErrors%f.MAX_QPS_FAILURES_BEFORE_WARN==0?(p="Live Metrics endpoint could not be reached "+this._consecutiveErrors+" consecutive times. Most recent error:",s.warn(f.TAG,p,d)):s.info(f.TAG,p,d)},f.TAG="QuickPulseSender",f.MAX_QPS_FAILURES_BEFORE_WARN=25,f}();t.exports=u}),yfe=F((e,t)=>{"use strict";var r=e&&e.__awaiter||function(u,f,d,p){function h(m){return m instanceof d?m:new d(function(g){g(m)})}return new(d||(d=Promise))(function(m,g){function v(b){try{C(p.next(b))}catch(_){g(_)}}function y(b){try{C(p.throw(b))}catch(_){g(_)}}function C(b){b.done?m(b.value):h(b.value).then(v,y)}C((p=p.apply(u,f||[])).next())})},n=e&&e.__generator||function(u,f){var d={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},p,h,m,g;return g={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function v(C){return function(b){return y([C,b])}}function y(C){if(p)throw new TypeError("Generator is already executing.");for(;d;)try{if(p=1,h&&(m=C[0]&2?h.return:C[0]?h.throw||((m=h.return)&&m.call(h),0):h.next)&&!(m=m.call(h,C[1])).done)return m;switch(h=0,m&&(C=[C[0]&2,m.value]),C[0]){case 0:case 1:m=C;break;case 4:return d.label++,{value:C[1],done:!1};case 5:d.label++,h=C[1],C=[0];continue;case 7:C=d.ops.pop(),d.trys.pop();continue;default:if(m=d.trys,!(m=m.length>0&&m[m.length-1])&&(C[0]===6||C[0]===2)){d=0;continue}if(C[0]===3&&(!m||C[1]>m[0]&&C[1]<m[3])){d.label=C[1];break}if(C[0]===6&&d.label<m[1]){d.label=m[1],m=C;break}if(m&&d.label<m[2]){d.label=m[2],d.ops.push(C);break}m[2]&&d.ops.pop(),d.trys.pop();continue}C=f.call(u,d)}catch(b){C=[6,b],h=0}finally{p=m=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},i=Mr(),o=mfe(),s=vfe(),a=xa(),c=Zw(),l=function(){function u(f,d){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=f,this.context=d||new c,this._sender=new s(this.config),this._isEnabled=!1}return u.prototype.addCollector=function(f){this._collectors.push(f)},u.prototype.trackMetric=function(f){this._addMetric(f)},u.prototype.addDocument=function(f){var d=o.telemetryEnvelopeToQuickPulseDocument(f);d&&this._documents.push(d)},u.prototype.enable=function(f){f&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!f&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},u.prototype.enableCollectors=function(f){this._collectors.forEach(function(d){d.enable(f)})},u.prototype._addMetric=function(f){var d=f.value,p=f.count||1,h=a.PerformanceToQuickPulseCounter[f.name];h&&(this._metrics[h]?(this._metrics[h].Value=(this._metrics[h].Value*this._metrics[h].Weight+d*p)/(this._metrics[h].Weight+p),this._metrics[h].Weight+=p):(this._metrics[h]=o.createQuickPulseMetric(f),this._metrics[h].Name=h,this._metrics[h].Weight=1))},u.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},u.prototype._goQuickPulse=function(){return r(this,void 0,void 0,function(){var f,d,p,h,m=this;return n(this,function(g){switch(g.label){case 0:return f=Object.keys(this._metrics).map(function(v){return m._metrics[v]}),d=o.createQuickPulseEnvelope(f,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(d)]:[3,2];case 1:return g.sent(),[3,3];case 2:this._ping(d),g.label=3;case 3:return p=this._pollingIntervalHint>0?this._pollingIntervalHint:u.PING_INTERVAL,h=this._isCollectingData?u.POST_INTERVAL:p,this._isCollectingData&&Date.now()-this._lastSuccessTime>=u.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,h=u.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=u.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(h=u.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),h),this._handle.unref(),[2]}})})},u.prototype._ping=function(f){this._sender.ping(f,this._redirectedHost,this._quickPulseDone.bind(this))},u.prototype._post=function(f){return r(this,void 0,void 0,function(){return n(this,function(d){switch(d.label){case 0:return[4,this._sender.post(f,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return d.sent(),[2]}})})},u.prototype._quickPulseDone=function(f,d,p,h){f!=null?(this._isCollectingData!==f&&(i.info("Live Metrics sending data",f),this.enableCollectors(f)),this._isCollectingData=f,p&&p.length>0&&(this._redirectedHost=p,i.info("Redirecting endpoint to: ",p)),h&&h>0&&(this._pollingIntervalHint=h),d&&d.statusCode<300&&d.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},u.MAX_POST_WAIT_TIME=2e4,u.MAX_PING_WAIT_TIME=6e4,u.FALLBACK_INTERVAL=6e4,u.PING_INTERVAL=5e3,u.POST_INTERVAL=1e3,u}();t.exports=l}),wfe=F((e,t)=>{"use strict";var r=xa(),n=function(){function i(){}return i.parse=function(o){if(!o)return{};var s=o.split(i._FIELDS_SEPARATOR),a=s.reduce(function(l,u){var f=u.split(i._FIELD_KEY_VALUE_SEPARATOR);if(f.length===2){var d=f[0].toLowerCase(),p=f[1];l[d]=p}return l},{});if(Object.keys(a).length>0){if(a.endpointsuffix){var c=a.location?a.location+".":"";a.ingestionendpoint=a.ingestionendpoint||"https://"+c+"dc."+a.endpointsuffix,a.liveendpoint=a.liveendpoint||"https://"+c+"live."+a.endpointsuffix}a.ingestionendpoint=a.ingestionendpoint||r.DEFAULT_BREEZE_ENDPOINT,a.liveendpoint=a.liveendpoint||r.DEFAULT_LIVEMETRICS_ENDPOINT}return a},i._FIELDS_SEPARATOR=";",i._FIELD_KEY_VALUE_SEPARATOR="=",i}();t.exports=n}),wV=F((e,t)=>{"use strict";var r=Of(),n=wfe(),i=Mr(),o=xa(),s=require("url"),a=function(){function c(l){var u=this;this.endpointBase=o.DEFAULT_BREEZE_ENDPOINT;var f=process.env[c.ENV_connectionString],d=n.parse(l),p=n.parse(f),h=!d.instrumentationkey&&Object.keys(d).length>0?null:l;this.instrumentationKey=d.instrumentationkey||h||p.instrumentationkey||c._getInstrumentationKey(),c._validateInstrumentationKey(this.instrumentationKey),this.endpointUrl=(d.ingestionendpoint||p.ingestionendpoint||this.endpointBase)+"/v2.1/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=30*1e3,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(m){return u.correlationId=m},this.proxyHttpUrl=process.env[c.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[c.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=d.ingestionendpoint||p.ingestionendpoint||process.env[c.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=d.liveendpoint||p.liveendpoint||process.env[c.ENV_quickPulseHost]||o.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=s.parse(this._quickPulseHost).host)}return Object.defineProperty(c.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(l){r.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=l,this.correlationId=r.correlationIdPrefix,r.queryCorrelationId(this,this.setCorrelationId)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(l){this._quickPulseHost=l},enumerable:!1,configurable:!0}),c._getInstrumentationKey=function(){var l=process.env[c.ENV_iKey]||process.env[c.ENV_azurePrefix+c.ENV_iKey]||process.env[c.legacy_ENV_iKey]||process.env[c.ENV_azurePrefix+c.legacy_ENV_iKey];if(!l||l=="")throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return l},c._validateInstrumentationKey=function(l){var u="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",f=new RegExp(u);return f.test(l)},c.ENV_azurePrefix="APPSETTING_",c.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",c.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",c.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",c.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",c.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",c.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",c.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",c.ENV_http_proxy="http_proxy",c.ENV_https_proxy="https_proxy",c}();t.exports=a}),Cfe=F(e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(s){for(var a,c=1,l=arguments.length;c<l;c++){a=arguments[c];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])}return s},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AutoCollectNativePerformance=void 0;var r=wV(),n=Zw(),i=Mr(),o=function(){function s(a){this._disabledMetrics={},s.INSTANCE&&s.INSTANCE.dispose(),s.INSTANCE=this,this._client=a}return s.isNodeVersionCompatible=function(){var a=process.versions.node.split(".");return parseInt(a[0])>=6},s.prototype.enable=function(a,c,l){var u=this;if(c===void 0&&(c={}),l===void 0&&(l=6e4),!!s.isNodeVersionCompatible()){if(s._metricsAvailable==null&&a&&!this._isInitialized)try{var f=require("applicationinsights-native-metrics");s._emitter=new f,s._metricsAvailable=!0,i.info("Native metrics module successfully loaded!")}catch{s._metricsAvailable=!1;return}this._isEnabled=a,this._disabledMetrics=c,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&s._emitter?(s._emitter.enable(!0,l),this._handle||(this._handle=setInterval(function(){return u._trackNativeMetrics()},l),this._handle.unref())):s._emitter&&(s._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},s.prototype.dispose=function(){this.enable(!1)},s.parseEnabled=function(a){var c=process.env[r.ENV_nativeMetricsDisableAll],l=process.env[r.ENV_nativeMetricsDisablers];if(c)return{isEnabled:!1,disabledMetrics:{}};if(l){var u=l.split(","),f={};if(u.length>0)for(var d=0,p=u;d<p.length;d++){var h=p[d];f[h]=!0}return typeof a=="object"?{isEnabled:!0,disabledMetrics:t(t({},a),f)}:{isEnabled:a,disabledMetrics:f}}return typeof a=="boolean"?{isEnabled:a,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:a}},s.prototype._trackNativeMetrics=function(){var a=!0;typeof this._isEnabled!="object"&&(a=this._isEnabled),a&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},s.prototype._trackGarbageCollection=function(){var a;if(!this._disabledMetrics.gc){var c=s._emitter.getGCData();for(var l in c){var u=c[l].metrics,f=l+" Garbage Collection Duration",d=Math.sqrt(u.sumSquares/u.count-Math.pow(u.total/u.count,2))||0;this._client.trackMetric({name:f,value:u.total,count:u.count,max:u.max,min:u.min,stdDev:d,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)})}}},s.prototype._trackEventLoop=function(){var a;if(!this._disabledMetrics.loop){var c=s._emitter.getLoopData(),l=c.loopUsage;if(l.count!=0){var u="Event Loop CPU Time",f=Math.sqrt(l.sumSquares/l.count-Math.pow(l.total/l.count,2))||0;this._client.trackMetric({name:u,value:l.total,count:l.count,min:l.min,max:l.max,stdDev:f,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)})}}},s.prototype._trackHeapUsage=function(){var a,c,l;if(!this._disabledMetrics.heap){var u=process.memoryUsage(),f=u.heapUsed,d=u.heapTotal,p=u.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:f,count:1,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)}),this._client.trackMetric({name:"Memory Total (Heap)",value:d,count:1,tagOverrides:(c={},c[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,c)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:p-d,count:1,tagOverrides:(l={},l[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,l)})}},s}();e.AutoCollectNativePerformance=o}),bfe=F((e,t)=>{"use strict";var r=Mr(),n=function(){function i(o,s,a,c){this._buffer=[],this._lastSend=0,this._isDisabled=o,this._getBatchSize=s,this._getBatchIntervalMs=a,this._sender=c}return i.prototype.setUseDiskRetryCaching=function(o,s,a){this._sender.setDiskRetryMode(o,s,a)},i.prototype.send=function(o){var s=this;if(!this._isDisabled()){if(!o){r.warn("Cannot send null/undefined telemetry");return}if(this._buffer.push(o),this._buffer.length>=this._getBatchSize()){this.triggerSend(!1);return}!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout(function(){s._timeoutHandle=null,s.triggerSend(!1)},this._getBatchIntervalMs()))}},i.prototype.triggerSend=function(o,s){var a=this._buffer.length<1;a||(o?(this._sender.saveOnCrash(this._buffer),typeof s=="function"&&s("data saved on crash")):this._sender.send(this._buffer,s)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,a&&typeof s=="function"&&s("no data to send")},i}();t.exports=n}),Efe=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.azureRoleEnvironmentTelemetryProcessor=void 0;function t(r,n){process.env.WEBSITE_SITE_NAME&&(r.tags[n.keys.cloudRole]=process.env.WEBSITE_SITE_NAME)}e.azureRoleEnvironmentTelemetryProcessor=t}),_fe=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSamplingHashCode=e.samplingTelemetryProcessor=void 0;var t=_n();function r(i,o){var s=i.sampleRate,a=!1;return s==null||s>=100||i.data&&t.TelemetryType.Metric===t.baseTypeToTelemetryType(i.data.baseType)?!0:(o.correlationContext&&o.correlationContext.operation?a=n(o.correlationContext.operation.id)<s:a=Math.random()*100<s,a)}e.samplingTelemetryProcessor=r;function n(i){var o=-2147483648,s=2147483647,a=5381;if(!i)return 0;for(;i.length<8;)i=i+i;for(var c=0;c<i.length;c++)a=((a<<5)+a|0)+i.charCodeAt(c)|0;return a=a<=o?s:Math.abs(a),a/s*100}e.getSamplingHashCode=n}),Sfe=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.performanceMetricsTelemetryProcessor=void 0;var t=XP(),r=_n();function n(i,o){switch(o&&o.addDocument(i),i.data.baseType){case r.TelemetryTypeString.Exception:t.countException();break;case r.TelemetryTypeString.Request:var s=i.data.baseData;t.countRequest(s.duration,s.success);break;case r.TelemetryTypeString.Dependency:var a=i.data.baseData;t.countDependency(a.duration,a.success);break}return!0}e.performanceMetricsTelemetryProcessor=n}),xfe=F(e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(s){for(var a,c=1,l=arguments.length;c<l;c++){a=arguments[c];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])}return s},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.preAggregatedMetricsTelemetryProcessor=void 0;var r=_n(),n=vV(),i=_n();function o(s,a){if(n.isEnabled())switch(s.data.baseType){case i.TelemetryTypeString.Exception:var c=s.data.baseData;c.properties=t(t({},c.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Exceptions', Ver:'1.1')"});var l={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole]};n.countException(l);break;case i.TelemetryTypeString.Trace:var u=s.data.baseData;u.properties=t(t({},u.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Traces', Ver:'1.1')"});var f={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],traceSeverityLevel:r.SeverityLevel[u.severity]};n.countTrace(f);break;case i.TelemetryTypeString.Request:var d=s.data.baseData;d.properties=t(t({},d.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});var p={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],operationSynthetic:s.tags[a.keys.operationSyntheticSource],requestSuccess:d.success,requestResultCode:d.responseCode};n.countRequest(d.duration,p);break;case i.TelemetryTypeString.Dependency:var h=s.data.baseData;h.properties=t(t({},h.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"});var m={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],operationSynthetic:s.tags[a.keys.operationSyntheticSource],dependencySuccess:h.success,dependencyType:h.type,dependencyTarget:h.target,dependencyResultCode:h.resultCode};n.countDependency(h.duration,m);break}return!0}e.preAggregatedMetricsTelemetryProcessor=o}),Pfe=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Efe(),e),r(_fe(),e),r(Sfe(),e),r(xfe(),e)}),kfe=F((e,t)=>{"use strict";var r=e&&e.__awaiter||function(p,h,m,g){function v(y){return y instanceof m?y:new m(function(C){C(y)})}return new(m||(m=Promise))(function(y,C){function b(S){try{P(g.next(S))}catch(x){C(x)}}function _(S){try{P(g.throw(S))}catch(x){C(x)}}function P(S){S.done?y(S.value):v(S.value).then(b,_)}P((g=g.apply(p,h||[])).next())})},n=e&&e.__generator||function(p,h){var m={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},g,v,y,C;return C={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function b(P){return function(S){return _([P,S])}}function _(P){if(g)throw new TypeError("Generator is already executing.");for(;m;)try{if(g=1,v&&(y=P[0]&2?v.return:P[0]?v.throw||((y=v.return)&&y.call(v),0):v.next)&&!(y=y.call(v,P[1])).done)return y;switch(v=0,y&&(P=[P[0]&2,y.value]),P[0]){case 0:case 1:y=P;break;case 4:return m.label++,{value:P[1],done:!1};case 5:m.label++,v=P[1],P=[0];continue;case 7:P=m.ops.pop(),m.trys.pop();continue;default:if(y=m.trys,!(y=y.length>0&&y[y.length-1])&&(P[0]===6||P[0]===2)){m=0;continue}if(P[0]===3&&(!y||P[1]>y[0]&&P[1]<y[3])){m.label=P[1];break}if(P[0]===6&&m.label<y[1]){m.label=y[1],y=P;break}if(y&&m.label<y[2]){m.label=y[2],m.ops.push(P);break}y[2]&&m.ops.pop(),m.trys.pop();continue}P=h.call(p,m)}catch(S){P=[6,S],v=0}finally{g=y=0}if(P[0]&5)throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}},i=require("fs"),o=require("os"),s=require("path"),a=require("zlib"),c=require("child_process"),l=Mr(),u=Nh(),f=xi(),d=function(){function p(h,m,g){if(this._redirectedHost=null,this._config=h,this._onSuccess=m,this._onError=g,this._enableDiskRetryMode=!1,this._resendInterval=p.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=p.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._fileCleanupTimer=null,this._tempDir=s.join(o.tmpdir(),p.TEMPDIR_PREFIX+this._config.instrumentationKey),!p.OS_PROVIDES_FILE_PROTECTION)if(p.USE_ICACLS){try{p.OS_PROVIDES_FILE_PROTECTION=i.existsSync(p.ICACLS_PATH)}catch{}p.OS_PROVIDES_FILE_PROTECTION||l.warn(p.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else p.OS_PROVIDES_FILE_PROTECTION=!0}return p.prototype.setDiskRetryMode=function(h,m,g){var v=this;this._enableDiskRetryMode=p.OS_PROVIDES_FILE_PROTECTION&&h,typeof m=="number"&&m>=0&&(this._resendInterval=Math.floor(m)),typeof g=="number"&&g>=0&&(this._maxBytesOnDisk=Math.floor(g)),h&&!p.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,l.warn(p.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.")),this._enableDiskRetryMode?this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout(function(){v._fileCleanupTask()},p.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref()):this._fileCleanupTimer&&clearTimeout(this._fileCleanupTimer)},p.prototype.send=function(h,m){return r(this,void 0,void 0,function(){var g,v,y,C,b=this;return n(this,function(_){return h&&(g=this._redirectedHost||this._config.endpointUrl,v={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}},y="",h.forEach(function(P){var S=b._stringify(P);typeof S=="string"&&(y+=S+`
`)}),y.length>0&&(y=y.substring(0,y.length-1)),C=Buffer.from?Buffer.from(y):new Buffer(y),a.gzip(C,function(P,S){var x=S;P?(l.warn(P),x=C,v.headers["Content-Length"]=C.length.toString()):(v.headers["Content-Encoding"]="gzip",v.headers["Content-Length"]=S.length.toString()),l.info(p.TAG,v),v[u.disableCollectionRequestOption]=!0;var I=function(O){O.setEncoding("utf-8");var L="";O.on("data",function(J){L+=J}),O.on("end",function(){if(b._numConsecutiveFailures=0,b._enableDiskRetryMode){if(O.statusCode===200)b._resendTimer||(b._resendTimer=setTimeout(function(){b._resendTimer=null,b._sendFirstFileOnDisk()},b._resendInterval),b._resendTimer.unref());else if(b._isRetriable(O.statusCode))try{var J=JSON.parse(L),z=[];J.errors.forEach(function(ie){b._isRetriable(ie.statusCode)&&z.push(h[ie.index])}),z.length>0&&b._storeToDisk(z)}catch{b._storeToDisk(h)}}if(O.statusCode===307||O.statusCode===308)if(b._numConsecutiveRedirects++,b._numConsecutiveRedirects<10){var ee=O.headers.location?O.headers.location.toString():null;ee&&(b._redirectedHost=ee,b.send(h,m))}else typeof m=="function"&&m("Error sending telemetry because of circular redirects.");else b._numConsecutiveRedirects=0,typeof m=="function"&&m(L),l.info(p.TAG,L),typeof b._onSuccess=="function"&&b._onSuccess(L)})},A=f.makeRequest(b._config,g,v,I);A.on("error",function(O){if(b._numConsecutiveFailures++,!b._enableDiskRetryMode||b._numConsecutiveFailures>0&&b._numConsecutiveFailures%p.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var L="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";b._enableDiskRetryMode&&(L="Ingestion endpoint could not be reached "+b._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),l.warn(p.TAG,L,f.dumpObj(O))}else{var L="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:";l.info(p.TAG,L,f.dumpObj(O))}b._onErrorHelper(O),typeof m=="function"&&(O&&m(f.dumpObj(O)),m("Error sending telemetry")),b._enableDiskRetryMode&&b._storeToDisk(h)}),A.write(x),A.end()})),[2]})})},p.prototype.saveOnCrash=function(h){this._enableDiskRetryMode&&this._storeToDiskSync(this._stringify(h))},p.prototype._isRetriable=function(h){return h===206||h===408||h===429||h===439||h===500||h===503},p.prototype._runICACLS=function(h,m){var g=c.spawn(p.ICACLS_PATH,h,{windowsHide:!0});g.on("error",function(v){return m(v)}),g.on("close",function(v,y){return m(v===0?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+v+")"))})},p.prototype._runICACLSSync=function(h){if(c.spawnSync){var m=c.spawnSync(p.ICACLS_PATH,h,{windowsHide:!0});if(m.error)throw m.error;if(m.status!==0)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+m.status+")")}else throw new Error("Could not synchronously call ICACLS under current version of Node.js")},p.prototype._getACLIdentity=function(h){if(p.ACL_IDENTITY)return h(null,p.ACL_IDENTITY);var m=c.spawn(p.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),g="";m.stdout.on("data",function(v){return g+=v}),m.on("error",function(v){return h(v,null)}),m.on("close",function(v,y){return p.ACL_IDENTITY=g&&g.trim(),h(v===0?null:new Error("Getting ACL identity did not succeed (PS returned code "+v+")"),p.ACL_IDENTITY)})},p.prototype._getACLIdentitySync=function(){if(p.ACL_IDENTITY)return p.ACL_IDENTITY;if(c.spawnSync){var h=c.spawnSync(p.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(h.error)throw h.error;if(h.status!==0)throw new Error("Getting ACL identity did not succeed (PS returned code "+h.status+")");return p.ACL_IDENTITY=h.stdout&&h.stdout.toString().trim(),p.ACL_IDENTITY}else throw new Error("Could not synchronously get ACL identity under current version of Node.js")},p.prototype._getACLArguments=function(h,m){return[h,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",m+":(OI)(CI)F","/inheritance:r"]},p.prototype._applyACLRules=function(h,m){var g=this;if(!p.USE_ICACLS)return m(null);if(p.ACLED_DIRECTORIES[h]===void 0)p.ACLED_DIRECTORIES[h]=!1,this._getACLIdentity(function(v,y){if(v)return p.ACLED_DIRECTORIES[h]=!1,m(v);g._runICACLS(g._getACLArguments(h,y),function(C){return p.ACLED_DIRECTORIES[h]=!C,m(C)})});else return m(p.ACLED_DIRECTORIES[h]?null:new Error("Setting ACL restrictions did not succeed (cached result)"))},p.prototype._applyACLRulesSync=function(h){if(p.USE_ICACLS){if(p.ACLED_DIRECTORIES[h]===void 0){this._runICACLSSync(this._getACLArguments(h,this._getACLIdentitySync())),p.ACLED_DIRECTORIES[h]=!0;return}else if(!p.ACLED_DIRECTORIES[h])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},p.prototype._confirmDirExists=function(h,m){var g=this;i.lstat(h,function(v,y){v&&v.code==="ENOENT"?i.mkdir(h,function(C){C&&C.code!=="EEXIST"?m(C):g._applyACLRules(h,m)}):!v&&y.isDirectory()?g._applyACLRules(h,m):m(v||new Error("Path existed but was not a directory"))})},p.prototype._getShallowDirectorySize=function(h,m){i.readdir(h,function(g,v){if(g)return m(g,-1);var y=null,C=0,b=0;if(v.length===0){m(null,0);return}for(var _=0;_<v.length;_++)i.stat(s.join(h,v[_]),function(P,S){b++,P?y=P:S.isFile()&&(C+=S.size),b===v.length&&(y?m(y,-1):m(y,C))})})},p.prototype._getShallowDirectorySizeSync=function(h){for(var m=i.readdirSync(h),g=0,v=0;v<m.length;v++)g+=i.statSync(s.join(h,m[v])).size;return g},p.prototype._storeToDisk=function(h){var m=this;l.info(p.TAG,"Checking existence of data storage directory: "+this._tempDir),this._confirmDirExists(this._tempDir,function(g){if(g){l.warn(p.TAG,"Error while checking/creating directory: "+(g&&g.message)),m._onErrorHelper(g);return}m._getShallowDirectorySize(m._tempDir,function(v,y){if(v||y<0){l.warn(p.TAG,"Error while checking directory size: "+(v&&v.message)),m._onErrorHelper(v);return}else if(y>m._maxBytesOnDisk){l.warn(p.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+y);return}var C=new Date().getTime()+".ai.json",b=s.join(m._tempDir,C);l.info(p.TAG,"saving data to disk at: "+b),i.writeFile(b,m._stringify(h),{mode:384},function(_){return m._onErrorHelper(_)})})})},p.prototype._storeToDiskSync=function(h){try{l.info(p.TAG,"Checking existence of data storage directory: "+this._tempDir),i.existsSync(this._tempDir)||i.mkdirSync(this._tempDir),this._applyACLRulesSync(this._tempDir);var m=this._getShallowDirectorySizeSync(this._tempDir);if(m>this._maxBytesOnDisk){l.info(p.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+m);return}var g=new Date().getTime()+".ai.json",v=s.join(this._tempDir,g);l.info(p.TAG,"saving data before crash to disk at: "+v),i.writeFileSync(v,h,{mode:384})}catch(y){l.warn(p.TAG,"Error while saving data to disk: "+(y&&y.message)),this._onErrorHelper(y)}},p.prototype._sendFirstFileOnDisk=function(){var h=this;i.exists(this._tempDir,function(m){m&&i.readdir(h._tempDir,function(g,v){if(g)h._onErrorHelper(g);else if(v=v.filter(function(b){return s.basename(b).indexOf(".ai.json")>-1}),v.length>0){var y=v[0],C=s.join(h._tempDir,y);i.readFile(C,function(b,_){b?h._onErrorHelper(b):i.unlink(C,function(P){if(P)h._onErrorHelper(P);else try{var S=JSON.parse(_.toString());h.send(S)}catch(x){l.warn("Failed to read persisted file",x)}})})}})})},p.prototype._onErrorHelper=function(h){typeof this._onError=="function"&&this._onError(h)},p.prototype._stringify=function(h){try{return JSON.stringify(h)}catch(m){l.warn("Failed to serialize payload",m,h)}},p.prototype._fileCleanupTask=function(){var h=this;i.exists(this._tempDir,function(m){m&&i.readdir(h._tempDir,function(g,v){g?h._onErrorHelper(g):(v=v.filter(function(y){return s.basename(y).indexOf(".ai.json")>-1}),v.length>0&&v.forEach(function(y){var C=new Date(parseInt(y.split(".ai.json")[0])),b=new Date(+new Date-p.FILE_RETEMPTION_PERIOD)>C;if(b){var _=s.join(h._tempDir,y);i.unlink(_,function(P){P&&h._onErrorHelper(P)})}}))})})},p.TAG="Sender",p.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",p.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",p.ACLED_DIRECTORIES={},p.ACL_IDENTITY=null,p.WAIT_BETWEEN_RESEND=60*1e3,p.MAX_BYTES_ON_DISK=50*1024*1024,p.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,p.CLEANUP_TIMEOUT=60*60*1e3,p.FILE_RETEMPTION_PERIOD=7*24*60*60*1e3,p.TEMPDIR_PREFIX="appInsights-node",p.OS_PROVIDES_FILE_PROTECTION=!1,p.USE_ICACLS=o.type()==="Windows_NT",p}();t.exports=d}),Ife=F((e,t)=>{"use strict";var r=_n(),n=xi(),i=Nf(),o=function(){function a(){}return a.createEnvelope=function(c,l,u,f,d){var p=null;switch(l){case r.TelemetryType.Trace:p=a.createTraceData(c);break;case r.TelemetryType.Dependency:p=a.createDependencyData(c);break;case r.TelemetryType.Event:p=a.createEventData(c);break;case r.TelemetryType.Exception:p=a.createExceptionData(c);break;case r.TelemetryType.Request:p=a.createRequestData(c);break;case r.TelemetryType.Metric:p=a.createMetricData(c);break;case r.TelemetryType.Availability:p=a.createAvailabilityData(c);break;case r.TelemetryType.PageView:p=a.createPageViewData(c);break}if(u&&r.domainSupportsProperties(p.baseData)){if(p&&p.baseData)if(!p.baseData.properties)p.baseData.properties=u;else for(var h in u)p.baseData.properties[h]||(p.baseData.properties[h]=u[h]);p.baseData.properties=n.validateStringMap(p.baseData.properties)}var m=d&&d.instrumentationKey||"",g=new r.Envelope;return g.data=p,g.iKey=m,g.name="Microsoft.ApplicationInsights."+m.replace(/-/g,"")+"."+p.baseType.substr(0,p.baseType.length-4),g.tags=this.getTags(f,c.tagOverrides),g.time=new Date().toISOString(),g.ver=1,g.sampleRate=d?d.samplingPercentage:100,l===r.TelemetryType.Metric&&(g.sampleRate=100),g},a.createTraceData=function(c){var l=new r.MessageData;l.message=c.message,l.properties=c.properties,isNaN(c.severity)?l.severityLevel=r.SeverityLevel.Information:l.severityLevel=c.severity;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Trace),u.baseData=l,u},a.createDependencyData=function(c){var l=new r.RemoteDependencyData;typeof c.name=="string"&&(l.name=c.name.length>1024?c.name.slice(0,1021)+"...":c.name),l.data=c.data,l.target=c.target,l.duration=n.msToTimeSpan(c.duration),l.success=c.success,l.type=c.dependencyTypeName,l.properties=c.properties,l.resultCode=c.resultCode?c.resultCode+"":"",c.id?l.id=c.id:l.id=n.w3cTraceId();var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Dependency),u.baseData=l,u},a.createEventData=function(c){var l=new r.EventData;l.name=c.name,l.properties=c.properties,l.measurements=c.measurements;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Event),u.baseData=l,u},a.createExceptionData=function(c){var l=new r.ExceptionData;l.properties=c.properties,isNaN(c.severity)?l.severityLevel=r.SeverityLevel.Error:l.severityLevel=c.severity,l.measurements=c.measurements,l.exceptions=[];var u=c.exception.stack,f=new r.ExceptionDetails;f.message=c.exception.message,f.typeName=c.exception.name,f.parsedStack=this.parseStack(u),f.hasFullStack=n.isArray(f.parsedStack)&&f.parsedStack.length>0,l.exceptions.push(f);var d=new r.Data;return d.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Exception),d.baseData=l,d},a.createRequestData=function(c){var l=new r.RequestData;c.id?l.id=c.id:l.id=n.w3cTraceId(),l.name=c.name,l.url=c.url,l.source=c.source,l.duration=n.msToTimeSpan(c.duration),l.responseCode=c.resultCode?c.resultCode+"":"",l.success=c.success,l.properties=c.properties;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Request),u.baseData=l,u},a.createMetricData=function(c){var l=new r.MetricData;l.metrics=[];var u=new r.DataPoint;u.count=isNaN(c.count)?1:c.count,u.kind=r.DataPointType.Aggregation,u.max=isNaN(c.max)?c.value:c.max,u.min=isNaN(c.min)?c.value:c.min,u.name=c.name,u.stdDev=isNaN(c.stdDev)?0:c.stdDev,u.value=c.value,l.metrics.push(u),l.properties=c.properties;var f=new r.Data;return f.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Metric),f.baseData=l,f},a.createAvailabilityData=function(c){var l=new r.AvailabilityData;c.id?l.id=c.id:l.id=n.w3cTraceId(),l.name=c.name,l.duration=n.msToTimeSpan(c.duration),l.success=c.success,l.runLocation=c.runLocation,l.message=c.message,l.measurements=c.measurements,l.properties=c.properties;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Availability),u.baseData=l,u},a.createPageViewData=function(c){var l=new r.PageViewData;l.name=c.name,l.duration=n.msToTimeSpan(c.duration),l.url=c.url,l.measurements=c.measurements,l.properties=c.properties;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.PageView),u.baseData=l,u},a.getTags=function(c,l){var u=i.CorrelationContextManager.getCurrentContext(),f={};if(c&&c.tags)for(var d in c.tags)f[d]=c.tags[d];if(l)for(var d in l)f[d]=l[d];return u&&(f[c.keys.operationId]=f[c.keys.operationId]||u.operation.id,f[c.keys.operationName]=f[c.keys.operationName]||u.operation.name,f[c.keys.operationParentId]=f[c.keys.operationParentId]||u.operation.parentId),f},a.parseStack=function(c){var l=void 0;if(typeof c=="string"){var u=c.split(`
`);l=[];for(var f=0,d=0,p=0;p<=u.length;p++){var h=u[p];if(s.regex.test(h)){var m=new s(u[p],f++);d+=m.sizeInBytes,l.push(m)}}var g=32*1024;if(d>g)for(var v=0,y=l.length-1,C=0,b=v,_=y;v<y;){var P=l[v].sizeInBytes,S=l[y].sizeInBytes;if(C+=P+S,C>g){var x=_-b+1;l.splice(b,x);break}b=v,_=y,v++,y--}}return l},a}(),s=function(){function a(c,l){this.sizeInBytes=0,this.level=l,this.method="<no_method>",this.assembly=n.trim(c);var u=c.match(a.regex);u&&u.length>=5&&(this.method=n.trim(u[2])||this.method,this.fileName=n.trim(u[4])||"<no_filename>",this.line=parseInt(u[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=a.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return a.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,a.baseSize=58,a}();t.exports=o}),Tfe=F((e,t)=>{"use strict";var r=require("url"),n=wV(),i=Zw(),o=_n(),s=bfe(),a=Pfe(),c=Nf(),l=kfe(),u=xi(),f=Mr(),d=Ife(),p=function(){function h(m){this._telemetryProcessors=[],this._enableAzureProperties=!1;var g=new n(m);this.config=g,this.context=new i,this.commonProperties={};var v=new l(this.config);this.channel=new s(function(){return g.disableAppInsights},function(){return g.maxBatchSize},function(){return g.maxBatchIntervalMs},v)}return h.prototype.trackAvailability=function(m){this.track(m,o.TelemetryType.Availability)},h.prototype.trackPageView=function(m){this.track(m,o.TelemetryType.PageView)},h.prototype.trackTrace=function(m){this.track(m,o.TelemetryType.Trace)},h.prototype.trackMetric=function(m){this.track(m,o.TelemetryType.Metric)},h.prototype.trackException=function(m){m&&m.exception&&!u.isError(m.exception)&&(m.exception=new Error(m.exception.toString())),this.track(m,o.TelemetryType.Exception)},h.prototype.trackEvent=function(m){this.track(m,o.TelemetryType.Event)},h.prototype.trackRequest=function(m){this.track(m,o.TelemetryType.Request)},h.prototype.trackDependency=function(m){m&&!m.target&&m.data&&(m.target=r.parse(m.data).host),this.track(m,o.TelemetryType.Dependency)},h.prototype.flush=function(m){this.channel.triggerSend(m?!!m.isAppCrashing:!1,m?m.callback:void 0)},h.prototype.track=function(m,g){if(m&&o.telemetryTypeToBaseType(g)){var v=d.createEnvelope(m,g,this.commonProperties,this.context,this.config);m.time&&(v.time=m.time.toISOString()),this._enableAzureProperties&&a.azureRoleEnvironmentTelemetryProcessor(v,this.context);var y=this.runTelemetryProcessors(v,m.contextObjects);y=y&&a.samplingTelemetryProcessor(v,{correlationContext:c.CorrelationContextManager.getCurrentContext()}),a.preAggregatedMetricsTelemetryProcessor(v,this.context),y&&(a.performanceMetricsTelemetryProcessor(v,this.quickPulseClient),this.channel.send(v))}else f.warn("track() requires telemetry object and telemetryType to be specified.")},h.prototype.setAutoPopulateAzureProperties=function(m){this._enableAzureProperties=m},h.prototype.addTelemetryProcessor=function(m){this._telemetryProcessors.push(m)},h.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},h.prototype.runTelemetryProcessors=function(m,g){var v=!0,y=this._telemetryProcessors.length;if(y===0)return v;g=g||{},g.correlationContext=c.CorrelationContextManager.getCurrentContext();for(var C=0;C<y;++C)try{var b=this._telemetryProcessors[C];if(b&&b.apply(null,[m,g])===!1){v=!1;break}}catch(_){v=!0,f.warn("One of telemetry processors failed, telemetry item will be sent.",_,m)}return v&&(m&&m.tags&&(m.tags=u.validateStringMap(m.tags)),m&&m.data&&m.data.baseData&&m.data.baseData.properties&&(m.data.baseData.properties=u.validateStringMap(m.data.baseData.properties))),v},h}();t.exports=p}),Afe=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var c=function(l,u){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(f[p]=d[p])},c(l,u)};return function(l,u){c(l,u);function f(){this.constructor=l}l.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}}(),n=Tfe(),i=yV(),o=Nh(),s=Mr(),a=function(c){r(l,c);function l(){return c!==null&&c.apply(this,arguments)||this}return l.prototype.trackNodeHttpRequestSync=function(u){u&&u.request&&u.response&&u.duration?i.trackRequestSync(this,u):s.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},l.prototype.trackNodeHttpRequest=function(u){(u.duration||u.error)&&s.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),u&&u.request&&u.response?i.trackRequest(this,u):s.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},l.prototype.trackNodeHttpDependency=function(u){u&&u.request?o.trackRequest(this,u):s.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},l}(n);t.exports=a}),Dfe=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Rfe=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.Configuration=e.wrapWithCorrelationContext=e.startOperation=e.getCorrelationContext=e.start=e.setup=e.liveMetricsClient=e.defaultClient=e.DistributedTracingModes=void 0;var t=Nf(),r=nfe(),n=ife(),i=XP(),o=vV(),s=hfe(),a=Nh(),c=yV(),l=Of(),u=Mr(),f=yfe(),d=Cfe();e.TelemetryClient=Afe(),e.Contracts=_n(),e.azureFunctionsTypes=Dfe();var p;(function(Re){Re[Re.AI=0]="AI",Re[Re.AI_AND_W3C=1]="AI_AND_W3C"})(p=e.DistributedTracingModes||(e.DistributedTracingModes={}));var h=!0,m=!1,g=!0,v=!0,y=!0,C=!1,b=!0,_=!0,P=!0,S=!0,x,I=!1,A=!0,O,L=void 0,J=void 0,z,ee,ie,q,M,D,$,Y,Q=!1,X;function ve(Re){return e.defaultClient?u.info("The default client is already setup"):(e.defaultClient=new e.TelemetryClient(Re),z=new r(e.defaultClient),ee=new n(e.defaultClient),ie=new i(e.defaultClient),q=new o(e.defaultClient),M=new s(e.defaultClient),$=new c(e.defaultClient),Y=new a(e.defaultClient),D||(D=new d.AutoCollectNativePerformance(e.defaultClient))),e.defaultClient&&e.defaultClient.channel&&e.defaultClient.channel.setUseDiskRetryCaching(P,L,J),xt}e.setup=ve;function Pe(){return e.defaultClient?(Q=!0,z.enable(h,m),ee.enable(g),ie.enable(v),q.enable(y),M.enable(C,e.defaultClient.config),D.enable(A,O),$.useAutoCorrelation(S,x),$.enable(b),Y.enable(_),e.liveMetricsClient&&I&&e.liveMetricsClient.enable(I)):u.warn("Start cannot be called before setup"),xt}e.start=Pe;function Se(){return S?t.CorrelationContextManager.getCurrentContext():null}e.getCorrelationContext=Se;function Oe(Re,Ae){return t.CorrelationContextManager.startOperation(Re,Ae)}e.startOperation=Oe;function Ee(Re,Ae){return t.CorrelationContextManager.wrapCallback(Re,Ae)}e.wrapWithCorrelationContext=Ee;var xt=function(){function Re(){}return Re.setDistributedTracingMode=function(Ae){return l.w3cEnabled=Ae===p.AI_AND_W3C,Re},Re.setAutoCollectConsole=function(Ae,Fe){return Fe===void 0&&(Fe=!1),h=Ae,m=Fe,Q&&z.enable(Ae,Fe),Re},Re.setAutoCollectExceptions=function(Ae){return g=Ae,Q&&ee.enable(Ae),Re},Re.setAutoCollectPerformance=function(Ae,Fe){Fe===void 0&&(Fe=!0),v=Ae;var Xe=d.AutoCollectNativePerformance.parseEnabled(Fe);return A=Xe.isEnabled,O=Xe.disabledMetrics,Q&&(ie.enable(Ae),D.enable(Xe.isEnabled,Xe.disabledMetrics)),Re},Re.setAutoCollectPreAggregatedMetrics=function(Ae){return y=Ae,Q&&q.enable(Ae),Re},Re.setAutoCollectHeartbeat=function(Ae){return C=Ae,Q&&M.enable(Ae,e.defaultClient.config),Re},Re.setAutoCollectRequests=function(Ae){return b=Ae,Q&&$.enable(Ae),Re},Re.setAutoCollectDependencies=function(Ae){return _=Ae,Q&&Y.enable(Ae),Re},Re.setAutoDependencyCorrelation=function(Ae,Fe){return S=Ae,x=Fe,Q&&$.useAutoCorrelation(Ae,Fe),Re},Re.setUseDiskRetryCaching=function(Ae,Fe,Xe){return P=Ae,L=Fe,J=Xe,e.defaultClient&&e.defaultClient.channel&&e.defaultClient.channel.setUseDiskRetryCaching(Ae,Fe,Xe),Re},Re.setInternalLogging=function(Ae,Fe){return Ae===void 0&&(Ae=!1),Fe===void 0&&(Fe=!0),u.enableDebug=Ae,u.disableWarnings=!Fe,Re},Re.setSendLiveMetrics=function(Ae){return Ae===void 0&&(Ae=!1),e.defaultClient?(!e.liveMetricsClient&&Ae?(e.liveMetricsClient=new f(e.defaultClient.config,null),X=new i(e.liveMetricsClient,1e3,!0),e.liveMetricsClient.addCollector(X),e.defaultClient.quickPulseClient=e.liveMetricsClient):e.liveMetricsClient&&e.liveMetricsClient.enable(Ae),I=Ae,Re):(u.warn("Live metrics client cannot be setup without the default client"),Re)},Re.start=Pe,Re}();e.Configuration=xt;function At(){l.w3cEnabled=!0,e.defaultClient=null,Q=!1,z&&z.dispose(),ee&&ee.dispose(),ie&&ie.dispose(),q&&q.dispose(),M&&M.dispose(),D&&D.dispose(),$&&$.dispose(),Y&&Y.dispose(),e.liveMetricsClient&&(e.liveMetricsClient.enable(!1),I=!1,e.liveMetricsClient=void 0)}e.dispose=At}),CV={};uce(CV,{default:()=>Ufe});bV.exports=fce(CV);var ZP=Jw(require("os")),Pa=Jw(require("vscode")),Ofe=Jw(require("https")),Xi=class{constructor(e){this.vscodeAPI=e}getTelemetryLevel(){let e="telemetry",t="enableTelemetry";try{let r=this.vscodeAPI.env.telemetryConfiguration;return r.isUsageEnabled&&r.isErrorsEnabled&&r.isCrashEnabled?"on":r.isErrorsEnabled&&r.isCrashEnabled?"error":"off"}catch{return this.vscodeAPI.env.isTelemetryEnabled!==void 0?this.vscodeAPI.env.isTelemetryEnabled?"on":"off":this.vscodeAPI.workspace.getConfiguration(e).get(t)?"on":"off"}}static applyReplacements(e,t){for(let r of Object.keys(e))for(let n of t)n.lookup.test(r)&&(n.replacementString!==void 0?e[r]=n.replacementString:delete e[r])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getInstance(e){return Xi._instance||(Xi._instance=new Xi(e)),Xi._instance}},Nfe=class{constructor(e,t,r,n,i,o){this.extensionId=e,this.extensionVersion=t,this.telemetryAppender=r,this.osShim=n,this.vscodeAPI=i,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!o,this.updateUserOptStatus(),i.env.onDidChangeTelemetryEnabled!==void 0?(this.disposables.push(i.env.onDidChangeTelemetryEnabled(()=>this.updateUserOptStatus())),this.disposables.push(i.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))):this.disposables.push(i.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))}updateUserOptStatus(){let e=Xi.getInstance(this.vscodeAPI).getTelemetryLevel();this.userOptIn=e==="on",this.errorOptIn=e==="error"||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return"none";let t="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach(r=>{e.indexOf(`${r}`)===0&&(t=r)}),t}get extension(){return this._extension===void 0&&(this._extension=this.vscodeAPI.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,t){if(e===null||typeof e!="object"||typeof t!="function")return e;let r={};for(let n in e)r[n]=t(n,e[n]);return r}shouldSendErrorTelemetry(){return this.errorOptIn===!1?!1:this.firstParty?!(this.vscodeAPI.env.remoteName&&this.cleanRemoteName(this.vscodeAPI.env.remoteName)==="other"):!0}getCommonProperties(){let e={};if(e["common.os"]=this.osShim.platform,e["common.nodeArch"]=this.osShim.architecture,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,this.vscodeAPI&&this.vscodeAPI.env){switch(e["common.vscodemachineid"]=this.vscodeAPI.env.machineId,e["common.vscodesessionid"]=this.vscodeAPI.env.sessionId,e["common.vscodeversion"]=this.vscodeAPI.version,e["common.isnewappinstall"]=this.vscodeAPI.env.isNewAppInstall?this.vscodeAPI.env.isNewAppInstall.toString():"false",e["common.product"]=this.vscodeAPI.env.appHost,this.vscodeAPI.env.uiKind){case this.vscodeAPI.UIKind.Web:e["common.uikind"]="web";break;case this.vscodeAPI.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(this.vscodeAPI.env.remoteName)}return e}anonymizeFilePaths(e,t){let r;if(e==null)return"";let n=[];this.vscodeAPI.env.appRoot!==""&&n.push(new RegExp(this.vscodeAPI.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&n.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let i=e;if(t){let o=[];for(let l of n)for(;(r=l.exec(e))&&r;)o.push([r.index,l.lastIndex]);let s=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,a=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,c=0;for(i="";(r=a.exec(e))&&r;)r[0]&&!s.test(r[0])&&o.every(([l,u])=>r.index<l||r.index>=u)&&(i+=e.substring(c,r.index)+"<REDACTED: user-file-path>",c=a.lastIndex);c<e.length&&(i+=e.substr(c))}for(let o of n)i=i.replace(o,"");return i}removePropertiesWithPossibleUserInfo(e){if(typeof e!="object")return;let t={};for(let r of Object.keys(e)){let n=e[r];if(!n)continue;let i=/@[a-zA-Z0-9-.]+/,o=/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/,s=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;o.test(n.toLowerCase())?t[r]="<REDACTED: secret>":i.test(n)?t[r]="<REDACTED: email>":s.test(n)?t[r]="<REDACTED: token>":t[r]=n}return t}get telemetryLevel(){switch(Xi.getInstance(this.vscodeAPI).getTelemetryLevel()){case"on":return"all";case"error":return"error";case"off":return"off"}}internalSendTelemetryEvent(e,t,r,n,i){if((this.userOptIn||i)&&e!==""){if(t=gl(gl({},t),this.getCommonProperties()),n){let o=this.cloneAndChange(t,(s,a)=>this.anonymizeFilePaths(a,this.firstParty));t=this.removePropertiesWithPossibleUserInfo(o)}t=t!=null?t:{},r=r!=null?r:{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:r})}}sendTelemetryEvent(e,t,r){this.internalSendTelemetryEvent(e,t,r,!0,!1)}sendRawTelemetryEvent(e,t,r){this.internalSendTelemetryEvent(e,t,r,!1,!1)}sendDangerousTelemetryEvent(e,t,r,n=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(e,t,r,n,!0)}internalSendTelemetryErrorEvent(e,t,r,n,i){if((this.shouldSendErrorTelemetry()||i)&&e!==""){if(t=gl(gl({},t),this.getCommonProperties()),n){let o=this.cloneAndChange(t,(s,a)=>this.anonymizeFilePaths(a,this.firstParty));t=this.removePropertiesWithPossibleUserInfo(o)}t=t!=null?t:{},r=r!=null?r:{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:r})}}sendTelemetryErrorEvent(e,t,r){this.internalSendTelemetryErrorEvent(e,t,r,!0,!1)}sendDangerousTelemetryErrorEvent(e,t,r,n=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(e,t,r,n,!0)}internalSendTelemetryException(e,t,r,n,i){if((this.shouldSendErrorTelemetry()||i)&&e){if(t=gl(gl({},t),this.getCommonProperties()),n){let o=this.cloneAndChange(t,(s,a)=>this.anonymizeFilePaths(a,this.firstParty));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),t=this.removePropertiesWithPossibleUserInfo(o)}t=t!=null?t:{},r=r!=null?r:{},this.telemetryAppender.logException(e,{properties:t,measurements:r})}}sendTelemetryException(e,t,r){this.internalSendTelemetryException(e,t,r,!0,!1)}sendDangerousTelemetryException(e,t,r,n=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(e,t,r,n,!0)}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map(e=>e.dispose()))}},Lfe=class{constructor(e,t){this._instantiationStatus=0,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}logEvent(e,t){if(!this._telemetryClient){this._instantiationStatus!==2&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}logException(e,t){if(!this._telemetryClient){this._instantiationStatus!==2&&this._exceptionQueue.push({exception:e,data:t});return}this._telemetryClient.logException(e,t)}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.logEvent(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.logException(e,t)),this._exceptionQueue=[]}instantiateAppender(){this._instantiationStatus===0&&(this._instantiationStatus=1,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=2,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=2}))}},Ffe=async(e,t,r)=>{let n=await Promise.resolve().then(()=>(fl(),VB)),i=await Promise.resolve().then(()=>(IH(),kH)),o=new n.AppInsightsCore,s=new i.PostChannel,a={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(r){a.extensionConfig={};let l={alwaysUseXhrOverride:!0,httpXHROverride:r};a.extensionConfig[s.identifier]=l}let c=t.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(a,[]),o.addTelemetryInitializer(l=>{var u,f;!c||(l.ext=(u=l.ext)!=null?u:{},l.ext.utc=(f=l.ext.utc)!=null?f:{},l.ext.utc.flags=8462029)}),o},Mfe=async(e,t,r)=>{let n=await Ffe(e,t,r);return{logEvent:(i,o)=>{try{n==null||n.track({name:i,baseData:{name:i,properties:o==null?void 0:o.properties,measurements:o==null?void 0:o.measurements}})}catch(s){throw new Error(`Failed to log event to app insights!
`+s.message)}},logException:(i,o)=>{throw new Error("1DS SDK does not support logging exceptions, please use logEvent for exception tracking")},flush:async()=>{try{n==null||n.unload()}catch(i){throw new Error(`Failed to flush app insights!
`+i.message)}}}},jfe=async(e,t)=>{let r;try{process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL="1";let n=await Promise.resolve().then(()=>Jw(Rfe()));n.defaultClient?(r=new n.TelemetryClient(e),r.channel.setUseDiskRetryCaching(!0)):(n.setup(e).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setAutoCollectHeartbeat(!1).setUseDiskRetryCaching(!0).start(),r=n.defaultClient),Pa&&Pa.env&&(r.context.tags[r.context.keys.userId]=Pa.env.machineId,r.context.tags[r.context.keys.sessionId]=Pa.env.sessionId,r.context.tags[r.context.keys.cloudRole]=Pa.env.appName,r.context.tags[r.context.keys.cloudRoleInstance]=Pa.env.appName),e&&e.indexOf("AIF-")===0&&(r.config.endpointUrl="https://mobile.events.data.microsoft.com/collect/v1")}catch(n){return Promise.reject(`Failed to initialize app insights!
`+n.message)}return t!=null&&t.length&&qfe(r,t),{logEvent:(n,i)=>{try{r==null||r.trackEvent({name:n,properties:i==null?void 0:i.properties,measurements:i==null?void 0:i.measurements})}catch(o){throw new Error(`Failed to log event to app insights!
`+o.message)}},logException:(n,i)=>{try{r==null||r.trackException({exception:n,properties:i==null?void 0:i.properties,measurements:i==null?void 0:i.measurements})}catch(o){throw new Error(`Failed to log exception to app insights!
`+o.message)}},flush:async()=>{try{r==null||r.flush()}catch(n){throw new Error(`Failed to flush app insights!
`+n.message)}}}};function qfe(e,t){e.addTelemetryProcessor(r=>(Array.isArray(r.tags)?r.tags.forEach(n=>Xi.applyReplacements(n,t)):r.tags&&Xi.applyReplacements(r.tags,t),r.data.baseData&&Xi.applyReplacements(r.data.baseData,t),!0))}function $fe(){return{sendPOST:(e,t)=>{let r={method:"POST",headers:lce(gl({},e.headers),{"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)})};try{let n=Ofe.request(e.urlString,r,i=>{i.on("data",function(o){var s;t((s=i.statusCode)!=null?s:200,i.headers,o.toString())}),i.on("error",function(){t(0,{})})});n.write(e.data),n.end()}catch{t(0,{})}}}}var Ufe=class extends Nfe{constructor(e,t,r,n,i){let o=a=>jfe(a,i);Xi.shouldUseOneDataSystemSDK(r)&&(o=a=>Mfe(a,Pa,$fe()));let s=new Lfe(r,o);r&&(r.indexOf("AIF-")===0||Xi.shouldUseOneDataSystemSDK(r))&&(n=!0),super(e,t,s,{release:ZP.release(),platform:ZP.platform(),architecture:ZP.arch()},Pa,n)}}});var ek=T(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});var eC=require("vscode"),Lh=class{constructor(t,r,n){this.extensionName=t,this.extensionVersion=r,this.targetPopulation=n}static trimVersionSuffix(t){let r=/\-[a-zA-Z0-9]+$/;return t.split(r)[0]}getFilterValue(t){switch(t){case Ss.ApplicationVersion:return Lh.trimVersionSuffix(eC.version);case Ss.Build:return eC.env.appName;case Ss.ClientId:return eC.env.machineId;case Ss.ExtensionName:return this.extensionName;case Ss.ExtensionVersion:return Lh.trimVersionSuffix(this.extensionVersion);case Ss.Language:return eC.env.language;case Ss.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let t=new Map,r=Object.values(Ss);for(let n of r)t.set(n,this.getFilterValue(n));return t}};vl.VSCodeFilterProvider=Lh;var Ss;(function(e){e.Market="X-MSEdge-Market",e.CorpNet="X-FD-Corpnet",e.ApplicationVersion="X-VSCode-AppVersion",e.Build="X-VSCode-Build",e.ClientId="X-MSEdge-ClientId",e.ExtensionName="X-VSCode-ExtensionName",e.ExtensionVersion="X-VSCode-ExtensionVersion",e.Language="X-VSCode-Language",e.TargetPopulation="X-VSCode-TargetPopulation"})(Ss=vl.Filters||(vl.Filters={}));var Bfe;(function(e){e.Team="team",e.Internal="internal",e.Insiders="insider",e.Public="public"})(Bfe=vl.TargetPopulation||(vl.TargetPopulation={}))});var SV=T(tk=>{"use strict";Object.defineProperty(tk,"__esModule",{value:!0});var _V=class{constructor(t){this.telemetry=t,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let t=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,t}};tk.BaseFeatureProvider=_V});var PV=T(rk=>{"use strict";Object.defineProperty(rk,"__esModule",{value:!0});var Hfe=SV(),xV=class extends Hfe.BaseFeatureProvider{constructor(t,r){super(t);this.telemetry=t,this.filterProviders=r,this.cachedTelemetryEvents=[]}getFilters(){let t=new Map;for(let r of this.filterProviders){let n=r.getFilters();for(let i of n.keys()){let o=n.get(i);t.set(i,o)}}return t}PostEventToTelemetry(t){if(this.cachedTelemetryEvents.includes(t))return;let r=JSON.stringify(t);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",r]])),this.cachedTelemetryEvents.push(t)}};rk.FilteredFeatureProvider=xV});var IV=T(nk=>{"use strict";Object.defineProperty(nk,"__esModule",{value:!0});var Vfe=PV(),kV=class extends Vfe.FilteredFeatureProvider{constructor(t,r,n){super(r,n);this.httpClient=t,this.telemetry=r,this.filterProviders=n}async fetch(){let t=this.getFilters(),r={};for(let a of t.keys()){let c=t.get(a);r[a]=c}let n=await this.httpClient.get({headers:r});t.keys.length>0&&this.PostEventToTelemetry(r);let i=n.data,o=i.Configs,s=[];for(let a of o)if(!!a.Parameters)for(let c of Object.keys(a.Parameters)){let l=c+(a.Parameters[c]?"":"cf");s.includes(l)||s.push(l)}return{features:s,assignmentContext:i.AssignmentContext,configs:o}}};nk.TasApiFeatureProvider=kV});var ik=T((Y1e,TV)=>{"use strict";TV.exports=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}}});var on=T((J1e,RV)=>{"use strict";var Wfe=ik(),yl=Object.prototype.toString;function ok(e){return yl.call(e)==="[object Array]"}function sk(e){return typeof e=="undefined"}function zfe(e){return e!==null&&!sk(e)&&e.constructor!==null&&!sk(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Gfe(e){return yl.call(e)==="[object ArrayBuffer]"}function Kfe(e){return typeof FormData!="undefined"&&e instanceof FormData}function Yfe(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function Jfe(e){return typeof e=="string"}function Qfe(e){return typeof e=="number"}function AV(e){return e!==null&&typeof e=="object"}function tC(e){if(yl.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Xfe(e){return yl.call(e)==="[object Date]"}function Zfe(e){return yl.call(e)==="[object File]"}function ede(e){return yl.call(e)==="[object Blob]"}function DV(e){return yl.call(e)==="[object Function]"}function tde(e){return AV(e)&&DV(e.pipe)}function rde(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function nde(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function ide(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function ak(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),ok(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function ck(){var e={};function t(i,o){tC(e[o])&&tC(i)?e[o]=ck(e[o],i):tC(i)?e[o]=ck({},i):ok(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)ak(arguments[r],t);return e}function ode(e,t,r){return ak(t,function(i,o){r&&typeof i=="function"?e[o]=Wfe(i,r):e[o]=i}),e}function sde(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}RV.exports={isArray:ok,isArrayBuffer:Gfe,isBuffer:zfe,isFormData:Kfe,isArrayBufferView:Yfe,isString:Jfe,isNumber:Qfe,isObject:AV,isPlainObject:tC,isUndefined:sk,isDate:Xfe,isFile:Zfe,isBlob:ede,isFunction:DV,isStream:tde,isURLSearchParams:rde,isStandardBrowserEnv:ide,forEach:ak,merge:ck,extend:ode,trim:nde,stripBOM:sde}});var rC=T((Q1e,NV)=>{"use strict";var Lf=on();function OV(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}NV.exports=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(Lf.isURLSearchParams(r))i=r.toString();else{var o=[];Lf.forEach(r,function(c,l){c===null||typeof c=="undefined"||(Lf.isArray(c)?l=l+"[]":c=[c],Lf.forEach(c,function(f){Lf.isDate(f)?f=f.toISOString():Lf.isObject(f)&&(f=JSON.stringify(f)),o.push(OV(l)+"="+OV(f))}))}),i=o.join("&")}if(i){var s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}});var FV=T((X1e,LV)=>{"use strict";var ade=on();function nC(){this.handlers=[]}nC.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};nC.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};nC.prototype.forEach=function(t){ade.forEach(this.handlers,function(n){n!==null&&t(n)})};LV.exports=nC});var jV=T((Z1e,MV)=>{"use strict";var cde=on();MV.exports=function(t,r){cde.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})}});var iC=T((eFe,qV)=>{"use strict";qV.exports=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}});var oC=T((tFe,$V)=>{"use strict";var lde=iC();$V.exports=function(t,r,n,i,o){var s=new Error(t);return lde(s,r,n,i,o)}});var lk=T((rFe,UV)=>{"use strict";var ude=oC();UV.exports=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(ude("Request failed with status code "+n.status,n.config,null,n.request,n))}});var HV=T((nFe,BV)=>{"use strict";var sC=on();BV.exports=sC.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,s,a){var c=[];c.push(r+"="+encodeURIComponent(n)),sC.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),sC.isString(o)&&c.push("path="+o),sC.isString(s)&&c.push("domain="+s),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var WV=T((iFe,VV)=>{"use strict";VV.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}});var GV=T((oFe,zV)=>{"use strict";zV.exports=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}});var uk=T((sFe,KV)=>{"use strict";var fde=WV(),dde=GV();KV.exports=function(t,r){return t&&!fde(r)?dde(t,r):r}});var JV=T((aFe,YV)=>{"use strict";var fk=on(),pde=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];YV.exports=function(t){var r={},n,i,o;return t&&fk.forEach(t.split(`
`),function(a){if(o=a.indexOf(":"),n=fk.trim(a.substr(0,o)).toLowerCase(),i=fk.trim(a.substr(o+1)),n){if(r[n]&&pde.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r}});var ZV=T((cFe,XV)=>{"use strict";var QV=on();XV.exports=QV.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var s=o;return t&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(s){var a=QV.isString(s)?i(s):s;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}()});var Ff=T((lFe,e3)=>{"use strict";function dk(e){this.message=e}dk.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};dk.prototype.__CANCEL__=!0;e3.exports=dk});var r3=T((uFe,t3)=>{"use strict";var aC=on(),hde=lk(),mde=HV(),gde=rC(),vde=uk(),yde=JV(),wde=ZV(),pk=oC(),Cde=Mf(),bde=Ff();t3.exports=function(t){return new Promise(function(n,i){var o=t.data,s=t.headers,a=t.responseType,c;function l(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}aC.isFormData(o)&&delete s["Content-Type"];var u=new XMLHttpRequest;if(t.auth){var f=t.auth.username||"",d=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.Authorization="Basic "+btoa(f+":"+d)}var p=vde(t.baseURL,t.url);u.open(t.method.toUpperCase(),gde(p,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function h(){if(!!u){var g="getAllResponseHeaders"in u?yde(u.getAllResponseHeaders()):null,v=!a||a==="text"||a==="json"?u.responseText:u.response,y={data:v,status:u.status,statusText:u.statusText,headers:g,config:t,request:u};hde(function(b){n(b),l()},function(b){i(b),l()},y),u=null}}if("onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(h)},u.onabort=function(){!u||(i(pk("Request aborted",t,"ECONNABORTED",u)),u=null)},u.onerror=function(){i(pk("Network Error",t,null,u)),u=null},u.ontimeout=function(){var v="timeout of "+t.timeout+"ms exceeded",y=t.transitional||Cde.transitional;t.timeoutErrorMessage&&(v=t.timeoutErrorMessage),i(pk(v,t,y.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",u)),u=null},aC.isStandardBrowserEnv()){var m=(t.withCredentials||wde(p))&&t.xsrfCookieName?mde.read(t.xsrfCookieName):void 0;m&&(s[t.xsrfHeaderName]=m)}"setRequestHeader"in u&&aC.forEach(s,function(v,y){typeof o=="undefined"&&y.toLowerCase()==="content-type"?delete s[y]:u.setRequestHeader(y,v)}),aC.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),a&&a!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(c=function(g){!u||(i(!g||g&&g.type?new bde("canceled"):g),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c))),o||(o=null),u.send(o)})}});var cC=T((fFe,n3)=>{n3.exports={version:"0.22.0"}});var l3=T((dFe,c3)=>{"use strict";var Fh=on(),i3=lk(),Ede=uk(),_de=rC(),Sde=require("http"),xde=require("https"),Pde=lu().http,kde=lu().https,o3=require("url"),Ide=require("zlib"),Tde=cC().version,lC=oC(),hk=iC(),Ade=Mf(),Dde=Ff(),s3=/https:?/;function a3(e,t,r){if(e.hostname=t.host,e.host=t.host,e.port=t.port,e.path=r,t.auth){var n=Buffer.from(t.auth.username+":"+t.auth.password,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+n}e.beforeRedirect=function(o){o.headers.host=o.host,a3(o,t,o.href)}}c3.exports=function(t){return new Promise(function(n,i){var o;function s(){t.cancelToken&&t.cancelToken.unsubscribe(o),t.signal&&t.signal.removeEventListener("abort",o)}var a=function(Y){s(),n(Y)},c=function(Y){s(),i(Y)},l=t.data,u=t.headers,f={};if(Object.keys(u).forEach(function(Y){f[Y.toLowerCase()]=Y}),"user-agent"in f?u[f["user-agent"]]||delete u[f["user-agent"]]:u["User-Agent"]="axios/"+Tde,l&&!Fh.isStream(l)){if(!Buffer.isBuffer(l))if(Fh.isArrayBuffer(l))l=Buffer.from(new Uint8Array(l));else if(Fh.isString(l))l=Buffer.from(l,"utf-8");else return c(lC("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",t));f["content-length"]||(u["Content-Length"]=l.length)}var d=void 0;if(t.auth){var p=t.auth.username||"",h=t.auth.password||"";d=p+":"+h}var m=Ede(t.baseURL,t.url),g=o3.parse(m),v=g.protocol||"http:";if(!d&&g.auth){var y=g.auth.split(":"),C=y[0]||"",b=y[1]||"";d=C+":"+b}d&&f.authorization&&delete u[f.authorization];var _=s3.test(v),P=_?t.httpsAgent:t.httpAgent,S={path:_de(g.path,t.params,t.paramsSerializer).replace(/^\?/,""),method:t.method.toUpperCase(),headers:u,agent:P,agents:{http:t.httpAgent,https:t.httpsAgent},auth:d};t.socketPath?S.socketPath=t.socketPath:(S.hostname=g.hostname,S.port=g.port);var x=t.proxy;if(!x&&x!==!1){var I=v.slice(0,-1)+"_proxy",A=process.env[I]||process.env[I.toUpperCase()];if(A){var O=o3.parse(A),L=process.env.no_proxy||process.env.NO_PROXY,J=!0;if(L){var z=L.split(",").map(function(Y){return Y.trim()});J=!z.some(function(Y){return Y?Y==="*"||Y[0]==="."&&g.hostname.substr(g.hostname.length-Y.length)===Y?!0:g.hostname===Y:!1})}if(J&&(x={host:O.hostname,port:O.port,protocol:O.protocol},O.auth)){var ee=O.auth.split(":");x.auth={username:ee[0],password:ee[1]}}}}x&&(S.headers.host=g.hostname+(g.port?":"+g.port:""),a3(S,x,v+"//"+g.hostname+(g.port?":"+g.port:"")+S.path));var ie,q=_&&(x?s3.test(x.protocol):!0);t.transport?ie=t.transport:t.maxRedirects===0?ie=q?xde:Sde:(t.maxRedirects&&(S.maxRedirects=t.maxRedirects),ie=q?kde:Pde),t.maxBodyLength>-1&&(S.maxBodyLength=t.maxBodyLength),t.insecureHTTPParser&&(S.insecureHTTPParser=t.insecureHTTPParser);var M=ie.request(S,function(Y){if(!M.aborted){var Q=Y,X=Y.req||M;if(Y.statusCode!==204&&X.method!=="HEAD"&&t.decompress!==!1)switch(Y.headers["content-encoding"]){case"gzip":case"compress":case"deflate":Q=Q.pipe(Ide.createUnzip()),delete Y.headers["content-encoding"];break}var ve={status:Y.statusCode,statusText:Y.statusMessage,headers:Y.headers,config:t,request:X};if(t.responseType==="stream")ve.data=Q,i3(a,c,ve);else{var Pe=[],Se=0;Q.on("data",function(Ee){Pe.push(Ee),Se+=Ee.length,t.maxContentLength>-1&&Se>t.maxContentLength&&(Q.destroy(),c(lC("maxContentLength size of "+t.maxContentLength+" exceeded",t,null,X)))}),Q.on("error",function(Ee){M.aborted||c(hk(Ee,t,null,X))}),Q.on("end",function(){var Ee=Buffer.concat(Pe);t.responseType!=="arraybuffer"&&(Ee=Ee.toString(t.responseEncoding),(!t.responseEncoding||t.responseEncoding==="utf8")&&(Ee=Fh.stripBOM(Ee))),ve.data=Ee,i3(a,c,ve)})}}});if(M.on("error",function(Y){M.aborted&&Y.code!=="ERR_FR_TOO_MANY_REDIRECTS"||c(hk(Y,t,null,M))}),t.timeout){var D=parseInt(t.timeout,10);if(isNaN(D)){c(lC("error trying to parse `config.timeout` to int",t,"ERR_PARSE_TIMEOUT",M));return}M.setTimeout(D,function(){M.abort();var Y=t.transitional||Ade.transitional;c(lC("timeout of "+D+"ms exceeded",t,Y.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",M))})}(t.cancelToken||t.signal)&&(o=function($){M.aborted||(M.abort(),c(!$||$&&$.type?new Dde("canceled"):$))},t.cancelToken&&t.cancelToken.subscribe(o),t.signal&&(t.signal.aborted?o():t.signal.addEventListener("abort",o))),Fh.isStream(l)?l.on("error",function(Y){c(hk(Y,t,null,M))}).pipe(M):M.end(l)})}});var Mf=T((pFe,d3)=>{"use strict";var jr=on(),u3=jV(),Rde=iC(),Ode={"Content-Type":"application/x-www-form-urlencoded"};function f3(e,t){!jr.isUndefined(e)&&jr.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function Nde(){var e;return typeof XMLHttpRequest!="undefined"?e=r3():typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]"&&(e=l3()),e}function Lde(e,t,r){if(jr.isString(e))try{return(t||JSON.parse)(e),jr.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var uC={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:Nde(),transformRequest:[function(t,r){return u3(r,"Accept"),u3(r,"Content-Type"),jr.isFormData(t)||jr.isArrayBuffer(t)||jr.isBuffer(t)||jr.isStream(t)||jr.isFile(t)||jr.isBlob(t)?t:jr.isArrayBufferView(t)?t.buffer:jr.isURLSearchParams(t)?(f3(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):jr.isObject(t)||r&&r["Content-Type"]==="application/json"?(f3(r,"application/json"),Lde(t)):t}],transformResponse:[function(t){var r=this.transitional||uC.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&jr.isString(t)&&t.length)try{return JSON.parse(t)}catch(s){if(o)throw s.name==="SyntaxError"?Rde(s,this,"E_JSON_PARSE"):s}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};jr.forEach(["delete","get","head"],function(t){uC.headers[t]={}});jr.forEach(["post","put","patch"],function(t){uC.headers[t]=jr.merge(Ode)});d3.exports=uC});var h3=T((hFe,p3)=>{"use strict";var Fde=on(),Mde=Mf();p3.exports=function(t,r,n){var i=this||Mde;return Fde.forEach(n,function(s){t=s.call(i,t,r)}),t}});var mk=T((mFe,m3)=>{"use strict";m3.exports=function(t){return!!(t&&t.__CANCEL__)}});var y3=T((gFe,v3)=>{"use strict";var g3=on(),gk=h3(),jde=mk(),qde=Mf(),$de=Ff();function vk(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $de("canceled")}v3.exports=function(t){vk(t),t.headers=t.headers||{},t.data=gk.call(t,t.data,t.headers,t.transformRequest),t.headers=g3.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),g3.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||qde.adapter;return r(t).then(function(i){return vk(t),i.data=gk.call(t,i.data,i.headers,t.transformResponse),i},function(i){return jde(i)||(vk(t),i&&i.response&&(i.response.data=gk.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})}});var yk=T((vFe,w3)=>{"use strict";var Gn=on();w3.exports=function(t,r){r=r||{};var n={};function i(u,f){return Gn.isPlainObject(u)&&Gn.isPlainObject(f)?Gn.merge(u,f):Gn.isPlainObject(f)?Gn.merge({},f):Gn.isArray(f)?f.slice():f}function o(u){if(Gn.isUndefined(r[u])){if(!Gn.isUndefined(t[u]))return i(void 0,t[u])}else return i(t[u],r[u])}function s(u){if(!Gn.isUndefined(r[u]))return i(void 0,r[u])}function a(u){if(Gn.isUndefined(r[u])){if(!Gn.isUndefined(t[u]))return i(void 0,t[u])}else return i(void 0,r[u])}function c(u){if(u in r)return i(t[u],r[u]);if(u in t)return i(void 0,t[u])}var l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return Gn.forEach(Object.keys(t).concat(Object.keys(r)),function(f){var d=l[f]||o,p=d(f);Gn.isUndefined(p)&&d!==c||(n[f]=p)}),n}});var E3=T((yFe,b3)=>{"use strict";var Ude=cC().version,wk={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){wk[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var C3={};wk.transitional=function(t,r,n){function i(o,s){return"[Axios v"+Ude+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return function(o,s,a){if(t===!1)throw new Error(i(s," has been removed"+(r?" in "+r:"")));return r&&!C3[s]&&(C3[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,s,a):!0}};function Bde(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],s=t[o];if(s){var a=e[o],c=a===void 0||s(a,o,e);if(c!==!0)throw new TypeError("option "+o+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+o)}}b3.exports={assertOptions:Bde,validators:wk}});var I3=T((wFe,k3)=>{"use strict";var _3=on(),Hde=rC(),S3=FV(),x3=y3(),fC=yk(),P3=E3(),jf=P3.validators;function Mh(e){this.defaults=e,this.interceptors={request:new S3,response:new S3}}Mh.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=fC(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&P3.assertOptions(r,{silentJSONParsing:jf.transitional(jf.boolean),forcedJSONParsing:jf.transitional(jf.boolean),clarifyTimeoutError:jf.transitional(jf.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(t)===!1||(i=i&&d.synchronous,n.unshift(d.fulfilled,d.rejected))});var o=[];this.interceptors.response.forEach(function(d){o.push(d.fulfilled,d.rejected)});var s;if(!i){var a=[x3,void 0];for(Array.prototype.unshift.apply(a,n),a=a.concat(o),s=Promise.resolve(t);a.length;)s=s.then(a.shift(),a.shift());return s}for(var c=t;n.length;){var l=n.shift(),u=n.shift();try{c=l(c)}catch(f){u(f);break}}try{s=x3(c)}catch(f){return Promise.reject(f)}for(;o.length;)s=s.then(o.shift(),o.shift());return s};Mh.prototype.getUri=function(t){return t=fC(this.defaults,t),Hde(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};_3.forEach(["delete","get","head","options"],function(t){Mh.prototype[t]=function(r,n){return this.request(fC(n||{},{method:t,url:r,data:(n||{}).data}))}});_3.forEach(["post","put","patch"],function(t){Mh.prototype[t]=function(r,n,i){return this.request(fC(i||{},{method:t,url:r,data:n}))}});k3.exports=Mh});var A3=T((CFe,T3)=>{"use strict";var Vde=Ff();function qf(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;this.promise.then(function(n){if(!!r._listeners){var i,o=r._listeners.length;for(i=0;i<o;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,o=new Promise(function(s){r.subscribe(s),i=s}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i){r.reason||(r.reason=new Vde(i),t(r.reason))})}qf.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};qf.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};qf.prototype.unsubscribe=function(t){if(!!this._listeners){var r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}};qf.source=function(){var t,r=new qf(function(i){t=i});return{token:r,cancel:t}};T3.exports=qf});var R3=T((bFe,D3)=>{"use strict";D3.exports=function(t){return function(n){return t.apply(null,n)}}});var N3=T((EFe,O3)=>{"use strict";O3.exports=function(t){return typeof t=="object"&&t.isAxiosError===!0}});var M3=T((_Fe,Ck)=>{"use strict";var L3=on(),Wde=ik(),dC=I3(),zde=yk(),Gde=Mf();function F3(e){var t=new dC(e),r=Wde(dC.prototype.request,t);return L3.extend(r,dC.prototype,t),L3.extend(r,t),r.create=function(i){return F3(zde(e,i))},r}var Do=F3(Gde);Do.Axios=dC;Do.Cancel=Ff();Do.CancelToken=A3();Do.isCancel=mk();Do.VERSION=cC().version;Do.all=function(t){return Promise.all(t)};Do.spread=R3();Do.isAxiosError=N3();Ck.exports=Do;Ck.exports.default=Do});var q3=T((SFe,j3)=>{j3.exports=M3()});var U3=T(bk=>{"use strict";Object.defineProperty(bk,"__esModule",{value:!0});var Kde=q3(),$3=class{constructor(t){this.endpoint=t}get(t){return Kde.default.get(this.endpoint,Object.assign(Object.assign({},t),{proxy:!1}))}};bk.AxiosHttpClient=$3});var H3=T(Ek=>{"use strict";Object.defineProperty(Ek,"__esModule",{value:!0});var B3=class{constructor(){this.storage=new Map}async getValue(t,r){return this.storage.has(t)?await Promise.resolve(this.storage.get(t)):await Promise.resolve(r||void 0)}setValue(t,r){this.storage.set(t,r)}};Ek.MemoryKeyValueStorage=B3});var W3=T(_k=>{"use strict";Object.defineProperty(_k,"__esModule",{value:!0});var Yde=H3(),V3=class{constructor(t,r,n,i,o,s){this.telemetry=t,this.featuresTelemetryPropertyName=r,this.assignmentContextTelemetryPropertyName=n,this.telemetryEventName=i,this.storageKey=o,this.storage=s,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(s=new Yde.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((a,c)=>{this.resolveInitialFetchPromise=a})}get features(){return this._features}set features(t){this._features=t,this.telemetry&&(this.telemetry.setSharedProperty(this.featuresTelemetryPropertyName,this.features.features.join(";")),this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext))}async getFeaturesAsync(t=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch{}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});this.fetchPromise=Promise.all(this.featureProviders.map(async r=>await r.getFeatures()));try{let r=await this.fetchPromise;this.updateFeatures(r,t)}catch{}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(t,r=!1){let n={features:[],assignmentContext:"",configs:[]};for(let i of t){for(let o of i.features)n.features.includes(o)||n.features.push(o);for(let o of i.configs){let s=n.configs.find(a=>a.Id===o.Id);s?s.Parameters=Object.assign(Object.assign({},s.Parameters),o.Parameters):n.configs.push(o)}n.assignmentContext+=i.assignmentContext}(r||!this.featuresConsumed)&&(this.features=n),this.storage&&this.storage.setValue(this.storageKey,n)}async loadCachedFeatureData(){let t;this.storage&&(t=await this.storage.getValue(this.storageKey),t!==void 0&&t.configs===void 0&&(t.configs=[])),this.features.features.length===0&&(this.features=t||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(t){return this.featuresConsumed=!0,this.PostEventToTelemetry(t),this.features.features.includes(t)}async isCachedFlightEnabled(t){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(t),this.features.features.includes(t)}async isFlightEnabledAsync(t){let r=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(t),r.features.includes(t)}getTreatmentVariable(t,r){var n;return this.featuresConsumed=!0,this.PostEventToTelemetry(`${t}.${r}`),(n=this.features.configs.find(o=>o.Id===t))===null||n===void 0?void 0:n.Parameters[r]}async getTreatmentVariableAsync(t,r,n){if(n){let i=this.featuresConsumed,o=this.getTreatmentVariable(t,r);if(o===void 0)this.featuresConsumed=i;else return o}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(t,r)}PostEventToTelemetry(t){this.cachedTelemetryEvents.includes(t)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",t]])),this.cachedTelemetryEvents.push(t))}invokeInit(){this.init()}addFeatureProvider(...t){if(!(t==null||this.featureProviders==null))for(let r of t)this.featureProviders.push(r)}};_k.ExperimentationServiceBase=V3});var G3=T(Sk=>{"use strict";Object.defineProperty(Sk,"__esModule",{value:!0});var z3=class{constructor(t){this.fetchInterval=t}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(t){this.onTick=t}StartPolling(t=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(t&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}};Sk.PollingService=z3});var Y3=T(xk=>{"use strict";Object.defineProperty(xk,"__esModule",{value:!0});var Jde=W3(),Qde=G3(),K3=class extends Jde.ExperimentationServiceBase{constructor(t,r,n,i,o,s,a,c){super(t,i,o,s,a,c);if(this.telemetry=t,this.filterProviders=r,this.refreshRateMs=n,this.featuresTelemetryPropertyName=i,this.assignmentContextTelemetryPropertyName=o,this.telemetryEventName=s,this.storageKey=a,this.storage=c,n<1e3&&n!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");n>0&&(this.pollingService=new Qde.PollingService(n),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(t=!1){if(this.pollingService){this.pollingService.StopPolling();let r=await super.getFeaturesAsync(t);return this.pollingService.StartPolling(),r}else return await super.getFeaturesAsync(t)}};xk.ExperimentationServiceAutoPolling=K3});var J3=T(kk=>{"use strict";Object.defineProperty(kk,"__esModule",{value:!0});var Xde=IV(),Zde=U3(),epe=Y3(),Pk=class extends epe.ExperimentationServiceAutoPolling{constructor(t){super(t.telemetry,t.filterProviders||[],t.refetchInterval!=null?t.refetchInterval:0,t.featuresTelemetryPropertyName,t.assignmentContextTelemetryPropertyName,t.telemetryEventName,t.storageKey,t.keyValueStorage);this.options=t,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new Xde.TasApiFeatureProvider(new Zde.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}};kk.ExperimentationService=Pk;Pk.REFRESH_RATE_IN_MINUTES=30});var Q3=T(Ik=>{"use strict";Object.defineProperty(Ik,"__esModule",{value:!0});var tpe=J3();Ik.ExperimentationService=tpe.ExperimentationService});var Z3=T(Tk=>{"use strict";Object.defineProperty(Tk,"__esModule",{value:!0});var X3=class{constructor(t){this.mementoGlobalStorage=t}async getValue(t,r){return await this.mementoGlobalStorage.get(t)||r}setValue(t,r){this.mementoGlobalStorage.update(t,r)}};Tk.MementoKeyValueStorage=X3});var tW=T(Ak=>{"use strict";Object.defineProperty(Ak,"__esModule",{value:!0});var eW=class{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(t){return!1}isCachedFlightEnabled(t){return Promise.resolve(!1)}isFlightEnabledAsync(t){return Promise.resolve(!1)}getTreatmentVariable(t,r){}getTreatmentVariableAsync(t,r){return Promise.resolve(void 0)}};Ak.default=eW});var nW=T(pC=>{"use strict";Object.defineProperty(pC,"__esModule",{value:!0});var rpe=ek(),npe=Q3(),Dk=require("vscode"),ipe=Z3(),ope=tW(),spe="https://default.exp-tas.com/vscode/ab",ape="query-expfeature",cpe="VSCode.ABExp.Features",lpe="abexp.assignmentcontext",upe="VSCode.ABExp.FeatureData",fpe=1e3*60*30;function rW(e,t,r,n,i,...o){if(!i)throw new Error("Memento storage was not provided.");let s=Dk.workspace.getConfiguration("telemetry");if(!(Dk.env.isTelemetryEnabled===void 0?s.get("enableTelemetry",!0):Dk.env.isTelemetryEnabled))return new ope.default;let l=[new rpe.VSCodeFilterProvider(e,t,r),...o],u=new ipe.MementoKeyValueStorage(i);return new npe.ExperimentationService({filterProviders:l,telemetry:n,storageKey:upe,keyValueStorage:u,featuresTelemetryPropertyName:cpe,assignmentContextTelemetryPropertyName:lpe,telemetryEventName:ape,endpoint:spe,refetchInterval:fpe})}pC.getExperimentationService=rW;async function dpe(e,t,r,n,i,...o){let s=rW(e,t,r,n,i,...o);return await s.initializePromise,s}pC.getExperimentationServiceAsync=dpe});var oW=T(jh=>{"use strict";Object.defineProperty(jh,"__esModule",{value:!0});var iW=nW();jh.getExperimentationService=iW.getExperimentationService;jh.getExperimentationServiceAsync=iW.getExperimentationServiceAsync;var ppe=ek();jh.TargetPopulation=ppe.TargetPopulation});var _t=T(kr=>{"use strict";var Gk=Symbol.for("yaml.alias"),DW=Symbol.for("yaml.document"),SC=Symbol.for("yaml.map"),RW=Symbol.for("yaml.pair"),Kk=Symbol.for("yaml.scalar"),xC=Symbol.for("yaml.seq"),Fo=Symbol.for("yaml.node.type"),Mpe=e=>!!e&&typeof e=="object"&&e[Fo]===Gk,jpe=e=>!!e&&typeof e=="object"&&e[Fo]===DW,qpe=e=>!!e&&typeof e=="object"&&e[Fo]===SC,$pe=e=>!!e&&typeof e=="object"&&e[Fo]===RW,OW=e=>!!e&&typeof e=="object"&&e[Fo]===Kk,Upe=e=>!!e&&typeof e=="object"&&e[Fo]===xC;function NW(e){if(e&&typeof e=="object")switch(e[Fo]){case SC:case xC:return!0}return!1}function Bpe(e){if(e&&typeof e=="object")switch(e[Fo]){case Gk:case SC:case Kk:case xC:return!0}return!1}var Hpe=e=>(OW(e)||NW(e))&&!!e.anchor,LW=class{constructor(t){Object.defineProperty(this,Fo,{value:t})}clone(){let t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}};kr.ALIAS=Gk;kr.DOC=DW;kr.MAP=SC;kr.NODE_TYPE=Fo;kr.NodeBase=LW;kr.PAIR=RW;kr.SCALAR=Kk;kr.SEQ=xC;kr.hasAnchor=Hpe;kr.isAlias=Mpe;kr.isCollection=NW;kr.isDocument=jpe;kr.isMap=qpe;kr.isNode=Bpe;kr.isPair=$pe;kr.isScalar=OW;kr.isSeq=Upe});var Jh=T(FW=>{"use strict";var Sn=_t(),bl=Symbol("break visit"),Vpe=Symbol("skip children"),Yh=Symbol("remove node");function PC(e,t){typeof t=="object"&&(t.Collection||t.Node||t.Value)&&(t=Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t)),Sn.isDocument(e)?Hf(null,e.contents,t,Object.freeze([e]))===Yh&&(e.contents=null):Hf(null,e,t,Object.freeze([]))}PC.BREAK=bl;PC.SKIP=Vpe;PC.REMOVE=Yh;function Hf(e,t,r,n){let i;if(typeof r=="function"?i=r(e,t,n):Sn.isMap(t)?r.Map&&(i=r.Map(e,t,n)):Sn.isSeq(t)?r.Seq&&(i=r.Seq(e,t,n)):Sn.isPair(t)?r.Pair&&(i=r.Pair(e,t,n)):Sn.isScalar(t)?r.Scalar&&(i=r.Scalar(e,t,n)):Sn.isAlias(t)&&r.Alias&&(i=r.Alias(e,t,n)),Sn.isNode(i)||Sn.isPair(i)){let o=n[n.length-1];if(Sn.isCollection(o))o.items[e]=i;else if(Sn.isPair(o))e==="key"?o.key=i:o.value=i;else if(Sn.isDocument(o))o.contents=i;else{let s=Sn.isAlias(o)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}return Hf(e,i,r,n)}if(typeof i!="symbol"){if(Sn.isCollection(t)){n=Object.freeze(n.concat(t));for(let o=0;o<t.items.length;++o){let s=Hf(o,t.items[o],r,n);if(typeof s=="number")o=s-1;else{if(s===bl)return bl;s===Yh&&(t.items.splice(o,1),o-=1)}}}else if(Sn.isPair(t)){n=Object.freeze(n.concat(t));let o=Hf("key",t.key,r,n);if(o===bl)return bl;o===Yh&&(t.key=null);let s=Hf("value",t.value,r,n);if(s===bl)return bl;s===Yh&&(t.value=null)}}return i}FW.visit=PC});var Yk=T(jW=>{"use strict";var MW=_t(),Wpe=Jh(),zpe={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Gpe=e=>e.replace(/[!,[\]{}]/g,t=>zpe[t]),Yn=class{constructor(t,r){this.marker=null,this.yaml=Object.assign({},Yn.defaultYaml,t),this.tags=Object.assign({},Yn.defaultTags,r)}clone(){let t=new Yn(this.yaml,this.tags);return t.marker=this.marker,t}atDocument(){let t=new Yn(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Yn.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Yn.defaultTags);break}return t}add(t,r){this.atNextDocument&&(this.yaml={explicit:Yn.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Yn.defaultTags),this.atNextDocument=!1);let n=t.trim().split(/[ \t]+/),i=n.shift();switch(i){case"%TAG":{if(n.length!==2&&(r(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;let[o,s]=n;return this.tags[o]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length<1)return r(0,"%YAML directive should contain exactly one part"),!1;let[o]=n;return o==="1.1"||o==="1.2"?(this.yaml.version=o,!0):(r(6,`Unsupported YAML version ${o}`,!0),!1)}default:return r(0,`Unknown directive ${i}`,!0),!1}}tagName(t,r){if(t==="!")return"!";if(t[0]!=="!")return r(`Not a valid tag: ${t}`),null;if(t[1]==="<"){let s=t.slice(2,-1);return s==="!"||s==="!!"?(r(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&r("Verbatim tags must end with a >"),s)}let[,n,i]=t.match(/^(.*!)([^!]*)$/);i||r(`The ${t} tag has no suffix`);let o=this.tags[n];return o?o+decodeURIComponent(i):n==="!"?t:(r(`Could not resolve tag: ${t}`),null)}tagString(t){for(let[r,n]of Object.entries(this.tags))if(t.startsWith(n))return r+Gpe(t.substring(n.length));return t[0]==="!"?t:`!<${t}>`}toString(t){let r=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags),i;if(t&&n.length>0&&MW.isNode(t.contents)){let o={};Wpe.visit(t.contents,(s,a)=>{MW.isNode(a)&&a.tag&&(o[a.tag]=!0)}),i=Object.keys(o)}else i=[];for(let[o,s]of n)o==="!!"&&s==="tag:yaml.org,2002:"||(!t||i.some(a=>a.startsWith(s)))&&r.push(`%TAG ${o} ${s}`);return r.join(`
`)}};Yn.defaultYaml={explicit:!1,version:"1.2"};Yn.defaultTags={"!!":"tag:yaml.org,2002:"};jW.Directives=Yn});var kC=T(Qh=>{"use strict";var qW=_t(),Kpe=Jh();function Ype(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){let r=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(r)}return!0}function $W(e){let t=new Set;return Kpe.visit(e,{Value(r,n){n.anchor&&t.add(n.anchor)}}),t}function UW(e,t){for(let r=1;;++r){let n=`${e}${r}`;if(!t.has(n))return n}}function Jpe(e,t){let r=[],n=new Map,i=null;return{onAnchor(o){r.push(o),i||(i=$W(e));let s=UW(t,i);return i.add(s),s},setAnchors(){for(let o of r){let s=n.get(o);if(typeof s=="object"&&s.anchor&&(qW.isScalar(s.node)||qW.isCollection(s.node)))s.node.anchor=s.anchor;else{let a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=o,a}}},sourceObjects:n}}Qh.anchorIsValid=Ype;Qh.anchorNames=$W;Qh.createNodeAnchors=Jpe;Qh.findNewAnchor=UW});var Zh=T(VW=>{"use strict";var Qpe=kC(),BW=Jh(),Xh=_t(),HW=class extends Xh.NodeBase{constructor(t){super(Xh.ALIAS);this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let r;return BW.visit(t,{Node:(n,i)=>{if(i===this)return BW.visit.BREAK;i.anchor===this.source&&(r=i)}}),r}toJSON(t,r){if(!r)return{source:this.source};let{anchors:n,doc:i,maxAliasCount:o}=r,s=this.resolve(i);if(!s){let c=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(c)}let a=n.get(s);if(!a||a.res===void 0){let c="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(c)}if(o>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=IC(i,s,n)),a.count*a.aliasCount>o)){let c="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(c)}return a.res}toString(t,r,n){let i=`*${this.source}`;if(t){if(Qpe.anchorIsValid(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){let o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(t.implicitKey)return`${i} `}return i}};function IC(e,t,r){if(Xh.isAlias(t)){let n=t.resolve(e),i=r&&n&&r.get(n);return i?i.count*i.aliasCount:0}else if(Xh.isCollection(t)){let n=0;for(let i of t.items){let o=IC(e,i,r);o>n&&(n=o)}return n}else if(Xh.isPair(t)){let n=IC(e,t.key,r),i=IC(e,t.value,r);return Math.max(n,i)}return 1}VW.Alias=HW});var Vf=T(zW=>{"use strict";var Xpe=_t();function WW(e,t,r){if(Array.isArray(e))return e.map((n,i)=>WW(n,String(i),r));if(e&&typeof e.toJSON=="function"){if(!r||!Xpe.hasAnchor(e))return e.toJSON(t,r);let n={aliasCount:0,count:1,res:void 0};r.anchors.set(e,n),r.onCreate=o=>{n.res=o,delete r.onCreate};let i=e.toJSON(t,r);return r.onCreate&&r.onCreate(i),i}return typeof e=="bigint"&&!(r&&r.keep)?Number(e):e}zW.toJS=WW});var dr=T(Jk=>{"use strict";var GW=_t(),Zpe=Vf(),ehe=e=>!e||typeof e!="function"&&typeof e!="object",El=class extends GW.NodeBase{constructor(t){super(GW.SCALAR);this.value=t}toJSON(t,r){return r&&r.keep?this.value:Zpe.toJS(this.value,t,r)}toString(){return String(this.value)}};El.BLOCK_FOLDED="BLOCK_FOLDED";El.BLOCK_LITERAL="BLOCK_LITERAL";El.PLAIN="PLAIN";El.QUOTE_DOUBLE="QUOTE_DOUBLE";El.QUOTE_SINGLE="QUOTE_SINGLE";Jk.Scalar=El;Jk.isScalarValue=ehe});var em=T(YW=>{"use strict";var the=Zh(),_l=_t(),KW=dr(),rhe="tag:yaml.org,2002:";function nhe(e,t,r){if(t){let n=r.filter(o=>o.tag===t),i=n.find(o=>!o.format)||n[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return r.find(n=>n.identify&&n.identify(e)&&!n.format)}function ihe(e,t,r){var n,i;if(_l.isDocument(e)&&(e=e.contents),_l.isNode(e))return e;if(_l.isPair(e)){let p=(i=(n=r.schema[_l.MAP]).createNode)===null||i===void 0?void 0:i.call(n,r.schema,null,r);return p.items.push(e),p}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt=="function"&&e instanceof BigInt)&&(e=e.valueOf());let{aliasDuplicateObjects:o,onAnchor:s,onTagObj:a,schema:c,sourceObjects:l}=r,u;if(o&&e&&typeof e=="object"){if(u=l.get(e),u)return u.anchor||(u.anchor=s(e)),new the.Alias(u.anchor);u={anchor:null,node:null},l.set(e,u)}t&&t.startsWith("!!")&&(t=rhe+t.slice(2));let f=nhe(e,t,c.tags);if(!f){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){let p=new KW.Scalar(e);return u&&(u.node=p),p}f=e instanceof Map?c[_l.MAP]:Symbol.iterator in Object(e)?c[_l.SEQ]:c[_l.MAP]}a&&(a(f),delete r.onTagObj);let d=(f==null?void 0:f.createNode)?f.createNode(r.schema,e,r):new KW.Scalar(e);return t&&(d.tag=t),u&&(u.node=d),d}YW.createNode=ihe});var tm=T(TC=>{"use strict";var ohe=em(),to=_t();function Qk(e,t,r){let n=r;for(let i=t.length-1;i>=0;--i){let o=t[i];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){let s=[];s[o]=n,n=s}else n=new Map([[o,n]])}return ohe.createNode(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}var JW=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done,Xk=class extends to.NodeBase{constructor(t,r){super(t);Object.defineProperty(this,"schema",{value:r,configurable:!0,enumerable:!1,writable:!0})}clone(t){let r=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(r.schema=t),r.items=r.items.map(n=>to.isNode(n)||to.isPair(n)?n.clone(t):n),this.range&&(r.range=this.range.slice()),r}addIn(t,r){if(JW(t))this.add(r);else{let[n,...i]=t,o=this.get(n,!0);if(to.isCollection(o))o.addIn(i,r);else if(o===void 0&&this.schema)this.set(n,Qk(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}deleteIn(t){let[r,...n]=t;if(n.length===0)return this.delete(r);let i=this.get(r,!0);if(to.isCollection(i))return i.deleteIn(n);throw new Error(`Expected YAML collection at ${r}. Remaining path: ${n}`)}getIn(t,r){let[n,...i]=t,o=this.get(n,!0);return i.length===0?!r&&to.isScalar(o)?o.value:o:to.isCollection(o)?o.getIn(i,r):void 0}hasAllNullValues(t){return this.items.every(r=>{if(!to.isPair(r))return!1;let n=r.value;return n==null||t&&to.isScalar(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(t){let[r,...n]=t;if(n.length===0)return this.has(r);let i=this.get(r,!0);return to.isCollection(i)?i.hasIn(n):!1}setIn(t,r){let[n,...i]=t;if(i.length===0)this.set(n,r);else{let o=this.get(n,!0);if(to.isCollection(o))o.setIn(i,r);else if(o===void 0&&this.schema)this.set(n,Qk(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}};Xk.maxFlowStringSingleLineLength=60;TC.Collection=Xk;TC.collectionFromPath=Qk;TC.isEmptyPath=JW});var rm=T(AC=>{"use strict";var she=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function QW(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}var ahe=(e,t,r)=>r.includes(`
`)?`
`+QW(r,t):(e.endsWith(" ")?"":" ")+r;AC.indentComment=QW;AC.lineComment=ahe;AC.stringifyComment=she});var ZW=T(nm=>{"use strict";var che="flow",Zk="block",DC="quoted";function lhe(e,t,r="flow",{indentAtStart:n,lineWidth:i=80,minContentWidth:o=20,onFold:s,onOverflow:a}={}){if(!i||i<0)return e;let c=Math.max(1+o,1+i-t.length);if(e.length<=c)return e;let l=[],u={},f=i-t.length;typeof n=="number"&&(n>i-Math.max(2,o)?l.push(0):f=i-n);let d,p,h=!1,m=-1,g=-1,v=-1;r===Zk&&(m=XW(e,m),m!==-1&&(f=m+c));for(let C;C=e[m+=1];){if(r===DC&&C==="\\"){switch(g=m,e[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}v=m}if(C===`
`)r===Zk&&(m=XW(e,m)),f=m+c,d=void 0;else{if(C===" "&&p&&p!==" "&&p!==`
`&&p!=="	"){let b=e[m+1];b&&b!==" "&&b!==`
`&&b!=="	"&&(d=m)}if(m>=f)if(d)l.push(d),f=d+c,d=void 0;else if(r===DC){for(;p===" "||p==="	";)p=C,C=e[m+=1],h=!0;let b=m>v+1?m-2:g-1;if(u[b])return e;l.push(b),u[b]=!0,f=b+c,d=void 0}else h=!0}p=C}if(h&&a&&a(),l.length===0)return e;s&&s();let y=e.slice(0,l[0]);for(let C=0;C<l.length;++C){let b=l[C],_=l[C+1]||e.length;b===0?y=`
${t}${e.slice(0,_)}`:(r===DC&&u[b]&&(y+=`${e[b]}\\`),y+=`
${t}${e.slice(b+1,_)}`)}return y}function XW(e,t){let r=e[t+1];for(;r===" "||r==="	";){do r=e[t+=1];while(r&&r!==`
`);r=e[t+1]}return t}nm.FOLD_BLOCK=Zk;nm.FOLD_FLOW=che;nm.FOLD_QUOTED=DC;nm.foldFlowLines=lhe});var sm=T(ez=>{"use strict";var Mo=dr(),Ta=ZW(),RC=e=>({indentAtStart:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),OC=e=>/^(%|---|\.\.\.)/m.test(e);function uhe(e,t,r){if(!t||t<0)return!1;let n=t-r,i=e.length;if(i<=n)return!1;for(let o=0,s=0;o<i;++o)if(e[o]===`
`){if(o-s>n)return!0;if(s=o+1,i-s<=n)return!1}return!0}function im(e,t){let r=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return r;let{implicitKey:n}=t,i=t.options.doubleQuotedMinMultiLineLength,o=t.indent||(OC(e)?"  ":""),s="",a=0;for(let c=0,l=r[c];l;l=r[++c])if(l===" "&&r[c+1]==="\\"&&r[c+2]==="n"&&(s+=r.slice(a,c)+"\\ ",c+=1,a=c,l="\\"),l==="\\")switch(r[c+1]){case"u":{s+=r.slice(a,c);let u=r.substr(c+2,4);switch(u){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:u.substr(0,2)==="00"?s+="\\x"+u.substr(2):s+=r.substr(c,6)}c+=5,a=c+1}break;case"n":if(n||r[c+2]==='"'||r.length<i)c+=1;else{for(s+=r.slice(a,c)+`

`;r[c+2]==="\\"&&r[c+3]==="n"&&r[c+4]!=='"';)s+=`
`,c+=2;s+=o,r[c+2]===" "&&(s+="\\"),c+=1,a=c+1}break;default:c+=1}return s=a?s+r.slice(a):r,n?s:Ta.foldFlowLines(s,o,Ta.FOLD_QUOTED,RC(t))}function eI(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return im(e,t);let r=t.indent||(OC(e)?"  ":""),n="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${r}`)+"'";return t.implicitKey?n:Ta.foldFlowLines(n,r,Ta.FOLD_FLOW,RC(t))}function om(e,t){let{singleQuote:r}=t.options,n;if(r===!1)n=im;else{let i=e.includes('"'),o=e.includes("'");i&&!o?n=eI:o&&!i?n=im:n=r?eI:im}return n(e,t)}function NC({comment:e,type:t,value:r},n,i,o){let{blockQuote:s,commentString:a,lineWidth:c}=n.options;if(!s||/\n[\t ]+$/.test(r)||/^\s*$/.test(r))return om(r,n);let l=n.indent||(n.forceBlockIndent||OC(r)?"  ":""),u=s==="literal"?!0:s==="folded"||t===Mo.Scalar.BLOCK_FOLDED?!1:t===Mo.Scalar.BLOCK_LITERAL?!0:!uhe(r,c,l.length);if(!r)return u?`|
`:`>
`;let f,d;for(d=r.length;d>0;--d){let P=r[d-1];if(P!==`
`&&P!=="	"&&P!==" ")break}let p=r.substring(d),h=p.indexOf(`
`);h===-1?f="-":r===p||h!==p.length-1?(f="+",o&&o()):f="",p&&(r=r.slice(0,-p.length),p[p.length-1]===`
`&&(p=p.slice(0,-1)),p=p.replace(/\n+(?!\n|$)/g,`$&${l}`));let m=!1,g,v=-1;for(g=0;g<r.length;++g){let P=r[g];if(P===" ")m=!0;else if(P===`
`)v=g;else break}let y=r.substring(0,v<g?v+1:g);y&&(r=r.substring(y.length),y=y.replace(/\n+/g,`$&${l}`));let b=(u?"|":">")+(m?l?"2":"1":"")+f;if(e&&(b+=" "+a(e.replace(/ ?[\r\n]+/g," ")),i&&i()),u)return r=r.replace(/\n+/g,`$&${l}`),`${b}
${l}${y}${r}${p}`;r=r.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${l}`);let _=Ta.foldFlowLines(`${y}${r}${p}`,l,Ta.FOLD_BLOCK,RC(n));return`${b}
${l}${_}`}function fhe(e,t,r,n){let{type:i,value:o}=e,{actualString:s,implicitKey:a,indent:c,inFlow:l}=t;if(a&&/[\n[\]{},]/.test(o)||l&&/[[\]{},]/.test(o))return om(o,t);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||l||o.indexOf(`
`)===-1?om(o,t):NC(e,t,r,n);if(!a&&!l&&i!==Mo.Scalar.PLAIN&&o.indexOf(`
`)!==-1)return NC(e,t,r,n);if(c===""&&OC(o))return t.forceBlockIndent=!0,NC(e,t,r,n);let u=o.replace(/\n+/g,`$&
${c}`);if(s){let f=h=>{var m;return h.default&&h.tag!=="tag:yaml.org,2002:str"&&((m=h.test)===null||m===void 0?void 0:m.test(u))},{compat:d,tags:p}=t.doc.schema;if(p.some(f)||(d==null?void 0:d.some(f)))return om(o,t)}return a?u:Ta.foldFlowLines(u,c,Ta.FOLD_FLOW,RC(t))}function dhe(e,t,r,n){let{implicitKey:i,inFlow:o}=t,s=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)}),{type:a}=e;a!==Mo.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(a=Mo.Scalar.QUOTE_DOUBLE);let c=u=>{switch(u){case Mo.Scalar.BLOCK_FOLDED:case Mo.Scalar.BLOCK_LITERAL:return i||o?om(s.value,t):NC(s,t,r,n);case Mo.Scalar.QUOTE_DOUBLE:return im(s.value,t);case Mo.Scalar.QUOTE_SINGLE:return eI(s.value,t);case Mo.Scalar.PLAIN:return fhe(s,t,r,n);default:return null}},l=c(a);if(l===null){let{defaultKeyType:u,defaultStringType:f}=t.options,d=i&&u||f;if(l=c(d),l===null)throw new Error(`Unsupported default string type ${d}`)}return l}ez.stringifyString=dhe});var Wf=T(tI=>{"use strict";var phe=kC(),Aa=_t(),hhe=rm(),mhe=sm();function ghe(e,t){let r=Object.assign({blockQuote:!0,commentString:hhe.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t),n;switch(r.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:e,indent:"",indentStep:typeof r.indent=="number"?" ".repeat(r.indent):"  ",inFlow:n,options:r}}function vhe(e,t){if(t.tag){let i=e.filter(o=>o.tag===t.tag);if(i.length>0)return i.find(o=>o.format===t.format)||i[0]}let r,n;if(Aa.isScalar(t)){n=t.value;let i=e.filter(o=>o.identify&&o.identify(n));r=i.find(o=>o.format===t.format)||i.find(o=>!o.format)}else n=t,r=e.find(i=>i.nodeClass&&n instanceof i.nodeClass);if(!r){let i=n&&n.constructor?n.constructor.name:typeof n;throw new Error(`Tag not resolved for ${i} value`)}return r}function yhe(e,t,{anchors:r,doc:n}){if(!n.directives)return"";let i=[],o=(Aa.isScalar(e)||Aa.isCollection(e))&&e.anchor;o&&phe.anchorIsValid(o)&&(r.add(o),i.push(`&${o}`));let s=e.tag||(t.default?null:t.tag);return s&&i.push(n.directives.tagString(s)),i.join(" ")}function whe(e,t,r,n){var i;if(Aa.isPair(e))return e.toString(t,r,n);if(Aa.isAlias(e)){if(t.doc.directives)return e.toString(t);if((i=t.resolvedAliases)===null||i===void 0?void 0:i.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let o,s=Aa.isNode(e)?e:t.doc.createNode(e,{onTagObj:l=>o=l});o||(o=vhe(t.doc.schema.tags,s));let a=yhe(s,o,t);a.length>0&&(t.indentAtStart=(t.indentAtStart||0)+a.length+1);let c=typeof o.stringify=="function"?o.stringify(s,t,r,n):Aa.isScalar(s)?mhe.stringifyString(s,t,r,n):s.toString(t,r,n);return a?Aa.isScalar(s)||c[0]==="{"||c[0]==="["?`${a} ${c}`:`${a}
${t.indent}${c}`:c}tI.createStringifyContext=ghe;tI.stringify=whe});var iz=T(nz=>{"use strict";var Da=_t(),tz=dr(),rz=Wf(),am=rm();function Che({key:e,value:t},r,n,i){let{allNullValues:o,doc:s,indent:a,indentStep:c,options:{commentString:l,indentSeq:u,simpleKeys:f}}=r,d=Da.isNode(e)&&e.comment||null;if(f){if(d)throw new Error("With simple keys, key nodes cannot have comments");if(Da.isCollection(e)){let P="With simple keys, collection cannot be used as a key value";throw new Error(P)}}let p=!f&&(!e||d&&t==null&&!r.inFlow||Da.isCollection(e)||(Da.isScalar(e)?e.type===tz.Scalar.BLOCK_FOLDED||e.type===tz.Scalar.BLOCK_LITERAL:typeof e=="object"));r=Object.assign({},r,{allNullValues:!1,implicitKey:!p&&(f||!o),indent:a+c});let h=!1,m=!1,g=rz.stringify(e,r,()=>h=!0,()=>m=!0);if(!p&&!r.inFlow&&g.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(r.inFlow){if(o||t==null)return h&&n&&n(),p?`? ${g}`:g}else if(o&&!f||t==null&&p)return g=`? ${g}`,d&&!h?g+=am.lineComment(g,r.indent,l(d)):m&&i&&i(),g;h&&(d=null),p?(d&&(g+=am.lineComment(g,r.indent,l(d))),g=`? ${g}
${a}:`):(g=`${g}:`,d&&(g+=am.lineComment(g,r.indent,l(d))));let v="",y=null;if(Da.isNode(t)){if(t.spaceBefore&&(v=`
`),t.commentBefore){let P=l(t.commentBefore);v+=`
${am.indentComment(P,r.indent)}`}y=t.comment}else t&&typeof t=="object"&&(t=s.createNode(t));r.implicitKey=!1,!p&&!d&&Da.isScalar(t)&&(r.indentAtStart=g.length+1),m=!1,!u&&c.length>=2&&!r.inFlow&&!p&&Da.isSeq(t)&&!t.flow&&!t.tag&&!t.anchor&&(r.indent=r.indent.substr(2));let C=!1,b=rz.stringify(t,r,()=>C=!0,()=>m=!0),_=" ";return v||d?_=b===""&&!r.inFlow?v:`${v}
${r.indent}`:!p&&Da.isCollection(t)?(!(b[0]==="["||b[0]==="{")||b.includes(`
`))&&(_=`
${r.indent}`):(b===""||b[0]===`
`)&&(_=""),g+=_+b,r.inFlow?C&&n&&n():y&&!C?g+=am.lineComment(g,r.indent,l(y)):m&&i&&i(),g}nz.stringifyPair=Che});var nI=T(rI=>{"use strict";function bhe(e,...t){e==="debug"&&console.log(...t)}function Ehe(e,t){(e==="debug"||e==="warn")&&(typeof process!="undefined"&&process.emitWarning?process.emitWarning(t):console.warn(t))}rI.debug=bhe;rI.warn=Ehe});var sI=T(sz=>{"use strict";var _he=nI(),She=Wf(),zf=_t(),xhe=dr(),iI=Vf(),oz="<<";function Phe(e,t,{key:r,value:n}){if(e&&e.doc.schema.merge&&khe(r))if(n=zf.isAlias(n)?n.resolve(e.doc):n,zf.isSeq(n))for(let i of n.items)oI(e,t,i);else if(Array.isArray(n))for(let i of n)oI(e,t,i);else oI(e,t,n);else{let i=iI.toJS(r,"",e);if(t instanceof Map)t.set(i,iI.toJS(n,i,e));else if(t instanceof Set)t.add(i);else{let o=Ihe(r,i,e),s=iI.toJS(n,o,e);o in t?Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[o]=s}}return t}var khe=e=>e===oz||zf.isScalar(e)&&e.value===oz&&(!e.type||e.type===xhe.Scalar.PLAIN);function oI(e,t,r){let n=e&&zf.isAlias(r)?r.resolve(e.doc):r;if(!zf.isMap(n))throw new Error("Merge sources must be maps or map aliases");let i=n.toJSON(null,e,Map);for(let[o,s]of i)t instanceof Map?t.has(o)||t.set(o,s):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0});return t}function Ihe(e,t,r){if(t===null)return"";if(typeof t!="object")return String(t);if(zf.isNode(e)&&r&&r.doc){let n=She.createStringifyContext(r.doc,{});n.anchors=new Set;for(let o of r.anchors.keys())n.anchors.add(o.anchor);n.inFlow=!0,n.inStringifyKey=!0;let i=e.toString(n);if(!r.mapKeyWarned){let o=JSON.stringify(i);o.length>40&&(o=o.substring(0,36)+'..."'),_he.warn(r.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),r.mapKeyWarned=!0}return i}return JSON.stringify(t)}sz.addPairToJSMap=Phe});var ks=T(aI=>{"use strict";var az=em(),The=iz(),Ahe=sI(),LC=_t();function Dhe(e,t,r){let n=az.createNode(e,void 0,r),i=az.createNode(t,void 0,r);return new cm(n,i)}var cm=class{constructor(t,r=null){Object.defineProperty(this,LC.NODE_TYPE,{value:LC.PAIR}),this.key=t,this.value=r}clone(t){let{key:r,value:n}=this;return LC.isNode(r)&&(r=r.clone(t)),LC.isNode(n)&&(n=n.clone(t)),new cm(r,n)}toJSON(t,r){let n=r&&r.mapAsMap?new Map:{};return Ahe.addPairToJSMap(r,n,this)}toString(t,r,n){return t&&t.doc?The.stringifyPair(this,t,r,n):JSON.stringify(this)}};aI.Pair=cm;aI.createPair=Dhe});var FC=T(cz=>{"use strict";var Rhe={intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"};cz.defaultOptions=Rhe});var cI=T(uz=>{"use strict";var Ohe=tm(),Sl=_t(),lz=Wf(),lm=rm();function Nhe(e,t,r){var n;return(((n=t.inFlow)!==null&&n!==void 0?n:e.flow)?Fhe:Lhe)(e,t,r)}function Lhe({comment:e,items:t},r,{blockItemPrefix:n,flowChars:i,itemIndent:o,onChompKeep:s,onComment:a}){let{indent:c,options:{commentString:l}}=r,u=Object.assign({},r,{indent:o,type:null}),f=!1,d=[];for(let h=0;h<t.length;++h){let m=t[h],g=null;if(Sl.isNode(m))!f&&m.spaceBefore&&d.push(""),MC(r,d,m.commentBefore,f),m.comment&&(g=m.comment);else if(Sl.isPair(m)){let y=Sl.isNode(m.key)?m.key:null;y&&(!f&&y.spaceBefore&&d.push(""),MC(r,d,y.commentBefore,f))}f=!1;let v=lz.stringify(m,u,()=>g=null,()=>f=!0);g&&(v+=lm.lineComment(v,o,l(g))),f&&g&&(f=!1),d.push(n+v)}let p;if(d.length===0)p=i.start+i.end;else{p=d[0];for(let h=1;h<d.length;++h){let m=d[h];p+=m?`
${c}${m}`:`
`}}return e?(p+=`
`+lm.indentComment(l(e),c),a&&a()):f&&s&&s(),p}function Fhe({comment:e,items:t},r,{flowChars:n,itemIndent:i,onComment:o}){let{indent:s,indentStep:a,options:{commentString:c}}=r;i+=a;let l=Object.assign({},r,{indent:i,inFlow:!0,type:null}),u=!1,f=0,d=[];for(let g=0;g<t.length;++g){let v=t[g],y=null;if(Sl.isNode(v))v.spaceBefore&&d.push(""),MC(r,d,v.commentBefore,!1),v.comment&&(y=v.comment);else if(Sl.isPair(v)){let b=Sl.isNode(v.key)?v.key:null;b&&(b.spaceBefore&&d.push(""),MC(r,d,b.commentBefore,!1),b.comment&&(u=!0));let _=Sl.isNode(v.value)?v.value:null;_?(_.comment&&(y=_.comment),_.commentBefore&&(u=!0)):v.value==null&&b&&b.comment&&(y=b.comment)}y&&(u=!0);let C=lz.stringify(v,l,()=>y=null);g<t.length-1&&(C+=","),y&&(C+=lm.lineComment(C,i,c(y))),!u&&(d.length>f||C.includes(`
`))&&(u=!0),d.push(C),f=d.length}let p,{start:h,end:m}=n;if(d.length===0)p=h+m;else if(u||(u=d.reduce((v,y)=>v+y.length+2,2)>Ohe.Collection.maxFlowStringSingleLineLength),u){p=h;for(let g of d)p+=g?`
${a}${s}${g}`:`
`;p+=`
${s}${m}`}else p=`${h} ${d.join(" ")} ${m}`;return e&&(p+=lm.lineComment(p,c(e),s),o&&o()),p}function MC({indent:e,options:{commentString:t}},r,n,i){if(n&&i&&(n=n.replace(/^\n+/,"")),n){let o=lm.indentComment(t(n),e);r.push(o.trimStart())}}uz.stringifyCollection=Nhe});var xl=T(uI=>{"use strict";var Mhe=cI(),jhe=sI(),qhe=tm(),Ra=_t(),lI=ks(),$he=dr();function um(e,t){let r=Ra.isScalar(t)?t.value:t;for(let n of e)if(Ra.isPair(n)&&(n.key===t||n.key===r||Ra.isScalar(n.key)&&n.key.value===r))return n}var fz=class extends qhe.Collection{constructor(t){super(Ra.MAP,t);this.items=[]}static get tagName(){return"tag:yaml.org,2002:map"}add(t,r){let n;Ra.isPair(t)?n=t:!t||typeof t!="object"||!("key"in t)?n=new lI.Pair(t,t.value):n=new lI.Pair(t.key,t.value);let i=um(this.items,n.key),o=this.schema&&this.schema.sortMapEntries;if(i){if(!r)throw new Error(`Key ${n.key} already set`);Ra.isScalar(i.value)&&$he.isScalarValue(n.value)?i.value.value=n.value:i.value=n.value}else if(o){let s=this.items.findIndex(a=>o(n,a)<0);s===-1?this.items.push(n):this.items.splice(s,0,n)}else this.items.push(n)}delete(t){let r=um(this.items,t);return r?this.items.splice(this.items.indexOf(r),1).length>0:!1}get(t,r){let n=um(this.items,t),i=n&&n.value;return!r&&Ra.isScalar(i)?i.value:i}has(t){return!!um(this.items,t)}set(t,r){this.add(new lI.Pair(t,r),!0)}toJSON(t,r,n){let i=n?new n:r&&r.mapAsMap?new Map:{};r&&r.onCreate&&r.onCreate(i);for(let o of this.items)jhe.addPairToJSMap(r,i,o);return i}toString(t,r,n){if(!t)return JSON.stringify(this);for(let i of this.items)if(!Ra.isPair(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),Mhe.stringifyCollection(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:n,onComment:r})}};uI.YAMLMap=fz;uI.findPair=um});var Gf=T(pz=>{"use strict";var Uhe=_t(),Bhe=ks(),dz=xl();function Hhe(e,t,r){let{keepUndefined:n,replacer:i}=r,o=new dz.YAMLMap(e),s=(a,c)=>{if(typeof i=="function")c=i.call(t,a,c);else if(Array.isArray(i)&&!i.includes(a))return;(c!==void 0||n)&&o.items.push(Bhe.createPair(a,c,r))};if(t instanceof Map)for(let[a,c]of t)s(a,c);else if(t&&typeof t=="object")for(let a of Object.keys(t))s(a,t[a]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}var Vhe={collection:"map",createNode:Hhe,default:!0,nodeClass:dz.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(e,t){return Uhe.isMap(e)||t("Expected a mapping for this tag"),e}};pz.map=Vhe});var Pl=T(mz=>{"use strict";var Whe=cI(),zhe=tm(),jC=_t(),Ghe=dr(),Khe=Vf(),hz=class extends zhe.Collection{constructor(t){super(jC.SEQ,t);this.items=[]}static get tagName(){return"tag:yaml.org,2002:seq"}add(t){this.items.push(t)}delete(t){let r=qC(t);return typeof r!="number"?!1:this.items.splice(r,1).length>0}get(t,r){let n=qC(t);if(typeof n!="number")return;let i=this.items[n];return!r&&jC.isScalar(i)?i.value:i}has(t){let r=qC(t);return typeof r=="number"&&r<this.items.length}set(t,r){let n=qC(t);if(typeof n!="number")throw new Error(`Expected a valid index, not ${t}.`);let i=this.items[n];jC.isScalar(i)&&Ghe.isScalarValue(r)?i.value=r:this.items[n]=r}toJSON(t,r){let n=[];r&&r.onCreate&&r.onCreate(n);let i=0;for(let o of this.items)n.push(Khe.toJS(o,String(i++),r));return n}toString(t,r,n){return t?Whe.stringifyCollection(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:n,onComment:r}):JSON.stringify(this)}};function qC(e){let t=jC.isScalar(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}mz.YAMLSeq=hz});var Kf=T(vz=>{"use strict";var Yhe=em(),Jhe=_t(),gz=Pl();function Qhe(e,t,r){let{replacer:n}=r,i=new gz.YAMLSeq(e);if(t&&Symbol.iterator in Object(t)){let o=0;for(let s of t){if(typeof n=="function"){let a=t instanceof Set?s:String(o++);s=n.call(t,a,s)}i.items.push(Yhe.createNode(s,void 0,r))}}return i}var Xhe={collection:"seq",createNode:Qhe,default:!0,nodeClass:gz.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(e,t){return Jhe.isSeq(e)||t("Expected a sequence for this tag"),e}};vz.seq=Xhe});var fm=T(yz=>{"use strict";var Zhe=sm(),eme={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,r,n){return t=Object.assign({actualString:!0},t),Zhe.stringifyString(e,t,r,n)}};yz.string=eme});var $C=T(bz=>{"use strict";var wz=dr(),Cz={identify:e=>e==null,createNode:()=>new wz.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new wz.Scalar(null),stringify:({source:e},t)=>e&&Cz.test.test(e)?e:t.options.nullStr};bz.nullTag=Cz});var fI=T(_z=>{"use strict";var tme=dr(),Ez={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new tme.Scalar(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},r){if(e&&Ez.test.test(e)){let n=e[0]==="t"||e[0]==="T";if(t===n)return e}return t?r.options.trueStr:r.options.falseStr}};_z.boolTag=Ez});var Yf=T(Sz=>{"use strict";function rme({format:e,minFractionDigits:t,tag:r,value:n}){if(typeof n=="bigint")return String(n);let i=typeof n=="number"?n:Number(n);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let o=JSON.stringify(n);if(!e&&t&&(!r||r==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let s=o.indexOf(".");s<0&&(s=o.length,o+=".");let a=t-(o.length-s-1);for(;a-- >0;)o+="0"}return o}Sz.stringifyNumber=rme});var pI=T(UC=>{"use strict";var nme=dr(),dI=Yf(),ime={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:dI.stringifyNumber},ome={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){let t=Number(e.value);return isFinite(t)?t.toExponential():dI.stringifyNumber(e)}},sme={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){let t=new nme.Scalar(parseFloat(e)),r=e.indexOf(".");return r!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-r-1),t},stringify:dI.stringifyNumber};UC.float=sme;UC.floatExp=ome;UC.floatNaN=ime});var mI=T(HC=>{"use strict";var xz=Yf(),BC=e=>typeof e=="bigint"||Number.isInteger(e),hI=(e,t,r,{intAsBigInt:n})=>n?BigInt(e):parseInt(e.substring(t),r);function Pz(e,t,r){let{value:n}=e;return BC(n)&&n>=0?r+n.toString(t):xz.stringifyNumber(e)}var ame={identify:e=>BC(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,r)=>hI(e,2,8,r),stringify:e=>Pz(e,8,"0o")},cme={identify:BC,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,r)=>hI(e,0,10,r),stringify:xz.stringifyNumber},lme={identify:e=>BC(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,r)=>hI(e,2,16,r),stringify:e=>Pz(e,16,"0x")};HC.int=cme;HC.intHex=lme;HC.intOct=ame});var Iz=T(kz=>{"use strict";var ume=Gf(),fme=$C(),dme=Kf(),pme=fm(),hme=fI(),gI=pI(),vI=mI(),mme=[ume.map,dme.seq,pme.string,fme.nullTag,hme.boolTag,vI.intOct,vI.int,vI.intHex,gI.floatNaN,gI.floatExp,gI.float];kz.schema=mme});var Dz=T(Az=>{"use strict";var gme=dr(),vme=Gf(),yme=Kf();function Tz(e){return typeof e=="bigint"||Number.isInteger(e)}var VC=({value:e})=>JSON.stringify(e),wme=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:VC},{identify:e=>e==null,createNode:()=>new gme.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:VC},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:VC},{identify:Tz,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:r})=>r?BigInt(e):parseInt(e,10),stringify:({value:e})=>Tz(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:VC}],Cme={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},bme=[vme.map,yme.seq].concat(wme,Cme);Az.schema=bme});var wI=T(Rz=>{"use strict";var yI=dr(),Eme=sm(),_me={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Buffer=="function")return Buffer.from(e,"base64");if(typeof atob=="function"){let r=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(r.length);for(let i=0;i<r.length;++i)n[i]=r.charCodeAt(i);return n}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:r},n,i,o){let s=r,a;if(typeof Buffer=="function")a=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else if(typeof btoa=="function"){let c="";for(let l=0;l<s.length;++l)c+=String.fromCharCode(s[l]);a=btoa(c)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=yI.Scalar.BLOCK_LITERAL),t!==yI.Scalar.QUOTE_DOUBLE){let c=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),l=Math.ceil(a.length/c),u=new Array(l);for(let f=0,d=0;f<l;++f,d+=c)u[f]=a.substr(d,c);a=u.join(t===yI.Scalar.BLOCK_LITERAL?`
`:" ")}return Eme.stringifyString({comment:e,type:t,value:a},n,i,o)}};Rz.binary=_me});var GC=T(zC=>{"use strict";var WC=_t(),CI=ks(),Sme=dr(),xme=Pl();function Oz(e,t){if(WC.isSeq(e))for(let r=0;r<e.items.length;++r){let n=e.items[r];if(!WC.isPair(n)){if(WC.isMap(n)){n.items.length>1&&t("Each pair must have its own sequence indicator");let i=n.items[0]||new CI.Pair(new Sme.Scalar(null));if(n.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${n.commentBefore}
${i.key.commentBefore}`:n.commentBefore),n.comment){let o=i.value||i.key;o.comment=o.comment?`${n.comment}
${o.comment}`:n.comment}n=i}e.items[r]=WC.isPair(n)?n:new CI.Pair(n)}}else t("Expected a sequence for this tag");return e}function Nz(e,t,r){let{replacer:n}=r,i=new xme.YAMLSeq(e);i.tag="tag:yaml.org,2002:pairs";let o=0;if(t&&Symbol.iterator in Object(t))for(let s of t){typeof n=="function"&&(s=n.call(t,String(o++),s));let a,c;if(Array.isArray(s))if(s.length===2)a=s[0],c=s[1];else throw new TypeError(`Expected [key, value] tuple: ${s}`);else if(s&&s instanceof Object){let l=Object.keys(s);if(l.length===1)a=l[0],c=s[a];else throw new TypeError(`Expected { key: value } tuple: ${s}`)}else a=s;i.items.push(CI.createPair(a,c,r))}return i}var Pme={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Oz,createNode:Nz};zC.createPairs=Nz;zC.pairs=Pme;zC.resolvePairs=Oz});var _I=T(EI=>{"use strict";var kme=Pl(),bI=Vf(),Lz=_t(),dm=xl(),Fz=GC(),Oa=class extends kme.YAMLSeq{constructor(){super();this.add=dm.YAMLMap.prototype.add.bind(this),this.delete=dm.YAMLMap.prototype.delete.bind(this),this.get=dm.YAMLMap.prototype.get.bind(this),this.has=dm.YAMLMap.prototype.has.bind(this),this.set=dm.YAMLMap.prototype.set.bind(this),this.tag=Oa.tag}toJSON(t,r){if(!r)return super.toJSON(t);let n=new Map;r&&r.onCreate&&r.onCreate(n);for(let i of this.items){let o,s;if(Lz.isPair(i)?(o=bI.toJS(i.key,"",r),s=bI.toJS(i.value,o,r)):o=bI.toJS(i,"",r),n.has(o))throw new Error("Ordered maps must not include duplicate keys");n.set(o,s)}return n}};Oa.tag="tag:yaml.org,2002:omap";var Ime={collection:"seq",identify:e=>e instanceof Map,nodeClass:Oa,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){let r=Fz.resolvePairs(e,t),n=[];for(let{key:i}of r.items)Lz.isScalar(i)&&(n.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):n.push(i.value));return Object.assign(new Oa,r)},createNode(e,t,r){let n=Fz.createPairs(e,t,r),i=new Oa;return i.items=n.items,i}};EI.YAMLOMap=Oa;EI.omap=Ime});var Uz=T(SI=>{"use strict";var Mz=dr();function jz({value:e,source:t},r){return t&&(e?qz:$z).test.test(t)?t:e?r.options.trueStr:r.options.falseStr}var qz={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Mz.Scalar(!0),stringify:jz},$z={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new Mz.Scalar(!1),stringify:jz};SI.falseTag=$z;SI.trueTag=qz});var Bz=T(KC=>{"use strict";var Tme=dr(),xI=Yf(),Ame={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:xI.stringifyNumber},Dme={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){let t=Number(e.value);return isFinite(t)?t.toExponential():xI.stringifyNumber(e)}},Rme={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){let t=new Tme.Scalar(parseFloat(e.replace(/_/g,""))),r=e.indexOf(".");if(r!==-1){let n=e.substring(r+1).replace(/_/g,"");n[n.length-1]==="0"&&(t.minFractionDigits=n.length)}return t},stringify:xI.stringifyNumber};KC.float=Rme;KC.floatExp=Dme;KC.floatNaN=Ame});var Vz=T(hm=>{"use strict";var Hz=Yf(),pm=e=>typeof e=="bigint"||Number.isInteger(e);function YC(e,t,r,{intAsBigInt:n}){let i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),n){switch(r){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}let s=BigInt(e);return i==="-"?BigInt(-1)*s:s}let o=parseInt(e,r);return i==="-"?-1*o:o}function PI(e,t,r){let{value:n}=e;if(pm(n)){let i=n.toString(t);return n<0?"-"+r+i.substr(1):r+i}return Hz.stringifyNumber(e)}var Ome={identify:pm,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,r)=>YC(e,2,2,r),stringify:e=>PI(e,2,"0b")},Nme={identify:pm,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,r)=>YC(e,1,8,r),stringify:e=>PI(e,8,"0")},Lme={identify:pm,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,r)=>YC(e,0,10,r),stringify:Hz.stringifyNumber},Fme={identify:pm,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,r)=>YC(e,2,16,r),stringify:e=>PI(e,16,"0x")};hm.int=Lme;hm.intBin=Ome;hm.intHex=Fme;hm.intOct=Nme});var II=T(kI=>{"use strict";var JC=_t(),QC=ks(),XC=xl(),Na=class extends XC.YAMLMap{constructor(t){super(t);this.tag=Na.tag}add(t){let r;JC.isPair(t)?r=t:typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?r=new QC.Pair(t.key,null):r=new QC.Pair(t,null),XC.findPair(this.items,r.key)||this.items.push(r)}get(t,r){let n=XC.findPair(this.items,t);return!r&&JC.isPair(n)?JC.isScalar(n.key)?n.key.value:n.key:n}set(t,r){if(typeof r!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof r}`);let n=XC.findPair(this.items,t);n&&!r?this.items.splice(this.items.indexOf(n),1):!n&&r&&this.items.push(new QC.Pair(t))}toJSON(t,r){return super.toJSON(t,r,Set)}toString(t,r,n){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),r,n);throw new Error("Set items must all have null values")}};Na.tag="tag:yaml.org,2002:set";var Mme={collection:"map",identify:e=>e instanceof Set,nodeClass:Na,default:!1,tag:"tag:yaml.org,2002:set",resolve(e,t){if(JC.isMap(e)){if(e.hasAllNullValues(!0))return Object.assign(new Na,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e},createNode(e,t,r){let{replacer:n}=r,i=new Na(e);if(t&&Symbol.iterator in Object(t))for(let o of t)typeof n=="function"&&(o=n.call(t,o,o)),i.items.push(QC.createPair(o,null,r));return i}};kI.YAMLSet=Na;kI.set=Mme});var AI=T(ZC=>{"use strict";var jme=Yf();function TI(e,t){let r=e[0],n=r==="-"||r==="+"?e.substring(1):e,i=s=>t?BigInt(s):Number(s),o=n.replace(/_/g,"").split(":").reduce((s,a)=>s*i(60)+i(a),i(0));return r==="-"?i(-1)*o:o}function Wz(e){let{value:t}=e,r=s=>s;if(typeof t=="bigint")r=s=>BigInt(s);else if(isNaN(t)||!isFinite(t))return jme.stringifyNumber(e);let n="";t<0&&(n="-",t*=r(-1));let i=r(60),o=[t%i];return t<60?o.unshift(0):(t=(t-o[0])/i,o.unshift(t%i),t>=60&&(t=(t-o[0])/i,o.unshift(t))),n+o.map(s=>s<10?"0"+String(s):String(s)).join(":").replace(/000000\d*$/,"")}var qme={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:r})=>TI(e,r),stringify:Wz},$me={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>TI(e,!1),stringify:Wz},zz={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){let t=e.match(zz.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,r,n,i,o,s,a]=t.map(Number),c=t[7]?Number((t[7]+"00").substr(1,3)):0,l=Date.UTC(r,n-1,i,o||0,s||0,a||0,c),u=t[8];if(u&&u!=="Z"){let f=TI(u,!1);Math.abs(f)<30&&(f*=60),l-=6e4*f}return new Date(l)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};ZC.floatTime=$me;ZC.intTime=qme;ZC.timestamp=zz});var Yz=T(Kz=>{"use strict";var Ume=Gf(),Bme=$C(),Hme=Kf(),Vme=fm(),Wme=wI(),Gz=Uz(),DI=Bz(),e0=Vz(),zme=_I(),Gme=GC(),Kme=II(),RI=AI(),Yme=[Ume.map,Hme.seq,Vme.string,Bme.nullTag,Gz.trueTag,Gz.falseTag,e0.intBin,e0.intOct,e0.int,e0.intHex,DI.floatNaN,DI.floatExp,DI.float,Wme.binary,zme.omap,Gme.pairs,Kme.set,RI.intTime,RI.floatTime,RI.timestamp];Kz.schema=Yme});var oG=T(LI=>{"use strict";var Jz=Gf(),Jme=$C(),Qz=Kf(),Qme=fm(),Xme=fI(),OI=pI(),NI=mI(),Zme=Iz(),ege=Dz(),Xz=wI(),Zz=_I(),eG=GC(),tG=Yz(),rG=II(),t0=AI(),nG=new Map([["core",Zme.schema],["failsafe",[Jz.map,Qz.seq,Qme.string]],["json",ege.schema],["yaml11",tG.schema],["yaml-1.1",tG.schema]]),iG={binary:Xz.binary,bool:Xme.boolTag,float:OI.float,floatExp:OI.floatExp,floatNaN:OI.floatNaN,floatTime:t0.floatTime,int:NI.int,intHex:NI.intHex,intOct:NI.intOct,intTime:t0.intTime,map:Jz.map,null:Jme.nullTag,omap:Zz.omap,pairs:eG.pairs,seq:Qz.seq,set:rG.set,timestamp:t0.timestamp},tge={"tag:yaml.org,2002:binary":Xz.binary,"tag:yaml.org,2002:omap":Zz.omap,"tag:yaml.org,2002:pairs":eG.pairs,"tag:yaml.org,2002:set":rG.set,"tag:yaml.org,2002:timestamp":t0.timestamp};function rge(e,t){let r=nG.get(t);if(!r)if(Array.isArray(e))r=[];else{let n=Array.from(nG.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${n} or define customTags array`)}if(Array.isArray(e))for(let n of e)r=r.concat(n);else typeof e=="function"&&(r=e(r.slice()));return r.map(n=>{if(typeof n!="string")return n;let i=iG[n];if(i)return i;let o=Object.keys(iG).map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown custom tag "${n}"; use one of ${o}`)})}LI.coreKnownTags=tge;LI.getTags=rge});var MI=T(sG=>{"use strict";var FI=_t(),nge=Gf(),ige=Kf(),oge=fm(),r0=oG(),sge=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0,n0=class{constructor({compat:t,customTags:r,merge:n,resolveKnownTags:i,schema:o,sortMapEntries:s,toStringDefaults:a}){this.compat=Array.isArray(t)?r0.getTags(t,"compat"):t?r0.getTags(null,t):null,this.merge=!!n,this.name=typeof o=="string"&&o||"core",this.knownTags=i?r0.coreKnownTags:{},this.tags=r0.getTags(r,this.name),this.toStringOptions=a||null,Object.defineProperty(this,FI.MAP,{value:nge.map}),Object.defineProperty(this,FI.SCALAR,{value:oge.string}),Object.defineProperty(this,FI.SEQ,{value:ige.seq}),this.sortMapEntries=s===!0?sge:s||null}clone(){let t=Object.create(n0.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}};sG.Schema=n0});var cG=T(aG=>{"use strict";var age=_t(),jI=Wf(),i0=rm();function cge(e,t){let r=[],n=t.directives===!0;if(t.directives!==!1&&e.directives){let l=e.directives.toString(e);l?(r.push(l),n=!0):e.directives.marker&&(n=!0)}n&&r.push("---");let i=jI.createStringifyContext(e,t),{commentString:o}=i.options;if(e.commentBefore){r.length!==1&&r.unshift("");let l=o(e.commentBefore);r.unshift(i0.indentComment(l,""))}let s=!1,a=null;if(e.contents){if(age.isNode(e.contents)){if(e.contents.spaceBefore&&n&&r.push(""),e.contents.commentBefore){let f=o(e.contents.commentBefore);r.push(i0.indentComment(f,""))}i.forceBlockIndent=!!e.comment,a=e.contents.comment}let l=a?void 0:()=>s=!0,u=jI.stringify(e.contents,i,()=>a=null,l);a&&(u+=i0.lineComment(u,"",o(a))),(u[0]==="|"||u[0]===">")&&r[r.length-1]==="---"?r[r.length-1]=`--- ${u}`:r.push(u)}else r.push(jI.stringify(e.contents,i));let c=e.comment;return c&&s&&(c=c.replace(/^\n+/,"")),c&&((!s||a)&&r[r.length-1]!==""&&r.push(""),r.push(i0.indentComment(o(c),""))),r.join(`
`)+`
`}aG.stringifyDocument=cge});var uG=T(lG=>{"use strict";function mm(e,t,r,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let i=0,o=n.length;i<o;++i){let s=n[i],a=mm(e,n,String(i),s);a===void 0?delete n[i]:a!==s&&(n[i]=a)}else if(n instanceof Map)for(let i of Array.from(n.keys())){let o=n.get(i),s=mm(e,n,i,o);s===void 0?n.delete(i):s!==o&&n.set(i,s)}else if(n instanceof Set)for(let i of Array.from(n)){let o=mm(e,n,i,i);o===void 0?n.delete(i):o!==i&&(n.delete(i),n.add(o))}else for(let[i,o]of Object.entries(n)){let s=mm(e,n,i,o);s===void 0?delete n[i]:s!==o&&(n[i]=s)}return e.call(t,r,n)}lG.applyReviver=mm});var gm=T(fG=>{"use strict";var lge=Zh(),Jf=tm(),Pi=_t(),uge=ks(),fge=Vf(),dge=FC(),pge=MI(),hge=Wf(),mge=cG(),qI=kC(),gge=uG(),vge=em(),$I=Yk(),o0=class{constructor(t,r,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Pi.NODE_TYPE,{value:Pi.DOC});let i=null;typeof r=="function"||Array.isArray(r)?i=r:n===void 0&&r&&(n=r,r=void 0);let o=Object.assign({},dge.defaultOptions,n);this.options=o;let{version:s}=o;(n==null?void 0:n.directives)?(this.directives=n.directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new $I.Directives({version:s}),this.setSchema(s,n),t===void 0?this.contents=null:this.contents=this.createNode(t,i,n)}clone(){let t=Object.create(o0.prototype,{[Pi.NODE_TYPE]:{value:Pi.DOC}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Pi.isNode(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){Qf(this.contents)&&this.contents.add(t)}addIn(t,r){Qf(this.contents)&&this.contents.addIn(t,r)}createAlias(t,r){if(!t.anchor){let n=qI.anchorNames(this);t.anchor=!r||n.has(r)?qI.findNewAnchor(r||"a",n):r}return new lge.Alias(t.anchor)}createNode(t,r,n){let i;if(typeof r=="function")t=r.call({"":t},"",t),i=r;else if(Array.isArray(r)){let g=y=>typeof y=="number"||y instanceof String||y instanceof Number,v=r.filter(g).map(String);v.length>0&&(r=r.concat(v)),i=r}else n===void 0&&r&&(n=r,r=void 0);let{aliasDuplicateObjects:o,anchorPrefix:s,flow:a,keepUndefined:c,onTagObj:l,tag:u}=n||{},{onAnchor:f,setAnchors:d,sourceObjects:p}=qI.createNodeAnchors(this,s||"a"),h={aliasDuplicateObjects:o!=null?o:!0,keepUndefined:c!=null?c:!1,onAnchor:f,onTagObj:l,replacer:i,schema:this.schema,sourceObjects:p},m=vge.createNode(t,u,h);return a&&Pi.isCollection(m)&&(m.flow=!0),d(),m}createPair(t,r,n={}){let i=this.createNode(t,null,n),o=this.createNode(r,null,n);return new uge.Pair(i,o)}delete(t){return Qf(this.contents)?this.contents.delete(t):!1}deleteIn(t){return Jf.isEmptyPath(t)?this.contents==null?!1:(this.contents=null,!0):Qf(this.contents)?this.contents.deleteIn(t):!1}get(t,r){return Pi.isCollection(this.contents)?this.contents.get(t,r):void 0}getIn(t,r){return Jf.isEmptyPath(t)?!r&&Pi.isScalar(this.contents)?this.contents.value:this.contents:Pi.isCollection(this.contents)?this.contents.getIn(t,r):void 0}has(t){return Pi.isCollection(this.contents)?this.contents.has(t):!1}hasIn(t){return Jf.isEmptyPath(t)?this.contents!==void 0:Pi.isCollection(this.contents)?this.contents.hasIn(t):!1}set(t,r){this.contents==null?this.contents=Jf.collectionFromPath(this.schema,[t],r):Qf(this.contents)&&this.contents.set(t,r)}setIn(t,r){Jf.isEmptyPath(t)?this.contents=r:this.contents==null?this.contents=Jf.collectionFromPath(this.schema,Array.from(t),r):Qf(this.contents)&&this.contents.setIn(t,r)}setSchema(t,r={}){typeof t=="number"&&(t=String(t));let n;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new $I.Directives({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":this.directives?this.directives.yaml.version="1.2":this.directives=new $I.Directives({version:"1.2"}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{let i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(r.schema instanceof Object)this.schema=r.schema;else if(n)this.schema=new pge.Schema(Object.assign(n,r));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:r,mapAsMap:n,maxAliasCount:i,onAnchor:o,reviver:s}={}){let a={anchors:new Map,doc:this,keep:!t,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100,stringify:hge.stringify},c=fge.toJS(this.contents,r||"",a);if(typeof o=="function")for(let{count:l,res:u}of a.anchors.values())o(u,l);return typeof s=="function"?gge.applyReviver(s,{"":c},"",c):c}toJSON(t,r){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:r})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){let r=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${r}`)}return mge.stringifyDocument(this,t)}};function Qf(e){if(Pi.isCollection(e))return!0;throw new Error("Expected a YAML collection as document contents")}fG.Document=o0});var ym=T(vm=>{"use strict";var s0=class extends Error{constructor(t,r,n,i){super();this.name=t,this.code=n,this.message=i,this.pos=r}},dG=class extends s0{constructor(t,r,n){super("YAMLParseError",t,r,n)}},pG=class extends s0{constructor(t,r,n){super("YAMLWarning",t,r,n)}},yge=(e,t)=>r=>{if(r.pos[0]===-1)return;r.linePos=r.pos.map(a=>t.linePos(a));let{line:n,col:i}=r.linePos[0];r.message+=` at line ${n}, column ${i}`;let o=i-1,s=e.substring(t.lineStarts[n-1],t.lineStarts[n]).replace(/[\n\r]+$/,"");if(o>=60&&s.length>80){let a=Math.min(o-39,s.length-79);s="\u2026"+s.substring(a),o-=a-1}if(s.length>80&&(s=s.substring(0,79)+"\u2026"),n>1&&/^ *$/.test(s.substring(0,o))){let a=e.substring(t.lineStarts[n-2],t.lineStarts[n-1]);a.length>80&&(a=a.substring(0,79)+`\u2026
`),s=a+s}if(/[^ ]/.test(s)){let a=1,c=r.linePos[1];c&&c.line===n&&c.col>i&&(a=Math.min(c.col-i,80-o));let l=" ".repeat(o)+"^".repeat(a);r.message+=`:

${s}
${l}
`}};vm.YAMLError=s0;vm.YAMLParseError=dG;vm.YAMLWarning=pG;vm.prettifyError=yge});var wm=T(hG=>{"use strict";function wge(e,{flow:t,indicator:r,next:n,offset:i,onError:o,startOnNewline:s}){let a=!1,c=s,l=s,u="",f="",d=!1,p=!1,h=null,m=null,g=null,v=null,y=null;for(let _ of e)switch(p&&(_.type!=="space"&&_.type!=="newline"&&_.type!=="comma"&&o(_.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p=!1),_.type){case"space":!t&&c&&r!=="doc-start"&&_.source[0]==="	"&&o(_,"TAB_AS_INDENT","Tabs are not allowed as indentation"),l=!0;break;case"comment":{l||o(_,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let P=_.source.substring(1)||" ";u?u+=f+P:u=P,f="",c=!1;break}case"newline":c?u?u+=_.source:a=!0:f+=_.source,c=!0,d=!0,l=!0;break;case"anchor":h&&o(_,"MULTIPLE_ANCHORS","A node can have at most one anchor"),h=_,y===null&&(y=_.offset),c=!1,l=!1,p=!0;break;case"tag":{m&&o(_,"MULTIPLE_TAGS","A node can have at most one tag"),m=_,y===null&&(y=_.offset),c=!1,l=!1,p=!0;break}case r:(h||m)&&o(_,"BAD_PROP_ORDER",`Anchors and tags must be after the ${_.source} indicator`),v&&o(_,"UNEXPECTED_TOKEN",`Unexpected ${_.source} in ${t||"collection"}`),v=_,c=!1,l=!1;break;case"comma":if(t){g&&o(_,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),g=_,c=!1,l=!1;break}default:o(_,"UNEXPECTED_TOKEN",`Unexpected ${_.type} token`),c=!1,l=!1}let C=e[e.length-1],b=C?C.offset+C.source.length:i;return p&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&o(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:g,found:v,spaceBefore:a,comment:u,hasNewline:d,anchor:h,tag:m,end:b,start:y!=null?y:b}}hG.resolveProps=wge});var a0=T(mG=>{"use strict";function UI(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(let t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(let t of e.items){for(let r of t.start)if(r.type==="newline")return!0;if(t.sep){for(let r of t.sep)if(r.type==="newline")return!0}if(UI(t.key)||UI(t.value))return!0}return!1;default:return!0}}mG.containsNewline=UI});var BI=T(gG=>{"use strict";var Cge=a0();function bge(e,t,r){if((t==null?void 0:t.type)==="flow-collection"){let n=t.end[0];n.indent===e&&(n.source==="]"||n.source==="}")&&Cge.containsNewline(t)&&r(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}gG.flowIndentCheck=bge});var HI=T(yG=>{"use strict";var vG=_t();function Ege(e,t,r){let{uniqueKeys:n}=e.options;if(n===!1)return!1;let i=typeof n=="function"?n:(o,s)=>o===s||vG.isScalar(o)&&vG.isScalar(s)&&o.value===s.value&&!(o.value==="<<"&&e.schema.merge);return t.some(o=>i(o.key,r))}yG.mapIncludes=Ege});var SG=T(_G=>{"use strict";var wG=ks(),_ge=xl(),CG=wm(),Sge=a0(),bG=BI(),xge=HI(),EG="All mapping items must start at the same column";function Pge({composeNode:e,composeEmptyNode:t},r,n,i){var o;let s=new _ge.YAMLMap(r.schema);r.atRoot&&(r.atRoot=!1);let a=n.offset;for(let c of n.items){let{start:l,key:u,sep:f,value:d}=c,p=CG.resolveProps(l,{indicator:"explicit-key-ind",next:u||(f==null?void 0:f[0]),offset:a,onError:i,startOnNewline:!0}),h=!p.found;if(h){if(u&&(u.type==="block-seq"?i(a,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in u&&u.indent!==n.indent&&i(a,"BAD_INDENT",EG)),!p.anchor&&!p.tag&&!f){p.comment&&(s.comment?s.comment+=`
`+p.comment:s.comment=p.comment);continue}}else((o=p.found)===null||o===void 0?void 0:o.indent)!==n.indent&&i(a,"BAD_INDENT",EG);h&&Sge.containsNewline(u)&&i(u,"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line");let m=p.end,g=u?e(r,u,p,i):t(r,m,l,null,p,i);r.schema.compat&&bG.flowIndentCheck(n.indent,u,i),xge.mapIncludes(r,s.items,g)&&i(m,"DUPLICATE_KEY","Map keys must be unique");let v=CG.resolveProps(f||[],{indicator:"map-value-ind",next:d,offset:g.range[2],onError:i,startOnNewline:!u||u.type==="block-scalar"});if(a=v.end,v.found){h&&((d==null?void 0:d.type)==="block-map"&&!v.hasNewline&&i(a,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),r.options.strict&&p.start<v.found.offset-1024&&i(g.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let y=d?e(r,d,v,i):t(r,a,f,null,v,i);r.schema.compat&&bG.flowIndentCheck(n.indent,d,i),a=y.range[2];let C=new wG.Pair(g,y);r.options.keepSourceTokens&&(C.srcToken=c),s.items.push(C)}else{h&&i(g.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),v.comment&&(g.comment?g.comment+=`
`+v.comment:g.comment=v.comment);let y=new wG.Pair(g);r.options.keepSourceTokens&&(y.srcToken=c),s.items.push(y)}}return s.range=[n.offset,a,a],s}_G.resolveBlockMap=Pge});var PG=T(xG=>{"use strict";var kge=Pl(),Ige=wm(),Tge=BI();function Age({composeNode:e,composeEmptyNode:t},r,n,i){let o=new kge.YAMLSeq(r.schema);r.atRoot&&(r.atRoot=!1);let s=n.offset;for(let{start:a,value:c}of n.items){let l=Ige.resolveProps(a,{indicator:"seq-item-ind",next:c,offset:s,onError:i,startOnNewline:!0});if(s=l.end,!l.found)if(l.anchor||l.tag||c)c&&c.type==="block-seq"?i(s,"BAD_INDENT","All sequence items must start at the same column"):i(s,"MISSING_CHAR","Sequence item without - indicator");else{l.comment&&(o.comment=l.comment);continue}let u=c?e(r,c,l,i):t(r,s,a,null,l,i);r.schema.compat&&Tge.flowIndentCheck(n.indent,c,i),s=u.range[2],o.items.push(u)}return o.range=[n.offset,s,s],o}xG.resolveBlockSeq=Age});var Xf=T(kG=>{"use strict";function Dge(e,t,r,n){let i="";if(e){let o=!1,s="";for(let a of e){let{source:c,type:l}=a;switch(l){case"space":o=!0;break;case"comment":{r&&!o&&n(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let u=c.substring(1)||" ";i?i+=s+u:i=u,s="";break}case"newline":i&&(s+=c),o=!0;break;default:n(a,"UNEXPECTED_TOKEN",`Unexpected ${l} at node end`)}t+=c.length}}return{comment:i,offset:t}}kG.resolveEnd=Dge});var DG=T(AG=>{"use strict";var Rge=_t(),Oge=ks(),IG=xl(),Nge=Pl(),Lge=Xf(),TG=wm(),Fge=a0(),Mge=HI(),VI="Block collections are not allowed within flow collections",WI=e=>e&&(e.type==="block-map"||e.type==="block-seq");function jge({composeNode:e,composeEmptyNode:t},r,n,i){let o=n.start.source==="{",s=o?"flow map":"flow sequence",a=o?new IG.YAMLMap(r.schema):new Nge.YAMLSeq(r.schema);a.flow=!0;let c=r.atRoot;c&&(r.atRoot=!1);let l=n.offset+n.start.source.length;for(let h=0;h<n.items.length;++h){let m=n.items[h],{start:g,key:v,sep:y,value:C}=m,b=TG.resolveProps(g,{flow:s,indicator:"explicit-key-ind",next:v||(y==null?void 0:y[0]),offset:l,onError:i,startOnNewline:!1});if(!b.found){if(!b.anchor&&!b.tag&&!y&&!C){h===0&&b.comma?i(b.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${s}`):h<n.items.length-1&&i(b.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${s}`),b.comment&&(a.comment?a.comment+=`
`+b.comment:a.comment=b.comment),l=b.end;continue}!o&&r.options.strict&&Fge.containsNewline(v)&&i(v,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(h===0)b.comma&&i(b.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${s}`);else if(b.comma||i(b.start,"MISSING_CHAR",`Missing , between ${s} items`),b.comment){let _="";e:for(let P of g)switch(P.type){case"comma":case"space":break;case"comment":_=P.source.substring(1);break e;default:break e}if(_){let P=a.items[a.items.length-1];Rge.isPair(P)&&(P=P.value||P.key),P.comment?P.comment+=`
`+_:P.comment=_,b.comment=b.comment.substring(_.length+1)}}if(!o&&!y&&!b.found){let _=C?e(r,C,b,i):t(r,b.end,y,null,b,i);a.items.push(_),l=_.range[2],WI(C)&&i(_.range,"BLOCK_IN_FLOW",VI)}else{let _=b.end,P=v?e(r,v,b,i):t(r,_,g,null,b,i);WI(v)&&i(P.range,"BLOCK_IN_FLOW",VI);let S=TG.resolveProps(y||[],{flow:s,indicator:"map-value-ind",next:C,offset:P.range[2],onError:i,startOnNewline:!1});if(S.found){if(!o&&!b.found&&r.options.strict){if(y)for(let A of y){if(A===S.found)break;if(A.type==="newline"){i(A,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}b.start<S.found.offset-1024&&i(S.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else C&&("source"in C&&C.source&&C.source[0]===":"?i(C,"MISSING_CHAR",`Missing space after : in ${s}`):i(S.start,"MISSING_CHAR",`Missing , or : between ${s} items`));let x=C?e(r,C,S,i):S.found?t(r,S.end,y,null,S,i):null;x?WI(C)&&i(x.range,"BLOCK_IN_FLOW",VI):S.comment&&(P.comment?P.comment+=`
`+S.comment:P.comment=S.comment);let I=new Oge.Pair(P,x);if(r.options.keepSourceTokens&&(I.srcToken=m),o){let A=a;Mge.mapIncludes(r,A.items,P)&&i(_,"DUPLICATE_KEY","Map keys must be unique"),A.items.push(I)}else{let A=new IG.YAMLMap(r.schema);A.flow=!0,A.items.push(I),a.items.push(A)}l=x?x.range[2]:S.end}}let u=o?"}":"]",[f,...d]=n.end,p=l;if(f&&f.source===u)p=f.offset+f.source.length;else{let h=s[0].toUpperCase()+s.substring(1),m=c?`${h} must end with a ${u}`:`${h} in block collection must be sufficiently indented and end with a ${u}`;i(l,c?"MISSING_CHAR":"BAD_INDENT",m),f&&f.source.length!==1&&d.unshift(f)}if(d.length>0){let h=Lge.resolveEnd(d,p,r.options.strict,i);h.comment&&(a.comment?a.comment+=`
`+h.comment:a.comment=h.comment),a.range=[n.offset,p,h.offset]}else a.range=[n.offset,p,p];return a}AG.resolveFlowCollection=jge});var NG=T(OG=>{"use strict";var RG=_t(),qge=dr(),$ge=SG(),Uge=PG(),Bge=DG();function Hge(e,t,r,n,i){let o;switch(r.type){case"block-map":{o=$ge.resolveBlockMap(e,t,r,i);break}case"block-seq":{o=Uge.resolveBlockSeq(e,t,r,i);break}case"flow-collection":{o=Bge.resolveFlowCollection(e,t,r,i);break}}if(!n)return o;let s=t.directives.tagName(n.source,d=>i(n,"TAG_RESOLVE_FAILED",d));if(!s)return o;let a=o.constructor;if(s==="!"||s===a.tagName)return o.tag=a.tagName,o;let c=RG.isMap(o)?"map":"seq",l=t.schema.tags.find(d=>d.collection===c&&d.tag===s);if(!l){let d=t.schema.knownTags[s];if(d&&d.collection===c)t.schema.tags.push(Object.assign({},d,{default:!1})),l=d;else return i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${s}`,!0),o.tag=s,o}let u=l.resolve(o,d=>i(n,"TAG_RESOLVE_FAILED",d),t.options),f=RG.isNode(u)?u:new qge.Scalar(u);return f.range=o.range,f.tag=s,(l==null?void 0:l.format)&&(f.format=l.format),f}OG.composeCollection=Hge});var GI=T(LG=>{"use strict";var zI=dr();function Vge(e,t,r){let n=e.offset,i=Wge(e,t,r);if(!i)return{value:"",type:null,comment:"",range:[n,n,n]};let o=i.mode===">"?zI.Scalar.BLOCK_FOLDED:zI.Scalar.BLOCK_LITERAL,s=e.source?zge(e.source):[],a=s.length;for(let m=s.length-1;m>=0;--m){let g=s[m][1];if(g===""||g==="\r")a=m;else break}if(!e.source||a===0){let m=i.chomp==="+"?`
`.repeat(Math.max(0,s.length-1)):"",g=n+i.length;return e.source&&(g+=e.source.length),{value:m,type:o,comment:i.comment,range:[n,g,g]}}let c=e.indent+i.indent,l=e.offset+i.length,u=0;for(let m=0;m<a;++m){let[g,v]=s[m];if(v===""||v==="\r")i.indent===0&&g.length>c&&(c=g.length);else{if(g.length<c){let y="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";r(l+g.length,"MISSING_CHAR",y)}i.indent===0&&(c=g.length),u=m;break}l+=g.length+v.length+1}let f="",d="",p=!1;for(let m=0;m<u;++m)f+=s[m][0].slice(c)+`
`;for(let m=u;m<a;++m){let[g,v]=s[m];l+=g.length+v.length+1;let y=v[v.length-1]==="\r";if(y&&(v=v.slice(0,-1)),v&&g.length<c){let b=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;r(l-v.length-(y?2:1),"BAD_INDENT",b),g=""}o===zI.Scalar.BLOCK_LITERAL?(f+=d+g.slice(c)+v,d=`
`):g.length>c||v[0]==="	"?(d===" "?d=`
`:!p&&d===`
`&&(d=`

`),f+=d+g.slice(c)+v,d=`
`,p=!0):v===""?d===`
`?f+=`
`:d=`
`:(f+=d+v,d=" ",p=!1)}switch(i.chomp){case"-":break;case"+":for(let m=a;m<s.length;++m)f+=`
`+s[m][0].slice(c);f[f.length-1]!==`
`&&(f+=`
`);break;default:f+=`
`}let h=n+i.length+e.source.length;return{value:f,type:o,comment:i.comment,range:[n,h,h]}}function Wge({offset:e,props:t},r,n){if(t[0].type!=="block-scalar-header")return n(t[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:i}=t[0],o=i[0],s=0,a="",c=-1;for(let d=1;d<i.length;++d){let p=i[d];if(!a&&(p==="-"||p==="+"))a=p;else{let h=Number(p);!s&&h?s=h:c===-1&&(c=e+d)}}c!==-1&&n(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let l=!1,u="",f=i.length;for(let d=1;d<t.length;++d){let p=t[d];switch(p.type){case"space":l=!0;case"newline":f+=p.source.length;break;case"comment":r&&!l&&n(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=p.source.length,u=p.source.substring(1);break;case"error":n(p,"UNEXPECTED_TOKEN",p.message),f+=p.source.length;break;default:{let h=`Unexpected token in block scalar header: ${p.type}`;n(p,"UNEXPECTED_TOKEN",h);let m=p.source;m&&typeof m=="string"&&(f+=m.length)}}}return{mode:o,indent:s,chomp:a,comment:u,length:f}}function zge(e){let t=e.split(/\n( *)/),r=t[0],n=r.match(/^( *)/),o=[n&&n[1]?[n[1],r.slice(n[1].length)]:["",r]];for(let s=1;s<t.length;s+=2)o.push([t[s],t[s+1]]);return o}LG.resolveBlockScalar=Vge});var YI=T(MG=>{"use strict";var KI=dr(),Gge=Xf();function Kge(e,t,r){let{offset:n,type:i,source:o,end:s}=e,a,c,l=(d,p,h)=>r(n+d,p,h);switch(i){case"scalar":a=KI.Scalar.PLAIN,c=Yge(o,l);break;case"single-quoted-scalar":a=KI.Scalar.QUOTE_SINGLE,c=Jge(o,l);break;case"double-quoted-scalar":a=KI.Scalar.QUOTE_DOUBLE,c=Qge(o,l);break;default:return r(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[n,n+o.length,n+o.length]}}let u=n+o.length,f=Gge.resolveEnd(s,u,t,r);return{value:c,type:a,comment:f.comment,range:[n,u,f.offset]}}function Yge(e,t){let r="";switch(e[0]){case"	":r="a tab character";break;case",":r="flow indicator character ,";break;case"%":r="directive indicator character %";break;case"|":case">":{r=`block scalar indicator ${e[0]}`;break}case"@":case"`":{r=`reserved character ${e[0]}`;break}}return r&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${r}`),FG(e)}function Jge(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),FG(e.slice(1,-1)).replace(/''/g,"'")}function FG(e){let t,r;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),r=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,r=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=t.exec(e);if(!n)return e;let i=n[1],o=" ",s=t.lastIndex;for(r.lastIndex=s;n=r.exec(e);)n[1]===""?o===`
`?i+=o:o=`
`:(i+=o+n[1],o=" "),s=r.lastIndex;let a=/[ \t]*(.*)/sy;return a.lastIndex=s,n=a.exec(e),i+o+(n&&n[1]||"")}function Qge(e,t){let r="";for(let n=1;n<e.length-1;++n){let i=e[n];if(!(i==="\r"&&e[n+1]===`
`))if(i===`
`){let{fold:o,offset:s}=Xge(e,n);r+=o,n=s}else if(i==="\\"){let o=e[++n],s=Zge[o];if(s)r+=s;else if(o===`
`)for(o=e[n+1];o===" "||o==="	";)o=e[++n+1];else if(o==="\r"&&e[n+1]===`
`)for(o=e[++n+1];o===" "||o==="	";)o=e[++n+1];else if(o==="x"||o==="u"||o==="U"){let a={x:2,u:4,U:8}[o];r+=eve(e,n+1,a,t),n+=a}else{let a=e.substr(n-1,2);t(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),r+=a}}else if(i===" "||i==="	"){let o=n,s=e[n+1];for(;s===" "||s==="	";)s=e[++n+1];s!==`
`&&!(s==="\r"&&e[n+2]===`
`)&&(r+=n>o?e.slice(o,n+1):i)}else r+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),r}function Xge(e,t){let r="",n=e[t+1];for(;(n===" "||n==="	"||n===`
`||n==="\r")&&!(n==="\r"&&e[t+2]!==`
`);)n===`
`&&(r+=`
`),t+=1,n=e[t+1];return r||(r=" "),{fold:r,offset:t}}var Zge={"0":"\0",a:"\x07",b:"\b",e:"",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function eve(e,t,r,n){let i=e.substr(t,r),s=i.length===r&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(s)){let a=e.substr(t-2,r+2);return n(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(s)}MG.resolveFlowScalar=Kge});var $G=T(qG=>{"use strict";var Zf=_t(),jG=dr(),tve=GI(),rve=YI();function nve(e,t,r,n){let{value:i,type:o,comment:s,range:a}=t.type==="block-scalar"?tve.resolveBlockScalar(t,e.options.strict,n):rve.resolveFlowScalar(t,e.options.strict,n),c=r?e.directives.tagName(r.source,f=>n(r,"TAG_RESOLVE_FAILED",f)):null,l=r&&c?ive(e.schema,i,c,r,n):t.type==="scalar"?ove(e,i,t,n):e.schema[Zf.SCALAR],u;try{let f=l.resolve(i,d=>n(r||t,"TAG_RESOLVE_FAILED",d),e.options);u=Zf.isScalar(f)?f:new jG.Scalar(f)}catch(f){let d=f instanceof Error?f.message:String(f);n(r||t,"TAG_RESOLVE_FAILED",d),u=new jG.Scalar(i)}return u.range=a,u.source=i,o&&(u.type=o),c&&(u.tag=c),l.format&&(u.format=l.format),s&&(u.comment=s),u}function ive(e,t,r,n,i){var o;if(r==="!")return e[Zf.SCALAR];let s=[];for(let c of e.tags)if(!c.collection&&c.tag===r)if(c.default&&c.test)s.push(c);else return c;for(let c of s)if((o=c.test)===null||o===void 0?void 0:o.test(t))return c;let a=e.knownTags[r];return a&&!a.collection?(e.tags.push(Object.assign({},a,{default:!1,test:void 0})),a):(i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${r}`,r!=="tag:yaml.org,2002:str"),e[Zf.SCALAR])}function ove({directives:e,schema:t},r,n,i){let o=t.tags.find(s=>{var a;return s.default&&((a=s.test)===null||a===void 0?void 0:a.test(r))})||t[Zf.SCALAR];if(t.compat){let s=t.compat.find(a=>{var c;return a.default&&((c=a.test)===null||c===void 0?void 0:c.test(r))})||t[Zf.SCALAR];if(o.tag!==s.tag){let a=e.tagString(o.tag),c=e.tagString(s.tag),l=`Value may be parsed as either ${a} or ${c}`;i(n,"TAG_RESOLVE_FAILED",l,!0)}}return o}qG.composeScalar=nve});var BG=T(UG=>{"use strict";function sve(e,t,r){if(t){r===null&&(r=t.length);for(let n=r-1;n>=0;--n){let i=t[n];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++n];(i==null?void 0:i.type)==="space";)e+=i.source.length,i=t[++n];break}}return e}UG.emptyScalarPosition=sve});var zG=T(JI=>{"use strict";var ave=Zh(),cve=NG(),HG=$G(),lve=Xf(),uve=BG(),fve={composeNode:VG,composeEmptyNode:WG};function VG(e,t,r,n){let{spaceBefore:i,comment:o,anchor:s,tag:a}=r,c;switch(t.type){case"alias":c=dve(e,t,n),(s||a)&&n(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=HG.composeScalar(e,t,a,n),s&&(c.anchor=s.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=cve.composeCollection(fve,e,t,a,n),s&&(c.anchor=s.source.substring(1));break;default:throw console.log(t),new Error(`Unsupporten token type: ${t.type}`)}return s&&c.anchor===""&&n(s,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(c.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?c.comment=o:c.commentBefore=o),e.options.keepSourceTokens&&(c.srcToken=t),c}function WG(e,t,r,n,{spaceBefore:i,comment:o,anchor:s,tag:a},c){let l={type:"scalar",offset:uve.emptyScalarPosition(t,r,n),indent:-1,source:""},u=HG.composeScalar(e,l,a,c);return s&&(u.anchor=s.source.substring(1),u.anchor===""&&c(s,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(u.spaceBefore=!0),o&&(u.comment=o),u}function dve({options:e},{offset:t,source:r,end:n},i){let o=new ave.Alias(r.substring(1));o.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string");let s=t+r.length,a=lve.resolveEnd(n,s,e.strict,i);return o.range=[t,s,a.offset],a.comment&&(o.comment=a.comment),o}JI.composeEmptyNode=WG;JI.composeNode=VG});var YG=T(KG=>{"use strict";var pve=gm(),GG=zG(),hve=Xf(),mve=wm();function gve(e,t,{offset:r,start:n,value:i,end:o},s){let a=Object.assign({directives:t},e),c=new pve.Document(void 0,a),l={atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},u=mve.resolveProps(n,{indicator:"doc-start",next:i||(o==null?void 0:o[0]),offset:r,onError:s,startOnNewline:!0});u.found&&(c.directives.marker=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!u.hasNewline&&s(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=i?GG.composeNode(l,i,u,s):GG.composeEmptyNode(l,u.end,n,null,u,s);let f=c.contents.range[2],d=hve.resolveEnd(o,f,!1,s);return d.comment&&(c.comment=d.comment),c.range=[r,f,d.offset],c}KG.composeDoc=gve});var QI=T(ZG=>{"use strict";var vve=Yk(),yve=gm(),Cm=ym(),JG=_t(),wve=FC(),Cve=YG(),bve=Xf();function bm(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];let{offset:t,source:r}=e;return[t,t+(typeof r=="string"?r.length:1)]}function QG(e){var t;let r="",n=!1,i=!1;for(let o=0;o<e.length;++o){let s=e[o];switch(s[0]){case"#":r+=(r===""?"":i?`

`:`
`)+(s.substring(1)||" "),n=!0,i=!1;break;case"%":((t=e[o+1])===null||t===void 0?void 0:t[0])!=="#"&&(o+=1),n=!1;break;default:n||(i=!0),n=!1}}return{comment:r,afterEmptyLine:i}}var XG=class{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(r,n,i,o)=>{let s=bm(r);o?this.warnings.push(new Cm.YAMLWarning(s,n,i)):this.errors.push(new Cm.YAMLParseError(s,n,i))},this.directives=new vve.Directives({version:t.version||wve.defaultOptions.version}),this.options=t}decorate(t,r){let{comment:n,afterEmptyLine:i}=QG(this.prelude);if(n){let o=t.contents;if(r)t.comment=t.comment?`${t.comment}
${n}`:n;else if(i||t.directives.marker||!o)t.commentBefore=n;else if(JG.isCollection(o)&&!o.flow&&o.items.length>0){let s=o.items[0];JG.isPair(s)&&(s=s.key);let a=s.commentBefore;s.commentBefore=a?`${n}
${a}`:n}else{let s=o.commentBefore;o.commentBefore=s?`${n}
${s}`:n}}r?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:QG(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,r=!1,n=-1){for(let i of t)yield*this.next(i);yield*this.end(r,n)}*next(t){switch(process.env.LOG_STREAM&&console.dir(t,{depth:null}),t.type){case"directive":this.directives.add(t.source,(r,n,i)=>{let o=bm(t);o[0]+=r,this.onError(o,"BAD_DIRECTIVE",n,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{let r=Cve.composeDoc(this.options,this.directives,t,this.onError);this.atDirectives&&!r.directives.marker&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),this.decorate(r,!1),this.doc&&(yield this.doc),this.doc=r,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{let r=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,n=new Cm.YAMLParseError(bm(t),"UNEXPECTED_TOKEN",r);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){let n="Unexpected doc-end without preceding document";this.errors.push(new Cm.YAMLParseError(bm(t),"UNEXPECTED_TOKEN",n));break}let r=bve.resolveEnd(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),r.comment){let n=this.doc.comment;this.doc.comment=n?`${n}
${r.comment}`:r.comment}this.doc.range[2]=r.offset;break}default:this.errors.push(new Cm.YAMLParseError(bm(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,r=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){let n=Object.assign({directives:this.directives},this.options),i=new yve.Document(void 0,n);this.atDirectives&&this.onError(r,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,r,r],this.decorate(i,!1),yield i}}};ZG.Composer=XG});var r4=T(c0=>{"use strict";var Eve=GI(),_ve=YI(),Sve=ym(),e4=sm();function xve(e,t=!0,r){if(e){let n=(i,o,s)=>{let a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(r)r(a,o,s);else throw new Sve.YAMLParseError([a,a+1],o,s)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return _ve.resolveFlowScalar(e,t,n);case"block-scalar":return Eve.resolveBlockScalar(e,t,n)}}return null}function Pve(e,t){var r;let{implicitKey:n=!1,indent:i,inFlow:o=!1,offset:s=-1,type:a="PLAIN"}=t,c=e4.stringifyString({type:a,value:e},{implicitKey:n,indent:i>0?" ".repeat(i):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}}),l=(r=t.end)!==null&&r!==void 0?r:[{type:"newline",offset:-1,indent:i,source:`
`}];switch(c[0]){case"|":case">":{let u=c.indexOf(`
`),f=c.substring(0,u),d=c.substring(u+1)+`
`,p=[{type:"block-scalar-header",offset:s,indent:i,source:f}];return t4(p,l)||p.push({type:"newline",offset:-1,indent:i,source:`
`}),{type:"block-scalar",offset:s,indent:i,props:p,source:d}}case'"':return{type:"double-quoted-scalar",offset:s,indent:i,source:c,end:l};case"'":return{type:"single-quoted-scalar",offset:s,indent:i,source:c,end:l};default:return{type:"scalar",offset:s,indent:i,source:c,end:l}}}function kve(e,t,r={}){let{afterKey:n=!1,implicitKey:i=!1,inFlow:o=!1,type:s}=r,a="indent"in e?e.indent:null;if(n&&typeof a=="number"&&(a+=2),!s)switch(e.type){case"single-quoted-scalar":s="QUOTE_SINGLE";break;case"double-quoted-scalar":s="QUOTE_DOUBLE";break;case"block-scalar":{let l=e.props[0];if(l.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s=l.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:s="PLAIN"}let c=e4.stringifyString({type:s,value:t},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(c[0]){case"|":case">":Ive(e,c);break;case'"':XI(e,c,"double-quoted-scalar");break;case"'":XI(e,c,"single-quoted-scalar");break;default:XI(e,c,"scalar")}}function Ive(e,t){let r=t.indexOf(`
`),n=t.substring(0,r),i=t.substring(r+1)+`
`;if(e.type==="block-scalar"){let o=e.props[0];if(o.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o.source=n,e.source=i}else{let{offset:o}=e,s="indent"in e?e.indent:-1,a=[{type:"block-scalar-header",offset:o,indent:s,source:n}];t4(a,"end"in e?e.end:void 0)||a.push({type:"newline",offset:-1,indent:s,source:`
`});for(let c of Object.keys(e))c!=="type"&&c!=="offset"&&delete e[c];Object.assign(e,{type:"block-scalar",indent:s,props:a,source:i})}}function t4(e,t){if(t)for(let r of t)switch(r.type){case"space":case"comment":e.push(r);break;case"newline":return e.push(r),!0}return!1}function XI(e,t,r){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=r,e.source=t;break;case"block-scalar":{let n=e.props.slice(1),i=t.length;e.props[0].type==="block-scalar-header"&&(i-=e.props[0].source.length);for(let o of n)o.offset+=i;delete e.props,Object.assign(e,{type:r,source:t,end:n});break}case"block-map":case"block-seq":{let n=e.offset+t.length,i={type:"newline",offset:n,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:r,source:t,end:[i]});break}default:{let n="indent"in e?e.indent:-1,i="end"in e&&Array.isArray(e.end)?e.end.filter(o=>o.type==="space"||o.type==="comment"||o.type==="newline"):[];for(let o of Object.keys(e))o!=="type"&&o!=="offset"&&delete e[o];Object.assign(e,{type:r,indent:n,source:t,end:i})}}}c0.createScalarToken=Pve;c0.resolveAsScalar=xve;c0.setScalarValue=kve});var i4=T(n4=>{"use strict";var Tve=e=>"type"in e?l0(e):u0(e);function l0(e){switch(e.type){case"block-scalar":{let t="";for(let r of e.props)t+=l0(r);return t+e.source}case"block-map":case"block-seq":{let t="";for(let r of e.items)t+=u0(r);return t}case"flow-collection":{let t=e.start.source;for(let r of e.items)t+=u0(r);for(let r of e.end)t+=r.source;return t}case"document":{let t=u0(e);if(e.end)for(let r of e.end)t+=r.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(let r of e.end)t+=r.source;return t}}}function u0({start:e,key:t,sep:r,value:n}){let i="";for(let o of e)i+=o.source;if(t&&(i+=l0(t)),r)for(let o of r)i+=o.source;return n&&(i+=l0(n)),i}n4.stringify=Tve});var c4=T(a4=>{"use strict";var ZI=Symbol("break visit"),Ave=Symbol("skip children"),o4=Symbol("remove item");function kl(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),s4(Object.freeze([]),e,t)}kl.BREAK=ZI;kl.SKIP=Ave;kl.REMOVE=o4;kl.itemAtPath=(e,t)=>{let r=e;for(let[n,i]of t){let o=r&&r[n];if(o&&"items"in o)r=o.items[i];else return}return r};kl.parentCollection=(e,t)=>{let r=kl.itemAtPath(e,t.slice(0,-1)),n=t[t.length-1][0],i=r&&r[n];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function s4(e,t,r){let n=r(t,e);if(typeof n=="symbol")return n;for(let i of["key","value"]){let o=t[i];if(o&&"items"in o){for(let s=0;s<o.items.length;++s){let a=s4(Object.freeze(e.concat([[i,s]])),o.items[s],r);if(typeof a=="number")s=a-1;else{if(a===ZI)return ZI;a===o4&&(o.items.splice(s,1),s-=1)}}typeof n=="function"&&i==="key"&&(n=n(t,e))}}return typeof n=="function"?n(t,e):n}a4.visit=kl});var f0=T(xn=>{"use strict";var eT=r4(),Dve=i4(),Rve=c4(),tT="\uFEFF",rT="",nT="",iT="",Ove=e=>!!e&&"items"in e,Nve=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function Lve(e){switch(e){case tT:return"<BOM>";case rT:return"<DOC>";case nT:return"<FLOW_END>";case iT:return"<SCALAR>";default:return JSON.stringify(e)}}function Fve(e){switch(e){case tT:return"byte-order-mark";case rT:return"doc-mode";case nT:return"flow-error-end";case iT:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}xn.createScalarToken=eT.createScalarToken;xn.resolveAsScalar=eT.resolveAsScalar;xn.setScalarValue=eT.setScalarValue;xn.stringify=Dve.stringify;xn.visit=Rve.visit;xn.BOM=tT;xn.DOCUMENT=rT;xn.FLOW_END=nT;xn.SCALAR=iT;xn.isCollection=Ove;xn.isScalar=Nve;xn.prettyToken=Lve;xn.tokenType=Fve});var sT=T(d4=>{"use strict";var Em=f0();function ki(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}var l4="0123456789ABCDEFabcdef".split(""),Mve="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),u4=",[]{}".split(""),jve=` ,[]{}
\r	`.split(""),oT=e=>!e||jve.includes(e),f4=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,r=!1){t&&(this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null),this.atEnd=!r;let n=this.next||"stream";for(;n&&(r||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let t=this.pos,r=this.buffer[t];for(;r===" "||r==="	";)r=this.buffer[++t];return!r||r==="#"||r===`
`?!0:r==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let r=this.buffer[t];if(this.indentNext>0){let n=0;for(;r===" ";)r=this.buffer[++n+t];if(r==="\r"){let i=this.buffer[n+t+1];if(i===`
`||!i&&!this.atEnd)return t+n+1}return r===`
`||n>=this.indentNext||!r&&!this.atEnd?t+n:-1}if(r==="-"||r==="."){let n=this.buffer.substr(t,3);if((n==="---"||n==="...")&&ki(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===Em.BOM&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let r=t.length,n=t.indexOf("#");if(n!==-1){let o=t[n-1];(o===" "||o==="	")&&(r=n-1)}for(;;){let o=t[r-1];if(o===" "||o==="	")r-=1;else break}let i=(yield*this.pushCount(r))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){let r=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-r),yield*this.pushNewline(),"stream"}return yield Em.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let r=this.peek(3);if(r==="---"&&ki(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(r==="..."&&ki(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!ki(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[t,r]=this.peek(2);if(!r&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&ki(r)){let n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let t=this.getLine();if(t===null)return this.setNext("doc");let r=yield*this.pushIndicators();switch(t[r]){case"#":yield*this.pushCount(t.length-r);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(oT),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return r+=yield*this.parseBlockScalarHeader(),r+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-r),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,r,n=-1;do t=yield*this.pushNewline(),r=yield*this.pushSpaces(!0),t>0&&(this.indentValue=n=r);while(t+r>0);let i=this.getLine();if(i===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&i[0]!=="#"||n===0&&(i.startsWith("---")||i.startsWith("..."))&&ki(i[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield Em.FLOW_END,yield*this.parseLineStart();let o=0;for(;i[o]===",";)o+=yield*this.pushCount(1),o+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(o+=yield*this.pushIndicators(),i[o]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(oT),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let s=this.charAt(1);if(this.flowKey||ki(s)||s===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let t=this.charAt(0),r=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;r!==-1&&this.buffer[r+1]==="'";)r=this.buffer.indexOf("'",r+2);else for(;r!==-1;){let o=0;for(;this.buffer[r-1-o]==="\\";)o+=1;if(o%2==0)break;r=this.buffer.indexOf('"',r+1)}let n=this.buffer.substring(0,r),i=n.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){let o=this.continueScalar(i+1);if(o===-1)break;i=n.indexOf(`
`,o)}i!==-1&&(r=i-(n[i-1]==="\r"?2:1))}if(r===-1){if(!this.atEnd)return this.setNext("quoted-scalar");r=this.buffer.length}return yield*this.pushToIndex(r+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){let r=this.buffer[++t];if(r==="+")this.blockScalarKeep=!0;else if(r>"0"&&r<="9")this.blockScalarIndent=Number(r)-1;else if(r!=="-")break}return yield*this.pushUntil(r=>ki(r)||r==="#")}*parseBlockScalar(){let t=this.pos-1,r=0,n;e:for(let i=this.pos;n=this.buffer[i];++i)switch(n){case" ":r+=1;break;case`
`:t=i,r=0;break;case"\r":{let o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(r>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=r:this.indentNext+=this.blockScalarIndent;do{let i=this.continueScalar(t+1);if(i===-1)break;t=this.buffer.indexOf(`
`,i)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)do{let i=t-1,o=this.buffer[i];for(o==="\r"&&(o=this.buffer[--i]);o===" "||o==="	";)o=this.buffer[--i];if(o===`
`&&i>=this.pos)t=i;else break}while(!0);return yield Em.SCALAR,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let t=this.flowLevel>0,r=this.pos-1,n=this.pos-1,i;for(;i=this.buffer[++n];)if(i===":"){let o=this.buffer[n+1];if(ki(o)||t&&o===",")break;r=n}else if(ki(i)){let o=this.buffer[n+1];if(i==="\r"&&(o===`
`?(n+=1,i=`
`,o=this.buffer[n+1]):r=n),o==="#"||t&&u4.includes(o))break;if(i===`
`){let s=this.continueScalar(n+1);if(s===-1)break;n=Math.max(n,s-2)}}else{if(t&&u4.includes(i))break;r=n}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield Em.SCALAR,yield*this.pushToIndex(r+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,r){let n=this.buffer.slice(this.pos,t);return n?(yield n,this.pos+=n.length,n.length):(r&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(oT))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case":":case"?":case"-":if(ki(this.charAt(1)))return this.flowLevel===0?this.indentNext=this.indentValue+1:this.flowKey&&(this.flowKey=!1),(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,r=this.buffer[t];for(;!ki(r)&&r!==">";)r=this.buffer[++t];return yield*this.pushToIndex(r===">"?t+1:t,!1)}else{let t=this.pos+1,r=this.buffer[t];for(;r;)if(Mve.includes(r))r=this.buffer[++t];else if(r==="%"&&l4.includes(this.buffer[t+1])&&l4.includes(this.buffer[t+2]))r=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){let t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let r=this.pos-1,n;do n=this.buffer[++r];while(n===" "||t&&n==="	");let i=r-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=r),i}*pushUntil(t){let r=this.pos,n=this.buffer[r];for(;!t(n);)n=this.buffer[++r];return yield*this.pushToIndex(r,!1)}};d4.Lexer=f4});var aT=T(h4=>{"use strict";var p4=class{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let r=0,n=this.lineStarts.length;for(;r<n;){let o=r+n>>1;this.lineStarts[o]<t?r=o+1:n=o}if(this.lineStarts[r]===t)return{line:r+1,col:1};if(r===0)return{line:0,col:t};let i=this.lineStarts[r-1];return{line:r,col:t-i+1}}}};h4.LineCounter=p4});var lT=T(w4=>{"use strict";var m4=f0(),qve=sT();function jo(e,t){for(let r=0;r<e.length;++r)if(e[r].type===t)return!0;return!1}function cT(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return!0}return!1}function g4(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function d0(e){switch(e.type){case"document":return e.start;case"block-map":{let t=e.items[e.items.length-1];return t.sep||t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function _m(e){var t;if(e.length===0)return[];let r=e.length;e:for(;--r>=0;)switch(e[r].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((t=e[++r])===null||t===void 0?void 0:t.type)==="space";);return e.splice(r,e.length)}function v4(e){if(e.start.type==="flow-seq-start")for(let t of e.items)t.sep&&!t.value&&!jo(t.start,"explicit-key-ind")&&!jo(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,g4(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}var y4=class{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new qve.Lexer,this.onNewLine=t}*parse(t,r=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let n of this.lexer.lex(t,r))yield*this.next(n);r||(yield*this.end())}*next(t){if(this.source=t,process.env.LOG_TOKENS&&console.log("|",m4.prettyToken(t)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}let r=m4.tokenType(t);if(r)if(r==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=r,yield*this.step(),r){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{let n=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:n,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){let r=t||this.stack.pop();if(r)if(this.stack.length===0)yield r;else{let n=this.peek(1);switch(r.type==="block-scalar"?r.indent="indent"in n?n.indent:0:r.type==="flow-collection"&&n.type==="document"&&(r.indent=0),r.type==="flow-collection"&&v4(r),n.type){case"document":n.value=r;break;case"block-scalar":n.props.push(r);break;case"block-map":{let i=n.items[n.items.length-1];if(i.value){n.items.push({start:[],key:r,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=r;else{Object.assign(i,{key:r,sep:[]}),this.onKeyLine=!jo(i.start,"explicit-key-ind");return}break}case"block-seq":{let i=n.items[n.items.length-1];i.value?n.items.push({start:[],value:r}):i.value=r;break}case"flow-collection":{let i=n.items[n.items.length-1];!i||i.value?n.items.push({start:[],key:r,sep:[]}):i.sep?i.value=r:Object.assign(i,{key:r,sep:[]});return}default:yield*this.pop(),yield*this.pop(r)}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(r.type==="block-map"||r.type==="block-seq")){let i=r.items[r.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&!cT(i.start)&&(r.indent===0||i.start.every(o=>o.type!=="comment"||o.indent<r.indent))&&(n.type==="document"?n.end=i.start:n.items.push({start:i.start}),r.items.splice(-1,1))}}else{let n="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:n}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{cT(t.start)?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}let r=this.startBlockValue(t);r?this.stack.push(r):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){let r=d0(this.peek(2)),n=_m(r),i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];let o={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:n,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var r;let n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){let i="end"in n.value?n.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){let i=t.items[t.items.length-2],o=(r=i==null?void 0:i.value)===null||r===void 0?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){let i=!this.onKeyLine&&this.indent===t.indent&&(n.sep||cT(n.start));switch(this.type){case"anchor":case"tag":i||n.value?(t.items.push({start:[this.sourceToken]}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!jo(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):i||n.value?t.items.push({start:[this.sourceToken]}):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(!n.sep)Object.assign(n,{key:null,sep:[this.sourceToken]});else if(n.value||i&&!jo(n.start,"explicit-key-ind"))t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(jo(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]});else if(jo(n.start,"explicit-key-ind")&&g4(n.key)&&!jo(n.sep,"newline")){let o=_m(n.start),s=n.key,a=n.sep;a.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:s,sep:a}]})}else n.sep.push(this.sourceToken);this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let o=this.flowScalar(this.type);i||n.value?(t.items.push({start:[],key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{let o=this.startBlockValue(t);if(o){i&&o.type!=="block-seq"&&jo(n.start,"explicit-key-ind")&&t.items.push({start:[]}),this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var r;let n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){let i="end"in n.value?n.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){let i=t.items[t.items.length-2],o=(r=i==null?void 0:i.value)===null||r===void 0?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||jo(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){let i=this.startBlockValue(t);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){let r=t.items[t.items.length-1];if(this.type==="flow-error-end"){let n;do yield*this.pop(),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!r||r.sep?t.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return;case"map-value-ind":!r||r.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!r||r.value?t.items.push({start:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let i=this.flowScalar(this.type);!r||r.value?t.items.push({start:[],key:i,sep:[]}):r.sep?this.stack.push(i):Object.assign(r,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}let n=this.startBlockValue(t);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{let n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){let i=d0(n),o=_m(i);v4(t);let s=t.end.splice(1,t.end.length);s.push(this.sourceToken);let a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:o,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let r=d0(t),n=_m(r);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n}]}}case"map-value-ind":{this.onKeyLine=!0;let r=d0(t),n=_m(r);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,r){return this.type!=="comment"||this.indent<=r?!1:t.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};w4.Parser=y4});var S4=T(xm=>{"use strict";var C4=QI(),$ve=gm(),Sm=ym(),Uve=nI(),Bve=aT(),b4=lT();function E4(e){let t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new Bve.LineCounter||null,prettyErrors:t}}function Hve(e,t={}){let{lineCounter:r,prettyErrors:n}=E4(t),i=new b4.Parser(r==null?void 0:r.addNewLine),o=new C4.Composer(t),s=Array.from(o.compose(i.parse(e)));if(n&&r)for(let a of s)a.errors.forEach(Sm.prettifyError(e,r)),a.warnings.forEach(Sm.prettifyError(e,r));return s.length>0?s:Object.assign([],{empty:!0},o.streamInfo())}function _4(e,t={}){let{lineCounter:r,prettyErrors:n}=E4(t),i=new b4.Parser(r==null?void 0:r.addNewLine),o=new C4.Composer(t),s=null;for(let a of o.compose(i.parse(e),!0,e.length))if(!s)s=a;else if(s.options.logLevel!=="silent"){s.errors.push(new Sm.YAMLParseError(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&r&&(s.errors.forEach(Sm.prettifyError(e,r)),s.warnings.forEach(Sm.prettifyError(e,r))),s}function Vve(e,t,r){let n;typeof t=="function"?n=t:r===void 0&&t&&typeof t=="object"&&(r=t);let i=_4(e,r);if(!i)return null;if(i.warnings.forEach(o=>Uve.warn(i.options.logLevel,o)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:n},r))}function Wve(e,t,r){let n=null;if(typeof t=="function"||Array.isArray(t)?n=t:r===void 0&&t&&(r=t),typeof r=="string"&&(r=r.length),typeof r=="number"){let i=Math.round(r);r=i<1?void 0:i>8?{indent:8}:{indent:i}}if(e===void 0){let{keepUndefined:i}=r||t||{};if(!i)return}return new $ve.Document(e,n,r).toString(r)}xm.parse=Vve;xm.parseAllDocuments=Hve;xm.parseDocument=_4;xm.stringify=Wve});var fT=T(St=>{"use strict";var zve=QI(),Gve=gm(),Kve=MI(),uT=ym(),Yve=Zh(),La=_t(),Jve=ks(),Qve=dr(),Xve=xl(),Zve=Pl(),eye=FC(),tye=f0(),rye=sT(),nye=aT(),iye=lT(),p0=S4(),oye=Jh();St.Composer=zve.Composer;St.Document=Gve.Document;St.Schema=Kve.Schema;St.YAMLError=uT.YAMLError;St.YAMLParseError=uT.YAMLParseError;St.YAMLWarning=uT.YAMLWarning;St.Alias=Yve.Alias;St.isAlias=La.isAlias;St.isCollection=La.isCollection;St.isDocument=La.isDocument;St.isMap=La.isMap;St.isNode=La.isNode;St.isPair=La.isPair;St.isScalar=La.isScalar;St.isSeq=La.isSeq;St.Pair=Jve.Pair;St.Scalar=Qve.Scalar;St.YAMLMap=Xve.YAMLMap;St.YAMLSeq=Zve.YAMLSeq;St.defaultOptions=eye.defaultOptions;St.CST=tye;St.Lexer=rye.Lexer;St.LineCounter=nye.LineCounter;St.Parser=iye.Parser;St.parse=p0.parse;St.parseAllDocuments=p0.parseAllDocuments;St.parseDocument=p0.parseDocument;St.stringify=p0.stringify;St.visit=oye.visit});var x4=T((Hje,sye)=>{sye.exports={Aacute:"\xC1",aacute:"\xE1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",Acy:"\u0410",acy:"\u0430",AElig:"\xC6",aelig:"\xE6",af:"\u2061",Afr:"\u{1D504}",afr:"\u{1D51E}",Agrave:"\xC0",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03B1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2A3F",amp:"&",AMP:"&",andand:"\u2A55",And:"\u2A53",and:"\u2227",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angmsd:"\u2221",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1D538}",aopf:"\u{1D552}",apacir:"\u2A6F",ap:"\u2248",apE:"\u2A70",ape:"\u224A",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",Aring:"\xC5",aring:"\xE5",Ascr:"\u{1D49C}",ascr:"\u{1D4B6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201E",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",Beta:"\u0392",beta:"\u03B2",beth:"\u2136",between:"\u226C",Bfr:"\u{1D505}",bfr:"\u{1D51F}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bNot:"\u2AED",bnot:"\u2310",Bopf:"\u{1D539}",bopf:"\u{1D553}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250C",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252C",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxul:"\u2518",boxuL:"\u255B",boxUl:"\u255C",boxUL:"\u255D",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255A",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253C",boxvH:"\u256A",boxVh:"\u256B",boxVH:"\u256C",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251C",boxvR:"\u255E",boxVr:"\u255F",boxVR:"\u2560",bprime:"\u2035",breve:"\u02D8",Breve:"\u02D8",brvbar:"\xA6",bscr:"\u{1D4B7}",Bscr:"\u212C",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsolb:"\u29C5",bsol:"\\",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpE:"\u2AAE",bumpe:"\u224F",Bumpeq:"\u224E",bumpeq:"\u224F",Cacute:"\u0106",cacute:"\u0107",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",cap:"\u2229",Cap:"\u22D2",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",Ccaron:"\u010C",ccaron:"\u010D",Ccedil:"\xC7",ccedil:"\xE7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",Cdot:"\u010A",cdot:"\u010B",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",centerdot:"\xB7",CenterDot:"\xB7",cfr:"\u{1D520}",Cfr:"\u212D",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03A7",chi:"\u03C7",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25CB",cirE:"\u29C3",cire:"\u2257",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2A74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",conint:"\u222E",Conint:"\u222F",ContourIntegral:"\u222E",copf:"\u{1D554}",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xA9",COPY:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",cross:"\u2717",Cross:"\u2A2F",Cscr:"\u{1D49E}",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",cupbrcap:"\u2A48",cupcap:"\u2A46",CupCap:"\u224D",cup:"\u222A",Cup:"\u22D3",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21A1",dArr:"\u21D3",dash:"\u2010",Dashv:"\u2AE4",dashv:"\u22A3",dbkarow:"\u290F",dblac:"\u02DD",Dcaron:"\u010E",dcaron:"\u010F",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21CA",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",Delta:"\u0394",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",Dfr:"\u{1D507}",dfr:"\u{1D521}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",diamond:"\u22C4",Diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",Dopf:"\u{1D53B}",dopf:"\u{1D555}",Dot:"\xA8",dot:"\u02D9",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21D3",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21BD",DownRightTeeVector:"\u295F",DownRightVectorBar:"\u2957",DownRightVector:"\u21C1",DownTeeArrow:"\u21A7",DownTee:"\u22A4",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",Dscr:"\u{1D49F}",dscr:"\u{1D4B9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29F6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",DZcy:"\u040F",dzcy:"\u045F",dzigrarr:"\u27FF",Eacute:"\xC9",eacute:"\xE9",easter:"\u2A6E",Ecaron:"\u011A",ecaron:"\u011B",Ecirc:"\xCA",ecirc:"\xEA",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042D",ecy:"\u044D",eDDot:"\u2A77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\u{1D508}",efr:"\u{1D522}",eg:"\u2A9A",Egrave:"\xC8",egrave:"\xE8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014A",eng:"\u014B",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1D53C}",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",Epsilon:"\u0395",epsilon:"\u03B5",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",escr:"\u212F",Escr:"\u2130",esdot:"\u2250",Esim:"\u2A73",esim:"\u2242",Eta:"\u0397",eta:"\u03B7",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",Ffr:"\u{1D509}",ffr:"\u{1D523}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",Fopf:"\u{1D53D}",fopf:"\u{1D557}",forall:"\u2200",ForAll:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",fscr:"\u{1D4BB}",Fscr:"\u2131",gacute:"\u01F5",Gamma:"\u0393",gamma:"\u03B3",Gammad:"\u03DC",gammad:"\u03DD",gap:"\u2A86",Gbreve:"\u011E",gbreve:"\u011F",Gcedil:"\u0122",Gcirc:"\u011C",gcirc:"\u011D",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2A8C",gel:"\u22DB",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",gescc:"\u2AA9",ges:"\u2A7E",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",Gfr:"\u{1D50A}",gfr:"\u{1D524}",gg:"\u226B",Gg:"\u22D9",ggg:"\u22D9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2AA5",gl:"\u2277",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gnE:"\u2269",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",Gopf:"\u{1D53E}",gopf:"\u{1D558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Gscr:"\u{1D4A2}",gscr:"\u210A",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gt:">",GT:">",Gt:"\u226B",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",HARDcy:"\u042A",hardcy:"\u044A",harrcir:"\u2948",harr:"\u2194",hArr:"\u21D4",harrw:"\u21AD",Hat:"^",hbar:"\u210F",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",Hfr:"\u210C",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",hopf:"\u{1D559}",Hopf:"\u210D",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\u{1D4BD}",Hscr:"\u210B",hslash:"\u210F",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xCD",iacute:"\xED",ic:"\u2063",Icirc:"\xCE",icirc:"\xEE",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xA1",iff:"\u21D4",ifr:"\u{1D526}",Ifr:"\u2111",Igrave:"\xCC",igrave:"\xEC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012A",imacr:"\u012B",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",incare:"\u2105",in:"\u2208",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",intcal:"\u22BA",int:"\u222B",Int:"\u222C",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012E",iogon:"\u012F",Iopf:"\u{1D540}",iopf:"\u{1D55A}",Iota:"\u0399",iota:"\u03B9",iprod:"\u2A3C",iquest:"\xBF",iscr:"\u{1D4BE}",Iscr:"\u2110",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xCF",iuml:"\xEF",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1D50D}",jfr:"\u{1D527}",jmath:"\u0237",Jopf:"\u{1D541}",jopf:"\u{1D55B}",Jscr:"\u{1D4A5}",jscr:"\u{1D4BF}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039A",kappa:"\u03BA",kappav:"\u03F0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041A",kcy:"\u043A",Kfr:"\u{1D50E}",kfr:"\u{1D528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040C",kjcy:"\u045C",Kopf:"\u{1D542}",kopf:"\u{1D55C}",Kscr:"\u{1D4A6}",kscr:"\u{1D4C0}",lAarr:"\u21DA",Lacute:"\u0139",lacute:"\u013A",laemptyv:"\u29B4",lagran:"\u2112",Lambda:"\u039B",lambda:"\u03BB",lang:"\u27E8",Lang:"\u27EA",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",larrb:"\u21E4",larrbfs:"\u291F",larr:"\u2190",Larr:"\u219E",lArr:"\u21D0",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",latail:"\u2919",lAtail:"\u291B",lat:"\u2AAB",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lBarr:"\u290E",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",Lcaron:"\u013D",lcaron:"\u013E",Lcedil:"\u013B",lcedil:"\u013C",lceil:"\u2308",lcub:"{",Lcy:"\u041B",lcy:"\u043B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27E8",LeftArrowBar:"\u21E4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21D0",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21C3",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21D4",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTeeArrow:"\u21A4",LeftTee:"\u22A3",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangleBar:"\u29CF",LeftTriangle:"\u22B2",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21BF",LeftVectorBar:"\u2952",LeftVector:"\u21BC",lEg:"\u2A8B",leg:"\u22DA",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",lescc:"\u2AA8",les:"\u2A7D",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",Lfr:"\u{1D50F}",lfr:"\u{1D529}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21C7",ll:"\u226A",Ll:"\u22D8",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",Lmidot:"\u013F",lmidot:"\u0140",lmoustache:"\u23B0",lmoust:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lnE:"\u2268",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",longleftarrow:"\u27F5",LongLeftArrow:"\u27F5",Longleftarrow:"\u27F8",longleftrightarrow:"\u27F7",LongLeftRightArrow:"\u27F7",Longleftrightarrow:"\u27FA",longmapsto:"\u27FC",longrightarrow:"\u27F6",LongRightArrow:"\u27F6",Longrightarrow:"\u27F9",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",Lopf:"\u{1D543}",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",Lscr:"\u2112",lsh:"\u21B0",Lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",lt:"<",LT:"<",Lt:"\u226A",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21A6",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",Mcy:"\u041C",mcy:"\u043C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",Mfr:"\u{1D510}",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midast:"*",midcir:"\u2AF0",mid:"\u2223",middot:"\xB7",minusb:"\u229F",minus:"\u2212",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",Mopf:"\u{1D544}",mopf:"\u{1D55E}",mp:"\u2213",mscr:"\u{1D4C2}",Mscr:"\u2133",mstpos:"\u223E",Mu:"\u039C",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266E",naturals:"\u2115",natur:"\u266E",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",Ncy:"\u041D",ncy:"\u043D",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21D7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1D511}",nfr:"\u{1D52B}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",nGt:"\u226B\u20D2",ngt:"\u226F",ngtr:"\u226F",nGtv:"\u226B\u0338",nharr:"\u21AE",nhArr:"\u21CE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",NJcy:"\u040A",njcy:"\u045A",nlarr:"\u219A",nlArr:"\u21CD",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219A",nLeftarrow:"\u21CD",nleftrightarrow:"\u21AE",nLeftrightarrow:"\u21CE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nLt:"\u226A\u20D2",nlt:"\u226E",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nopf:"\u{1D55F}",Nopf:"\u2115",Not:"\u2AEC",not:"\xAC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangle:"\u22EA",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangle:"\u22EB",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",nprec:"\u2280",npreceq:"\u2AAF\u0338",npre:"\u2AAF\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219B",nrArr:"\u21CF",nrarrw:"\u219D\u0338",nrightarrow:"\u219B",nRightarrow:"\u21CF",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",Nscr:"\u{1D4A9}",nscr:"\u{1D4C3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsube:"\u2288",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",Ntilde:"\xD1",ntilde:"\xF1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",Nu:"\u039D",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvDash:"\u22AD",nVdash:"\u22AE",nVDash:"\u22AF",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21D6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xD3",oacute:"\xF3",oast:"\u229B",Ocirc:"\xD4",ocirc:"\xF4",ocir:"\u229A",Ocy:"\u041E",ocy:"\u043E",odash:"\u229D",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29BF",Ofr:"\u{1D512}",ofr:"\u{1D52C}",ogon:"\u02DB",Ograve:"\xD2",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",Omacr:"\u014C",omacr:"\u014D",Omega:"\u03A9",omega:"\u03C9",Omicron:"\u039F",omicron:"\u03BF",omid:"\u29B6",ominus:"\u2296",Oopf:"\u{1D546}",oopf:"\u{1D560}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",orarr:"\u21BB",Or:"\u2A54",or:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",Oscr:"\u{1D4AA}",oscr:"\u2134",Oslash:"\xD8",oslash:"\xF8",osol:"\u2298",Otilde:"\xD5",otilde:"\xF5",otimesas:"\u2A36",Otimes:"\u2A37",otimes:"\u2297",Ouml:"\xD6",ouml:"\xF6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",para:"\xB6",parallel:"\u2225",par:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",Pcy:"\u041F",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",Pfr:"\u{1D513}",pfr:"\u{1D52D}",Phi:"\u03A6",phi:"\u03C6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",Pi:"\u03A0",pi:"\u03C0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plus:"+",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",popf:"\u{1D561}",Popf:"\u2119",pound:"\xA3",prap:"\u2AB7",Pr:"\u2ABB",pr:"\u227A",prcue:"\u227C",precapprox:"\u2AB7",prec:"\u227A",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",pre:"\u2AAF",prE:"\u2AB3",precsim:"\u227E",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportional:"\u221D",Proportion:"\u2237",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",Pscr:"\u{1D4AB}",pscr:"\u{1D4C5}",Psi:"\u03A8",psi:"\u03C8",puncsp:"\u2008",Qfr:"\u{1D514}",qfr:"\u{1D52E}",qint:"\u2A0C",qopf:"\u{1D562}",Qopf:"\u211A",qprime:"\u2057",Qscr:"\u{1D4AC}",qscr:"\u{1D4C6}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",quot:'"',QUOT:'"',rAarr:"\u21DB",race:"\u223D\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221A",raemptyv:"\u29B3",rang:"\u27E9",Rang:"\u27EB",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21A0",rArr:"\u21D2",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21A3",rarrw:"\u219D",ratail:"\u291A",rAtail:"\u291C",ratio:"\u2236",rationals:"\u211A",rbarr:"\u290D",rBarr:"\u290F",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",Re:"\u211C",rect:"\u25AD",reg:"\xAE",REG:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",rfr:"\u{1D52F}",Rfr:"\u211C",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",Rho:"\u03A1",rho:"\u03C1",rhov:"\u03F1",RightAngleBracket:"\u27E9",RightArrowBar:"\u21E5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21D2",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVectorBar:"\u2955",RightDownVector:"\u21C2",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTeeArrow:"\u21A6",RightTee:"\u22A2",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangleBar:"\u29D0",RightTriangle:"\u22B3",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVectorBar:"\u2954",RightUpVector:"\u21BE",RightVectorBar:"\u2953",RightVector:"\u21C0",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoustache:"\u23B1",rmoust:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",ropf:"\u{1D563}",Ropf:"\u211D",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",rscr:"\u{1D4C7}",Rscr:"\u211B",rsh:"\u21B1",Rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",Sacute:"\u015A",sacute:"\u015B",sbquo:"\u201A",scap:"\u2AB8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2ABC",sc:"\u227B",sccue:"\u227D",sce:"\u2AB0",scE:"\u2AB4",Scedil:"\u015E",scedil:"\u015F",Scirc:"\u015C",scirc:"\u015D",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",Scy:"\u0421",scy:"\u0441",sdotb:"\u22A1",sdot:"\u22C5",sdote:"\u2A66",searhk:"\u2925",searr:"\u2198",seArr:"\u21D8",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1D516}",sfr:"\u{1D530}",sfrown:"\u2322",sharp:"\u266F",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",Sigma:"\u03A3",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",SOFTcy:"\u042C",softcy:"\u044C",solbar:"\u233F",solb:"\u29C4",sol:"/",Sopf:"\u{1D54A}",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25A1",Square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squ:"\u25A1",squf:"\u25AA",srarr:"\u2192",Sscr:"\u{1D4AE}",sscr:"\u{1D4C8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",Star:"\u22C6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",sub:"\u2282",Sub:"\u22D0",subdot:"\u2ABD",subE:"\u2AC5",sube:"\u2286",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subne:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subset:"\u2282",Subset:"\u22D0",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succapprox:"\u2AB8",succ:"\u227B",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",sum:"\u2211",Sum:"\u2211",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",sup:"\u2283",Sup:"\u22D1",supdot:"\u2ABE",supdsub:"\u2AD8",supE:"\u2AC6",supe:"\u2287",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supne:"\u228B",supplus:"\u2AC0",supset:"\u2283",Supset:"\u22D1",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21D9",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",Tau:"\u03A4",tau:"\u03C4",tbrk:"\u23B4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20DB",telrec:"\u2315",Tfr:"\u{1D517}",tfr:"\u{1D531}",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223C",THORN:"\xDE",thorn:"\xFE",tilde:"\u02DC",Tilde:"\u223C",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2A31",timesb:"\u22A0",times:"\xD7",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",topbot:"\u2336",topcir:"\u2AF1",top:"\u22A4",Topf:"\u{1D54B}",topf:"\u{1D565}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",Tscr:"\u{1D4AF}",tscr:"\u{1D4C9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040B",tshcy:"\u045B",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",Uacute:"\xDA",uacute:"\xFA",uarr:"\u2191",Uarr:"\u219F",uArr:"\u21D1",Uarrocir:"\u2949",Ubrcy:"\u040E",ubrcy:"\u045E",Ubreve:"\u016C",ubreve:"\u016D",Ucirc:"\xDB",ucirc:"\xFB",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21C5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296E",ufisht:"\u297E",Ufr:"\u{1D518}",ufr:"\u{1D532}",Ugrave:"\xD9",ugrave:"\xF9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",Umacr:"\u016A",umacr:"\u016B",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1D54C}",uopf:"\u{1D566}",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21D1",UpArrowDownArrow:"\u21C5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21D5",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03C5",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",upsilon:"\u03C5",UpTeeArrow:"\u21A5",UpTee:"\u22A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",Uring:"\u016E",uring:"\u016F",urtri:"\u25F9",Uscr:"\u{1D4B0}",uscr:"\u{1D4CA}",utdot:"\u22F0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",Uuml:"\xDC",uuml:"\xFC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",varr:"\u2195",vArr:"\u21D5",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",vBar:"\u2AE8",Vbar:"\u2AEB",vBarv:"\u2AE9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22A2",vDash:"\u22A8",Vdash:"\u22A9",VDash:"\u22AB",Vdashl:"\u2AE6",veebar:"\u22BB",vee:"\u2228",Vee:"\u22C1",veeeq:"\u225A",vellip:"\u22EE",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",Vfr:"\u{1D519}",vfr:"\u{1D533}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",Vopf:"\u{1D54D}",vopf:"\u{1D567}",vprop:"\u221D",vrtri:"\u22B3",Vscr:"\u{1D4B1}",vscr:"\u{1D4CB}",vsubnE:"\u2ACB\uFE00",vsubne:"\u228A\uFE00",vsupnE:"\u2ACC\uFE00",vsupne:"\u228B\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2A5F",wedge:"\u2227",Wedge:"\u22C0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1D51A}",wfr:"\u{1D534}",Wopf:"\u{1D54E}",wopf:"\u{1D568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1D4B2}",wscr:"\u{1D4CC}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",Xfr:"\u{1D51B}",xfr:"\u{1D535}",xharr:"\u27F7",xhArr:"\u27FA",Xi:"\u039E",xi:"\u03BE",xlarr:"\u27F5",xlArr:"\u27F8",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",Xopf:"\u{1D54F}",xopf:"\u{1D569}",xoplus:"\u2A01",xotime:"\u2A02",xrarr:"\u27F6",xrArr:"\u27F9",Xscr:"\u{1D4B3}",xscr:"\u{1D4CD}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",Yacute:"\xDD",yacute:"\xFD",YAcy:"\u042F",yacy:"\u044F",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042B",ycy:"\u044B",yen:"\xA5",Yfr:"\u{1D51C}",yfr:"\u{1D536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1D550}",yopf:"\u{1D56A}",Yscr:"\u{1D4B4}",yscr:"\u{1D4CE}",YUcy:"\u042E",yucy:"\u044E",yuml:"\xFF",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017A",Zcaron:"\u017D",zcaron:"\u017E",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017B",zdot:"\u017C",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",Zeta:"\u0396",zeta:"\u03B6",zfr:"\u{1D537}",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",Zopf:"\u2124",Zscr:"\u{1D4B5}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"}});var dT=T((Vje,P4)=>{"use strict";P4.exports=x4()});var h0=T((Wje,k4)=>{k4.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/});var A4=T((zje,T4)=>{"use strict";var I4={};function aye(e){var t,r,n=I4[e];if(n)return n;for(n=I4[e]=[],t=0;t<128;t++)r=String.fromCharCode(t),/^[0-9a-z]$/i.test(r)?n.push(r):n.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)n[e.charCodeAt(t)]=e[t];return n}function m0(e,t,r){var n,i,o,s,a,c="";for(typeof t!="string"&&(r=t,t=m0.defaultChars),typeof r=="undefined"&&(r=!0),a=aye(t),n=0,i=e.length;n<i;n++){if(o=e.charCodeAt(n),r&&o===37&&n+2<i&&/^[0-9a-f]{2}$/i.test(e.slice(n+1,n+3))){c+=e.slice(n,n+3),n+=2;continue}if(o<128){c+=a[o];continue}if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&n+1<i&&(s=e.charCodeAt(n+1),s>=56320&&s<=57343)){c+=encodeURIComponent(e[n]+e[n+1]),n++;continue}c+="%EF%BF%BD";continue}c+=encodeURIComponent(e[n])}return c}m0.defaultChars=";/?:@&=+$,-_.!~*'()#";m0.componentChars="-_.!~*'()";T4.exports=m0});var O4=T((Gje,R4)=>{"use strict";var D4={};function cye(e){var t,r,n=D4[e];if(n)return n;for(n=D4[e]=[],t=0;t<128;t++)r=String.fromCharCode(t),n.push(r);for(t=0;t<e.length;t++)r=e.charCodeAt(t),n[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2);return n}function g0(e,t){var r;return typeof t!="string"&&(t=g0.defaultChars),r=cye(t),e.replace(/(%[a-f0-9]{2})+/gi,function(n){var i,o,s,a,c,l,u,f="";for(i=0,o=n.length;i<o;i+=3){if(s=parseInt(n.slice(i+1,i+3),16),s<128){f+=r[s];continue}if((s&224)==192&&i+3<o&&(a=parseInt(n.slice(i+4,i+6),16),(a&192)==128)){u=s<<6&1984|a&63,u<128?f+="\uFFFD\uFFFD":f+=String.fromCharCode(u),i+=3;continue}if((s&240)==224&&i+6<o&&(a=parseInt(n.slice(i+4,i+6),16),c=parseInt(n.slice(i+7,i+9),16),(a&192)==128&&(c&192)==128)){u=s<<12&61440|a<<6&4032|c&63,u<2048||u>=55296&&u<=57343?f+="\uFFFD\uFFFD\uFFFD":f+=String.fromCharCode(u),i+=6;continue}if((s&248)==240&&i+9<o&&(a=parseInt(n.slice(i+4,i+6),16),c=parseInt(n.slice(i+7,i+9),16),l=parseInt(n.slice(i+10,i+12),16),(a&192)==128&&(c&192)==128&&(l&192)==128)){u=s<<18&1835008|a<<12&258048|c<<6&4032|l&63,u<65536||u>1114111?f+="\uFFFD\uFFFD\uFFFD\uFFFD":(u-=65536,f+=String.fromCharCode(55296+(u>>10),56320+(u&1023))),i+=9;continue}f+="\uFFFD"}return f})}g0.defaultChars=";/?:@&=+$,#";g0.componentChars="";R4.exports=g0});var L4=T((Kje,N4)=>{"use strict";N4.exports=function(t){var r="";return r+=t.protocol||"",r+=t.slashes?"//":"",r+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?r+="["+t.hostname+"]":r+=t.hostname||"",r+=t.port?":"+t.port:"",r+=t.pathname||"",r+=t.search||"",r+=t.hash||"",r}});var B4=T((Yje,U4)=>{"use strict";function v0(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var lye=/^([a-z0-9.+-]+:)/i,uye=/:[0-9]*$/,fye=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,dye=["<",">",'"',"`"," ","\r",`
`,"	"],pye=["{","}","|","\\","^","`"].concat(dye),hye=["'"].concat(pye),F4=["%","/","?",";","#"].concat(hye),M4=["/","?","#"],mye=255,j4=/^[+a-z0-9A-Z_-]{0,63}$/,gye=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,q4={javascript:!0,"javascript:":!0},$4={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function vye(e,t){if(e&&e instanceof v0)return e;var r=new v0;return r.parse(e,t),r}v0.prototype.parse=function(e,t){var r,n,i,o,s,a=e;if(a=a.trim(),!t&&e.split("#").length===1){var c=fye.exec(a);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}var l=lye.exec(a);if(l&&(l=l[0],i=l.toLowerCase(),this.protocol=l,a=a.substr(l.length)),(t||l||a.match(/^\/\/[^@\/]+@[^@\/]+/))&&(s=a.substr(0,2)==="//",s&&!(l&&q4[l])&&(a=a.substr(2),this.slashes=!0)),!q4[l]&&(s||l&&!$4[l])){var u=-1;for(r=0;r<M4.length;r++)o=a.indexOf(M4[r]),o!==-1&&(u===-1||o<u)&&(u=o);var f,d;for(u===-1?d=a.lastIndexOf("@"):d=a.lastIndexOf("@",u),d!==-1&&(f=a.slice(0,d),a=a.slice(d+1),this.auth=f),u=-1,r=0;r<F4.length;r++)o=a.indexOf(F4[r]),o!==-1&&(u===-1||o<u)&&(u=o);u===-1&&(u=a.length),a[u-1]===":"&&u--;var p=a.slice(0,u);a=a.slice(u),this.parseHost(p),this.hostname=this.hostname||"";var h=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!h){var m=this.hostname.split(/\./);for(r=0,n=m.length;r<n;r++){var g=m[r];if(!!g&&!g.match(j4)){for(var v="",y=0,C=g.length;y<C;y++)g.charCodeAt(y)>127?v+="x":v+=g[y];if(!v.match(j4)){var b=m.slice(0,r),_=m.slice(r+1),P=g.match(gye);P&&(b.push(P[1]),_.unshift(P[2])),_.length&&(a=_.join(".")+a),this.hostname=b.join(".");break}}}}this.hostname.length>mye&&(this.hostname=""),h&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var S=a.indexOf("#");S!==-1&&(this.hash=a.substr(S),a=a.slice(0,S));var x=a.indexOf("?");return x!==-1&&(this.search=a.substr(x),a=a.slice(0,x)),a&&(this.pathname=a),$4[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this};v0.prototype.parseHost=function(e){var t=uye.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};U4.exports=vye});var pT=T((Jje,Pm)=>{"use strict";Pm.exports.encode=A4();Pm.exports.decode=O4();Pm.exports.format=L4();Pm.exports.parse=B4()});var hT=T((Qje,H4)=>{H4.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/});var mT=T((Xje,V4)=>{V4.exports=/[\0-\x1F\x7F-\x9F]/});var z4=T((Zje,W4)=>{W4.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/});var gT=T((eqe,G4)=>{G4.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/});var K4=T(ed=>{"use strict";ed.Any=hT();ed.Cc=mT();ed.Cf=z4();ed.P=h0();ed.Z=gT()});var Ct=T(Cr=>{"use strict";function yye(e){return Object.prototype.toString.call(e)}function wye(e){return yye(e)==="[object String]"}var Cye=Object.prototype.hasOwnProperty;function Y4(e,t){return Cye.call(e,t)}function bye(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(r){if(!!r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(n){e[n]=r[n]})}}),e}function Eye(e,t,r){return[].concat(e.slice(0,t),r,e.slice(t+1))}function J4(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)==65535||(e&65535)==65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function Q4(e){if(e>65535){e-=65536;var t=55296+(e>>10),r=56320+(e&1023);return String.fromCharCode(t,r)}return String.fromCharCode(e)}var X4=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,_ye=/&([a-z#][a-z0-9]{1,31});/gi,Sye=new RegExp(X4.source+"|"+_ye.source,"gi"),xye=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,Z4=dT();function Pye(e,t){var r=0;return Y4(Z4,t)?Z4[t]:t.charCodeAt(0)===35&&xye.test(t)&&(r=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10),J4(r))?Q4(r):e}function kye(e){return e.indexOf("\\")<0?e:e.replace(X4,"$1")}function Iye(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(Sye,function(t,r,n){return r||Pye(t,n)})}var Tye=/[&<>"]/,Aye=/[&<>"]/g,Dye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Rye(e){return Dye[e]}function Oye(e){return Tye.test(e)?e.replace(Aye,Rye):e}var Nye=/[.?*+^$[\]\\(){}|-]/g;function Lye(e){return e.replace(Nye,"\\$&")}function Fye(e){switch(e){case 9:case 32:return!0}return!1}function Mye(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var jye=h0();function qye(e){return jye.test(e)}function $ye(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Uye(e){return e=e.trim().replace(/\s+/g," "),"\u1E9E".toLowerCase()==="\u1E7E"&&(e=e.replace(//g,"\xDF")),e.toLowerCase().toUpperCase()}Cr.lib={};Cr.lib.mdurl=pT();Cr.lib.ucmicro=K4();Cr.assign=bye;Cr.isString=wye;Cr.has=Y4;Cr.unescapeMd=kye;Cr.unescapeAll=Iye;Cr.isValidEntityCode=J4;Cr.fromCodePoint=Q4;Cr.escapeHtml=Oye;Cr.arrayReplaceAt=Eye;Cr.isSpace=Fye;Cr.isWhiteSpace=Mye;Cr.isMdAsciiPunct=$ye;Cr.isPunctChar=qye;Cr.escapeRE=Lye;Cr.normalizeReference=Uye});var t6=T((nqe,e6)=>{"use strict";e6.exports=function(t,r,n){var i,o,s,a,c=-1,l=t.posMax,u=t.pos;for(t.pos=r+1,i=1;t.pos<l;){if(s=t.src.charCodeAt(t.pos),s===93&&(i--,i===0)){o=!0;break}if(a=t.pos,t.md.inline.skipToken(t),s===91){if(a===t.pos-1)i++;else if(n)return t.pos=u,-1}}return o&&(c=t.pos),t.pos=u,c}});var i6=T((iqe,n6)=>{"use strict";var r6=Ct().unescapeAll;n6.exports=function(t,r,n){var i,o,s=0,a=r,c={ok:!1,pos:0,lines:0,str:""};if(t.charCodeAt(r)===60){for(r++;r<n;){if(i=t.charCodeAt(r),i===10||i===60)return c;if(i===62)return c.pos=r+1,c.str=r6(t.slice(a+1,r)),c.ok=!0,c;if(i===92&&r+1<n){r+=2;continue}r++}return c}for(o=0;r<n&&(i=t.charCodeAt(r),!(i===32||i<32||i===127));){if(i===92&&r+1<n){if(t.charCodeAt(r+1)===32)break;r+=2;continue}if(i===40&&(o++,o>32))return c;if(i===41){if(o===0)break;o--}r++}return a===r||o!==0||(c.str=r6(t.slice(a,r)),c.lines=s,c.pos=r,c.ok=!0),c}});var s6=T((oqe,o6)=>{"use strict";var Bye=Ct().unescapeAll;o6.exports=function(t,r,n){var i,o,s=0,a=r,c={ok:!1,pos:0,lines:0,str:""};if(r>=n||(o=t.charCodeAt(r),o!==34&&o!==39&&o!==40))return c;for(r++,o===40&&(o=41);r<n;){if(i=t.charCodeAt(r),i===o)return c.pos=r+1,c.lines=s,c.str=Bye(t.slice(a+1,r)),c.ok=!0,c;if(i===40&&o===41)return c;i===10?s++:i===92&&r+1<n&&(r++,t.charCodeAt(r)===10&&s++),r++}return c}});var a6=T(y0=>{"use strict";y0.parseLinkLabel=t6();y0.parseLinkDestination=i6();y0.parseLinkTitle=s6()});var l6=T((aqe,c6)=>{"use strict";var Hye=Ct().assign,Vye=Ct().unescapeAll,Il=Ct().escapeHtml,qo={};qo.code_inline=function(e,t,r,n,i){var o=e[t];return"<code"+i.renderAttrs(o)+">"+Il(e[t].content)+"</code>"};qo.code_block=function(e,t,r,n,i){var o=e[t];return"<pre"+i.renderAttrs(o)+"><code>"+Il(e[t].content)+`</code></pre>
`};qo.fence=function(e,t,r,n,i){var o=e[t],s=o.info?Vye(o.info).trim():"",a="",c="",l,u,f,d,p;return s&&(f=s.split(/(\s+)/g),a=f[0],c=f.slice(2).join("")),r.highlight?l=r.highlight(o.content,a,c)||Il(o.content):l=Il(o.content),l.indexOf("<pre")===0?l+`
`:s?(u=o.attrIndex("class"),d=o.attrs?o.attrs.slice():[],u<0?d.push(["class",r.langPrefix+a]):(d[u]=d[u].slice(),d[u][1]+=" "+r.langPrefix+a),p={attrs:d},"<pre><code"+i.renderAttrs(p)+">"+l+`</code></pre>
`):"<pre><code"+i.renderAttrs(o)+">"+l+`</code></pre>
`};qo.image=function(e,t,r,n,i){var o=e[t];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,r,n),i.renderToken(e,t,r)};qo.hardbreak=function(e,t,r){return r.xhtmlOut?`<br />
`:`<br>
`};qo.softbreak=function(e,t,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};qo.text=function(e,t){return Il(e[t].content)};qo.html_block=function(e,t){return e[t].content};qo.html_inline=function(e,t){return e[t].content};function td(){this.rules=Hye({},qo)}td.prototype.renderAttrs=function(t){var r,n,i;if(!t.attrs)return"";for(i="",r=0,n=t.attrs.length;r<n;r++)i+=" "+Il(t.attrs[r][0])+'="'+Il(t.attrs[r][1])+'"';return i};td.prototype.renderToken=function(t,r,n){var i,o="",s=!1,a=t[r];return a.hidden?"":(a.block&&a.nesting!==-1&&r&&t[r-1].hidden&&(o+=`
`),o+=(a.nesting===-1?"</":"<")+a.tag,o+=this.renderAttrs(a),a.nesting===0&&n.xhtmlOut&&(o+=" /"),a.block&&(s=!0,a.nesting===1&&r+1<t.length&&(i=t[r+1],(i.type==="inline"||i.hidden||i.nesting===-1&&i.tag===a.tag)&&(s=!1))),o+=s?`>
`:">",o)};td.prototype.renderInline=function(e,t,r){for(var n,i="",o=this.rules,s=0,a=e.length;s<a;s++)n=e[s].type,typeof o[n]!="undefined"?i+=o[n](e,s,t,r,this):i+=this.renderToken(e,s,t);return i};td.prototype.renderInlineAsText=function(e,t,r){for(var n="",i=0,o=e.length;i<o;i++)e[i].type==="text"?n+=e[i].content:e[i].type==="image"?n+=this.renderInlineAsText(e[i].children,t,r):e[i].type==="softbreak"&&(n+=`
`);return n};td.prototype.render=function(e,t,r){var n,i,o,s="",a=this.rules;for(n=0,i=e.length;n<i;n++)o=e[n].type,o==="inline"?s+=this.renderInline(e[n].children,t,r):typeof a[o]!="undefined"?s+=a[e[n].type](e,n,t,r,this):s+=this.renderToken(e,n,t,r);return s};c6.exports=td});var w0=T((cqe,u6)=>{"use strict";function ro(){this.__rules__=[],this.__cache__=null}ro.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};ro.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(r){!r.enabled||r.alt.forEach(function(n){t.indexOf(n)<0&&t.push(n)})}),e.__cache__={},t.forEach(function(r){e.__cache__[r]=[],e.__rules__.forEach(function(n){!n.enabled||r&&n.alt.indexOf(r)<0||e.__cache__[r].push(n.fn)})})};ro.prototype.at=function(e,t,r){var n=this.__find__(e),i=r||{};if(n===-1)throw new Error("Parser rule not found: "+e);this.__rules__[n].fn=t,this.__rules__[n].alt=i.alt||[],this.__cache__=null};ro.prototype.before=function(e,t,r,n){var i=this.__find__(e),o=n||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null};ro.prototype.after=function(e,t,r,n){var i=this.__find__(e),o=n||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null};ro.prototype.push=function(e,t,r){var n=r||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:n.alt||[]}),this.__cache__=null};ro.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var r=[];return e.forEach(function(n){var i=this.__find__(n);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[i].enabled=!0,r.push(n)},this),this.__cache__=null,r};ro.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(r){r.enabled=!1}),this.enable(e,t)};ro.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var r=[];return e.forEach(function(n){var i=this.__find__(n);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[i].enabled=!1,r.push(n)},this),this.__cache__=null,r};ro.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};u6.exports=ro});var d6=T((lqe,f6)=>{"use strict";var Wye=/\r\n?|\n/g,zye=/\0/g;f6.exports=function(t){var r;r=t.src.replace(Wye,`
`),r=r.replace(zye,"\uFFFD"),t.src=r}});var h6=T((uqe,p6)=>{"use strict";p6.exports=function(t){var r;t.inlineMode?(r=new t.Token("inline","",0),r.content=t.src,r.map=[0,1],r.children=[],t.tokens.push(r)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}});var g6=T((fqe,m6)=>{"use strict";m6.exports=function(t){var r=t.tokens,n,i,o;for(i=0,o=r.length;i<o;i++)n=r[i],n.type==="inline"&&t.md.inline.parse(n.content,t.md,t.env,n.children)}});var y6=T((dqe,v6)=>{"use strict";var Gye=Ct().arrayReplaceAt;function Kye(e){return/^<a[>\s]/i.test(e)}function Yye(e){return/^<\/a\s*>/i.test(e)}v6.exports=function(t){var r,n,i,o,s,a,c,l,u,f,d,p,h,m,g,v,y=t.tokens,C;if(!!t.md.options.linkify){for(n=0,i=y.length;n<i;n++)if(!(y[n].type!=="inline"||!t.md.linkify.pretest(y[n].content)))for(o=y[n].children,h=0,r=o.length-1;r>=0;r--){if(a=o[r],a.type==="link_close"){for(r--;o[r].level!==a.level&&o[r].type!=="link_open";)r--;continue}if(a.type==="html_inline"&&(Kye(a.content)&&h>0&&h--,Yye(a.content)&&h++),!(h>0)&&a.type==="text"&&t.md.linkify.test(a.content)){for(u=a.content,C=t.md.linkify.match(u),c=[],p=a.level,d=0,l=0;l<C.length;l++)m=C[l].url,g=t.md.normalizeLink(m),!!t.md.validateLink(g)&&(v=C[l].text,C[l].schema?C[l].schema==="mailto:"&&!/^mailto:/i.test(v)?v=t.md.normalizeLinkText("mailto:"+v).replace(/^mailto:/,""):v=t.md.normalizeLinkText(v):v=t.md.normalizeLinkText("http://"+v).replace(/^http:\/\//,""),f=C[l].index,f>d&&(s=new t.Token("text","",0),s.content=u.slice(d,f),s.level=p,c.push(s)),s=new t.Token("link_open","a",1),s.attrs=[["href",g]],s.level=p++,s.markup="linkify",s.info="auto",c.push(s),s=new t.Token("text","",0),s.content=v,s.level=p,c.push(s),s=new t.Token("link_close","a",-1),s.level=--p,s.markup="linkify",s.info="auto",c.push(s),d=C[l].lastIndex);d<u.length&&(s=new t.Token("text","",0),s.content=u.slice(d),s.level=p,c.push(s)),y[n].children=o=Gye(o,r,c)}}}}});var b6=T((pqe,C6)=>{"use strict";var w6=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Jye=/\((c|tm|r|p)\)/i,Qye=/\((c|tm|r|p)\)/ig,Xye={c:"\xA9",r:"\xAE",p:"\xA7",tm:"\u2122"};function Zye(e,t){return Xye[t.toLowerCase()]}function ewe(e){var t,r,n=0;for(t=e.length-1;t>=0;t--)r=e[t],r.type==="text"&&!n&&(r.content=r.content.replace(Qye,Zye)),r.type==="link_open"&&r.info==="auto"&&n--,r.type==="link_close"&&r.info==="auto"&&n++}function twe(e){var t,r,n=0;for(t=e.length-1;t>=0;t--)r=e[t],r.type==="text"&&!n&&w6.test(r.content)&&(r.content=r.content.replace(/\+-/g,"\xB1").replace(/\.{2,}/g,"\u2026").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1\u2014").replace(/(^|\s)--(?=\s|$)/mg,"$1\u2013").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1\u2013")),r.type==="link_open"&&r.info==="auto"&&n--,r.type==="link_close"&&r.info==="auto"&&n++}C6.exports=function(t){var r;if(!!t.md.options.typographer)for(r=t.tokens.length-1;r>=0;r--)t.tokens[r].type==="inline"&&(Jye.test(t.tokens[r].content)&&ewe(t.tokens[r].children),w6.test(t.tokens[r].content)&&twe(t.tokens[r].children))}});var I6=T((hqe,k6)=>{"use strict";var E6=Ct().isWhiteSpace,_6=Ct().isPunctChar,S6=Ct().isMdAsciiPunct,rwe=/['"]/,x6=/['"]/g,P6="\u2019";function C0(e,t,r){return e.substr(0,t)+r+e.substr(t+1)}function nwe(e,t){var r,n,i,o,s,a,c,l,u,f,d,p,h,m,g,v,y,C,b,_,P;for(b=[],r=0;r<e.length;r++){for(n=e[r],c=e[r].level,y=b.length-1;y>=0&&!(b[y].level<=c);y--);if(b.length=y+1,n.type!=="text")continue;i=n.content,s=0,a=i.length;e:for(;s<a&&(x6.lastIndex=s,o=x6.exec(i),!!o);){if(g=v=!0,s=o.index+1,C=o[0]==="'",u=32,o.index-1>=0)u=i.charCodeAt(o.index-1);else for(y=r-1;y>=0&&!(e[y].type==="softbreak"||e[y].type==="hardbreak");y--)if(!!e[y].content){u=e[y].content.charCodeAt(e[y].content.length-1);break}if(f=32,s<a)f=i.charCodeAt(s);else for(y=r+1;y<e.length&&!(e[y].type==="softbreak"||e[y].type==="hardbreak");y++)if(!!e[y].content){f=e[y].content.charCodeAt(0);break}if(d=S6(u)||_6(String.fromCharCode(u)),p=S6(f)||_6(String.fromCharCode(f)),h=E6(u),m=E6(f),m?g=!1:p&&(h||d||(g=!1)),h?v=!1:d&&(m||p||(v=!1)),f===34&&o[0]==='"'&&u>=48&&u<=57&&(v=g=!1),g&&v&&(g=d,v=p),!g&&!v){C&&(n.content=C0(n.content,o.index,P6));continue}if(v){for(y=b.length-1;y>=0&&(l=b[y],!(b[y].level<c));y--)if(l.single===C&&b[y].level===c){l=b[y],C?(_=t.md.options.quotes[2],P=t.md.options.quotes[3]):(_=t.md.options.quotes[0],P=t.md.options.quotes[1]),n.content=C0(n.content,o.index,P),e[l.token].content=C0(e[l.token].content,l.pos,_),s+=P.length-1,l.token===r&&(s+=_.length-1),i=n.content,a=i.length,b.length=y;continue e}}g?b.push({token:r,pos:o.index,single:C,level:c}):v&&C&&(n.content=C0(n.content,o.index,P6))}}}k6.exports=function(t){var r;if(!!t.md.options.typographer)for(r=t.tokens.length-1;r>=0;r--)t.tokens[r].type!=="inline"||!rwe.test(t.tokens[r].content)||nwe(t.tokens[r].children,t)}});var b0=T((mqe,T6)=>{"use strict";function rd(e,t,r){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}rd.prototype.attrIndex=function(t){var r,n,i;if(!this.attrs)return-1;for(r=this.attrs,n=0,i=r.length;n<i;n++)if(r[n][0]===t)return n;return-1};rd.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};rd.prototype.attrSet=function(t,r){var n=this.attrIndex(t),i=[t,r];n<0?this.attrPush(i):this.attrs[n]=i};rd.prototype.attrGet=function(t){var r=this.attrIndex(t),n=null;return r>=0&&(n=this.attrs[r][1]),n};rd.prototype.attrJoin=function(t,r){var n=this.attrIndex(t);n<0?this.attrPush([t,r]):this.attrs[n][1]=this.attrs[n][1]+" "+r};T6.exports=rd});var R6=T((gqe,D6)=>{"use strict";var iwe=b0();function A6(e,t,r){this.src=e,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=t}A6.prototype.Token=iwe;D6.exports=A6});var N6=T((vqe,O6)=>{"use strict";var owe=w0(),vT=[["normalize",d6()],["block",h6()],["inline",g6()],["linkify",y6()],["replacements",b6()],["smartquotes",I6()]];function yT(){this.ruler=new owe;for(var e=0;e<vT.length;e++)this.ruler.push(vT[e][0],vT[e][1])}yT.prototype.process=function(e){var t,r,n;for(n=this.ruler.getRules(""),t=0,r=n.length;t<r;t++)n[t](e)};yT.prototype.State=R6();O6.exports=yT});var M6=T((yqe,F6)=>{"use strict";var wT=Ct().isSpace;function CT(e,t){var r=e.bMarks[t]+e.tShift[t],n=e.eMarks[t];return e.src.substr(r,n-r)}function L6(e){var t=[],r=0,n=e.length,i,o=!1,s=0,a="";for(i=e.charCodeAt(r);r<n;)i===124&&(o?(a+=e.substring(s,r-1),s=r):(t.push(a+e.substring(s,r)),a="",s=r+1)),o=i===92,r++,i=e.charCodeAt(r);return t.push(a+e.substring(s)),t}F6.exports=function(t,r,n,i){var o,s,a,c,l,u,f,d,p,h,m,g,v,y,C,b,_,P;if(r+2>n||(u=r+1,t.sCount[u]<t.blkIndent)||t.sCount[u]-t.blkIndent>=4||(a=t.bMarks[u]+t.tShift[u],a>=t.eMarks[u])||(_=t.src.charCodeAt(a++),_!==124&&_!==45&&_!==58)||a>=t.eMarks[u]||(P=t.src.charCodeAt(a++),P!==124&&P!==45&&P!==58&&!wT(P))||_===45&&wT(P))return!1;for(;a<t.eMarks[u];){if(o=t.src.charCodeAt(a),o!==124&&o!==45&&o!==58&&!wT(o))return!1;a++}for(s=CT(t,r+1),f=s.split("|"),h=[],c=0;c<f.length;c++){if(m=f[c].trim(),!m){if(c===0||c===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(m))return!1;m.charCodeAt(m.length-1)===58?h.push(m.charCodeAt(0)===58?"center":"right"):m.charCodeAt(0)===58?h.push("left"):h.push("")}if(s=CT(t,r).trim(),s.indexOf("|")===-1||t.sCount[r]-t.blkIndent>=4||(f=L6(s),f.length&&f[0]===""&&f.shift(),f.length&&f[f.length-1]===""&&f.pop(),d=f.length,d===0||d!==h.length))return!1;if(i)return!0;for(y=t.parentType,t.parentType="table",b=t.md.block.ruler.getRules("blockquote"),p=t.push("table_open","table",1),p.map=g=[r,0],p=t.push("thead_open","thead",1),p.map=[r,r+1],p=t.push("tr_open","tr",1),p.map=[r,r+1],c=0;c<f.length;c++)p=t.push("th_open","th",1),h[c]&&(p.attrs=[["style","text-align:"+h[c]]]),p=t.push("inline","",0),p.content=f[c].trim(),p.children=[],p=t.push("th_close","th",-1);for(p=t.push("tr_close","tr",-1),p=t.push("thead_close","thead",-1),u=r+2;u<n&&!(t.sCount[u]<t.blkIndent);u++){for(C=!1,c=0,l=b.length;c<l;c++)if(b[c](t,u,n,!0)){C=!0;break}if(C||(s=CT(t,u).trim(),!s)||t.sCount[u]-t.blkIndent>=4)break;for(f=L6(s),f.length&&f[0]===""&&f.shift(),f.length&&f[f.length-1]===""&&f.pop(),u===r+2&&(p=t.push("tbody_open","tbody",1),p.map=v=[r+2,0]),p=t.push("tr_open","tr",1),p.map=[u,u+1],c=0;c<d;c++)p=t.push("td_open","td",1),h[c]&&(p.attrs=[["style","text-align:"+h[c]]]),p=t.push("inline","",0),p.content=f[c]?f[c].trim():"",p.children=[],p=t.push("td_close","td",-1);p=t.push("tr_close","tr",-1)}return v&&(p=t.push("tbody_close","tbody",-1),v[1]=u),p=t.push("table_close","table",-1),g[1]=u,t.parentType=y,t.line=u,!0}});var q6=T((wqe,j6)=>{"use strict";j6.exports=function(t,r,n){var i,o,s;if(t.sCount[r]-t.blkIndent<4)return!1;for(o=i=r+1;i<n;){if(t.isEmpty(i)){i++;continue}if(t.sCount[i]-t.blkIndent>=4){i++,o=i;continue}break}return t.line=o,s=t.push("code_block","code",0),s.content=t.getLines(r,o,4+t.blkIndent,!1)+`
`,s.map=[r,t.line],!0}});var U6=T((Cqe,$6)=>{"use strict";$6.exports=function(t,r,n,i){var o,s,a,c,l,u,f,d=!1,p=t.bMarks[r]+t.tShift[r],h=t.eMarks[r];if(t.sCount[r]-t.blkIndent>=4||p+3>h||(o=t.src.charCodeAt(p),o!==126&&o!==96)||(l=p,p=t.skipChars(p,o),s=p-l,s<3)||(f=t.src.slice(l,p),a=t.src.slice(p,h),o===96&&a.indexOf(String.fromCharCode(o))>=0))return!1;if(i)return!0;for(c=r;c++,!(c>=n||(p=l=t.bMarks[c]+t.tShift[c],h=t.eMarks[c],p<h&&t.sCount[c]<t.blkIndent));)if(t.src.charCodeAt(p)===o&&!(t.sCount[c]-t.blkIndent>=4)&&(p=t.skipChars(p,o),!(p-l<s)&&(p=t.skipSpaces(p),!(p<h)))){d=!0;break}return s=t.sCount[r],t.line=c+(d?1:0),u=t.push("fence","code",0),u.info=a,u.content=t.getLines(r+1,c,s,!0),u.markup=f,u.map=[r,t.line],!0}});var V6=T((bqe,H6)=>{"use strict";var B6=Ct().isSpace;H6.exports=function(t,r,n,i){var o,s,a,c,l,u,f,d,p,h,m,g,v,y,C,b,_,P,S,x,I=t.lineMax,A=t.bMarks[r]+t.tShift[r],O=t.eMarks[r];if(t.sCount[r]-t.blkIndent>=4||t.src.charCodeAt(A++)!==62)return!1;if(i)return!0;for(c=p=t.sCount[r]+1,t.src.charCodeAt(A)===32?(A++,c++,p++,o=!1,b=!0):t.src.charCodeAt(A)===9?(b=!0,(t.bsCount[r]+p)%4==3?(A++,c++,p++,o=!1):o=!0):b=!1,h=[t.bMarks[r]],t.bMarks[r]=A;A<O&&(s=t.src.charCodeAt(A),B6(s));){s===9?p+=4-(p+t.bsCount[r]+(o?1:0))%4:p++;A++}for(m=[t.bsCount[r]],t.bsCount[r]=t.sCount[r]+1+(b?1:0),u=A>=O,y=[t.sCount[r]],t.sCount[r]=p-c,C=[t.tShift[r]],t.tShift[r]=A-t.bMarks[r],P=t.md.block.ruler.getRules("blockquote"),v=t.parentType,t.parentType="blockquote",d=r+1;d<n&&(x=t.sCount[d]<t.blkIndent,A=t.bMarks[d]+t.tShift[d],O=t.eMarks[d],!(A>=O));d++){if(t.src.charCodeAt(A++)===62&&!x){for(c=p=t.sCount[d]+1,t.src.charCodeAt(A)===32?(A++,c++,p++,o=!1,b=!0):t.src.charCodeAt(A)===9?(b=!0,(t.bsCount[d]+p)%4==3?(A++,c++,p++,o=!1):o=!0):b=!1,h.push(t.bMarks[d]),t.bMarks[d]=A;A<O&&(s=t.src.charCodeAt(A),B6(s));){s===9?p+=4-(p+t.bsCount[d]+(o?1:0))%4:p++;A++}u=A>=O,m.push(t.bsCount[d]),t.bsCount[d]=t.sCount[d]+1+(b?1:0),y.push(t.sCount[d]),t.sCount[d]=p-c,C.push(t.tShift[d]),t.tShift[d]=A-t.bMarks[d];continue}if(u)break;for(_=!1,a=0,l=P.length;a<l;a++)if(P[a](t,d,n,!0)){_=!0;break}if(_){t.lineMax=d,t.blkIndent!==0&&(h.push(t.bMarks[d]),m.push(t.bsCount[d]),C.push(t.tShift[d]),y.push(t.sCount[d]),t.sCount[d]-=t.blkIndent);break}h.push(t.bMarks[d]),m.push(t.bsCount[d]),C.push(t.tShift[d]),y.push(t.sCount[d]),t.sCount[d]=-1}for(g=t.blkIndent,t.blkIndent=0,S=t.push("blockquote_open","blockquote",1),S.markup=">",S.map=f=[r,0],t.md.block.tokenize(t,r,d),S=t.push("blockquote_close","blockquote",-1),S.markup=">",t.lineMax=I,t.parentType=v,f[1]=t.line,a=0;a<C.length;a++)t.bMarks[a+r]=h[a],t.tShift[a+r]=C[a],t.sCount[a+r]=y[a],t.bsCount[a+r]=m[a];return t.blkIndent=g,!0}});var z6=T((Eqe,W6)=>{"use strict";var swe=Ct().isSpace;W6.exports=function(t,r,n,i){var o,s,a,c,l=t.bMarks[r]+t.tShift[r],u=t.eMarks[r];if(t.sCount[r]-t.blkIndent>=4||(o=t.src.charCodeAt(l++),o!==42&&o!==45&&o!==95))return!1;for(s=1;l<u;){if(a=t.src.charCodeAt(l++),a!==o&&!swe(a))return!1;a===o&&s++}return s<3?!1:(i||(t.line=r+1,c=t.push("hr","hr",0),c.map=[r,t.line],c.markup=Array(s+1).join(String.fromCharCode(o))),!0)}});var Q6=T((_qe,J6)=>{"use strict";var G6=Ct().isSpace;function K6(e,t){var r,n,i,o;return n=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],r=e.src.charCodeAt(n++),r!==42&&r!==45&&r!==43||n<i&&(o=e.src.charCodeAt(n),!G6(o))?-1:n}function Y6(e,t){var r,n=e.bMarks[t]+e.tShift[t],i=n,o=e.eMarks[t];if(i+1>=o||(r=e.src.charCodeAt(i++),r<48||r>57))return-1;for(;;){if(i>=o)return-1;if(r=e.src.charCodeAt(i++),r>=48&&r<=57){if(i-n>=10)return-1;continue}if(r===41||r===46)break;return-1}return i<o&&(r=e.src.charCodeAt(i),!G6(r))?-1:i}function awe(e,t){var r,n,i=e.level+2;for(r=t+2,n=e.tokens.length-2;r<n;r++)e.tokens[r].level===i&&e.tokens[r].type==="paragraph_open"&&(e.tokens[r+2].hidden=!0,e.tokens[r].hidden=!0,r+=2)}J6.exports=function(t,r,n,i){var o,s,a,c,l,u,f,d,p,h,m,g,v,y,C,b,_,P,S,x,I,A,O,L,J,z,ee,ie,q=!1,M=!0;if(t.sCount[r]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[r]-t.listIndent>=4&&t.sCount[r]<t.blkIndent)return!1;if(i&&t.parentType==="paragraph"&&t.sCount[r]>=t.blkIndent&&(q=!0),(O=Y6(t,r))>=0){if(f=!0,J=t.bMarks[r]+t.tShift[r],v=Number(t.src.slice(J,O-1)),q&&v!==1)return!1}else if((O=K6(t,r))>=0)f=!1;else return!1;if(q&&t.skipSpaces(O)>=t.eMarks[r])return!1;if(g=t.src.charCodeAt(O-1),i)return!0;for(m=t.tokens.length,f?(ie=t.push("ordered_list_open","ol",1),v!==1&&(ie.attrs=[["start",v]])):ie=t.push("bullet_list_open","ul",1),ie.map=h=[r,0],ie.markup=String.fromCharCode(g),C=r,L=!1,ee=t.md.block.ruler.getRules("list"),P=t.parentType,t.parentType="list";C<n;){for(A=O,y=t.eMarks[C],u=b=t.sCount[C]+O-(t.bMarks[r]+t.tShift[r]);A<y;){if(o=t.src.charCodeAt(A),o===9)b+=4-(b+t.bsCount[C])%4;else if(o===32)b++;else break;A++}if(s=A,s>=y?l=1:l=b-u,l>4&&(l=1),c=u+l,ie=t.push("list_item_open","li",1),ie.markup=String.fromCharCode(g),ie.map=d=[r,0],f&&(ie.info=t.src.slice(J,O-1)),I=t.tight,x=t.tShift[r],S=t.sCount[r],_=t.listIndent,t.listIndent=t.blkIndent,t.blkIndent=c,t.tight=!0,t.tShift[r]=s-t.bMarks[r],t.sCount[r]=b,s>=y&&t.isEmpty(r+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,r,n,!0),(!t.tight||L)&&(M=!1),L=t.line-r>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=_,t.tShift[r]=x,t.sCount[r]=S,t.tight=I,ie=t.push("list_item_close","li",-1),ie.markup=String.fromCharCode(g),C=r=t.line,d[1]=C,s=t.bMarks[r],C>=n||t.sCount[C]<t.blkIndent||t.sCount[r]-t.blkIndent>=4)break;for(z=!1,a=0,p=ee.length;a<p;a++)if(ee[a](t,C,n,!0)){z=!0;break}if(z)break;if(f){if(O=Y6(t,C),O<0)break;J=t.bMarks[C]+t.tShift[C]}else if(O=K6(t,C),O<0)break;if(g!==t.src.charCodeAt(O-1))break}return f?ie=t.push("ordered_list_close","ol",-1):ie=t.push("bullet_list_close","ul",-1),ie.markup=String.fromCharCode(g),h[1]=C,t.line=C,t.parentType=P,M&&awe(t,m),!0}});var Z6=T((Sqe,X6)=>{"use strict";var cwe=Ct().normalizeReference,E0=Ct().isSpace;X6.exports=function(t,r,n,i){var o,s,a,c,l,u,f,d,p,h,m,g,v,y,C,b,_=0,P=t.bMarks[r]+t.tShift[r],S=t.eMarks[r],x=r+1;if(t.sCount[r]-t.blkIndent>=4||t.src.charCodeAt(P)!==91)return!1;for(;++P<S;)if(t.src.charCodeAt(P)===93&&t.src.charCodeAt(P-1)!==92){if(P+1===S||t.src.charCodeAt(P+1)!==58)return!1;break}for(c=t.lineMax,C=t.md.block.ruler.getRules("reference"),h=t.parentType,t.parentType="reference";x<c&&!t.isEmpty(x);x++)if(!(t.sCount[x]-t.blkIndent>3)&&!(t.sCount[x]<0)){for(y=!1,u=0,f=C.length;u<f;u++)if(C[u](t,x,c,!0)){y=!0;break}if(y)break}for(v=t.getLines(r,x,t.blkIndent,!1).trim(),S=v.length,P=1;P<S;P++){if(o=v.charCodeAt(P),o===91)return!1;if(o===93){p=P;break}else o===10?_++:o===92&&(P++,P<S&&v.charCodeAt(P)===10&&_++)}if(p<0||v.charCodeAt(p+1)!==58)return!1;for(P=p+2;P<S;P++)if(o=v.charCodeAt(P),o===10)_++;else if(!E0(o))break;if(m=t.md.helpers.parseLinkDestination(v,P,S),!m.ok||(l=t.md.normalizeLink(m.str),!t.md.validateLink(l)))return!1;for(P=m.pos,_+=m.lines,s=P,a=_,g=P;P<S;P++)if(o=v.charCodeAt(P),o===10)_++;else if(!E0(o))break;for(m=t.md.helpers.parseLinkTitle(v,P,S),P<S&&g!==P&&m.ok?(b=m.str,P=m.pos,_+=m.lines):(b="",P=s,_=a);P<S&&(o=v.charCodeAt(P),!!E0(o));)P++;if(P<S&&v.charCodeAt(P)!==10&&b)for(b="",P=s,_=a;P<S&&(o=v.charCodeAt(P),!!E0(o));)P++;return P<S&&v.charCodeAt(P)!==10||(d=cwe(v.slice(1,p)),!d)?!1:(i||(typeof t.env.references=="undefined"&&(t.env.references={}),typeof t.env.references[d]=="undefined"&&(t.env.references[d]={title:b,href:l}),t.parentType=h,t.line=r+_+1),!0)}});var tK=T((xqe,eK)=>{"use strict";eK.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]});var ET=T((Pqe,bT)=>{"use strict";var lwe="[a-zA-Z_:][a-zA-Z0-9:._-]*",uwe="[^\"'=<>`\\x00-\\x20]+",fwe="'[^']*'",dwe='"[^"]*"',pwe="(?:"+uwe+"|"+fwe+"|"+dwe+")",hwe="(?:\\s+"+lwe+"(?:\\s*=\\s*"+pwe+")?)",rK="<[A-Za-z][A-Za-z0-9\\-]*"+hwe+"*\\s*\\/?>",nK="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",mwe="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",gwe="<[?][\\s\\S]*?[?]>",vwe="<![A-Z]+\\s+[^>]*>",ywe="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",wwe=new RegExp("^(?:"+rK+"|"+nK+"|"+mwe+"|"+gwe+"|"+vwe+"|"+ywe+")"),Cwe=new RegExp("^(?:"+rK+"|"+nK+")");bT.exports.HTML_TAG_RE=wwe;bT.exports.HTML_OPEN_CLOSE_TAG_RE=Cwe});var oK=T((kqe,iK)=>{"use strict";var bwe=tK(),Ewe=ET().HTML_OPEN_CLOSE_TAG_RE,nd=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+bwe.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Ewe.source+"\\s*$"),/^$/,!1]];iK.exports=function(t,r,n,i){var o,s,a,c,l=t.bMarks[r]+t.tShift[r],u=t.eMarks[r];if(t.sCount[r]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(l)!==60)return!1;for(c=t.src.slice(l,u),o=0;o<nd.length&&!nd[o][0].test(c);o++);if(o===nd.length)return!1;if(i)return nd[o][2];if(s=r+1,!nd[o][1].test(c)){for(;s<n&&!(t.sCount[s]<t.blkIndent);s++)if(l=t.bMarks[s]+t.tShift[s],u=t.eMarks[s],c=t.src.slice(l,u),nd[o][1].test(c)){c.length!==0&&s++;break}}return t.line=s,a=t.push("html_block","",0),a.map=[r,s],a.content=t.getLines(r,s,t.blkIndent,!0),!0}});var cK=T((Iqe,aK)=>{"use strict";var sK=Ct().isSpace;aK.exports=function(t,r,n,i){var o,s,a,c,l=t.bMarks[r]+t.tShift[r],u=t.eMarks[r];if(t.sCount[r]-t.blkIndent>=4||(o=t.src.charCodeAt(l),o!==35||l>=u))return!1;for(s=1,o=t.src.charCodeAt(++l);o===35&&l<u&&s<=6;)s++,o=t.src.charCodeAt(++l);return s>6||l<u&&!sK(o)?!1:(i||(u=t.skipSpacesBack(u,l),a=t.skipCharsBack(u,35,l),a>l&&sK(t.src.charCodeAt(a-1))&&(u=a),t.line=r+1,c=t.push("heading_open","h"+String(s),1),c.markup="########".slice(0,s),c.map=[r,t.line],c=t.push("inline","",0),c.content=t.src.slice(l,u).trim(),c.map=[r,t.line],c.children=[],c=t.push("heading_close","h"+String(s),-1),c.markup="########".slice(0,s)),!0)}});var uK=T((Tqe,lK)=>{"use strict";lK.exports=function(t,r,n){var i,o,s,a,c,l,u,f,d,p=r+1,h,m=t.md.block.ruler.getRules("paragraph");if(t.sCount[r]-t.blkIndent>=4)return!1;for(h=t.parentType,t.parentType="paragraph";p<n&&!t.isEmpty(p);p++)if(!(t.sCount[p]-t.blkIndent>3)){if(t.sCount[p]>=t.blkIndent&&(l=t.bMarks[p]+t.tShift[p],u=t.eMarks[p],l<u&&(d=t.src.charCodeAt(l),(d===45||d===61)&&(l=t.skipChars(l,d),l=t.skipSpaces(l),l>=u)))){f=d===61?1:2;break}if(!(t.sCount[p]<0)){for(o=!1,s=0,a=m.length;s<a;s++)if(m[s](t,p,n,!0)){o=!0;break}if(o)break}}return f?(i=t.getLines(r,p,t.blkIndent,!1).trim(),t.line=p+1,c=t.push("heading_open","h"+String(f),1),c.markup=String.fromCharCode(d),c.map=[r,t.line],c=t.push("inline","",0),c.content=i,c.map=[r,t.line-1],c.children=[],c=t.push("heading_close","h"+String(f),-1),c.markup=String.fromCharCode(d),t.parentType=h,!0):!1}});var dK=T((Aqe,fK)=>{"use strict";fK.exports=function(t,r){var n,i,o,s,a,c,l=r+1,u=t.md.block.ruler.getRules("paragraph"),f=t.lineMax;for(c=t.parentType,t.parentType="paragraph";l<f&&!t.isEmpty(l);l++)if(!(t.sCount[l]-t.blkIndent>3)&&!(t.sCount[l]<0)){for(i=!1,o=0,s=u.length;o<s;o++)if(u[o](t,l,f,!0)){i=!0;break}if(i)break}return n=t.getLines(r,l,t.blkIndent,!1).trim(),t.line=l,a=t.push("paragraph_open","p",1),a.map=[r,t.line],a=t.push("inline","",0),a.content=n,a.map=[r,t.line],a.children=[],a=t.push("paragraph_close","p",-1),t.parentType=c,!0}});var mK=T((Dqe,hK)=>{"use strict";var pK=b0(),_0=Ct().isSpace;function $o(e,t,r,n){var i,o,s,a,c,l,u,f;for(this.src=e,this.md=t,this.env=r,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",o=this.src,f=!1,s=a=l=u=0,c=o.length;a<c;a++){if(i=o.charCodeAt(a),!f)if(_0(i)){l++,i===9?u+=4-u%4:u++;continue}else f=!0;(i===10||a===c-1)&&(i!==10&&a++,this.bMarks.push(s),this.eMarks.push(a),this.tShift.push(l),this.sCount.push(u),this.bsCount.push(0),f=!1,l=0,u=0,s=a+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}$o.prototype.push=function(e,t,r){var n=new pK(e,t,r);return n.block=!0,r<0&&this.level--,n.level=this.level,r>0&&this.level++,this.tokens.push(n),n};$o.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};$o.prototype.skipEmptyLines=function(t){for(var r=this.lineMax;t<r&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};$o.prototype.skipSpaces=function(t){for(var r,n=this.src.length;t<n&&(r=this.src.charCodeAt(t),!!_0(r));t++);return t};$o.prototype.skipSpacesBack=function(t,r){if(t<=r)return t;for(;t>r;)if(!_0(this.src.charCodeAt(--t)))return t+1;return t};$o.prototype.skipChars=function(t,r){for(var n=this.src.length;t<n&&this.src.charCodeAt(t)===r;t++);return t};$o.prototype.skipCharsBack=function(t,r,n){if(t<=n)return t;for(;t>n;)if(r!==this.src.charCodeAt(--t))return t+1;return t};$o.prototype.getLines=function(t,r,n,i){var o,s,a,c,l,u,f,d=t;if(t>=r)return"";for(u=new Array(r-t),o=0;d<r;d++,o++){for(s=0,f=c=this.bMarks[d],d+1<r||i?l=this.eMarks[d]+1:l=this.eMarks[d];c<l&&s<n;){if(a=this.src.charCodeAt(c),_0(a))a===9?s+=4-(s+this.bsCount[d])%4:s++;else if(c-f<this.tShift[d])s++;else break;c++}s>n?u[o]=new Array(s-n+1).join(" ")+this.src.slice(c,l):u[o]=this.src.slice(c,l)}return u.join("")};$o.prototype.Token=pK;hK.exports=$o});var vK=T((Rqe,gK)=>{"use strict";var _we=w0(),S0=[["table",M6(),["paragraph","reference"]],["code",q6()],["fence",U6(),["paragraph","reference","blockquote","list"]],["blockquote",V6(),["paragraph","reference","blockquote","list"]],["hr",z6(),["paragraph","reference","blockquote","list"]],["list",Q6(),["paragraph","reference","blockquote"]],["reference",Z6()],["html_block",oK(),["paragraph","reference","blockquote"]],["heading",cK(),["paragraph","reference","blockquote"]],["lheading",uK()],["paragraph",dK()]];function x0(){this.ruler=new _we;for(var e=0;e<S0.length;e++)this.ruler.push(S0[e][0],S0[e][1],{alt:(S0[e][2]||[]).slice()})}x0.prototype.tokenize=function(e,t,r){for(var n,i,o=this.ruler.getRules(""),s=o.length,a=t,c=!1,l=e.md.options.maxNesting;a<r&&(e.line=a=e.skipEmptyLines(a),!(a>=r||e.sCount[a]<e.blkIndent));){if(e.level>=l){e.line=r;break}for(i=0;i<s&&(n=o[i](e,a,r,!1),!n);i++);e.tight=!c,e.isEmpty(e.line-1)&&(c=!0),a=e.line,a<r&&e.isEmpty(a)&&(c=!0,a++,e.line=a)}};x0.prototype.parse=function(e,t,r,n){var i;!e||(i=new this.State(e,t,r,n),this.tokenize(i,i.line,i.lineMax))};x0.prototype.State=mK();gK.exports=x0});var wK=T((Oqe,yK)=>{"use strict";function Swe(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}yK.exports=function(t,r){for(var n=t.pos;n<t.posMax&&!Swe(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(r||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}});var bK=T((Nqe,CK)=>{"use strict";var xwe=Ct().isSpace;CK.exports=function(t,r){var n,i,o,s=t.pos;if(t.src.charCodeAt(s)!==10)return!1;if(n=t.pending.length-1,i=t.posMax,!r)if(n>=0&&t.pending.charCodeAt(n)===32)if(n>=1&&t.pending.charCodeAt(n-1)===32){for(o=n-1;o>=1&&t.pending.charCodeAt(o-1)===32;)o--;t.pending=t.pending.slice(0,o),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(s++;s<i&&xwe(t.src.charCodeAt(s));)s++;return t.pos=s,!0}});var _K=T((Lqe,EK)=>{"use strict";var Pwe=Ct().isSpace,_T=[];for(ST=0;ST<256;ST++)_T.push(0);var ST;"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){_T[e.charCodeAt(0)]=1});EK.exports=function(t,r){var n,i=t.pos,o=t.posMax;if(t.src.charCodeAt(i)!==92)return!1;if(i++,i<o){if(n=t.src.charCodeAt(i),n<256&&_T[n]!==0)return r||(t.pending+=t.src[i]),t.pos+=2,!0;if(n===10){for(r||t.push("hardbreak","br",0),i++;i<o&&(n=t.src.charCodeAt(i),!!Pwe(n));)i++;return t.pos=i,!0}}return r||(t.pending+="\\"),t.pos++,!0}});var xK=T((Fqe,SK)=>{"use strict";SK.exports=function(t,r){var n,i,o,s,a,c,l,u,f=t.pos,d=t.src.charCodeAt(f);if(d!==96)return!1;for(n=f,f++,i=t.posMax;f<i&&t.src.charCodeAt(f)===96;)f++;if(o=t.src.slice(n,f),l=o.length,t.backticksScanned&&(t.backticks[l]||0)<=n)return r||(t.pending+=o),t.pos+=l,!0;for(a=c=f;(a=t.src.indexOf("`",c))!==-1;){for(c=a+1;c<i&&t.src.charCodeAt(c)===96;)c++;if(u=c-a,u===l)return r||(s=t.push("code_inline","code",0),s.markup=o,s.content=t.src.slice(f,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),t.pos=c,!0;t.backticks[u]=a}return t.backticksScanned=!0,r||(t.pending+=o),t.pos+=l,!0}});var PT=T((Mqe,xT)=>{"use strict";xT.exports.tokenize=function(t,r){var n,i,o,s,a,c=t.pos,l=t.src.charCodeAt(c);if(r||l!==126||(i=t.scanDelims(t.pos,!0),s=i.length,a=String.fromCharCode(l),s<2))return!1;for(s%2&&(o=t.push("text","",0),o.content=a,s--),n=0;n<s;n+=2)o=t.push("text","",0),o.content=a+a,t.delimiters.push({marker:l,length:0,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0};function PK(e,t){var r,n,i,o,s,a=[],c=t.length;for(r=0;r<c;r++)i=t[r],i.marker===126&&i.end!==-1&&(o=t[i.end],s=e.tokens[i.token],s.type="s_open",s.tag="s",s.nesting=1,s.markup="~~",s.content="",s=e.tokens[o.token],s.type="s_close",s.tag="s",s.nesting=-1,s.markup="~~",s.content="",e.tokens[o.token-1].type==="text"&&e.tokens[o.token-1].content==="~"&&a.push(o.token-1));for(;a.length;){for(r=a.pop(),n=r+1;n<e.tokens.length&&e.tokens[n].type==="s_close";)n++;n--,r!==n&&(s=e.tokens[n],e.tokens[n]=e.tokens[r],e.tokens[r]=s)}}xT.exports.postProcess=function(t){var r,n=t.tokens_meta,i=t.tokens_meta.length;for(PK(t,t.delimiters),r=0;r<i;r++)n[r]&&n[r].delimiters&&PK(t,n[r].delimiters)}});var IT=T((jqe,kT)=>{"use strict";kT.exports.tokenize=function(t,r){var n,i,o,s=t.pos,a=t.src.charCodeAt(s);if(r||a!==95&&a!==42)return!1;for(i=t.scanDelims(t.pos,a===42),n=0;n<i.length;n++)o=t.push("text","",0),o.content=String.fromCharCode(a),t.delimiters.push({marker:a,length:i.length,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0};function kK(e,t){var r,n,i,o,s,a,c=t.length;for(r=c-1;r>=0;r--)n=t[r],!(n.marker!==95&&n.marker!==42)&&n.end!==-1&&(i=t[n.end],a=r>0&&t[r-1].end===n.end+1&&t[r-1].marker===n.marker&&t[r-1].token===n.token-1&&t[n.end+1].token===i.token+1,s=String.fromCharCode(n.marker),o=e.tokens[n.token],o.type=a?"strong_open":"em_open",o.tag=a?"strong":"em",o.nesting=1,o.markup=a?s+s:s,o.content="",o=e.tokens[i.token],o.type=a?"strong_close":"em_close",o.tag=a?"strong":"em",o.nesting=-1,o.markup=a?s+s:s,o.content="",a&&(e.tokens[t[r-1].token].content="",e.tokens[t[n.end+1].token].content="",r--))}kT.exports.postProcess=function(t){var r,n=t.tokens_meta,i=t.tokens_meta.length;for(kK(t,t.delimiters),r=0;r<i;r++)n[r]&&n[r].delimiters&&kK(t,n[r].delimiters)}});var TK=T((qqe,IK)=>{"use strict";var kwe=Ct().normalizeReference,TT=Ct().isSpace;IK.exports=function(t,r){var n,i,o,s,a,c,l,u,f,d="",p="",h=t.pos,m=t.posMax,g=t.pos,v=!0;if(t.src.charCodeAt(t.pos)!==91||(a=t.pos+1,s=t.md.helpers.parseLinkLabel(t,t.pos,!0),s<0))return!1;if(c=s+1,c<m&&t.src.charCodeAt(c)===40){for(v=!1,c++;c<m&&(i=t.src.charCodeAt(c),!(!TT(i)&&i!==10));c++);if(c>=m)return!1;if(g=c,l=t.md.helpers.parseLinkDestination(t.src,c,t.posMax),l.ok){for(d=t.md.normalizeLink(l.str),t.md.validateLink(d)?c=l.pos:d="",g=c;c<m&&(i=t.src.charCodeAt(c),!(!TT(i)&&i!==10));c++);if(l=t.md.helpers.parseLinkTitle(t.src,c,t.posMax),c<m&&g!==c&&l.ok)for(p=l.str,c=l.pos;c<m&&(i=t.src.charCodeAt(c),!(!TT(i)&&i!==10));c++);}(c>=m||t.src.charCodeAt(c)!==41)&&(v=!0),c++}if(v){if(typeof t.env.references=="undefined")return!1;if(c<m&&t.src.charCodeAt(c)===91?(g=c+1,c=t.md.helpers.parseLinkLabel(t,c),c>=0?o=t.src.slice(g,c++):c=s+1):c=s+1,o||(o=t.src.slice(a,s)),u=t.env.references[kwe(o)],!u)return t.pos=h,!1;d=u.href,p=u.title}return r||(t.pos=a,t.posMax=s,f=t.push("link_open","a",1),f.attrs=n=[["href",d]],p&&n.push(["title",p]),t.md.inline.tokenize(t),f=t.push("link_close","a",-1)),t.pos=c,t.posMax=m,!0}});var DK=T(($qe,AK)=>{"use strict";var Iwe=Ct().normalizeReference,AT=Ct().isSpace;AK.exports=function(t,r){var n,i,o,s,a,c,l,u,f,d,p,h,m,g="",v=t.pos,y=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91||(c=t.pos+2,a=t.md.helpers.parseLinkLabel(t,t.pos+1,!1),a<0))return!1;if(l=a+1,l<y&&t.src.charCodeAt(l)===40){for(l++;l<y&&(i=t.src.charCodeAt(l),!(!AT(i)&&i!==10));l++);if(l>=y)return!1;for(m=l,f=t.md.helpers.parseLinkDestination(t.src,l,t.posMax),f.ok&&(g=t.md.normalizeLink(f.str),t.md.validateLink(g)?l=f.pos:g=""),m=l;l<y&&(i=t.src.charCodeAt(l),!(!AT(i)&&i!==10));l++);if(f=t.md.helpers.parseLinkTitle(t.src,l,t.posMax),l<y&&m!==l&&f.ok)for(d=f.str,l=f.pos;l<y&&(i=t.src.charCodeAt(l),!(!AT(i)&&i!==10));l++);else d="";if(l>=y||t.src.charCodeAt(l)!==41)return t.pos=v,!1;l++}else{if(typeof t.env.references=="undefined")return!1;if(l<y&&t.src.charCodeAt(l)===91?(m=l+1,l=t.md.helpers.parseLinkLabel(t,l),l>=0?s=t.src.slice(m,l++):l=a+1):l=a+1,s||(s=t.src.slice(c,a)),u=t.env.references[Iwe(s)],!u)return t.pos=v,!1;g=u.href,d=u.title}return r||(o=t.src.slice(c,a),t.md.inline.parse(o,t.md,t.env,h=[]),p=t.push("image","img",0),p.attrs=n=[["src",g],["alt",""]],p.children=h,p.content=o,d&&n.push(["title",d])),t.pos=l,t.posMax=y,!0}});var OK=T((Uqe,RK)=>{"use strict";var Twe=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Awe=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;RK.exports=function(t,r){var n,i,o,s,a,c,l=t.pos;if(t.src.charCodeAt(l)!==60)return!1;for(a=t.pos,c=t.posMax;;){if(++l>=c||(s=t.src.charCodeAt(l),s===60))return!1;if(s===62)break}return n=t.src.slice(a+1,l),Awe.test(n)?(i=t.md.normalizeLink(n),t.md.validateLink(i)?(r||(o=t.push("link_open","a",1),o.attrs=[["href",i]],o.markup="autolink",o.info="auto",o=t.push("text","",0),o.content=t.md.normalizeLinkText(n),o=t.push("link_close","a",-1),o.markup="autolink",o.info="auto"),t.pos+=n.length+2,!0):!1):Twe.test(n)?(i=t.md.normalizeLink("mailto:"+n),t.md.validateLink(i)?(r||(o=t.push("link_open","a",1),o.attrs=[["href",i]],o.markup="autolink",o.info="auto",o=t.push("text","",0),o.content=t.md.normalizeLinkText(n),o=t.push("link_close","a",-1),o.markup="autolink",o.info="auto"),t.pos+=n.length+2,!0):!1):!1}});var LK=T((Bqe,NK)=>{"use strict";var Dwe=ET().HTML_TAG_RE;function Rwe(e){var t=e|32;return t>=97&&t<=122}NK.exports=function(t,r){var n,i,o,s,a=t.pos;return!t.md.options.html||(o=t.posMax,t.src.charCodeAt(a)!==60||a+2>=o)||(n=t.src.charCodeAt(a+1),n!==33&&n!==63&&n!==47&&!Rwe(n))||(i=t.src.slice(a).match(Dwe),!i)?!1:(r||(s=t.push("html_inline","",0),s.content=t.src.slice(a,a+i[0].length)),t.pos+=i[0].length,!0)}});var qK=T((Hqe,jK)=>{"use strict";var FK=dT(),Owe=Ct().has,Nwe=Ct().isValidEntityCode,MK=Ct().fromCodePoint,Lwe=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Fwe=/^&([a-z][a-z0-9]{1,31});/i;jK.exports=function(t,r){var n,i,o,s=t.pos,a=t.posMax;if(t.src.charCodeAt(s)!==38)return!1;if(s+1<a){if(n=t.src.charCodeAt(s+1),n===35){if(o=t.src.slice(s).match(Lwe),o)return r||(i=o[1][0].toLowerCase()==="x"?parseInt(o[1].slice(1),16):parseInt(o[1],10),t.pending+=Nwe(i)?MK(i):MK(65533)),t.pos+=o[0].length,!0}else if(o=t.src.slice(s).match(Fwe),o&&Owe(FK,o[1]))return r||(t.pending+=FK[o[1]]),t.pos+=o[0].length,!0}return r||(t.pending+="&"),t.pos++,!0}});var BK=T((Vqe,UK)=>{"use strict";function $K(e,t){var r,n,i,o,s,a,c,l,u={},f=t.length;if(!!f){var d=0,p=-2,h=[];for(r=0;r<f;r++)if(i=t[r],h.push(0),(t[d].marker!==i.marker||p!==i.token-1)&&(d=r),p=i.token,i.length=i.length||0,!!i.close){for(u.hasOwnProperty(i.marker)||(u[i.marker]=[-1,-1,-1,-1,-1,-1]),s=u[i.marker][(i.open?3:0)+i.length%3],n=d-h[d]-1,a=n;n>s;n-=h[n]+1)if(o=t[n],o.marker===i.marker&&o.open&&o.end<0&&(c=!1,(o.close||i.open)&&(o.length+i.length)%3==0&&(o.length%3!=0||i.length%3!=0)&&(c=!0),!c)){l=n>0&&!t[n-1].open?h[n-1]+1:0,h[r]=r-n+l,h[n]=l,i.open=!1,o.end=r,o.close=!1,a=-1,p=-2;break}a!==-1&&(u[i.marker][(i.open?3:0)+(i.length||0)%3]=a)}}}UK.exports=function(t){var r,n=t.tokens_meta,i=t.tokens_meta.length;for($K(t,t.delimiters),r=0;r<i;r++)n[r]&&n[r].delimiters&&$K(t,n[r].delimiters)}});var VK=T((Wqe,HK)=>{"use strict";HK.exports=function(t){var r,n,i=0,o=t.tokens,s=t.tokens.length;for(r=n=0;r<s;r++)o[r].nesting<0&&i--,o[r].level=i,o[r].nesting>0&&i++,o[r].type==="text"&&r+1<s&&o[r+1].type==="text"?o[r+1].content=o[r].content+o[r+1].content:(r!==n&&(o[n]=o[r]),n++);r!==n&&(o.length=n)}});var YK=T((zqe,KK)=>{"use strict";var DT=b0(),WK=Ct().isWhiteSpace,zK=Ct().isPunctChar,GK=Ct().isMdAsciiPunct;function km(e,t,r,n){this.src=e,this.env=r,this.md=t,this.tokens=n,this.tokens_meta=Array(n.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1}km.prototype.pushPending=function(){var e=new DT("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};km.prototype.push=function(e,t,r){this.pending&&this.pushPending();var n=new DT(e,t,r),i=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),n.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(n),this.tokens_meta.push(i),n};km.prototype.scanDelims=function(e,t){var r=e,n,i,o,s,a,c,l,u,f,d=!0,p=!0,h=this.posMax,m=this.src.charCodeAt(e);for(n=e>0?this.src.charCodeAt(e-1):32;r<h&&this.src.charCodeAt(r)===m;)r++;return o=r-e,i=r<h?this.src.charCodeAt(r):32,l=GK(n)||zK(String.fromCharCode(n)),f=GK(i)||zK(String.fromCharCode(i)),c=WK(n),u=WK(i),u?d=!1:f&&(c||l||(d=!1)),c?p=!1:l&&(u||f||(p=!1)),t?(s=d,a=p):(s=d&&(!p||l),a=p&&(!d||f)),{can_open:s,can_close:a,length:o}};km.prototype.Token=DT;KK.exports=km});var XK=T((Gqe,QK)=>{"use strict";var JK=w0(),RT=[["text",wK()],["newline",bK()],["escape",_K()],["backticks",xK()],["strikethrough",PT().tokenize],["emphasis",IT().tokenize],["link",TK()],["image",DK()],["autolink",OK()],["html_inline",LK()],["entity",qK()]],OT=[["balance_pairs",BK()],["strikethrough",PT().postProcess],["emphasis",IT().postProcess],["text_collapse",VK()]];function Im(){var e;for(this.ruler=new JK,e=0;e<RT.length;e++)this.ruler.push(RT[e][0],RT[e][1]);for(this.ruler2=new JK,e=0;e<OT.length;e++)this.ruler2.push(OT[e][0],OT[e][1])}Im.prototype.skipToken=function(e){var t,r,n=e.pos,i=this.ruler.getRules(""),o=i.length,s=e.md.options.maxNesting,a=e.cache;if(typeof a[n]!="undefined"){e.pos=a[n];return}if(e.level<s)for(r=0;r<o&&(e.level++,t=i[r](e,!0),e.level--,!t);r++);else e.pos=e.posMax;t||e.pos++,a[n]=e.pos};Im.prototype.tokenize=function(e){for(var t,r,n=this.ruler.getRules(""),i=n.length,o=e.posMax,s=e.md.options.maxNesting;e.pos<o;){if(e.level<s)for(r=0;r<i&&(t=n[r](e,!1),!t);r++);if(t){if(e.pos>=o)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};Im.prototype.parse=function(e,t,r,n){var i,o,s,a=new this.State(e,t,r,n);for(this.tokenize(a),o=this.ruler2.getRules(""),s=o.length,i=0;i<s;i++)o[i](a)};Im.prototype.State=YK();QK.exports=Im});var e9=T((Kqe,ZK)=>{"use strict";ZK.exports=function(e){var t={};t.src_Any=hT().source,t.src_Cc=mT().source,t.src_Z=gT().source,t.src_P=h0().source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var r="[><\uFF5C]";return t.src_pseudo_letter="(?:(?!"+r+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+r+"|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+r+`|[()[\\]{}.,"'?!\\-]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!+(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+r+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+t.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+t.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}});var s9=T((Yqe,o9)=>{"use strict";function NT(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(r){!r||Object.keys(r).forEach(function(n){e[n]=r[n]})}),e}function P0(e){return Object.prototype.toString.call(e)}function Mwe(e){return P0(e)==="[object String]"}function jwe(e){return P0(e)==="[object Object]"}function qwe(e){return P0(e)==="[object RegExp]"}function t9(e){return P0(e)==="[object Function]"}function $we(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var r9={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function Uwe(e){return Object.keys(e||{}).reduce(function(t,r){return t||r9.hasOwnProperty(r)},!1)}var Bwe={"http:":{validate:function(e,t,r){var n=e.slice(t);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,r){var n=e.slice(t);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,r){var n=e.slice(t);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},Hwe="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Vwe="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function Wwe(e){e.__index__=-1,e.__text_cache__=""}function zwe(e){return function(t,r){var n=t.slice(r);return e.test(n)?n.match(e)[0].length:0}}function n9(){return function(e,t){t.normalize(e)}}function k0(e){var t=e.re=e9()(e.__opts__),r=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||r.push(Hwe),r.push(t.src_xn),t.src_tlds=r.join("|");function n(a){return a.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(n(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(n(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(n(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(n(t.tpl_host_fuzzy_test),"i");var i=[];e.__compiled__={};function o(a,c){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+c)}Object.keys(e.__schemas__).forEach(function(a){var c=e.__schemas__[a];if(c!==null){var l={validate:null,link:null};if(e.__compiled__[a]=l,jwe(c)){qwe(c.validate)?l.validate=zwe(c.validate):t9(c.validate)?l.validate=c.validate:o(a,c),t9(c.normalize)?l.normalize=c.normalize:c.normalize?o(a,c):l.normalize=n9();return}if(Mwe(c)){i.push(a);return}o(a,c)}}),i.forEach(function(a){!e.__compiled__[e.__schemas__[a]]||(e.__compiled__[a].validate=e.__compiled__[e.__schemas__[a]].validate,e.__compiled__[a].normalize=e.__compiled__[e.__schemas__[a]].normalize)}),e.__compiled__[""]={validate:null,normalize:n9()};var s=Object.keys(e.__compiled__).filter(function(a){return a.length>0&&e.__compiled__[a]}).map($we).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><\uFF5C]|"+t.src_ZPCc+"))("+s+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><\uFF5C]|"+t.src_ZPCc+"))("+s+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),Wwe(e)}function Gwe(e,t){var r=e.__index__,n=e.__last_index__,i=e.__text_cache__.slice(r,n);this.schema=e.__schema__.toLowerCase(),this.index=r+t,this.lastIndex=n+t,this.raw=i,this.text=i,this.url=i}function i9(e,t){var r=new Gwe(e,t);return e.__compiled__[r.schema].normalize(r,e),r}function Ii(e,t){if(!(this instanceof Ii))return new Ii(e,t);t||Uwe(e)&&(t=e,e={}),this.__opts__=NT({},r9,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=NT({},Bwe,e),this.__compiled__={},this.__tlds__=Vwe,this.__tlds_replaced__=!1,this.re={},k0(this)}Ii.prototype.add=function(t,r){return this.__schemas__[t]=r,k0(this),this};Ii.prototype.set=function(t){return this.__opts__=NT(this.__opts__,t),this};Ii.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var r,n,i,o,s,a,c,l,u;if(this.re.schema_test.test(t)){for(c=this.re.schema_search,c.lastIndex=0;(r=c.exec(t))!==null;)if(o=this.testSchemaAt(t,r[2],c.lastIndex),o){this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+o;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=t.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(s=n.index+n[1].length,(this.__index__<0||s<this.__index__)&&(this.__schema__="",this.__index__=s,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(u=t.indexOf("@"),u>=0&&(i=t.match(this.re.email_fuzzy))!==null&&(s=i.index+i[1].length,a=i.index+i[0].length,(this.__index__<0||s<this.__index__||s===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=s,this.__last_index__=a))),this.__index__>=0};Ii.prototype.pretest=function(t){return this.re.pretest.test(t)};Ii.prototype.testSchemaAt=function(t,r,n){return this.__compiled__[r.toLowerCase()]?this.__compiled__[r.toLowerCase()].validate(t,n,this):0};Ii.prototype.match=function(t){var r=0,n=[];this.__index__>=0&&this.__text_cache__===t&&(n.push(i9(this,r)),r=this.__last_index__);for(var i=r?t.slice(r):t;this.test(i);)n.push(i9(this,r)),i=i.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};Ii.prototype.tlds=function(t,r){return t=Array.isArray(t)?t:[t],r?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(n,i,o){return n!==o[i-1]}).reverse(),k0(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,k0(this),this)};Ii.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};Ii.prototype.onCompile=function(){};o9.exports=Ii});var c9=T((Jqe,a9)=>{"use strict";a9.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}});var u9=T((Qqe,l9)=>{"use strict";l9.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}});var d9=T((Xqe,f9)=>{"use strict";f9.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}});var g9=T((Zqe,m9)=>{"use strict";var Tm=Ct(),Kwe=a6(),Ywe=l6(),Jwe=N6(),Qwe=vK(),Xwe=XK(),Zwe=s9(),Tl=pT(),p9=require("punycode"),eCe={default:c9(),zero:u9(),commonmark:d9()},tCe=/^(vbscript|javascript|file|data):/,rCe=/^data:image\/(gif|png|jpeg|webp);/;function nCe(e){var t=e.trim().toLowerCase();return tCe.test(t)?!!rCe.test(t):!0}var h9=["http:","https:","mailto:"];function iCe(e){var t=Tl.parse(e,!0);if(t.hostname&&(!t.protocol||h9.indexOf(t.protocol)>=0))try{t.hostname=p9.toASCII(t.hostname)}catch{}return Tl.encode(Tl.format(t))}function oCe(e){var t=Tl.parse(e,!0);if(t.hostname&&(!t.protocol||h9.indexOf(t.protocol)>=0))try{t.hostname=p9.toUnicode(t.hostname)}catch{}return Tl.decode(Tl.format(t),Tl.decode.defaultChars+"%")}function Ti(e,t){if(!(this instanceof Ti))return new Ti(e,t);t||Tm.isString(e)||(t=e||{},e="default"),this.inline=new Xwe,this.block=new Qwe,this.core=new Jwe,this.renderer=new Ywe,this.linkify=new Zwe,this.validateLink=nCe,this.normalizeLink=iCe,this.normalizeLinkText=oCe,this.utils=Tm,this.helpers=Tm.assign({},Kwe),this.options={},this.configure(e),t&&this.set(t)}Ti.prototype.set=function(e){return Tm.assign(this.options,e),this};Ti.prototype.configure=function(e){var t=this,r;if(Tm.isString(e)&&(r=e,e=eCe[r],!e))throw new Error('Wrong `markdown-it` preset "'+r+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)}),this};Ti.prototype.enable=function(e,t){var r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(i){r=r.concat(this[i].ruler.enable(e,!0))},this),r=r.concat(this.inline.ruler2.enable(e,!0));var n=e.filter(function(i){return r.indexOf(i)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this};Ti.prototype.disable=function(e,t){var r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(i){r=r.concat(this[i].ruler.disable(e,!0))},this),r=r.concat(this.inline.ruler2.disable(e,!0));var n=e.filter(function(i){return r.indexOf(i)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this};Ti.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};Ti.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");var r=new this.core.State(e,this,t);return this.core.process(r),r.tokens};Ti.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};Ti.prototype.parseInline=function(e,t){var r=new this.core.State(e,this,t);return r.inlineMode=!0,this.core.process(r),r.tokens};Ti.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};m9.exports=Ti});var y9=T((e$e,v9)=>{"use strict";v9.exports=g9()});var H5=T((iHe,_0e)=>{_0e.exports={name:"remote-containers",displayName:"Dev Containers",description:"Open any folder or repository inside a Docker container and take advantage of Visual Studio Code's full feature set.",version:"0.255.3",preview:!0,publisher:"ms-vscode-remote",icon:"resources/dev-containers.png",repository:{type:"git",url:"https://github.com/Microsoft/vscode-remote-release.git"},bugs:{url:"https://github.com/Microsoft/vscode-remote-release/issues"},license:"SEE LICENSE IN LICENSE.txt",engines:{vscode:"^1.71.0"},extensionKind:["ui"],capabilities:{untrustedWorkspaces:{supported:"limited",description:"Opening a folder in a container requires workspace trust."},virtualWorkspaces:!0},categories:["Other"],keywords:["remote","docker","containers","remote development","dev container","development container"],aiKey:"0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255",activationEvents:["onStartupFinished","onCommand:remote-containers.reopenInContainer","onCommand:remote-containers.rebuildAndReopenInContainer","onCommand:remote-containers.rebuildNoCacheAndReopenInContainer","onCommand:remote-containers.reopenLocally","onCommand:remote-containers.reopenInWSL","onCommand:remote-containers.reopenInSSH","onCommand:remote-containers.openFolder","onCommand:remote-containers.openRepositoryInVolume","onCommand:remote-containers.openRepositoryInUniqueVolume","onCommand:remote-containers.openRepositoryFromRemoteHub","onCommand:remote-containers.openRepositoryFromRemoteHubWithEditSession","onCommand:remote-containers.openPullRequestInVolume","onCommand:remote-containers.inspectVolume","onCommand:remote-containers.inspectVolumeFromViewlet","onCommand:remote-containers.inspectInBasicDevContainer","onCommand:remote-containers.cloneInVolumeFromViewlet","onCommand:remote-containers.pruneVolumes","onCommand:remote-containers.openWorkspace","onCommand:remote-containers.attachToRunningContainer","onCommand:remote-containers.attachToRunningContainerFromViewlet","onCommand:remote-containers.attachToK8sContainerFromViewlet","onCommand:remote-containers.checkoutPRInVolume","onCommand:remote-containers.rebuildContainer","onCommand:remote-containers.rebuildContainerNoCache","onCommand:remote-containers.createDevContainerFile","onCommand:remote-containers.openDevContainerFile","onCommand:remote-containers.openAttachDevContainerFile","onCommand:remote-containers.settings","onCommand:remote-containers.getHelp","onCommand:remote-containers.getStarted","onCommand:remote-containers.trySample","onCommand:remote-containers.reportIssue","onCommand:remote-containers.provideFeedback","onCommand:remote-containers.revealLogTerminal","onCommand:remote-containers.openLogFile","onCommand:remote-containers.openLastLogFile","onCommand:remote-containers.addExtensionToConfig","onCommand:remote-containers.showReopenInContainerNotificationReset","onCommand:remote-containers.showRecoveryContainerNotificationReset","onCommand:remote-containers.labelPortAndUpdateConfig","onCommand:remote-containers.installDocker","onCommand:remote-containers.installUserCLI","onCommand:remote-containers.configureContainerFeatures","workspaceContains:.devcontainer/devcontainer.json","workspaceContains:.devcontainer.json","onResolveRemoteAuthority:dev-container","onResolveRemoteAuthority:attached-container","onResolveRemoteAuthority:k8s-container","onDebugResolve:extensionHost","onView:targetsContainers"],main:"./dist/extension/extension",enabledApiProposals:["resolvers","tunnels","workspaceTrust","terminalDimensions","contribEditSessions","contribViewsRemote"],contributes:{virtualWorkspaces:{menus:{continueOn:[{command:"remote-containers.openRepositoryFromRemoteHub",group:"0_local@2",when:"!isWeb && remoteHub:hasVirtualFolders"}]}},continueEditSession:[{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",group:"0_local@2",when:"!isWeb && remoteHub:hasVirtualFolders"}],languages:[{id:"jsonc",filenames:["devcontainer-features.json"]}],jsonValidation:[{fileMatch:"devcontainer-features.json",url:"./schemas/devcontainer-features.schema.json"}],configuration:{title:"Dev Containers",properties:{"remote.containers.defaultExtensions":{scope:"application",deprecationMessage:"Use 'dev.containers.defaultExtensions' instead.",markdownDeprecationMessage:"Use `#dev.containers.defaultExtensions#` instead."},"dev.containers.defaultExtensions":{scope:"application",type:"array",description:"Configures the list of extensions to always install while creating a container.",default:[],items:{type:"string",pattern:"([a-z0-9A-Z][a-z0-9\\-A-Z]*)\\.([a-z0-9A-Z][a-z0-9\\-A-Z]*)",errorMessage:"Expected format '${publisher}.${name}'. Example: 'vscode.csharp'."}},"remote.containers.workspaceMountConsistency":{scope:"application",deprecationMessage:"Use 'dev.containers.workspaceMountConsistency' instead.",markdownDeprecationMessage:"Use `#dev.containers.workspaceMountConsistency#` instead."},"dev.containers.workspaceMountConsistency":{scope:"application",type:"string",enum:["consistent","cached","delegated"],enumDescriptions:["Perfect consistency.","The host\u2019s view is authoritative.","The container\u2019s view is authoritative."],description:"The consistency level used for the workspace mount (existing containers must be rebuilt to take effect).",default:"cached"},"remote.containers.cacheVolume":{scope:"application",deprecationMessage:"Use 'dev.containers.cacheVolume' instead.",markdownDeprecationMessage:"Use `#dev.containers.cacheVolume#` instead."},"dev.containers.cacheVolume":{scope:"application",type:"boolean",description:"Controls whether a Docker volume should be used to cache the VS Code server and extensions. Currently only applies to single container and not Docker Compose configurations.",default:!0},"remote.containers.copyGitConfig":{scope:"machine",deprecationMessage:"Use 'dev.containers.copyGitConfig' instead.",markdownDeprecationMessage:"Use `#dev.containers.copyGitConfig#` instead."},"dev.containers.copyGitConfig":{scope:"machine",type:"boolean",markdownDescription:"Controls whether the Git configuration (`~/.gitconfig`) should be copied into the container. This is done after installing any `#dotfiles.repository#` and will not overwrite an existing Git configuration file.",default:!0},"remote.containers.gitCredentialHelperConfigLocation":{scope:"machine",deprecationMessage:"Use 'dev.containers.gitCredentialHelperConfigLocation' instead.",markdownDeprecationMessage:"Use `#dev.containers.gitCredentialHelperConfigLocation#` instead."},"dev.containers.gitCredentialHelperConfigLocation":{scope:"machine",type:"string",enum:["system","global","none"],enumDescriptions:["Write to system config (`/etc/gitconfig`, requires root access).","Write to user config (`~/.gitconfig`).","Do not set a credential helper."],description:"Where to write the configuration for the Git credential helper.",default:"global"},"remote.containers.logLevel":{scope:"application",deprecationMessage:"Use 'dev.containers.logLevel' instead.",markdownDeprecationMessage:"Use `#dev.containers.logLevel#` instead."},"dev.containers.logLevel":{scope:"application",type:"string",description:"The log level for the extension.",default:"debug",enum:["info","debug","trace"]},"remote.containers.dockerPath":{scope:"application",deprecationMessage:"Use 'dev.containers.dockerPath' instead.",markdownDeprecationMessage:"Use `#dev.containers.dockerPath#` instead."},"dev.containers.dockerPath":{scope:"application",type:"string",description:"Docker (or Podman) executable name or path.",default:"docker"},"remote.containers.dockerComposePath":{scope:"application",deprecationMessage:"Use 'dev.containers.dockerComposePath' instead.",markdownDeprecationMessage:"Use `#dev.containers.dockerComposePath#` instead."},"dev.containers.dockerComposePath":{scope:"application",type:"string",description:"Docker Compose executable name or path.",default:"docker-compose"},"remote.containers.executeInWSL":{scope:"application",deprecationMessage:"Use 'dev.containers.executeInWSL' instead.",markdownDeprecationMessage:"Use `#dev.containers.executeInWSL#` instead."},"dev.containers.executeInWSL":{scope:"application",type:"boolean",description:"Controls whether CLI commands should always be executed in WSL. The default is to only execute in WSL for workspace folders in WSL. This setting has no effect on other platforms than Windows.",default:!1},"remote.containers.executeInWSLDistro":{scope:"application",deprecationMessage:"Use 'dev.containers.executeInWSLDistro' instead.",markdownDeprecationMessage:"Use `#dev.containers.executeInWSLDistro#` instead."},"dev.containers.executeInWSLDistro":{scope:"application",type:"string",markdownDescription:"WSL distro to use when not reopening a WSL folder. The default is to use the default WSL distro (see `wsl -l`). This setting has no effect when `#dev.containers.executeInWSL#` is not enabled or on other platforms than Windows."},"dotfiles.repository":{scope:"machine",type:"string",description:"URL of a dotfiles Git repository (e.g., https://github.com/owner/repository.git) or owner/repository of a GitHub repository."},"dotfiles.installCommand":{scope:"machine",type:"string",description:"The command to run after cloning the dotfiles repository. Defaults to run the first file of `install.sh`, `install`, `bootstrap.sh`, `bootstrap`, `setup.sh` and `setup` found in the dotfiles repository's root folder."},"dotfiles.targetPath":{scope:"machine",type:"string",description:"The path to clone the dotfiles repository to. Defaults to `~/dotfiles`.",default:"~/dotfiles"},"remote.containers.dotfiles.repository":{scope:"machine",deprecationMessage:"Use 'dotfiles.repository' instead.",markdownDeprecationMessage:"Use `#dotfiles.repository#` instead."},"remote.containers.dotfiles.installCommand":{scope:"machine",deprecationMessage:"Use 'dotfiles.installCommand' instead.",markdownDeprecationMessage:"Use `#dotfiles.installCommand#` instead."},"remote.containers.dotfiles.targetPath":{scope:"machine",description:"Deprecated setting. Use 'dotfiles.targetPath' instead.",deprecationMessage:"Use 'dotfiles.targetPath' instead.",markdownDeprecationMessage:"Use `#dotfiles.targetPath#` instead."},"remote.containers.repositoryConfigurationPaths":{scope:"application",description:"Deprecated setting. Use 'dev.containers.repositoryConfigurationPaths' instead.",deprecationMessage:"Use 'dev.containers.repositoryConfigurationPaths' instead.",markdownDeprecationMessage:"Use `#dev.containers.repositoryConfigurationPaths#` instead."},"dev.containers.repositoryConfigurationPaths":{scope:"application",type:"array",markdownDescription:"List of additional paths to search for [repository configurations](https://github.com/microsoft/vscode-dev-containers/tree/main/repository-containers).",default:[],items:{type:"string"}}}},commands:[{command:"remote-containers.reopenInContainer",title:"Reopen in Container",category:"Dev Containers"},{command:"remote-containers.rebuildAndReopenInContainer",title:"Rebuild and Reopen in Container",category:"Dev Containers"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",title:"Rebuild Without Cache and Reopen in Container",category:"Dev Containers"},{command:"remote-containers.reopenLocally",title:"Reopen Folder Locally",category:"Dev Containers"},{command:"remote-containers.reopenInWSL",title:"Reopen Folder in WSL",category:"Dev Containers"},{command:"remote-containers.reopenInSSH",title:"Reopen Folder in SSH",category:"Dev Containers"},{command:"remote-containers.openFolder",title:"Open Folder in Container...",category:"Dev Containers",icon:{light:"resources/light/reopen-folder.svg",dark:"resources/dark/reopen-folder.svg"}},{command:"remote-containers.startAndOpenFolder",title:"Open Folder in Container",category:"Dev Containers",icon:{light:"resources/light/reopen-folder.svg",dark:"resources/dark/reopen-folder.svg"}},{command:"remote-containers.openRepositoryInVolume",title:"Clone Repository in Named Container Volume...",category:"Dev Containers"},{command:"remote-containers.openRepositoryInUniqueVolume",title:"Clone Repository in Container Volume...",icon:"$(repo-clone)",category:"Dev Containers"},{command:"remote-containers.openRepositoryFromRemoteHub",title:"Clone Repository in a Container Volume",icon:"$(repo-clone)",category:"Dev Containers"},{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",title:"Clone Repository in a Container Volume",icon:"$(repo-clone)",category:"Dev Containers"},{command:"remote-containers.openPullRequestInVolume",title:"Clone GitHub Pull Request in Container Volume...",category:"Dev Containers"},{command:"remote-containers.inspectVolume",title:"Explore a Volume in a Dev Container...",category:"Dev Containers"},{command:"remote-containers.openWorkspace",title:"Open Workspace in Container...",category:"Dev Containers"},{command:"remote-containers.attachToRunningContainer",title:"Attach to Running Container...",category:"Dev Containers"},{command:"remote-containers.attachToRunningContainerFromViewlet",title:"Attach Visual Studio Code",category:"Dev Containers"},{command:"remote-containers.inspectVolumeFromViewlet",title:"Explore in a Dev Container",category:"Dev Containers"},{command:"remote-containers.cloneInVolumeFromViewlet",title:"Clone into existing Volume",category:"Dev Containers"},{command:"remote-containers.pruneVolumes",title:"Remove Unused Volumes...",category:"Dev Containers",icon:"$(clear-all)"},{command:"remote-containers.explorerVolumesRefresh",title:"Refresh",category:"Dev Containers",icon:"$(refresh)"},{command:"remote-containers.attachToK8sContainerFromViewlet",title:"Attach Visual Studio Code",category:"Dev Containers"},{command:"remote-containers.rebuildContainer",title:"Rebuild Container",category:"Dev Containers",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.rebuildContainerNoCache",title:"Rebuild Container Without Cache",category:"Dev Containers",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.createDevContainerFile",title:"Add Dev Container Configuration Files...",category:"Dev Containers"},{command:"remote-containers.settings",title:"Settings for Dev Containers",category:"Dev Containers"},{command:"remote-containers.getHelp",title:"Help for Dev Containers",category:"Dev Containers"},{command:"remote-containers.getStarted",title:"Getting Started with Dev Containers",category:"Dev Containers"},{command:"remote-containers.trySample",title:"Try a Dev Container Sample...",category:"Dev Containers"},{command:"remote-containers.reportIssue",title:"Report Issue with Dev Containers...",category:"Dev Containers"},{command:"remote-containers.provideFeedback",title:"Provide Feedback",category:"Dev Containers"},{command:"remote-containers.openDevContainerFile",title:"Open Container Configuration File",category:"Dev Containers",icon:{light:"resources/light/gear.svg",dark:"resources/dark/gear.svg"}},{command:"remote-containers.openAttachConfigByNameFile",title:"Open Named Container Configuration File",category:"Dev Containers"},{command:"remote-containers.openAttachDevContainerFile",title:"Open Attached Container Configuration File...",category:"Dev Containers"},{command:"remote-containers.revealLogTerminal",title:"Show Container Log",category:"Dev Containers"},{command:"remote-containers.openLogFile",title:"Show All Logs...",category:"Dev Containers Developer"},{command:"remote-containers.openLastLogFile",title:"Show Previous Log",category:"Dev Containers"},{command:"remote-containers.attachToContainer",title:"Attach to Container",category:"Dev Containers",icon:{light:"resources/light/empty-window.svg",dark:"resources/dark/empty-window.svg"}},{command:"remote-containers.attachToContainerNewWindow",title:"Attach in New Window",category:"Dev Containers"},{command:"remote-containers.stopContainer",title:"Stop Container",category:"Dev Containers"},{command:"remote-containers.startContainer",title:"Start Container",category:"Dev Containers",icon:{light:"resources/light/vm-start.svg",dark:"resources/dark/vm-start.svg"}},{command:"remote-containers.removeContainer",title:"Remove Container",category:"Dev Containers",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.removeRecentFolder",title:"Remove Recent Folder",category:"Dev Containers",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.showDetails",title:"Show Details",category:"Dev Containers"},{command:"remote-containers.explorerTargetsRefresh",title:"Refresh",category:"Dev Containers",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.explorerDetailsRefresh",title:"Refresh",category:"Dev Containers",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.inspectDockerResource",title:"Inspect",category:"Dev Containers"},{command:"remote-containers.inspectInBasicDevContainer",title:"Explore in Dev Container",category:"Dev Containers"},{command:"remote-containers.cloneInVolume",title:"Clone Repository in Volume",category:"Dev Containers"},{command:"remote-containers.removeVolume",title:"Remove",category:"Dev Containers"},{command:"remote-containers.newContainer",title:"New Container",category:"Dev Containers",icon:{light:"resources/light/plus.svg",dark:"resources/dark/plus.svg"}},{command:"remote-containers.showContainerLog",title:"Show Container Log",category:"Dev Containers"},{command:"remote-containers.addExtensionToConfig",title:"Add to devcontainer.json",category:"Dev Containers"},{command:"remote-containers.checkoutPRInVolume",title:"Checkout Pull Request in Dev Container",category:"Dev Containers"},{command:"remote-containers.showReopenInContainerNotificationReset",title:"Reset Don't Show Reopen Notification",category:"Dev Containers"},{command:"remote-containers.showRecoveryContainerNotificationReset",title:"Reset Don't Show Recovery Container Notification",category:"Dev Containers"},{command:"remote-containers.labelPortAndUpdateConfig",title:"Set Label and Update devcontainer.json",category:"Dev Containers",icon:"$(tag)"},{command:"remote-containers.installDocker",title:"Install Docker",category:"Dev Containers"},{command:"remote-containers.installUserCLI",title:"Install devcontainer CLI",category:"Dev Containers"},{command:"remote-containers.configureContainerFeatures",title:"Configure Container Features...",category:"Dev Containers"}],menus:{commandPalette:[{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && remoteName == dev-container && isRecoveryContainer"},{command:"remote-containers.rebuildAndReopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildAndReopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.reopenLocally",when:"canReopenLocally"},{command:"remote-containers.reopenInWSL",when:"canReopenInWSL"},{command:"remote-containers.reopenInSSH",when:"canReopenInSSH"},{command:"remote-containers.openFolder",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openRepositoryInVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openPullRequestInVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openWorkspace",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.attachToRunningContainer",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.attachToRunningContainerFromViewlet",when:"false"},{command:"remote-containers.inspectVolumeFromViewlet",when:"false"},{command:"remote-containers.openRepositoryFromRemoteHub",when:"false"},{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",when:"false"},{command:"remote-containers.cloneInVolumeFromViewlet",when:"false"},{command:"remote-containers.inspectInBasicDevContainer",when:"false"},{command:"remote-containers.cloneInVolume",when:"false"},{command:"remote-containers.removeVolume",when:"false"},{command:"remote-containers.attachToK8sContainerFromViewlet",when:"false"},{command:"remote-containers.checkoutPRInVolume",when:"false"},{command:"remote-containers.rebuildContainer",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.rebuildContainerNoCache",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.createDevContainerFile",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",when:"remoteName =~ /^(dev-container|wsl|ssh-remote)$/"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.openDevContainerFile",when:"remoteName =~ /^(dev|attached)-container$/"},{command:"remote-containers.openAttachConfigByNameFile",when:"remoteName == attached-container"},{command:"remote-containers.openAttachDevContainerFile",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.getStarted",when:"false"},{command:"remote-containers.trySample",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.trySample",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.provideFeedback",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.attachToContainer",when:"false"},{command:"remote-containers.attachToContainerNewWindow",when:"false"},{command:"remote-containers.stopContainer",when:"false"},{command:"remote-containers.removeContainer",when:"false"},{command:"remote-containers.startContainer",when:"false"},{command:"remote-containers.removeRecentFolder",when:"false"},{command:"remote-containers.showDetails",when:"false"},{command:"remote-containers.explorerTargetsRefresh",when:"false"},{command:"remote-containers.explorerVolumesRefresh",when:"false"},{command:"remote-containers.explorerDetailsRefresh",when:"false"},{command:"remote-containers.inspectDockerResource",when:"false"},{command:"remote-containers.startAndOpenFolder",when:"false"},{command:"remote-containers.newContainer",when:"false"},{command:"remote-containers.showContainerLog",when:"false"},{command:"remote-containers.labelPortAndUpdateConfig",when:"false"},{command:"remote-containers.addExtensionToConfig",when:"false"},{command:"remote-containers.configureContainerFeatures",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.configureContainerFeatures",when:"remoteName =~ /^(dev-container|wsl|ssh-remote)$/"}],"statusBar/remoteIndicator":[{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@1",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@1",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.openFolder",group:"remote_30_dev-container_2_actions@2",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.openFolder",group:"remote_30_dev-container_2_actions@2",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@4",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@4",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.attachToRunningContainer",group:"remote_30_dev-container_2_actions@5",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.attachToRunningContainer",group:"remote_30_dev-container_2_actions@5",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@6",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@6",when:"remoteName =~ /^(dev-container|wsl|ssh-remote)$/"},{command:"remote-containers.trySample",group:"remote_30_dev-container_2_actions@7",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.trySample",group:"remote_30_dev-container_2_actions@7",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.getStarted",group:"remote_30_dev-container_2_actions@8",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.getStarted",group:"remote_30_dev-container_2_actions@8",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.reopenInWSL",group:"remote_30_dev-container_1_actions@1",when:"canReopenInWSL"},{command:"remote-containers.reopenInSSH",group:"remote_30_dev-container_1_actions@1",when:"canReopenInSSH"},{command:"remote-containers.reopenLocally",group:"remote_30_dev-container_1_actions@2",when:"canReopenLocally"},{command:"remote-containers.rebuildContainer",group:"remote_30_dev-container_1_actions@3",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.openDevContainerFile",group:"remote_30_dev-container_1_actions@4",when:"remoteName =~ /^(dev|attached)-container$/"},{command:"remote-containers.revealLogTerminal",group:"remote_30_dev-container_1_actions@5",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.openFolder",group:"remote_30_dev-container_1_actions@6",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/ && remoteConnectionState == connected"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_1_actions@8",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/ && remoteConnectionState == connected"},{command:"remote-containers.attachToRunningContainer",group:"remote_30_dev-container_1_actions@9",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.settings",group:"remote_30_dev-container_9_help@1",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.reportIssue",group:"remote_30_dev-container_9_help@2",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.getHelp",group:"remote_30_dev-container_9_help@4",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"}],"view/title":[{command:"remote-containers.explorerTargetsRefresh",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation"},{command:"remote-containers.newContainer",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation"},{command:"remote-containers.explorerDetailsRefresh",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.attachToContainer",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.rebuildContainer",when:"view == detailsContainers && remoteName == dev-container",group:"navigation"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && remoteName =~ /^(dev|attached)-container$/",group:"navigation"},{command:"remote-containers.pruneVolumes",when:"view == devVolumes",group:"navigation@2"},{command:"remote-containers.explorerVolumesRefresh",when:"view == devVolumes",group:"navigation@3"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"view == devVolumes",group:"navigation@1"}],"view/item/context":[{command:"remote-containers.attachToRunningContainerFromViewlet",when:"view == dockerContainers && viewItem =~ /^runningContainer$/i && vscode-docker:aciContext != true",group:"containers_1_general@2"},{command:"remote-containers.inspectVolumeFromViewlet",when:"view == dockerVolumes && viewItem == volume && vscode-docker:aciContext != true",group:"volumes_1_general@2"},{command:"remote-containers.checkoutPRInVolume",when:"view =~ /pr:/ && viewItem =~ /pullrequest(:local)?:nonactive|description/"},{command:"remote-containers.attachToK8sContainerFromViewlet",group:"2@4",when:"remoteName =~ /^(wsl)?$/ && view == extension.vsKubernetesExplorer && viewItem =~ /vsKubernetes\\.resource\\.pod/i"},{command:"remote-containers.startAndOpenFolder",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"1_folder@1"},{command:"remote-containers.startAndOpenFolder",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"inline@1"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"2_folder@1"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"inline@2"},{command:"workbench.action.closeFolder",when:"view == targetsContainers && viewItem =~ /active.*Folder/",group:"1_folder@1"},{command:"remote-containers.reopenLocally",when:"canReopenLocally && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInWSL",when:"canReopenInWSL && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInSSH",when:"canReopenInSSH && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.attachToContainer",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"1_container@1"},{command:"remote-containers.attachToContainer",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"inline@1"},{command:"remote-containers.attachToContainerNewWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"1_container@2"},{command:"remote-containers.stopContainer",when:"view == targetsContainers && viewItem =~ /^(active|running)(Dev|)Container/",group:"2_container@2"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"2_container@3"},{command:"remote-containers.rebuildContainer",when:"view == targetsContainers && viewItem =~ /activeDevContainer/",group:"2_container@1"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"inline@2"},{command:"remote-containers.startContainer",when:"view == targetsContainers && viewItem =~ /^exited(Dev|)Container/",group:"1_container@3"},{command:"remote-containers.showDetails",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@4"},{command:"remote-containers.inspectDockerResource",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@5"},{command:"remote-containers.showContainerLog",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@6"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && viewItem == devContainer"},{command:"remote-containers.inspectDockerResource",when:"view == detailsContainers && viewItem =~ /^(image|volume)$/"},{command:"remote-containers.cloneInVolume",when:"view == devVolumes && viewItem =~ /^(devVolume)$/",group:"1_volumes@1"},{command:"remote-containers.inspectInBasicDevContainer",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@1"},{command:"remote-containers.inspectDockerResource",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@2"},{command:"remote-containers.removeVolume",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"3_volumes-destructive@1"}],"ports/item/port/inline":[{command:"remote-containers.labelPortAndUpdateConfig",group:"0_manage@4",when:"remoteName =~ /^(dev|attached)-container$/ && tunnelType == Forwarded"}],"extension/context":[{command:"remote-containers.addExtensionToConfig",group:"2_configure",when:"!isBuiltinExtension && remoteName =~ /^(dev-container|attached-container|wsl|ssh-remote)?$/"}]},resourceLabelFormatters:[{scheme:"vscode-remote",authority:"dev-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Dev Container"}},{scheme:"vscode-remote",authority:"attached-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Container"}},{scheme:"vscode-remote",authority:"exec+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Exec"}},{scheme:"vscode-remote",authority:"k8s-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Kubernetes"}}],views:{remote:[{id:"targetsContainers",name:"Containers",group:"targets@2",remoteName:["dev-container","attached-container","exec","k8s-container"]},{id:"detailsContainers",name:"Details (Containers)",when:"remote-containers:showDetails",group:"details@1",remoteName:["dev-container","attached-container"]},{id:"devVolumes",name:"DevVolumes",group:"details@2",remoteName:["dev-container","attached-container"]}]},viewsWelcome:[{view:"targetsContainers",when:"remote-containers:needsDockerStartOrInstall",contents:"Get started with containers by [installing Docker](command:remote-containers.installDocker) or by visiting the [help view](command:~remote.helpPanel.focus). [Refresh](command:remote-containers.explorerTargetsRefresh) after installation and startup."},{view:"targetsContainers",when:"remote-containers:needsSSHCredentials",contents:"[Refresh](command:remote-containers.explorerTargetsRefresh) to provide SSH credentials."},{view:"targetsContainers",when:"remote-containers:noContainersWithFolder",contents:`Get started with containers by running one of the [Dev Containers](command:remote-containers.newContainer) commands.
You can [reopen the current folder in a container](command:remote-containers.reopenInContainer), or open another folder in a container.
[Open Folder in Container](command:remote-containers.openFolder)
If you're new to containers and want to [try a sample](command:remote-containers.trySample), there are several to choose from.`},{view:"targetsContainers",when:"remote-containers:noContainersWithoutFolder",contents:`Get started with containers by running one of the [Dev Containers](command:remote-containers.newContainer) commands.
You can open an existing folder in a container.
[Open Folder in Container](command:remote-containers.openFolder)
If you're new to containers and want to [try a sample](command:remote-containers.trySample), there are several to choose from.`},{view:"devVolumes",when:"remote-containers:noDevVolumes",contents:`If there's a repository you want to work with you can clone that directly in a container volume.
[Clone Repository in Container Volume](command:remote-containers.openRepositoryInUniqueVolume)
`}],remoteHelp:{getStarted:"https://aka.ms/vscode-remote/containers/tutorial-sandbox",feedback:"https://aka.ms/vscode-remote/containers/provide-feedback",documentation:"https://aka.ms/vscode-remote/containers",issues:"https://aka.ms/vscode-remote/containers/issues",remoteName:["dev-container","attached-container","exec","k8s-container"]}},scripts:{"vscode:prepublish":"npx npm-run-all --npm-path npm clean definitions compile-prod dev-containers-user-cli-prepare",compile:"npx npm-run-all --npm-path npm clean-dist definitions compile-dev",watch:"npx npm-run-all --npm-path npm clean-dist definitions compile-watch",precommit:"node build/hygiene.js",package:"vsce package --yarn",definitions:"npx npm-run-all --npm-path npm definitions-clean definitions-copy",lint:"eslint -c .eslintrc.js --rulesdir ./build/eslint --max-warnings 0 --ext .ts ./src ./test","compile-prod":"node esbuild.js --production","compile-dev":"node esbuild.js","compile-watch":"node esbuild.js --watch","type-check":"npx npm-run-all --npm-path npm clean-built tsc-b","tsc-b":"tsc -b","type-check-watch":"npx npm-run-all --npm-path npm clean-built tsc-b-w","tsc-b-w":"tsc -b -w","definitions-clean":"rimraf dist/node_modules/vscode-dev-containers","definitions-copy":'copyfiles --all "node_modules/vscode-dev-containers/**/*" dist',"dev-containers-cli-publish":"npx npm-run-all --npm-path npm dev-containers-cli-prepare dev-containers-cli-npm-publish","dev-containers-cli-package":"npx npm-run-all --npm-path npm dev-containers-cli-prepare dev-containers-cli-npm-pack","dev-containers-cli-prepare":"npx npm-run-all --npm-path npm clean dev-containers-cli-compile dev-containers-cli-copy-module dev-containers-cli-copy-definitions","dev-containers-cli-compile":"npx npm-run-all --npm-path npm compile-prod","dev-containers-cli-copy-module":'copyfiles ThirdPartyNotices.txt dist/node/devContainersCLI.js dist/spec-node/devContainersSpecCLI.js "scripts/**/*" dev-containers-cli',"dev-containers-cli-copy-definitions":'copyfiles --all "node_modules/vscode-dev-containers/**/*" dev-containers-cli/dist',"dev-containers-cli-npm-publish":"cd dev-containers-cli && npm publish","dev-containers-cli-npm-pack":"cd dev-containers-cli && npm pack","dev-containers-user-cli-package":"npx npm-run-all --npm-path npm dev-containers-user-cli-prepare dev-containers-user-cli-npm-pack","dev-containers-user-cli-prepare":"npx npm-run-all --npm-path npm dev-containers-user-cli-copy-module dev-containers-user-cli-copy-definitions","dev-containers-user-cli-clean-prepare":"npx npm-run-all --npm-path npm clean dev-containers-user-prepare","dev-containers-user-cli-copy-module":'copyfiles ThirdPartyNotices.txt dist/node/devContainersUserCLI.js dist/spec-node/devContainersSpecCLI.js "scripts/**/*" dev-containers-user-cli',"dev-containers-user-cli-copy-definitions":'copyfiles --all "node_modules/vscode-dev-containers/**/*" dev-containers-user-cli/dist',"dev-containers-user-cli-npm-pack":"cd dev-containers-user-cli && npm pack",clean:"npx npm-run-all --npm-path npm clean-dist clean-built","clean-dist":"rimraf dist dev-containers-cli/dist dev-containers-cli/scripts dev-containers-user-cli/dist dev-containers-user-cli/scripts","clean-built":"rimraf built",test:"env TS_NODE_PROJECT=test/core/tsconfig.json mocha -r ts-node/register --exit test/core/**/*.test.ts","test-matrix":"env TS_NODE_PROJECT=test/core/tsconfig.json mocha -r ts-node/register --exit","test-no-env":"mocha -r ts-node/register --exit test/core/**/*.test.ts","test-dev-containers":"env TS_NODE_PROJECT=test/dev-containers/tsconfig.json mocha -r ts-node/register --exit test/dev-containers/**/*.test.ts",copytestconfigsforalpine:"/bin/bash -c 'cd test/configs && for f in *; do if [[ -d $f ]] && [[ $f != *alpine* ]]; then cp -r -T $f $f-alpine ; fi ; done'"},devDependencies:{"@types/chai":"^4.3.0","@types/follow-redirects":"^1.13.1","@types/js-yaml":"^4.0.5","@types/markdown-it":"^12.2.3","@types/minimist":"^1.2.2","@types/mocha":"^9.1.0","@types/ncp":"^2.0.5","@types/node":"^16.11.7","@types/pull-stream":"^3.6.2","@types/recursive-readdir":"^2.2.1","@types/semver":"^7.3.9","@types/shell-quote":"^1.7.1","@types/stats-lite":"^2.2.0","@types/tar":"^6.1.1","@types/uuid":"^8.3.4","@types/vscode":"^1.63.1","@types/yargs":"^17.0.8","@typescript-eslint/eslint-plugin":"^4.31.2","@typescript-eslint/parser":"^4.31.2",ajv:"^8.9.0",chai:"^4.3.4",copyfiles:"^2.4.1",esbuild:"^0.13.14",eslint:"^7.32.0","event-stream":"^4.0.1","gulp-eslint":"^6.0.0","gulp-filter":"^7.0.0",husky:"^7.0.4",jsonc:"^2.0.0",mocha:"^9.2.1","mocha-junit-reporter":"^2.0.2","npm-run-all":"^4.1.5","p-all":"^4.0.0",rimraf:"^3.0.2","ts-node":"^10.4.0",typescript:"^4.5.5","typescript-formatter":"^7.2.2",vinyl:"^2.2.1","vinyl-fs":"^3.0.3",vsce:"^2.6.7"},dependencies:{"@devcontainers/cli":"https://github.com/devcontainers/cli.git#v0.20.0","@vscode/extension-telemetry":"^0.6.2",applicationinsights:"^2.2.0","find-process":"^1.4.7","follow-redirects":"^1.14.8","js-yaml":"^4.1.0","jsonc-parser":"^3.0.0","markdown-it":"^12.3.2",minimist:"^1.2.6",muxrpc:"^6.5.4","node-pty":"^0.10.1","pull-pushable":"^2.2.0","pull-stream":"^3.6.14","pull-stream-to-stream":"^2.0.0",semver:"^7.3.5","shell-quote":"^1.7.3","stats-lite":"^2.2.0","stream-to-pull-stream":"^1.7.3",tar:"^6.1.11",uuid:"^8.3.2","vscode-tas-client":"^0.1.27","vscode-uri":"^3.0.3",yaml:"^2.0.0-10",yargs:"~17.0.1"}}});lb(exports,{activate:()=>S0e,attachToContainer:()=>z0,deactivate:()=>I0e});var B=te(require("vscode")),V5=te(require("os")),Y0=te(require("fs")),Er=te(require("path")),W5=te(require("querystring"));var zt=te(require("fs")),so=te(require("util"));function Gt(e){return new Promise(t=>zt.stat(e,(r,n)=>t(!r&&n.isFile())))}function hd(e){return new Promise(t=>zt.stat(e,(r,n)=>t(!r&&n.isDirectory())))}var rt=(0,so.promisify)(zt.readFile),md=(0,so.promisify)(zt.writeFile),X0e=(0,so.promisify)(zt.appendFile),Ho=(0,so.promisify)(zt.rename),ti=(0,so.promisify)(zt.readdir),EA=(0,so.promisify)(zt.unlink),ri=e=>new Promise((t,r)=>zt.mkdir(e,{recursive:!0},n=>n?r(n):t())),_A=(0,so.promisify)(zt.rmdir),Vo=(0,so.promisify)(zt.rm),Z0e=(0,so.promisify)(zt.copyFile),gd;(function(i){i[i.Unknown=0]="Unknown",i[i.File=1]="File",i[i.Directory=2]="Directory",i[i.SymbolicLink=64]="SymbolicLink"})(gd||(gd={}));var lt=te(require("vscode")),QT=te(require("path"));var gn=te(require("path")),rse=te(require("crypto")),OU=te(ou());var ho=te(BO()),cEe=ho.default.v1,lEe=ho.default.v3,Fn=ho.default.v4,uEe=ho.default.v5,fEe=ho.default.NIL,dEe=ho.default.version,pEe=ho.default.validate,hEe=ho.default.stringify,mEe=ho.default.parse;var NU=te(require("os"));var VO=te(require("os")),jd=te(require("fs")),WO=te(require("path"));var jE=te(require("events")),Md=class{constructor(...t){this.nodeEmitter=new jE.EventEmitter;this.event=t=>(this.nodeEmitter.on("event",t),{dispose:()=>{this.nodeEmitter.off("event",t)}});this.disposables=t}fire(t){this.nodeEmitter.emit("event",t)}dispose(){this.nodeEmitter.removeAllListeners(),this.disposables.forEach(t=>t.dispose())}},qE=class{constructor(){this.nodeEmitter=new jE.EventEmitter;this.event=t=>{let r=n=>n.results.push(t(n.data));return this.nodeEmitter.on("event",r),{dispose:()=>{this.nodeEmitter.off("event",r)}}}}fire(t){let r=[];return this.nodeEmitter.emit("event",{data:t,results:r}),r}dispose(){this.nodeEmitter.removeAllListeners()}};async function HO(e,t){return{sendTelemetryEvent:async()=>{},isCachedFlightEnabled:async()=>!1,product:await t,package:await e,getTelemetryLevel:()=>"off"}}var pe;(function(a){a[a.Trace=1]="Trace",a[a.Debug=2]="Debug",a[a.Info=3]="Info",a[a.Warning=4]="Warning",a[a.Error=5]="Error",a[a.Critical=6]="Critical",a[a.Off=7]="Off"})(pe||(pe={}));var $E={info:3,debug:2,trace:1},wQ=Object.keys($E).reduce((e,t)=>(e[$E[t]]=t,e),[]);function zO(e){return $E[e]||3}function Vs(e){return wQ[e]||3}var Pt={write:()=>{},raw:()=>{},start:()=>Date.now(),stop:()=>{},event:()=>{}},Ws=/(\x9B|\x1B\[)[0-?]*[ -\/]*[@-~]/g;function GO(e,t){let r=!!t;return{event:n=>{r&&(r=!1,e.forEach(i=>i.event({type:"text",level:3,timestamp:Date.now(),text:t}))),e.forEach(i=>i.event(n))}}}function KO(e,t){let r=EQ(e);return{event(n){let i=bQ(n,t());i&&r.write(i)},join:r.join}}function YO(e,t,r){return{event(n){let i=CQ(n,t(),r.getTime());i&&e(i)}}}function Vr(e,t=2){return{event:e.event,write(r,n=t){e.event({type:"text",level:n,timestamp:Date.now(),text:r})},raw(r,n=t){e.event({type:"raw",level:n,timestamp:Date.now(),text:r})},start(r,n=t){let i=Date.now();return e.event({type:"start",level:n,timestamp:i,text:r}),i},stop(r,n,i=t){e.event({type:"stop",level:i,timestamp:Date.now(),text:r,startTimestamp:n})},get dimensions(){return e.dimensions},onDidChangeDimensions:e.onDidChangeDimensions}}function CQ(e,t,r){if(!(!("level"in e)||e.level<t))switch(e.type){case"text":return`[${qd(XO,`${e.timestamp-r} ms`)}] ${Kg(e.text)}`;case"raw":return e.text;case"start":return 1>=t?`${qd(PQ,`[${e.timestamp-r} ms] Start`)}: ${Kg(e.text)}`:`[${qd(XO,`${e.timestamp-r} ms`)}] Start: ${Kg(e.text)}`;case"stop":return 1>=t?`${qd(xQ,`[${e.timestamp-r} ms] Stop`)} (${e.timestamp-e.startTimestamp} ms): ${Kg(e.text)}`:void 0;default:throw JO(e)}}function Kg(e){return IQ(e).replace(/\r?\n/g,`\r
`).replace(/(\r?\n)?$/,`\r
`)}function bQ(e,t){if(!(!("level"in e)||e.level<t))switch(e.type){case"text":case"raw":return`[${new Date(e.timestamp).toISOString()}] ${UE(e.text)}`;case"start":return`[${new Date(e.timestamp).toISOString()}] Start: ${UE(e.text)}`;case"stop":return 2>=t?`[${new Date(e.timestamp).toISOString()}] Stop (${e.timestamp-e.startTimestamp} ms): ${UE(e.text)}`:void 0;default:throw JO(e)}}function UE(e){return e.replace(Ws,"").replace(/(\r?\n)?$/,VO.EOL)}function JO(e){return new Error(`Unknown log event type: ${e.type}`)}function EQ(e){let t=[],r=!1,n,i;function o(){r=!1,i&&!t.length&&(n=void 0,i(),i=void 0)}function s(a,c=!1){if(a&&t.push(a),!c&&!r&&t.length){r=!0;let l=t.join("");t.length=0,jd.appendFile(e,l,u=>{u&&(u.code==="ENOENT"?jd.mkdir(WO.dirname(e),{recursive:!0},f=>{f?(o(),console.error(f)):jd.appendFile(e,l,d=>{o(),d&&console.error(d),s()})}):(o(),console.error(u))),o(),s()})}}return{write:s,join:()=>n||(r?n=new Promise(a=>i=a):Promise.resolve())}}var _Q="38;2;143;99;79",QO="38;2;99;143;79",SQ="38;2;86;156;214",xQ=_Q,PQ=QO,XO=QO,kQ=SQ;function qd(e,t){return t.split(`
`).map(r=>`[1m[${e}m${r}[39m[22m`).join(`
`)}function IQ(e){let t,r=0,n=[];for(Ws.lastIndex=0;t=Ws.exec(e);)n.push(ZO(e.substring(r,t.index))),n.push(t[0]),r=Ws.lastIndex;return n.push(ZO(e.substr(r))),n.join("")}function ZO(e){let t=/(?<=^|[^A-Za-z0-9_\-\.])[0-9]+(\.[0-9]+)*(?=$|[^A-Za-z0-9_\-\.])/g,r,n=0,i=[];for(;r=t.exec(e);)i.push(e.substring(n,r.index)),i.push(qd(kQ,r[0])),n=t.lastIndex;return i.push(e.substr(n)),i.join("")}function ot(e){return e.split(/\r?\n/).map(t=>`[1m[31m${t}[39m[22m`).join(`\r
`)+`\r
`}function BE(e){return e.split(/\r?\n/).map(t=>`[1m[33m${t}[39m[22m`).join(`\r
`)+`\r
`}var $e=class extends Error{constructor(t){super(t.originalError&&t.originalError.message||t.description);this.manageContainer=!1;this.actions=[];this.data={};var r;Object.assign(this,t),((r=this.originalError)==null?void 0:r.stack)&&(this.stack=this.originalError.stack)}};var Ne=te(require("path")),$v=te(require("fs")),AM=te(lu()),Y_=te(require("string_decoder")),Uv=te(ou());"use strict";function Ud(e,t){t===void 0&&(t=!1);var r=e.length,n=0,i="",o=0,s=16,a=0,c=0,l=0,u=0,f=0;function d(C,b){for(var _=0,P=0;_<C||!b;){var S=e.charCodeAt(n);if(S>=48&&S<=57)P=P*16+S-48;else if(S>=65&&S<=70)P=P*16+S-65+10;else if(S>=97&&S<=102)P=P*16+S-97+10;else break;n++,_++}return _<C&&(P=-1),P}function p(C){n=C,i="",o=0,s=16,f=0}function h(){var C=n;if(e.charCodeAt(n)===48)n++;else for(n++;n<e.length&&uu(e.charCodeAt(n));)n++;if(n<e.length&&e.charCodeAt(n)===46)if(n++,n<e.length&&uu(e.charCodeAt(n)))for(n++;n<e.length&&uu(e.charCodeAt(n));)n++;else return f=3,e.substring(C,n);var b=n;if(n<e.length&&(e.charCodeAt(n)===69||e.charCodeAt(n)===101))if(n++,(n<e.length&&e.charCodeAt(n)===43||e.charCodeAt(n)===45)&&n++,n<e.length&&uu(e.charCodeAt(n))){for(n++;n<e.length&&uu(e.charCodeAt(n));)n++;b=n}else f=3;return e.substring(C,b)}function m(){for(var C="",b=n;;){if(n>=r){C+=e.substring(b,n),f=2;break}var _=e.charCodeAt(n);if(_===34){C+=e.substring(b,n),n++;break}if(_===92){if(C+=e.substring(b,n),n++,n>=r){f=2;break}var P=e.charCodeAt(n++);switch(P){case 34:C+='"';break;case 92:C+="\\";break;case 47:C+="/";break;case 98:C+="\b";break;case 102:C+="\f";break;case 110:C+=`
`;break;case 114:C+="\r";break;case 116:C+="	";break;case 117:var S=d(4,!0);S>=0?C+=String.fromCharCode(S):f=4;break;default:f=5}b=n;continue}if(_>=0&&_<=31)if(Bd(_)){C+=e.substring(b,n),f=2;break}else f=6;n++}return C}function g(){if(i="",f=0,o=n,c=a,u=l,n>=r)return o=r,s=17;var C=e.charCodeAt(n);if(QE(C)){do n++,i+=String.fromCharCode(C),C=e.charCodeAt(n);while(QE(C));return s=15}if(Bd(C))return n++,i+=String.fromCharCode(C),C===13&&e.charCodeAt(n)===10&&(n++,i+=`
`),a++,l=n,s=14;switch(C){case 123:return n++,s=1;case 125:return n++,s=2;case 91:return n++,s=3;case 93:return n++,s=4;case 58:return n++,s=6;case 44:return n++,s=5;case 34:return n++,i=m(),s=10;case 47:var b=n-1;if(e.charCodeAt(n+1)===47){for(n+=2;n<r&&!Bd(e.charCodeAt(n));)n++;return i=e.substring(b,n),s=12}if(e.charCodeAt(n+1)===42){n+=2;for(var _=r-1,P=!1;n<_;){var S=e.charCodeAt(n);if(S===42&&e.charCodeAt(n+1)===47){n+=2,P=!0;break}n++,Bd(S)&&(S===13&&e.charCodeAt(n)===10&&n++,a++,l=n)}return P||(n++,f=1),i=e.substring(b,n),s=13}return i+=String.fromCharCode(C),n++,s=16;case 45:if(i+=String.fromCharCode(C),n++,n===r||!uu(e.charCodeAt(n)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=h(),s=11;default:for(;n<r&&v(C);)n++,C=e.charCodeAt(n);if(o!==n){switch(i=e.substring(o,n),i){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(C),n++,s=16}}function v(C){if(QE(C)||Bd(C))return!1;switch(C){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function y(){var C;do C=g();while(C>=12&&C<=15);return C}return{setPosition:p,getPosition:function(){return n},scan:t?y:g,getToken:function(){return s},getTokenValue:function(){return i},getTokenOffset:function(){return o},getTokenLength:function(){return n-o},getTokenStartLine:function(){return c},getTokenStartCharacter:function(){return o-u},getTokenError:function(){return f}}}function QE(e){return e===32||e===9||e===11||e===12||e===160||e===5760||e>=8192&&e<=8203||e===8239||e===8287||e===12288||e===65279}function Bd(e){return e===10||e===13||e===8232||e===8233}function uu(e){return e>=48&&e<=57}"use strict";function XE(e,t,r){var n,i,o,s,a;if(t){for(s=t.offset,a=s+t.length,o=s;o>0&&!Hd(e,o-1);)o--;for(var c=a;c<e.length&&!Hd(e,c);)c++;i=e.substring(o,c),n=oX(i,r)}else i=e,n=0,o=0,s=0,a=e.length;var l=sX(r,e),u=!1,f=0,d;r.insertSpaces?d=ZE(" ",r.tabSize||4):d="	";var p=Ud(i,!1),h=!1;function m(){return l+ZE(d,n+f)}function g(){var L=p.scan();for(u=!1;L===15||L===14;)u=u||L===14,L=p.scan();return h=L===16||p.getTokenError()!==0,L}var v=[];function y(L,J,z){!h&&(!t||J<a&&z>s)&&e.substring(J,z)!==L&&v.push({offset:J,length:z-J,content:L})}var C=g();if(C!==17){var b=p.getTokenOffset()+o,_=ZE(d,n);y(_,o,b)}for(;C!==17;){for(var P=p.getTokenOffset()+p.getTokenLength()+o,S=g(),x="",I=!1;!u&&(S===12||S===13);){var A=p.getTokenOffset()+o;y(" ",P,A),P=p.getTokenOffset()+p.getTokenLength()+o,I=S===12,x=I?m():"",S=g()}if(S===2)C!==1&&(f--,x=m());else if(S===4)C!==3&&(f--,x=m());else{switch(C){case 3:case 1:f++,x=m();break;case 5:case 12:x=m();break;case 13:u?x=m():I||(x=" ");break;case 6:I||(x=" ");break;case 10:if(S===6){I||(x="");break}case 7:case 8:case 9:case 11:case 2:case 4:S===12||S===13?I||(x=" "):S!==5&&S!==17&&(h=!0);break;case 16:h=!0;break}u&&(S===12||S===13)&&(x=m())}S===17&&(x=r.insertFinalNewline?l:"");var O=p.getTokenOffset()+o;y(x,P,O),C=S}return v}function ZE(e,t){for(var r="",n=0;n<t;n++)r+=e;return r}function oX(e,t){for(var r=0,n=0,i=t.tabSize||4;r<e.length;){var o=e.charAt(r);if(o===" ")n++;else if(o==="	")n+=i;else break;r++}return Math.floor(n/i)}function sX(e,t){for(var r=0;r<t.length;r++){var n=t.charAt(r);if(n==="\r")return r+1<t.length&&t.charAt(r+1)===`
`?`\r
`:"\r";if(n===`
`)return`
`}return e&&e.eol||`
`}function Hd(e,t){return`\r
`.indexOf(e.charAt(t))!==-1}"use strict";var Vd;(function(e){e.DEFAULT={allowTrailingComma:!1}})(Vd||(Vd={}));function CN(e,t){var r=[],n=new Object,i=void 0,o={value:{},offset:0,length:0,type:"object",parent:void 0},s=!1;function a(c,l,u,f){o.value=c,o.offset=l,o.length=u,o.type=f,o.colonOffset=void 0,i=o}try{rv(e,{onObjectBegin:function(c,l){if(t<=c)throw n;i=void 0,s=t>c,r.push("")},onObjectProperty:function(c,l,u){if(t<l||(a(c,l,u,"property"),r[r.length-1]=c,t<=l+u))throw n},onObjectEnd:function(c,l){if(t<=c)throw n;i=void 0,r.pop()},onArrayBegin:function(c,l){if(t<=c)throw n;i=void 0,r.push(0)},onArrayEnd:function(c,l){if(t<=c)throw n;i=void 0,r.pop()},onLiteralValue:function(c,l,u){if(t<l||(a(c,l,u,EN(c)),t<=l+u))throw n},onSeparator:function(c,l,u){if(t<=l)throw n;if(c===":"&&i&&i.type==="property")i.colonOffset=l,s=!1,i=void 0;else if(c===","){var f=r[r.length-1];typeof f=="number"?r[r.length-1]=f+1:(s=!0,r[r.length-1]=""),i=void 0}}})}catch(c){if(c!==n)throw c}return{path:r,previousNode:i,isAtPropertyKey:s,matches:function(c){for(var l=0,u=0;l<c.length&&u<r.length;u++)if(c[l]===r[u]||c[l]==="*")l++;else if(c[l]!=="**")return!1;return l===c.length}}}function bN(e,t,r){t===void 0&&(t=[]),r===void 0&&(r=Vd.DEFAULT);var n=null,i=[],o=[];function s(c){Array.isArray(i)?i.push(c):n!==null&&(i[n]=c)}var a={onObjectBegin:function(){var c={};s(c),o.push(i),i=c,n=null},onObjectProperty:function(c){n=c},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var c=[];s(c),o.push(i),i=c,n=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:s,onError:function(c,l,u){t.push({error:c,offset:l,length:u})}};return rv(e,a,r),i[0]}function ev(e,t,r){t===void 0&&(t=[]),r===void 0&&(r=Vd.DEFAULT);var n={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(c){n.type==="property"&&(n.length=c-n.offset,n=n.parent)}function o(c){return n.children.push(c),c}var s={onObjectBegin:function(c){n=o({type:"object",offset:c,length:-1,parent:n,children:[]})},onObjectProperty:function(c,l,u){n=o({type:"property",offset:l,length:-1,parent:n,children:[]}),n.children.push({type:"string",value:c,offset:l,length:u,parent:n})},onObjectEnd:function(c,l){i(c+l),n.length=c+l-n.offset,n=n.parent,i(c+l)},onArrayBegin:function(c,l){n=o({type:"array",offset:c,length:-1,parent:n,children:[]})},onArrayEnd:function(c,l){n.length=c+l-n.offset,n=n.parent,i(c+l)},onLiteralValue:function(c,l,u){o({type:EN(c),offset:l,length:u,parent:n,value:c}),i(l+u)},onSeparator:function(c,l,u){n.type==="property"&&(c===":"?n.colonOffset=l:c===","&&i(l))},onError:function(c,l,u){t.push({error:c,offset:l,length:u})}};rv(e,s,r);var a=n.children[0];return a&&delete a.parent,a}function Wd(e,t){if(!!e){for(var r=e,n=0,i=t;n<i.length;n++){var o=i[n];if(typeof o=="string"){if(r.type!=="object"||!Array.isArray(r.children))return;for(var s=!1,a=0,c=r.children;a<c.length;a++){var l=c[a];if(Array.isArray(l.children)&&l.children[0].value===o){r=l.children[1],s=!0;break}}if(!s)return}else{var u=o;if(r.type!=="array"||u<0||!Array.isArray(r.children)||u>=r.children.length)return;r=r.children[u]}}return r}}function tv(e){switch(e.type){case"array":return e.children.map(tv);case"object":for(var t=Object.create(null),r=0,n=e.children;r<n.length;r++){var i=n[r],o=i.children[1];o&&(t[i.children[0].value]=tv(o))}return t;case"null":case"string":case"number":case"boolean":return e.value;default:return}}function rv(e,t,r){r===void 0&&(r=Vd.DEFAULT);var n=Ud(e,!1);function i(I){return I?function(){return I(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}function o(I){return I?function(A){return I(A,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}var s=i(t.onObjectBegin),a=o(t.onObjectProperty),c=i(t.onObjectEnd),l=i(t.onArrayBegin),u=i(t.onArrayEnd),f=o(t.onLiteralValue),d=o(t.onSeparator),p=i(t.onComment),h=o(t.onError),m=r&&r.disallowComments,g=r&&r.allowTrailingComma;function v(){for(;;){var I=n.scan();switch(n.getTokenError()){case 4:y(14);break;case 5:y(15);break;case 3:y(13);break;case 1:m||y(11);break;case 2:y(12);break;case 6:y(16);break}switch(I){case 12:case 13:m?y(10):p();break;case 16:y(1);break;case 15:case 14:break;default:return I}}}function y(I,A,O){if(A===void 0&&(A=[]),O===void 0&&(O=[]),h(I),A.length+O.length>0)for(var L=n.getToken();L!==17;){if(A.indexOf(L)!==-1){v();break}else if(O.indexOf(L)!==-1)break;L=v()}}function C(I){var A=n.getTokenValue();return I?f(A):a(A),v(),!0}function b(){switch(n.getToken()){case 11:var I=n.getTokenValue(),A=Number(I);isNaN(A)&&(y(2),A=0),f(A);break;case 7:f(null);break;case 8:f(!0);break;case 9:f(!1);break;default:return!1}return v(),!0}function _(){return n.getToken()!==10?(y(3,[],[2,5]),!1):(C(!1),n.getToken()===6?(d(":"),v(),x()||y(4,[],[2,5])):y(5,[],[2,5]),!0)}function P(){s(),v();for(var I=!1;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(I||y(4,[],[]),d(","),v(),n.getToken()===2&&g)break}else I&&y(6,[],[]);_()||y(4,[],[2,5]),I=!0}return c(),n.getToken()!==2?y(7,[2],[]):v(),!0}function S(){l(),v();for(var I=!1;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(I||y(4,[],[]),d(","),v(),n.getToken()===4&&g)break}else I&&y(6,[],[]);x()||y(4,[],[4,5]),I=!0}return u(),n.getToken()!==4?y(8,[4],[]):v(),!0}function x(){switch(n.getToken()){case 3:return S();case 1:return P();case 10:return C(!0);default:return b()}}return v(),n.getToken()===17?r.allowEmptyContent?!0:(y(4,[],[]),!1):x()?(n.getToken()!==17&&y(9,[],[]),!0):(y(4,[],[]),!1)}function EN(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(e){if(Array.isArray(e))return"array"}else return"null";return"object"}default:return"null"}}"use strict";function _N(e,t,r,n){for(var i,o=t.slice(),s=[],a=ev(e,s),c=void 0,l=void 0;o.length>0&&(l=o.pop(),c=Wd(a,o),c===void 0&&r!==void 0);)typeof l=="string"?r=(i={},i[l]=r,i):r=[r];if(c)if(c.type==="object"&&typeof l=="string"&&Array.isArray(c.children)){var u=Wd(c,[l]);if(u!==void 0)if(r===void 0){if(!u.parent)throw new Error("Malformed AST");var f=c.children.indexOf(u.parent),d=void 0,p=u.parent.offset+u.parent.length;if(f>0){var h=c.children[f-1];d=h.offset+h.length}else if(d=c.offset+1,c.children.length>1){var m=c.children[1];p=m.offset}return vc(e,{offset:d,length:p-d,content:""},n)}else return vc(e,{offset:u.offset,length:u.length,content:JSON.stringify(r)},n);else{if(r===void 0)return[];var g=JSON.stringify(l)+": "+JSON.stringify(r),v=n.getInsertionIndex?n.getInsertionIndex(c.children.map(function(I){return I.children[0].value})):c.children.length,y=void 0;if(v>0){var h=c.children[v-1];y={offset:h.offset+h.length,length:0,content:","+g}}else c.children.length===0?y={offset:c.offset+1,length:0,content:g}:y={offset:c.offset+1,length:0,content:g+","};return vc(e,y,n)}}else if(c.type==="array"&&typeof l=="number"&&Array.isArray(c.children)){var C=l;if(C===-1){var g=""+JSON.stringify(r),y=void 0;if(c.children.length===0)y={offset:c.offset+1,length:0,content:g};else{var h=c.children[c.children.length-1];y={offset:h.offset+h.length,length:0,content:","+g}}return vc(e,y,n)}else if(r===void 0&&c.children.length>=0){var b=l,_=c.children[b],y=void 0;if(c.children.length===1)y={offset:c.offset+1,length:c.length-2,content:""};else if(c.children.length-1===b){var h=c.children[b-1],P=h.offset+h.length,S=c.offset+c.length;y={offset:P,length:S-2-P,content:""}}else y={offset:_.offset,length:c.children[b+1].offset-_.offset,content:""};return vc(e,y,n)}else if(r!==void 0){var y=void 0,g=""+JSON.stringify(r);if(!n.isArrayInsertion&&c.children.length>l){var x=c.children[l];y={offset:x.offset,length:x.length,content:g}}else if(c.children.length===0||l===0)y={offset:c.offset+1,length:0,content:c.children.length===0?g:g+","};else{var v=l>c.children.length?c.children.length:l,h=c.children[v-1];y={offset:h.offset+h.length,length:0,content:","+g}}return vc(e,y,n)}else throw new Error("Can not "+(r===void 0?"remove":n.isArrayInsertion?"insert":"modify")+" Array index "+C+" as length is not sufficient")}else throw new Error("Can not add "+(typeof l!="number"?"index":"property")+" to parent of type "+c.type);else{if(r===void 0)throw new Error("Can not delete in empty document");return vc(e,{offset:a?a.offset:0,length:a?a.length:0,content:JSON.stringify(r)},n)}}function vc(e,t,r){if(!r.formattingOptions)return[t];var n=nv(e,t),i=t.offset,o=t.offset+t.content.length;if(t.length===0||t.content.length===0){for(;i>0&&!Hd(n,i-1);)i--;for(;o<n.length&&!Hd(n,o);)o++}for(var s=XE(n,{offset:i,length:o-i},r.formattingOptions),a=s.length-1;a>=0;a--){var c=s[a];n=nv(n,c),i=Math.min(i,c.offset),o=Math.max(o,c.offset+c.length),o+=c.content.length-c.length}var l=e.length-(n.length-o)-i;return[{offset:i,length:l,content:n.substring(i,o)}]}function nv(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}"use strict";var SN=CN,pt=bN,iv=ev,Gs=Wd;var ov=tv;function bt(e,t,r,n){return _N(e,t,r,n)}function Kt(e,t){for(var r=t.length-1;r>=0;r--)e=nv(e,t[r]);return e}var DM=te(require("crypto")),RM=te(require("util"));var aee=te(require("path")),$_=te(require("string_decoder"));var Dr=te(require("path")),eM=te(require("fs")),tM=te(require("os")),Eu=te(require("child_process")),M_=te(require("string_decoder"));var zF=te(require("path"));var xN;xN=(()=>{"use strict";var e={470:n=>{function i(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}function o(a,c){for(var l,u="",f=0,d=-1,p=0,h=0;h<=a.length;++h){if(h<a.length)l=a.charCodeAt(h);else{if(l===47)break;l=47}if(l===47){if(!(d===h-1||p===1))if(d!==h-1&&p===2){if(u.length<2||f!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){var m=u.lastIndexOf("/");if(m!==u.length-1){m===-1?(u="",f=0):f=(u=u.slice(0,m)).length-1-u.lastIndexOf("/"),d=h,p=0;continue}}else if(u.length===2||u.length===1){u="",f=0,d=h,p=0;continue}}c&&(u.length>0?u+="/..":u="..",f=2)}else u.length>0?u+="/"+a.slice(d+1,h):u=a.slice(d+1,h),f=h-d-1;d=h,p=0}else l===46&&p!==-1?++p:p=-1}return u}var s={resolve:function(){for(var a,c="",l=!1,u=arguments.length-1;u>=-1&&!l;u--){var f;u>=0?f=arguments[u]:(a===void 0&&(a=process.cwd()),f=a),i(f),f.length!==0&&(c=f+"/"+c,l=f.charCodeAt(0)===47)}return c=o(c,!l),l?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(a){if(i(a),a.length===0)return".";var c=a.charCodeAt(0)===47,l=a.charCodeAt(a.length-1)===47;return(a=o(a,!c)).length!==0||c||(a="."),a.length>0&&l&&(a+="/"),c?"/"+a:a},isAbsolute:function(a){return i(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,c=0;c<arguments.length;++c){var l=arguments[c];i(l),l.length>0&&(a===void 0?a=l:a+="/"+l)}return a===void 0?".":s.normalize(a)},relative:function(a,c){if(i(a),i(c),a===c||(a=s.resolve(a))===(c=s.resolve(c)))return"";for(var l=1;l<a.length&&a.charCodeAt(l)===47;++l);for(var u=a.length,f=u-l,d=1;d<c.length&&c.charCodeAt(d)===47;++d);for(var p=c.length-d,h=f<p?f:p,m=-1,g=0;g<=h;++g){if(g===h){if(p>h){if(c.charCodeAt(d+g)===47)return c.slice(d+g+1);if(g===0)return c.slice(d+g)}else f>h&&(a.charCodeAt(l+g)===47?m=g:g===0&&(m=0));break}var v=a.charCodeAt(l+g);if(v!==c.charCodeAt(d+g))break;v===47&&(m=g)}var y="";for(g=l+m+1;g<=u;++g)g!==u&&a.charCodeAt(g)!==47||(y.length===0?y+="..":y+="/..");return y.length>0?y+c.slice(d+m):(d+=m,c.charCodeAt(d)===47&&++d,c.slice(d))},_makeLong:function(a){return a},dirname:function(a){if(i(a),a.length===0)return".";for(var c=a.charCodeAt(0),l=c===47,u=-1,f=!0,d=a.length-1;d>=1;--d)if((c=a.charCodeAt(d))===47){if(!f){u=d;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":a.slice(0,u)},basename:function(a,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');i(a);var l,u=0,f=-1,d=!0;if(c!==void 0&&c.length>0&&c.length<=a.length){if(c.length===a.length&&c===a)return"";var p=c.length-1,h=-1;for(l=a.length-1;l>=0;--l){var m=a.charCodeAt(l);if(m===47){if(!d){u=l+1;break}}else h===-1&&(d=!1,h=l+1),p>=0&&(m===c.charCodeAt(p)?--p==-1&&(f=l):(p=-1,f=h))}return u===f?f=h:f===-1&&(f=a.length),a.slice(u,f)}for(l=a.length-1;l>=0;--l)if(a.charCodeAt(l)===47){if(!d){u=l+1;break}}else f===-1&&(d=!1,f=l+1);return f===-1?"":a.slice(u,f)},extname:function(a){i(a);for(var c=-1,l=0,u=-1,f=!0,d=0,p=a.length-1;p>=0;--p){var h=a.charCodeAt(p);if(h!==47)u===-1&&(f=!1,u=p+1),h===46?c===-1?c=p:d!==1&&(d=1):c!==-1&&(d=-1);else if(!f){l=p+1;break}}return c===-1||u===-1||d===0||d===1&&c===u-1&&c===l+1?"":a.slice(c,u)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return function(c,l){var u=l.dir||l.root,f=l.base||(l.name||"")+(l.ext||"");return u?u===l.root?u+f:u+"/"+f:f}(0,a)},parse:function(a){i(a);var c={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return c;var l,u=a.charCodeAt(0),f=u===47;f?(c.root="/",l=1):l=0;for(var d=-1,p=0,h=-1,m=!0,g=a.length-1,v=0;g>=l;--g)if((u=a.charCodeAt(g))!==47)h===-1&&(m=!1,h=g+1),u===46?d===-1?d=g:v!==1&&(v=1):d!==-1&&(v=-1);else if(!m){p=g+1;break}return d===-1||h===-1||v===0||v===1&&d===h-1&&d===p+1?h!==-1&&(c.base=c.name=p===0&&f?a.slice(1,h):a.slice(p,h)):(p===0&&f?(c.name=a.slice(1,d),c.base=a.slice(1,h)):(c.name=a.slice(p,d),c.base=a.slice(p,h)),c.ext=a.slice(d,h)),p>0?c.dir=a.slice(0,p-1):f&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,n.exports=s},447:(n,i,o)=>{var s;if(o.r(i),o.d(i,{URI:()=>y,Utils:()=>J}),typeof process=="object")s=process.platform==="win32";else if(typeof navigator=="object"){var a=navigator.userAgent;s=a.indexOf("Windows")>=0}var c,l,u=(c=function(q,M){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,$){D.__proto__=$}||function(D,$){for(var Y in $)Object.prototype.hasOwnProperty.call($,Y)&&(D[Y]=$[Y])})(q,M)},function(q,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function D(){this.constructor=q}c(q,M),q.prototype=M===null?Object.create(M):(D.prototype=M.prototype,new D)}),f=/^\w[\w\d+.-]*$/,d=/^\//,p=/^\/\//;function h(q,M){if(!q.scheme&&M)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(q.authority,'", path: "').concat(q.path,'", query: "').concat(q.query,'", fragment: "').concat(q.fragment,'"}'));if(q.scheme&&!f.test(q.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(q.path){if(q.authority){if(!d.test(q.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(p.test(q.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}var m="",g="/",v=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,y=function(){function q(M,D,$,Y,Q,X){X===void 0&&(X=!1),typeof M=="object"?(this.scheme=M.scheme||m,this.authority=M.authority||m,this.path=M.path||m,this.query=M.query||m,this.fragment=M.fragment||m):(this.scheme=function(ve,Pe){return ve||Pe?ve:"file"}(M,X),this.authority=D||m,this.path=function(ve,Pe){switch(ve){case"https":case"http":case"file":Pe?Pe[0]!==g&&(Pe=g+Pe):Pe=g}return Pe}(this.scheme,$||m),this.query=Y||m,this.fragment=Q||m,h(this,X))}return q.isUri=function(M){return M instanceof q||!!M&&typeof M.authority=="string"&&typeof M.fragment=="string"&&typeof M.path=="string"&&typeof M.query=="string"&&typeof M.scheme=="string"&&typeof M.fsPath=="string"&&typeof M.with=="function"&&typeof M.toString=="function"},Object.defineProperty(q.prototype,"fsPath",{get:function(){return x(this,!1)},enumerable:!1,configurable:!0}),q.prototype.with=function(M){if(!M)return this;var D=M.scheme,$=M.authority,Y=M.path,Q=M.query,X=M.fragment;return D===void 0?D=this.scheme:D===null&&(D=m),$===void 0?$=this.authority:$===null&&($=m),Y===void 0?Y=this.path:Y===null&&(Y=m),Q===void 0?Q=this.query:Q===null&&(Q=m),X===void 0?X=this.fragment:X===null&&(X=m),D===this.scheme&&$===this.authority&&Y===this.path&&Q===this.query&&X===this.fragment?this:new b(D,$,Y,Q,X)},q.parse=function(M,D){D===void 0&&(D=!1);var $=v.exec(M);return $?new b($[2]||m,L($[4]||m),L($[5]||m),L($[7]||m),L($[9]||m),D):new b(m,m,m,m,m)},q.file=function(M){var D=m;if(s&&(M=M.replace(/\\/g,g)),M[0]===g&&M[1]===g){var $=M.indexOf(g,2);$===-1?(D=M.substring(2),M=g):(D=M.substring(2,$),M=M.substring($)||g)}return new b("file",D,M,m,m)},q.from=function(M){var D=new b(M.scheme,M.authority,M.path,M.query,M.fragment);return h(D,!0),D},q.prototype.toString=function(M){return M===void 0&&(M=!1),I(this,M)},q.prototype.toJSON=function(){return this},q.revive=function(M){if(M){if(M instanceof q)return M;var D=new b(M);return D._formatted=M.external,D._fsPath=M._sep===C?M.fsPath:null,D}return M},q}(),C=s?1:void 0,b=function(q){function M(){var D=q!==null&&q.apply(this,arguments)||this;return D._formatted=null,D._fsPath=null,D}return u(M,q),Object.defineProperty(M.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=x(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),M.prototype.toString=function(D){return D===void 0&&(D=!1),D?I(this,!0):(this._formatted||(this._formatted=I(this,!1)),this._formatted)},M.prototype.toJSON=function(){var D={$mid:1};return this._fsPath&&(D.fsPath=this._fsPath,D._sep=C),this._formatted&&(D.external=this._formatted),this.path&&(D.path=this.path),this.scheme&&(D.scheme=this.scheme),this.authority&&(D.authority=this.authority),this.query&&(D.query=this.query),this.fragment&&(D.fragment=this.fragment),D},M}(y),_=((l={})[58]="%3A",l[47]="%2F",l[63]="%3F",l[35]="%23",l[91]="%5B",l[93]="%5D",l[64]="%40",l[33]="%21",l[36]="%24",l[38]="%26",l[39]="%27",l[40]="%28",l[41]="%29",l[42]="%2A",l[43]="%2B",l[44]="%2C",l[59]="%3B",l[61]="%3D",l[32]="%20",l);function P(q,M){for(var D=void 0,$=-1,Y=0;Y<q.length;Y++){var Q=q.charCodeAt(Y);if(Q>=97&&Q<=122||Q>=65&&Q<=90||Q>=48&&Q<=57||Q===45||Q===46||Q===95||Q===126||M&&Q===47)$!==-1&&(D+=encodeURIComponent(q.substring($,Y)),$=-1),D!==void 0&&(D+=q.charAt(Y));else{D===void 0&&(D=q.substr(0,Y));var X=_[Q];X!==void 0?($!==-1&&(D+=encodeURIComponent(q.substring($,Y)),$=-1),D+=X):$===-1&&($=Y)}}return $!==-1&&(D+=encodeURIComponent(q.substring($))),D!==void 0?D:q}function S(q){for(var M=void 0,D=0;D<q.length;D++){var $=q.charCodeAt(D);$===35||$===63?(M===void 0&&(M=q.substr(0,D)),M+=_[$]):M!==void 0&&(M+=q[D])}return M!==void 0?M:q}function x(q,M){var D;return D=q.authority&&q.path.length>1&&q.scheme==="file"?"//".concat(q.authority).concat(q.path):q.path.charCodeAt(0)===47&&(q.path.charCodeAt(1)>=65&&q.path.charCodeAt(1)<=90||q.path.charCodeAt(1)>=97&&q.path.charCodeAt(1)<=122)&&q.path.charCodeAt(2)===58?M?q.path.substr(1):q.path[1].toLowerCase()+q.path.substr(2):q.path,s&&(D=D.replace(/\//g,"\\")),D}function I(q,M){var D=M?S:P,$="",Y=q.scheme,Q=q.authority,X=q.path,ve=q.query,Pe=q.fragment;if(Y&&($+=Y,$+=":"),(Q||Y==="file")&&($+=g,$+=g),Q){var Se=Q.indexOf("@");if(Se!==-1){var Oe=Q.substr(0,Se);Q=Q.substr(Se+1),(Se=Oe.indexOf(":"))===-1?$+=D(Oe,!1):($+=D(Oe.substr(0,Se),!1),$+=":",$+=D(Oe.substr(Se+1),!1)),$+="@"}(Se=(Q=Q.toLowerCase()).indexOf(":"))===-1?$+=D(Q,!1):($+=D(Q.substr(0,Se),!1),$+=Q.substr(Se))}if(X){if(X.length>=3&&X.charCodeAt(0)===47&&X.charCodeAt(2)===58)(Ee=X.charCodeAt(1))>=65&&Ee<=90&&(X="/".concat(String.fromCharCode(Ee+32),":").concat(X.substr(3)));else if(X.length>=2&&X.charCodeAt(1)===58){var Ee;(Ee=X.charCodeAt(0))>=65&&Ee<=90&&(X="".concat(String.fromCharCode(Ee+32),":").concat(X.substr(2)))}$+=D(X,!0)}return ve&&($+="?",$+=D(ve,!1)),Pe&&($+="#",$+=M?Pe:P(Pe,!1)),$}function A(q){try{return decodeURIComponent(q)}catch{return q.length>3?q.substr(0,3)+A(q.substr(3)):q}}var O=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function L(q){return q.match(O)?q.replace(O,function(M){return A(M)}):q}var J,z=o(470),ee=function(q,M,D){if(D||arguments.length===2)for(var $,Y=0,Q=M.length;Y<Q;Y++)!$&&Y in M||($||($=Array.prototype.slice.call(M,0,Y)),$[Y]=M[Y]);return q.concat($||Array.prototype.slice.call(M))},ie=z.posix||z;(function(q){q.joinPath=function(M){for(var D=[],$=1;$<arguments.length;$++)D[$-1]=arguments[$];return M.with({path:ie.join.apply(ie,ee([M.path],D,!1))})},q.resolvePath=function(M){for(var D=[],$=1;$<arguments.length;$++)D[$-1]=arguments[$];var Y=M.path||"/";return M.with({path:ie.resolve.apply(ie,ee([Y],D,!1))})},q.dirname=function(M){var D=ie.dirname(M.path);return D.length===1&&D.charCodeAt(0)===46?M:M.with({path:D})},q.basename=function(M){return ie.basename(M.path)},q.extname=function(M){return ie.extname(M.path)}})(J||(J={}))}},t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}return r.d=(n,i)=>{for(var o in i)r.o(i,o)&&!r.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:i[o]})},r.o=(n,i)=>Object.prototype.hasOwnProperty.call(n,i),r.r=n=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r(447)})();var{URI:Ve,Utils:qn}=xN;var PN=te(require("path"));function at(e,t){if(zd(t)){let r=e.dirname(t);return{isWorkspaceFile:!0,workspaceOrFolderPath:t,rootFolderPath:r,configFolderPath:r}}return{isWorkspaceFile:!1,workspaceOrFolderPath:t,rootFolderPath:t,configFolderPath:t}}function zd(e){return PN.extname(e)===".code-workspace"}async function fu(e,t){if(!!t.isWorkspaceFile)try{let r=t.rootFolderPath,n=(await e.readFile(t.workspaceOrFolderPath)).toString(),o=pt(n).folders;if(o&&o.length>0){for(let s of o){let a=s.path,c;if(a){if(e.path.isAbsolute(a))return`Workspace contains an absolute folder path '${a}'.`;c=e.path.resolve(r,a)}else{let l=s.uri;return l?Ve.parse(l).scheme!=="file"?`Workspace contains folder '${l}' not on the local file system.`:`Workspace contains an absolute folder path '${l}'.`:"Workspace contains a folder that defines neither a path nor a URI."}if(!aX(e,c,r))return`Folder '${c}' is not a subfolder of shared root folder '${r}'.`}return}return"Workspace does not define any folders"}catch(r){return`Problems loading workspace file ${t.workspaceOrFolderPath}: ${r&&(r.message||r.toString())}`}}function aX(e,t,r){return t===r?!0:!t||!r||r.length>t.length||t.length>r.length&&t.charAt(r.length)!==e.path.sep?!1:cX(e.platform,r,t.substr(0,r.length))}function cX(e,t,r){return e==="linux"?t===r:t.toLowerCase()===r.toLowerCase()}var $n=te(require("path")),Ev=te(ou()),qF=te(require("crypto")),_v=te(lv()),$F=te(require("util")),UF=te(require("string_decoder"));var Gd=te(require("path"));async function o_(e,t,r){let n=await TL(e,"agent-extra-socket",r);if(!n)return;let i=await s_(t,"agent-socket");if(!i)return;let o=await s_(t,"homedir");try{let{stdout:a}=await t.exec(`ls '${o}/private-keys-v1.d' 2>/dev/null`);if(a.trim())return}catch{}let s=(async()=>{await t.exec(`mkdir -p -m 700 '${Gd.posix.dirname(i)}'`);let a=await TL(e,"homedir",r),c=await s_(t,"homedir");a&&c&&(await hu({cliHost:e},{shellServer:t},e.path.join(a,"pubring.kbx"),Gd.posix.join(c,"pubring.kbx"),"gpg"),await hu({cliHost:e},{shellServer:t},e.path.join(a,"pubring.gpg"),Gd.posix.join(c,"pubring.gpg"),"gpg"),await hu({cliHost:e},{shellServer:t},e.path.join(a,"trustdb.gpg"),Gd.posix.join(c,"trustdb.gpg"),"gpg")),await OX(e,r)})();return{cliHost:e,remoteGpgSocket:i,localGpgSocket:n,ready:s}}async function TL(e,t,r){try{let{stdout:n}=await ze({exec:e.exec,cmd:"gpgconf",args:["--list-dir",t],output:r,print:!0}),i=n.toString().trim();if(i.indexOf(`
`)!==-1){let o=new RegExp(`^${t}:(.*)$`,"m").exec(i);o&&(i=o[1])}return e.platform==="win32"&&/^\/.\//.test(i)&&(i=`${i.charAt(1)}:${i.substr(2).replace(/\//g,"\\")}`),i}catch{return}}async function s_(e,t){try{let{stdout:r}=await e.exec(`gpgconf --list-dir ${t}`),n=r.trim();if(n.indexOf(`
`)!==-1){let i=new RegExp(`^${t}:(.*)$`,"m").exec(n);if(i)return i[1]}return n}catch{return}}async function OX(e,t){try{await ze({exec:e.exec,cmd:"gpg-connect-agent",args:["updatestartuptty","/bye"],output:t})}catch{}}async function a_(e,t,r){if(!("exec"in e)){for(let n=t,i="";n!==i;i=n,n=e.path.dirname(n))if(await e.isFile(e.path.join(n,".git","config")))return n;return}try{let{stdout:n}=await ze({exec:e.exec,cmd:"git",args:["rev-parse","--show-cdup"],cwd:t,output:r}),i=n.toString().trim();return e.path.resolve(t,i)}catch{return}}async function c_(e,t,r){try{return await ze({exec:e.exec,cmd:"git",args:["ls-remote",t],cwd:".",output:r,print:"onerror"}),!0}catch(n){return(n==null?void 0:n.code)==="ENOENT"?void 0:!1}}async function l_({exec:e},t,r){try{let{stdout:n,stderr:i}=await ze({exec:e,cmd:"git",args:["credential",t],env:{GIT_TERMINAL_PROMPT:"0"},stdin:Buffer.from(r),output:Pt});return{stdout:n.toString(),stderr:i.toString(),code:0}}catch(n){if(!(n&&n.stdout&&n.stderr))throw n;let{stdout:i,stderr:o,code:s}=n;return{stdout:i.toString(),stderr:o.toString(),code:s||0}}}async function AL(e,t,r){if(!("exec"in e)){let i=await a_(e,t.rootFolderPath,r);if(!i)return;try{return(await e.readFile(e.path.join(i,".git","config"))).toString().split(/^\[/m).filter(a=>a.startsWith("remote")).map(a=>(/^\s*url\s*=\s*(\S+)/m.exec(a)||[])[1]).filter(Boolean)}catch(o){if((o==null?void 0:o.code)!=="ENOENT")throw o;return[]}}let n;try{let{stdout:i}=await ze({exec:e.exec,cmd:"git",args:["remote","-v"],cwd:t.rootFolderPath,output:r});n=i.toString()}catch{return}return Array.from(new Set(NX(/^[^\s]+\s+([^\s]+)/gm,n,1)))}function NX(e,t,r){return{[Symbol.iterator]:function*(){let n;for(;n=e.exec(t);)yield n[r],e.lastIndex===n.index&&e.lastIndex++}}}async function DL(e,t,r){return await LX(e,t,r)||FX(e,t,r)}async function LX(e,t,r){try{let{stdout:n}=await ze({exec:e.exec,cmd:"git",args:["status","--porcelain"],cwd:t.rootFolderPath,output:r});return!!n.toString().trim()}catch{return}}async function FX(e,t,r){let n=await MX(e,t,r);if(!!n)try{let{stdout:i}=await ze({exec:e.exec,cmd:"git",args:["log",`${n}..HEAD`],cwd:t.rootFolderPath,output:r});return!!i.toString().trim()}catch{return}}async function MX(e,t,r){try{let{stdout:n}=await ze({exec:e.exec,cmd:"git",args:["rev-parse","--abbrev-ref","--symbolic-full-name","@{u}"],cwd:t.rootFolderPath,output:r});return n.toString().trim()}catch{return}}async function uv(e,t,r,n,i,o){let{extensionPath:s}=e;if(await t.isFolder(t.path.join(r,".git")))return{gitClone:void 0,gitUnshallow:void 0};await t.mkdirp(r);let a=n.tokenEnvVar?me(K({},n.env),{GIT_ASKPASS:t.path.join(s,"scripts","gitAskPass.sh"),GIT_TOKEN:t.env[n.tokenEnvVar]}):n.env,c=[];n.fullClone||c.push("--depth","1"),n.branch&&c.push("--branch",n.branch),n.recurseSubmodules&&c.push("--recurse-submodules");let l=Ks({ptyExec:t.ptyExec,cmd:"git",args:["clone",...c,n.url,"."],cwd:r,env:a,output:Vr(i,pe.Info)}),u=n.fullClone?l:(async()=>(await l,await Ks({ptyExec:t.ptyExec,cmd:"git",args:["config","remote.origin.fetch","+refs/heads/*:refs/remotes/origin/*"],cwd:r,env:a,output:o}),Ks({ptyExec:t.ptyExec,cmd:"git",args:["fetch","--unshallow","--tags"],cwd:r,env:a,output:o})))();return{gitClone:l,gitUnshallow:u}}var Ys=te(require("stream"));async function RL(e,t){let{stdout:r}=await e.exec(`cat /proc/${t}/environ`,{logOutput:!1});return r.split("\0").map(n=>{let i=n.indexOf("=");return i!==-1?[n.slice(0,i),n.slice(i+1)]:[]}).reduce((n,[i,o])=>(i&&(n[i]=o),n),{})}async function u_(e){let t=`for pid in \`cd /proc && ls -d [0-9]*\`; do { echo $pid ; readlink /proc/$pid/cwd ; readlink /proc/$pid/ns/mnt ; cat /proc/$pid/stat | tr "
" " " ; echo ; cat /proc/$pid/environ | tr "
" " " ; echo ; cat < /proc/$pid/cmdline | tr "
" " " ; echo ; } ; echo --- ; done ; readlink /proc/self/ns/mnt 2>/dev/null`,{stdout:r}=await e.exec(t,{logOutput:!1}),n=6,i=r.split(`
---
`),o=i.pop().trim();return{processes:i.map(a=>a.split(`
`)).filter(a=>a.length>=n).map(([a,c,l,u,f,d])=>{let p=/.*\) [^ ]* ([^ ]*) ([^ ]*)/.exec(u)||[];return{pid:a,ppid:p[1],pgrp:p[2],cwd:c,mntNS:l,cmd:d.replace(/\0/g," "),env:f.split("\0").reduce((h,m)=>{let g=m.indexOf("=");return g!==-1&&(h[m.substr(0,g)]=m.substr(g+1)),h},{})}}),mntNS:o}}function OL(e){let t={};return e.forEach(r=>t[r.pid]={process:r,childProcesses:[]}),e.filter(r=>r.ppid).forEach(r=>{var n;return(n=t[r.ppid])==null?void 0:n.childProcesses.push(t[r.pid])}),t}function f_(e,t="  ",r="  "){return`${r}${e.process.pid}: ${e.process.cmd}
${e.childProcesses.map(n=>f_(n,t,r+t))}`}var WZ=DF(),BF=S_(),P_=FF(),zZ=jF();async function Zd(e,t){var _,P,S,x;let{cliHost:r,output:n}=e,i="Launching Dev Containers helper.",o=n.start(i);if(mo)return n.stop(i,o),{remoteEnv:{},ready:Promise.resolve(),reconnect:()=>Promise.resolve()};let s=r.type==="local",a=s?r:await xv(process.cwd(),e.loadNativeModule,n),l=(await(0,$F.promisify)(qF.randomBytes)(20)).toString("hex"),u={},f=VF(e.cliHost)||VF(a),d=f?$n.posix.join(((_=t.env)==null?void 0:_.TMPDIR)||"/tmp",`vscode-ssh-auth-${l}.sock`):void 0;f?(u[d]=f,n.write(`ssh-agent: SSH_AUTH_SOCK in container (${d}) forwarded to ${f.cliHost!==a?"remote":"local"} host (${f.socketPath}).`)):n.write("ssh-agent: SSH_AUTH_SOCK not set on host.");let p=await o_(r,t.shellServer,n)||(s?void 0:await o_(a,t.shellServer,n));p&&(u[p.remoteGpgSocket]={cliHost:p.cliHost,socketPath:p.localGpgSocket});let h=$n.posix.join(((P=t.env)==null?void 0:P.TMPDIR)||"/tmp",`vscode-remote-containers-ipc-${l}.sock`),m=$n.posix.join(((S=t.env)==null?void 0:S.TMPDIR)||"/tmp",`vscode-remote-containers-server-${l}.js`),g=$n.posix.join(((x=t.env)==null?void 0:x.TMPDIR)||"/tmp",`vscode-remote-containers-${l}.js`),v=HF(e,t,"Container",void 0,!1,!1,m,g,u,h,a),y=v.then(I=>I.ready),C=v.then(I=>I.mrpcExec),b=v.then(I=>I.mrpcPtyExec);return y.catch(console.error),e.onAdoptProcess(I=>QZ(t.shellServer,h,d,I).catch(console.error)),n.stop(i,o),{remoteContainersCLI:g,remoteEnv:d?{SSH_AUTH_SOCK:d,REMOTE_CONTAINERS_IPC:h}:{REMOTE_CONTAINERS_IPC:h},mrpcExec:C,mrpcPtyExec:b,ready:y,reconnect:()=>v.then(I=>I.reconnect())}}async function ep(e,t,r,n,i){let{passwdUser:o,homeFolder:s,nodeExecutable:a,mrpcExec:c,mrpcPtyExec:l,setBaseEnv:u,connect:f,reconnect:d,terminate:p}=await HF(e,{remoteExec:t,platform:i},"Host",r,!0,n,void 0);return{passwdUser:o,homeFolder:s,nodeExecutable:a,exec:c,ptyExec:l,setBaseEnv:u,connect:f,reconnect:d,terminate:p}}async function HF(e,{remoteExec:t,platform:r,nodeExecutable:n},i,o,s,a,c,l,u,f,d){let{product:p,output:h}=e,m=l&&rt($n.join(e.extensionPath,"dist","common","remoteContainersCLI.js"),{encoding:"utf8"}),g=rt($n.join(e.extensionPath,"dist","common","remoteContainersServer.js"),{encoding:"utf8"}),v=await Zo(t,h,void 0,r,i),y=s?await T_(v,await I_(v)):void 0,C=(await v.exec({posix:"echo ~",win32:"echo $env:userprofile"})).stdout.trim().split(`
`)[0],b=!0;if(!n||!c){let x=v.path.join(C,".vscode-remote-containers");n||(n=await XZ(e,v,x,C,p,a)),c||(c=v.path.join(x,"dist",`vscode-remote-containers-server-${e.package.version}.js`),await tp(v,c)?b=!1:await v.exec(`mkdir -p '${v.path.dirname(c)}'`))}if(l){let x=`EOF-${l}`;await v.exec(`cat <<'${x}' >${l}
${await m}
${x}
`)}if(b){let x=`EOF-${c}`,I=`${c}_${Date.now()}`;await v.exec(`cat <<'${x}' >${I}
${await g}
${x}
mv ${I} ${c}`)}let _=()=>GZ(e,i,v,n,c,u,f,d),P=await _(),S;return{ready:P.ready,passwdUser:y,nodeExecutable:n,homeFolder:C,mrpcExec:KZ(()=>P.mrpc,i,o||C),mrpcPtyExec:YZ(()=>P.mrpc,i,o||C),mrpcExecToEnd:JZ(()=>P.mrpc,i,o||C),setBaseEnv:x=>new Promise((I,A)=>{S=x,P.mrpc.setBaseEnv(x,O=>O?A(O):I())}),connect:P.mrpc.connect,reconnect:async()=>{let x=`${i}: Reconnecting exec server`,I=h.start(x);await P.process.terminate().catch(()=>{}),v=await Zo(t,h,void 0,void 0,i),P=await _(),S&&await new Promise((A,O)=>{P.mrpc.setBaseEnv(S,L=>L?O(L):A())}),h.stop(x,I)},terminate:()=>P.process.terminate()}}async function GZ(e,t,r,n,i,o,s,a){let{cliHost:c,output:l}=e,u=Object.keys(o||{}),f=me(K({},u.reduce((S,x)=>(S[x]="duplex",S),{})),{rpc:"async",connected:"async",ready:"async"}),d={exec:"async",stdin:"sink",stdout:"source",stderr:"source",exit:"async",terminate:"async",dispose:"async",ptyExec:"async",ptyIn:"sink",ptyOut:"source",ptyResize:"async",ptyExit:"async",ptyTerminate:"async",ptyDispose:"async",execToEnd:"async",setBaseEnv:"async",connect:"duplex"},p=r.process,h=`echo -n ${Un} >&2 ; ${s?`rm -f '${s}' ; `:""}REMOTE_CONTAINERS_SOCKETS='${JSON.stringify(u)}' REMOTE_CONTAINERS_IPC='${s||""}' '${n}' '${i}'
`;p.stdin.write(h);let m,g=new Promise(S=>m=S),v=new UF.StringDecoder;p.stderr.on("data",S=>{let x=v.write(S).replace(/^.*DeprecationWarning: Buffer\(\) is deprecated.*$\r?\n?/mg,"").trim();if(m){let I=x.indexOf(Un);I!==-1&&(m(),m=void 0,x=x.substr(0,I)+x.substr(I+1))}x&&l.write(ot(`${t} server: ${x}`))}),p.exit.then(({code:S,signal:x})=>{l.write(`${t} server terminated (code: ${S}, signal: ${x}).`)},S=>{l.write(`${t} server did not launch or terminated: ${S&&S.message||String(S)}`)});let C=(c==null?void 0:c.type)==="local",b,_=new Promise(S=>b=S),P=WZ(d,f)(me(K({},u.reduce((S,x)=>{let I=o[x];return S[x]=()=>I.cliHost.connect(I.socketPath),S},{})),{rpc:async(S,x)=>{try{let I=JSON.parse(S),A=await l_(C?a:c,I.command,I.stdin).catch(O=>{if(C)throw O});!C&&(A==null?void 0:A.code)!==0&&(A=await l_(a,I.command,I.stdin),A.code===0&&(C=!0)),x(void 0,JSON.stringify(A))}catch(I){console.error(I),x(I)}},connected:S=>{S()},ready:S=>{b(),S()}}));return(0,_v.default)(BF.source(p.stdout),P.createStream(),BF.sink(p.stdin)),await Promise.race([g,p.exit.then(({code:S,signal:x})=>{throw new Error(`${t} server terminated (code: ${S}, signal: ${x}).`)})]),{ready:_,mrpc:P,process:p}}function KZ(e,t,r){return async n=>{let{cmd:i,args:o,cwd:s,env:a,output:c}=n,l=`Run in ${t}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),f=e(),d=await new Promise((p,h)=>{f.exec({cmd:i,args:o,cwd:s||r,env:a},(m,g)=>{m?h(m):p(g)})});return{stdin:P_.sink(f.stdin(d,p=>{p&&p.message!=="unexpected end of parent stream"&&console.error(p)})),stdout:P_.source(f.stdout(d)),stderr:P_.source(f.stderr(d)),exit:new Promise((p,h)=>{f.exit(d,(m,g)=>{var v;c.stop(l,u),m?(((v=m.message)==null?void 0:v.endsWith("ENOENT"))&&!m.code&&(m.code="ENOENT"),h(m)):p(g)})}),terminate:async()=>new Promise((p,h)=>{f.terminate(d,m=>{m?h(m):p()})})}}}function YZ(e,t,r){return async n=>{let{cmd:i,args:o,cwd:s,env:a,output:c}=n,l=`Run in ${t}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),f=e(),d=await new Promise((g,v)=>{var y,C;f.ptyExec({cmd:i,args:o,cwd:s||r,env:a,rows:(y=c.dimensions)==null?void 0:y.rows,cols:(C=c.dimensions)==null?void 0:C.columns},(b,_)=>{b?v(b):g(_)})}),p=[c.onDidChangeDimensions&&c.onDidChangeDimensions(g=>f.ptyResize(d,g.columns,g.rows))],h=zZ();(0,_v.default)(h,f.ptyIn(d,g=>{g&&g.message!=="unexpected end of parent stream"&&console.error(g)}));let m=new Md;return(0,_v.default)(f.ptyOut(d),g=>{g(null,function v(y,C){if(y!==!0){if(y)throw y;m.fire(C),g(null,v)}})}),{write:g=>h.push(g),onData:m.event,resize:(g,v)=>f.ptyResize(d,g,v),exit:new Promise((g,v)=>{f.ptyExit(d,(y,C)=>{p.forEach(b=>b==null?void 0:b.dispose()),c.stop(l,u),y?v(y):g(C)})}),terminate:async()=>new Promise((g,v)=>{f.ptyTerminate(d,y=>{y?v(y):g()})})}}}function JZ(e,t,r){return async n=>{let{cmd:i,args:o,cwd:s,env:a,output:c}=n,l=`Run in ${t}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),f=e();return new Promise((d,p)=>{f.execToEnd({cmd:i,args:o,cwd:s||r,env:a},(h,m)=>{if(c.stop(l,u),h||!m)p({stdin:new Ys.Writable,stdout:Ys.Readable.from([]),stderr:Ys.Readable.from([]),exit:Promise.reject(h),terminate:async()=>{}});else{let g=Ys.Readable.from([Buffer.from(m.stdout.data)]),v=new Promise(b=>g.on("end",b)),y=Ys.Readable.from([Buffer.from(m.stderr.data)]),C=new Promise(b=>y.on("end",b));d({stdin:new Ys.Writable,stdout:g,stderr:y,exit:Promise.all([v,C]).then(()=>({code:m.code,signal:m.signal})),terminate:async()=>{}})}})})}}var k_="\\\\.\\pipe\\openssh-ssh-agent";function VF(e){if(e.env.SSH_AUTH_SOCK)return{cliHost:e,socketPath:e.env.SSH_AUTH_SOCK};if(e.platform==="win32")return{cliHost:e,socketPath:k_}}var Sv=new Set;async function QZ(e,t,r,n){let i=await n.processId;if(i&&i>0){let o=await RL(e,i),s=o.REMOTE_CONTAINERS_IPC;s&&s!==t&&!Sv.has(s)&&s.indexOf("vscode-remote-containers-ipc")!==-1&&(Sv.add(s),await e.exec(`rm '${s}' && ln -s '${t}' '${s}'`));let a=o.SSH_AUTH_SOCK;a&&r&&a!==r&&!Sv.has(a)&&a.indexOf("vscode-ssh-auth")!==-1&&(Sv.add(a),await e.exec(`rm '${a}' && ln -s '${r}' '${a}'`))}}async function XZ(e,t,r,n,i,o){let s=(i==null?void 0:i.commit)||"b3318bc0524af3d74034b8bb8a64df0ccf35549a",a=(i==null?void 0:i.commit)?i.quality||"insider":"stable",{localCacheFolder:c,output:l,alternateDownload:u}=e,f=$n.posix.join(r,"bin",s),d=$n.posix.join(f,"node");try{await t.exec(`test -x '${d}'`)}catch{if(i)try{let v=$n.posix.join(A_(n,i),"bin",s),y=$n.posix.join(v,"node");await t.exec(`test -x '${y}'`);let C=$n.posix.join(v,"node_modules","node-pty","package.json");return await t.exec(`test -f '${C}'`),y}catch{}let p;if((await t.exec("uname -s")).stdout.trim().split(`
`)[0]==="Darwin")p=D_;else{let v=await O_(t);p=R_(v,!1)}let m={localCacheFolder:c,build:p,commit:s,quality:a,web:!1,output:l,alternateDownload:u},g=np(m);if(await Gt(g)||await Pv(m),p===D_)await rp({output:l},t,g,f,o);else{let v=[];await Ev.t({file:g,filter:C=>/^[^/]*\/(LICENSE$|node$|node_modules\/node-pty\/)/.test(C),onentry:C=>{new Ev.WriteEntry.Tar(C).on("data",_=>v.push(_))}});let y=Buffer.concat(v);await rp({output:l},t,y,f,o,!1)}}return d}var L_=te(require("path"));var ZZ=te(require("http")),eee=te(require("https"));function N_(e,t={}){return new Promise((r,n)=>{let i=e.startsWith("https:")?eee:ZZ,o;if(Object.keys(t).length>0){let a=new URL(e);o={headers:t,host:a.host,path:a.pathname}}i.get(o!=null?o:e,a=>{var c;if(a.statusCode<200||a.statusCode>299){if(a.statusCode===302){let l=(c=a.headers)==null?void 0:c.location;l&&r(N_(l,t))}n(new Error(`HTTP ${a.statusCode}: ${a.statusMessage}`))}else{a.on("error",n);let l=[];a.on("data",u=>l.push(u)),a.on("end",()=>r(Buffer.concat(l)))}}).on("error",n)})}async function ui(e){let t=await rt(L_.join(e,"package.json"),"utf8");return JSON.parse(t)}async function ip(e){let t=await rt(L_.join(e,"product.json"),"utf8"),r=JSON.parse(t);return r.commit||(r.commit=await tee(r.quality)),r.serverDataFolderName||(r.serverDataFolderName=".vscode-server-oss"),r}async function tee(e="insider"){let t=`https://update.code.visualstudio.com/api/update/server-linux-x64/${e}/latest`,r=await N_(t);return JSON.parse(r.toString()).version}var WF=!0;function op(e,t=!1){let{serverApplicationName:r}=e;return!t&&r?["bin",r]:["server.sh"]}var GF=/^\\\\wsl(\.localhost|\$)?\\/;function Ar(e){return GF.test(e.toLowerCase())}function Js(e){let t=e.toLowerCase(),r=GF.exec(t);if(!r)return"";let n=t.indexOf("\\",r[0].length);return e.substring(r[0].length,n)}async function kv(e){let{stdout:t}=await ze({exec:ts(void 0),cmd:"wsl",args:["-l","-v"],output:e}),r=t.toString(t[1]===0?"utf16le":"utf8").trim();return(/^\*\s*(\S+)/m.exec(r)||[])[1]}async function es(e,t,r){let{stdout:n}=await ze({exec:ts(void 0),cmd:"wsl",args:["-d",e,"-e","wslpath","-u",t],output:r});return n.toString().trim()}async function ree(e,t){let{stdout:r}=await ze({exec:ts(void 0),cmd:"wsl",args:["-d",e,"-e","/bin/sh","-c","echo ~"],output:t});return r.toString().trim()}async function yu(e,t){let r=Js(e),n=await es(r,e,t);return Ve.parse(`vscode-remote://wsl+${r}${n}`)}function wu(e){if(e.scheme==="vscode-remote"){let t=Iv(e.authority);if(t){let r=e.path;return zd(r)&&(r=zF.posix.dirname(r)),{wslDistro:t,wslPath:r}}}}function Iv(e){return(/wsl\+(.*)/.exec(e)||[])[1]}async function KF(e,t,r,n,i,o,s,a){var h;let{distro:c,cwd:l}=await F_(e,t,s),u=Cu("wsl",["-d",c,"-e"],l),f=await ep({extensionPath:r,localCacheFolder:n,package:await ui(r),product:i,loadNativeModule:o,output:s,alternateDownload:a},u,l,!1),d=await bu({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:s},{shell:((h=f.passwdUser)==null?void 0:h.shell)||"/bin/sh",remoteExec:f.exec});delete d.WSL_INTEROP,await f.setBaseEnv(d);let p=Qs("wsl",l,d,f.exec,f.ptyExec,f.connect,f.nodeExecutable,s);return p.toCommonURI=async m=>{try{return Ve.file((await ze({exec:f.exec,cmd:"wslpath",args:["-w",m],output:s})).stdout.toString().trim())}catch{return}},p}async function F_(e,{defaultDistro:t},r){let n,i;return typeof e=="object"?(n=e.wslDistro,i=e.wslPath):e&&Ar(e)?(n=Js(e),i=await es(n,e,r)):(n=t||await kv(r)||(()=>{throw new Error("No default WSL distro found.")})(),i=e?await es(n,e,r):await ree(n,r)),{distro:n,cwd:i}}var QF=te(require("path")),Tv=te(require("net")),Av=te(require("os"));var YF=te(require("os"));async function JF(e,t,r,n,i,o,s,a,c,l){var v;let u=e.substr(6),f=u.indexOf(":"),d=[(l==null?void 0:l.settings.executablePath)||"ssh"];(l==null?void 0:l.settings.configFilePath)&&d.push("-F",nee(l==null?void 0:l.settings.configFilePath)),f!==-1?d.push("-p",u.substr(f+1),u.substr(0,f)):d.push(u);let p=Cu(d[0],d.slice(1),void 0,await(l==null?void 0:l.sshAskpassEnv)||{}),h=await ep({extensionPath:n,localCacheFolder:i,package:await ui(n),product:o,loadNativeModule:s,output:a,alternateDownload:c},p,t,!1),m=await bu({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:a},{shell:((v=h.passwdUser)==null?void 0:v.shell)||"/bin/sh",remoteExec:h.exec});await h.setBaseEnv(m);let g=Qs("ssh",t||h.homeFolder,m,h.exec,h.ptyExec,h.connect,h.nodeExecutable,a);return g.toCommonURI=()=>Promise.resolve(void 0),g.reconnect=()=>h.reconnect(),g.terminate=()=>h.terminate(),g}function nee(e){return e.replace(/^~($|\/|\\)/,`${YF.homedir()}$1`)}function sp(e,t){let r=iee(e);if(!r)return;let n=r.hostName;if(r.user||r.hostName.toLowerCase()!==r.hostName||r.port||r.hostName.match(/[\/\\\+]/)){let i=JSON.stringify(r);n=Buffer.from(i,"utf8").toString("hex")}return Ve.parse(`vscode-remote://ssh-remote+${n}${t}`)}function iee(e){if(!e.startsWith("ssh://"))return;let t=e.substr(6),r=t.match(/^(?:(.*)@)?(.+?)(?::(\d+))?$/);if(r){let[,n,i,o]=r;return{hostName:i,user:n,port:o?parseInt(o,10):void 0}}return{hostName:t}}var XF=S_(),Cc;(function(i){i[i.Unknown=0]="Unknown",i[i.File=1]="File",i[i.Directory=2]="Directory",i[i.SymbolicLink=64]="SymbolicLink"})(Cc||(Cc={}));async function ji(e,t,r,n,i,o,s,a,c,l){return(e==null?void 0:e.startsWith("ssh://"))&&!(l==null?void 0:l.localDocker)?JF(e,t,n,i,o,s,r,a,c,l):typeof t=="object"||n.executeInWSL==="forWSLPath"&&t&&Ar(t)||n.executeInWSL==="always"?KF(t,n,i,o,s,r,a,c):xv(t||process.cwd(),r,a)}async function xv(e,t,r){let n=ts(e),i=await ZF(e,t);return oee(e,n,i,see)}function Qs(e,t,r,n,i,o,s,a){let c,l;return{type:e,platform:"linux",exec:n,ptyExec:i,cwd:t,env:r,path:QF.posix,async homedir(){var u;return typeof l=="undefined"&&(l=this.env.HOME||((u=Rv((await this.readFile("/etc/passwd")).toString(),(await this.getuid()).toString()))==null?void 0:u.home)||"/"),l},async tmpdir(){return this.env.TMPDIR||"/tmp"},isFile:async u=>{try{return await ze({exec:n,cmd:"test",args:["-f",u],output:Pt}),!0}catch(f){if((f==null?void 0:f.code)!==1)throw f;return!1}},isFolder:async u=>{try{return await ze({exec:n,cmd:"test",args:["-d",u],output:Pt}),!0}catch(f){if((f==null?void 0:f.code)!==1)throw f;return!1}},readFile:async u=>{try{return(await ze({exec:n,cmd:"cat",args:[u],output:Pt})).stdout}catch(f){let d=new Error(`Could not read file: ${u}`);throw d.originalError=f,d.code="ENOENT",d}},writeFile:async(u,f)=>{await ze({exec:n,cmd:"/bin/sh",args:["-c",`cat >'${u}'`],stdin:f,output:Pt})},rename:async(u,f)=>{await ze({exec:n,cmd:"mv",args:[u,f],output:Pt})},rm:async(u,{recursive:f,force:d})=>{await ze({exec:n,cmd:"rm",args:[...f?["-r"]:[],...d?["-f"]:[],u],output:Pt})},mkdirp:async u=>{await ze({exec:n,cmd:"mkdir",args:["-p",u],output:Pt})},readDir:async u=>(await ze({exec:n,cmd:"ls",args:["-a",u],output:Pt})).stdout.toString().trim().split(`
`).filter(f=>f!=="."&&f!==".."),readDirWithTypes:async u=>{let f={f:1,"*":1,"/":2,"@":64};return(await ze({exec:n,cmd:"ls",args:["-aF",u],output:Pt})).stdout.toString().trim().split(`
`).map(d=>"/*@=%|>".indexOf(d[d.length-1])!==-1?[d.substr(0,d.length-1),d[d.length-1]]:[d,"f"]).filter(([d])=>d!=="."&&d!=="..").map(([d,p])=>[d,f[p]||0])},getUsername:async()=>(c===void 0&&(c=(await ze({exec:n,cmd:"id",args:["-u","-n"],output:Pt})).stdout.toString().trim()),c),getuid:async()=>{let u=await ze({exec:n,cmd:"id",args:["-u"],output:Pt});return parseInt(u.stdout.toString().trim(),10)},getgid:async()=>{let u=await ze({exec:n,cmd:"id",args:["-g"],output:Pt});return parseInt(u.stdout.toString().trim(),10)},toCommonURI:()=>Promise.resolve(void 0),connect:o,nodeExecutable:s}}function oee(e,t,r,n){return{type:"local",platform:process.platform,exec:t,ptyExec:r,cwd:e,env:process.env,path:QF,homedir:async()=>Av.homedir(),tmpdir:async()=>Av.tmpdir(),isFile:Gt,isFolder:hd,readFile:rt,writeFile:md,rename:Ho,rm:Vo,mkdirp:async i=>{await ri(i)},readDir:ti,getUsername:Dv,getuid:async()=>process.getuid(),getgid:async()=>process.getgid(),toCommonURI:async i=>Ve.file(i),connect:n}}function see(e){if(process.platform!=="win32"||e.startsWith("\\\\.\\pipe\\"))return XF.duplex(Tv.connect(e));let t=new Tv.Socket;return(async()=>{let r=await rt(e),n=r.indexOf(10),i=parseInt(r.slice(0,n).toString(),10),o=r.slice(n+1);t.connect(i,"127.0.0.1",()=>{t.write(o,s=>{s&&(console.error(s),t.destroy())})})})().catch(r=>{console.error(r),t.destroy()}),XF.duplex(t)}function rM(e,t,r){return e==="linux"?t===r:t.toLowerCase()===r.toLowerCase()}var j_=Dr.join(__dirname,"..","..","node_modules",".bin","ts-node"),mo=Dr.basename(process.argv[0])==="ts-node"||process.argv.indexOf("ts-node/register")!==-1;async function ze(e){let{exec:t,cmd:r,args:n,cwd:i,env:o,stdin:s,output:a,print:c}=e,l=await t({cmd:r,args:n,cwd:i,env:o,output:a});return new Promise((u,f)=>{let d=[],p=[],h=c==="continuous"?new M_.StringDecoder:void 0;l.stdout.on("data",v=>{d.push(v),c==="continuous"&&a.write(h.write(v))}),l.stdout.on("error",v=>{if((v==null?void 0:v.code)!=="ENOTCONN")throw v});let m=c==="continuous"?new M_.StringDecoder:void 0;l.stderr.on("data",v=>{p.push(v),c==="continuous"&&a.write(ot(m.write(v)))}),l.stderr.on("error",v=>{if((v==null?void 0:v.code)!=="ENOTCONN")throw v});let g=[];l.exit.then(({code:v})=>{try{g.forEach(b=>b.dispose());let y=Buffer.concat(d),C=Buffer.concat(p);(c===!0||v&&c==="onerror")&&(a.write(y.toString().replace(/\r?\n/g,`\r
`)),a.write(ot(C.toString()))),c&&v&&a.write(`Exit code ${v}`),v?f({message:`Command failed: ${r} ${(n||[]).join(" ")}`,stdout:y,stderr:C,code:v}):u({stdout:y,stderr:C})}catch(y){f(y)}},f),s instanceof Buffer?(l.stdin.write(s,v=>{v&&f(v)}),l.stdin.end()):s instanceof eM.ReadStream?s.pipe(l.stdin):typeof s=="function"&&g.push(s(v=>l.stdin.write(v)))})}async function Ks(e){let{ptyExec:t,cmd:r,args:n,cwd:i,env:o,output:s,resolveOn:a,onDidInput:c}=e,l=await t({cmd:r,args:n,cwd:i,env:o,output:s});return new Promise((u,f)=>{let d="",p=[c&&c(h=>l.write(h))];l.onData(h=>{d+=h,s.raw(h),a&&a.exec(d)&&u({cmdOutput:d})}),l.exit.then(({code:h,signal:m})=>{try{p.forEach(g=>g==null?void 0:g.dispose()),h||m?f({message:`Command failed: ${r} ${(n||[]).join(" ")}`,cmdOutput:d,code:h,signal:m}):u({cmdOutput:d})}catch(g){f(g)}},h=>{p.forEach(m=>m==null?void 0:m.dispose()),f(h)})})}function ts(e){return async function(t){let{cmd:r,args:n,output:i}=t,o=`Run: ${r} ${(n||[]).join(" ").replace(/\n.*/g,"")}`,s=i.start(o),a=t.cwd||e,c=t.env?K(K({},process.env),t.env):process.env,l=await Ov(r,a,c,i),u=Eu.spawn(l,n,{cwd:a,env:c,windowsHide:!0});return{stdin:u.stdin,stdout:u.stdout,stderr:u.stderr,exit:new Promise((f,d)=>{u.once("error",p=>{i.stop(o,s),d(p)}),u.once("close",(p,h)=>{i.stop(o,s),f({code:p,signal:h})})}),async terminate(){u.kill("SIGKILL")}}}}async function ZF(e,t){let r=await t("node-pty");if(!r)throw new Error("Missing node-pty");return async function(n){var m,g;let{cmd:i,args:o,output:s}=n,a=`Run: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,c=s.start(a),l=!1,u=n.cwd||e,f=n.env?K(K({},process.env),n.env):process.env,d=await Ov(i,u,f,s),p=r.spawn(d,o||[],{cwd:u,env:f,cols:(m=s.dimensions)==null?void 0:m.columns,rows:(g=s.dimensions)==null?void 0:g.rows,useConpty:l}),h=[s.onDidChangeDimensions&&s.onDidChangeDimensions(v=>p.resize(v.columns,v.rows))];return{onData:p.onData.bind(p),write:p.write.bind(p),resize:p.resize.bind(p),exit:new Promise(v=>{p.onExit(({exitCode:y,signal:C})=>{if(h.forEach(b=>b==null?void 0:b.dispose()),s.stop(a,c),v({code:y,signal:C}),process.platform==="win32")try{p.kill()}catch{}})}),async terminate(){p.kill("SIGKILL")}}}}function Cu(e,t,r,n){return async function(i){let{env:o,cmd:s,args:a,output:c}=i,l=i.cwd||r,u=l?`cd '${l}' && `:"",f=Object.keys(o||{}).map(b=>`${b}='${o[b]}' `).join(""),d=(a||[]).map(b=>` '${b.replace(/'/g,`'"'"'`)}'`).join(""),p=`${u}${f}${s}${d}`,h=p!==s?["/bin/sh","-c",p]:[p],m=[...t,...h],g=`Run: ${e} ${m.join(" ").replace(/\n.*/g,"")}`,v=c.start(g),y=await Ov(e,process.cwd(),process.env,c),C=Eu.spawn(y,m,{windowsHide:!0,env:n?K(K({},process.env),n):void 0});return{stdin:C.stdin,stdout:C.stdout,stderr:C.stderr,exit:new Promise((b,_)=>{C.once("error",P=>{c.stop(g,v),_(P)}),C.once("close",(P,S)=>{c.stop(g,v),b({code:P,signal:S})})}),async terminate(){C.kill("SIGKILL")}}}}async function nM(e,t,r,n){let i=await n("node-pty");if(!i)throw new Error("Missing node-pty");return async function(o){var P,S;let{env:s,cmd:a,args:c,output:l}=o,u=o.cwd||r,f=u?`cd '${u}' && `:"",d=Object.keys(s||{}).map(x=>`${x}='${s[x]}' `).join(""),p=(c||[]).map(x=>` '${x.replace(/'/g,`'"'"'`)}'`).join(""),h=`${f}${d}${a}${p}`,m=[...t,"/bin/sh","-c",h],g=`Run: ${e} ${m.join(" ").replace(/\n.*/g,"")}`,v=l.start(g),y=!1,C=await Ov(e,process.cwd(),process.env,l),b=i.spawn(C,m,{cols:(P=l.dimensions)==null?void 0:P.columns,rows:(S=l.dimensions)==null?void 0:S.rows,useConpty:y}),_=[l.onDidChangeDimensions&&l.onDidChangeDimensions(x=>b.resize(x.columns,x.rows))];return{onData:b.onData.bind(b),write:b.write.bind(b),resize:b.resize.bind(b),exit:new Promise(x=>{b.onExit(({exitCode:I,signal:A})=>{if(_.forEach(O=>O==null?void 0:O.dispose()),l.stop(g,v),x({code:I,signal:A}),process.platform==="win32")try{b.kill()}catch{}})}),async terminate(){b.kill("SIGKILL")}}}}async function Ov(e,t=process.cwd(),r,n){if(process.platform!=="win32")return e;if(Dr.isAbsolute(e))return await ap(e)||e;if(/[/\\]/.test(e)){let a=Dr.join(t,e);return await ap(a)||a}let i,o;if(r){for(let a of Object.keys(r))if(a.toLowerCase()==="path"){let c=r[a];typeof c=="string"&&(i=c,o=c.split(Dr.delimiter).filter(Boolean),o.push(Dr.join(r.ProgramW6432||"C:\\Program Files","Docker\\Docker\\resources\\bin")));break}}if(o===void 0||o.length===0){n.write(`findLocalWindowsExecutable: No PATH to look up exectuable '${e}'.`);let a=Dr.join(t,e);return await ap(a)||a}for(let a of o){let c;Dr.isAbsolute(a)?c=Dr.join(a,e):c=Dr.join(t,a,e);let l=await ap(c);if(l)return l}n.write(`findLocalWindowsExecutable: Exectuable '${e}' not found on PATH '${i}'.`);let s=Dr.join(t,e);return await ap(s)||s}var iM=process.env.PATHEXT,oM=iM?iM.toLowerCase().split(";"):[".com",".exe",".bat",".cmd"];async function ap(e){if(oM.indexOf(Dr.extname(e))!==-1)return await Gt(e)?e:void 0;for(let t of oM){let r=e+t;if(await Gt(r))return r}}function bc(e){let t=/^'?v?(\d+(\.\d+)*)/.exec(e);if(!!t)return t[1].split(".").map(r=>parseInt(r,10))}function _u(e,t){for(let r=0,n=Math.max(e.length,t.length);r<n;r++){let i=e[r]||0,o=t[r]||0;if(i!==o)return i<o}return!1}var sM=mo?(e,t,r)=>Eu.spawn(j_,[e,...t||[]],me(K({},r),{windowsHide:!0})):Eu.fork;async function aM(e,t){if(!t){try{return require(e)}catch{}return}try{return require(`${t}/node_modules.asar/${e}`)}catch{}try{return require(`${t}/node_modules/${e}`)}catch{}}function cp(e){let{output:t}=e,r=[];return{output:Vr(me(K({},t),{get dimensions(){return t.dimensions},event:i=>r?r.push(i):t.event(i)})),flush:()=>{r&&(r.forEach(i=>t.event(i)),r=void 0)}}}function cM(e,t,r){return Vr(me(K({},e),{get dimensions(){return e.dimensions},event:i=>{i.channel===t&&e.event(i),r.event(i)}}))}function Nv(e,t){return typeof t!="string"&&"win32"in t?e==="win32"?t.win32:t.posix:t}async function tp(e,t){return Nv(e.platform,{posix:async()=>{try{return await e.exec(`test -f '${t}'`),!0}catch{return!1}},win32:async()=>(await e.exec(`Test-Path '${t}' -PathType Leaf`)).stdout.trim()==="True"})()}var q_;async function Dv(){return q_===void 0&&(q_=(async()=>{try{return tM.userInfo().username}catch(e){if(process.platform!=="linux")throw e;return(await ze({exec:ts(void 0),cmd:"id",args:["-u","-n"],output:Pt})).stdout.toString().trim()}})()),q_}var Un="\u2404";async function Zo(e,t,r,n="linux",i="Container"){let o=typeof e=="function",s=n==="win32",a=o?await e({env:r?{VSCODE_REMOTE_CONTAINERS_SESSION:r}:{},cmd:s?"powershell":"/bin/sh",args:s?["-NoProfile","-Command","-"]:[],output:t}):e;if(!o){let d=s?`powershell -NoProfile -Command "powershell -NoProfile -Command -"
`:`/bin/sh -c 'echo ${Un}; /bin/sh'
`;a.stdin.write(d),await new Promise(h=>{let m="",g=new $_.StringDecoder;a.stdout.on("data",function v(y){m+=g.write(y),m.includes(d)&&(a.stdout.off("data",v),h())})})}let c=cee(a),l;async function u(d,p){let h=l=(async()=>{try{await l}catch{}return f(Nv(n,d),p)})();try{return await Promise.race([h,c.unexpectedExit])}finally{c.disposeStdioListeners(),l===h&&(l=void 0)}}async function f(d,p){let h=`Run in ${i.toLowerCase()}: ${d.replace(/\n.*/g,"")}`,m;if((p==null?void 0:p.logOutput)!=="silent"&&(m=t.start(h,p==null?void 0:p.logLevel)),a.stdin.destroyed){t.write("Stdin closed!");let{code:S,signal:x}=await a.exit;return Promise.reject({message:`Shell server terminated (code: ${S}, signal: ${x})`,code:S,signal:x})}n==="win32"?a.stdin.write(`[Console]::Write('${Un}'); ( ${d} ); [Console]::Write("${Un}$LastExitCode ${Un}"); [Console]::Error.Write('${Un}')
`):a.stdin.write(`echo -n ${Un}; ( ${d} ); echo -n ${Un}$?${Un}; echo -n ${Un} >&2
`);let[g,v]=lM(a.stdout,[1,2],(p==null?void 0:p.logOutput)==="continuous"?(S,x,I)=>{x===1&&I===0&&t.write(S,p==null?void 0:p.logLevel)}:()=>{}),y=lM(a.stderr,[1],(p==null?void 0:p.logOutput)==="continuous"?(S,x,I)=>{x===0&&I===0&&t.write(S,p==null?void 0:p.logLevel)}:()=>{})[0];(p==null?void 0:p.stdin)&&(await g,a.stdin.write(p==null?void 0:p.stdin));let[C,b]=await v,[_]=await y,P=parseInt(b,10)||0;return((p==null?void 0:p.logOutput)===void 0||(p==null?void 0:p.logOutput)===!0)&&(t.write(C,p==null?void 0:p.logLevel),t.write(_,p==null?void 0:p.logLevel),P&&t.write(`Exit code ${P}`,p==null?void 0:p.logLevel)),(p==null?void 0:p.logOutput)==="continuous"&&P&&t.write(`Exit code ${P}`,p==null?void 0:p.logLevel),(p==null?void 0:p.logOutput)!=="silent"&&t.stop(h,m,p==null?void 0:p.logLevel),P?Promise.reject({message:`Command in ${i.toLowerCase()} failed: ${d}`,code:P,stdout:C,stderr:_}):{stdout:C,stderr:_}}return{exec:u,process:a,platform:n,path:Nv(n,aee)}}function lM(e,t,r){let n=t.map(()=>{let u,f=new Promise((d,p)=>u={resolve:d,reject:p});return K({promise:f},u)}),i=new $_.StringDecoder("utf8"),o=[],s=0,a=[];function c(u){let f=i.write(u);l(f)}function l(u){let f=u.indexOf(Un);if(f!==-1){let d=u.substr(0,f);o.push(d),r(d,s,a.length),a.push(o.join("")),o.length=0,a.length===t[s]&&(n[s].resolve(a),s++,a=[],s===t.length&&e.off("data",c)),f+1<u.length&&l(u.substr(f+1))}else o.push(u),r(u,s,a.length)}return e.on("data",c),n.map(u=>u.promise)}function cee(e){let t,r=new Promise((c,l)=>t=l),n=[],i=[],o=c=>n.push(c),s=c=>i.push(c);return e.stdout.on("data",o),e.stderr.on("data",s),e.exit.then(({code:c,signal:l})=>{t(`Shell server terminated (code: ${c}, signal: ${l})
${Buffer.concat(n).toString()}
${Buffer.concat(i).toString()}`)},c=>{t(`Shell server failed: ${c&&(c.stack||c.message)}`)}),{unexpectedExit:r,disposeStdioListeners:()=>{e.stdout.off("data",o),e.stderr.off("data",s),n.length=0,i.length=0}}}var uM=te(require("path"));var Ze;(function(C){C.enableWebAccess="enableWebAccess",C.enableExperiments="enableExperiments",C.workspaceMountConsistency="workspaceMountConsistency",C.experimentalUpdateRemoteUserUIDOnMacOS="experimentalUpdateRemoteUserUIDOnMacOS",C.cacheVolume="cacheVolume",C.copyGitConfig="copyGitConfig",C.gitCredentialHelperConfigLocation="gitCredentialHelperConfigLocation",C.dockerPath="dockerPath",C.executeInWSL="executeInWSL",C.executeInWSLDistro="executeInWSLDistro",C.dockerComposePath="dockerComposePath",C.repositoryConfigurationPaths="repositoryConfigurationPaths",C.logLevel="logLevel",C.defaultExtensions="defaultExtensions",C.useEmbeddedV1PackagedCache="useEmbeddedV1PackagedCache",C.additionalDefinitionIndexes="additionalDefinitionIndexes",C.experimentalAddDefinitionUX="experimentalAddDefinitionUX",C.experimentalContainerFeatures="experimentalContainerFeatures",C.dynamicallyFetchFeaturesFromIndex="dynamicallyFetchFeaturesFromIndex"})(Ze||(Ze={}));var go;(function(n){n.repository="dotfiles.repository",n.installCommand="dotfiles.installCommand",n.targetPath="dotfiles.targetPath"})(go||(go={}));function Xs(e){return`remote.containers.${e}`}function lp(e){return`dev.containers.${e}`}var lee=["install.sh","install","bootstrap.sh","bootstrap","script/bootstrap","setup.sh","setup","script/setup"];async function U_(e,t,r,n,i){let{repository:o,installCommand:s,targetPath:a}=e.dotfilesConfiguration;if(o=i.getDotfileConfiguration(go.repository)||o,s=i.getDotfileConfiguration(go.installCommand)||s,a=i.getDotfileConfiguration(go.targetPath)||a,!o)return;await n;let c=await r;o.indexOf(":")===-1&&!/^\.{0,2}\//.test(o)&&(o=`https://github.com/${o}.git`);let l=t.shellServer,u=fee(t),f=Object.keys(c).filter(d=>!(d.startsWith("BASH_FUNC_")&&d.endsWith("%%"))).reduce((d,p)=>`${d}${p}=${uee(c[p])} `,"");try{e.output.event({type:"progress",name:"Installing Dotfiles",status:"running"}),s?await l.exec(`# Clone & install dotfiles
${Lv(u)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${f}git clone ${o} ${a} || exit $?
if [ -x ${s} ]
then
	echo Executing script ${s}
	cd ${a} && ${f}${s}
else
	echo Error: ${s} not executable
	exit 126
fi
`,{logOutput:"continuous",logLevel:pe.Info}):await l.exec(`# Clone & install dotfiles
${Lv(u)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${f}git clone ${o} ${a} || exit $?
cd ${a}
for f in ${lee.join(" ")}
do
	if [ -e $f ]
	then
		installCommand=$f
		break
	fi
done
if [ -z "$installCommand" ]
then
	dotfiles=$(ls -d ${a}/.* 2>/dev/null | grep -v -E '/(.|..|.git)$')
	if [ ! -z "$dotfiles" ]
	then
		echo Linking dotfiles: $dotfiles
		ln -sf $dotfiles ~ 2>/dev/null
	else
		echo No dotfiles found.
	fi
else
	if [ -x "$installCommand" ]
	then
		echo Executing script '${a}'/"$installCommand"
		${f}./"$installCommand"
	else
		echo Error: '${a}'/"$installCommand" not executable
		exit 126
	fi
fi
`,{logOutput:"continuous",logLevel:pe.Info}),e.output.event({type:"progress",name:"Installing Dotfiles",status:"succeeded"})}catch{e.output.event({type:"progress",name:"Installing Dotfiles",status:"failed"})}}function uee(e){return`'${(e||"").replace(/'+/g,`'"$&"'`)}'`}function fee(e){return uM.posix.join(fi(e),".dotfilesMarker")}var xM=te(require("net")),PM=te(SM());async function G_({forwardedPorts:e,output:t,getLogLevel:r},n,i,o){t.write(`Port forwarding for container port ${i} starts listening on local port.`,pe.Debug);let s=o?{VSCODE_REMOTE_CONTAINERS_SESSION:o}:void 0;return new Promise((a,c)=>{let l=new Set,u=xM.createServer({pauseOnConnect:!0},f=>{let d=f.remotePort,p=u.address().port;t.write(`Port forwarding connection from ${d} > ${p} > ${i} in the container.`),r()===pe.Trace&&(async()=>{let h=await(0,PM.default)("port",d);t.write(`Port forwarding process for ${d} > ${p} > ${i} in the container:
${JSON.stringify(h,void 0,"  ")}`)})().catch(console.error),wee(t,n,[n.nodeExecutable,"-e",`
				const net = require('net');
				const fs = require('fs');
				process.stdin.pause();
				const client = net.createConnection({ host: '127.0.0.1', port: ${i} }, () => {
					console.error('Connection established');
					client.pipe(process.stdout);
					process.stdin.pipe(client);
				});
				client.on('close', function (hadError) {
					console.error(hadError ? 'Remote close with error' : 'Remote close');
					process.exit(hadError ? 1 : 0);
				});
				client.on('error', function (err) {
					process.stderr.write(err && (err.stack || err.message) || String(err));
				});
				process.stdin.on('close', function (hadError) {
					console.error(hadError ? 'Remote stdin close with error' : 'Remote stdin close');
					process.exit(hadError ? 1 : 0);
				});
				process.on('uncaughtException', function (err) {
					fs.writeSync(process.stderr.fd, \`Uncaught Exception: \${String(err && (err.stack || err.message) || err)}\\n\`);
				});
			`],s).then(h=>{let m;h.exit.then(({code:g,signal:v})=>{m||(l.delete(f),f.end()),t.write(`Port forwarding ${d} > ${p} > ${i} terminated${m?` by extension (${m})`:""} with code ${g} and signal ${v}.`)},g=>{l.delete(f),f.end(),t.write(`Port forwarding ${d} > ${p} > ${i} terminated with error: ${g&&g.message||String(g)}`)}),h.stderr.on("data",g=>{t.write(`Port forwarding ${d} > ${p} > ${i} stderr: ${g.toString("utf8")}`,pe.Debug)}),f.on("close",g=>{t.write(`Port forwarding ${d} > ${p} > ${i}: Local close${g?" with error":""}`,pe.Debug),l.delete(f),m="closed",h.stdin.end(),setTimeout(()=>{m="killed",h.terminate().catch(console.error)},5e3)}),h.stdout.pipe(f),f.pipe(h.stdin),l.add(f)}).catch(console.error)});u.on("listening",()=>{let f={targetPort:i,server:u,connections:l};u.on("close",()=>{e.delete(f)}),e.add(f),t.write(`Port forwarding local port ${u.address().port} to container port ${i}`),a(u)}),u.on("error",f=>{if(f&&(f.code==="EADDRINUSE"||f.code==="EACCES")){u.listen(0,"127.0.0.1");return}c(f)}),u.on("close",()=>{c(new Error("Closed"))}),u.listen(i,"127.0.0.1")})}async function wee(e,t,r,n){return t.remoteExec({env:n,cmd:r[0],args:r.slice(1),output:e})}var Su=te(require("path"));function jv(e,t){let r,n=e.platform==="win32",i=me(K({},e),{get env(){return r||(r=kM(n,e.env))}}),o=Eee.bind(void 0,n,i);return e.containerWorkspaceFolder&&(i.containerWorkspaceFolder=IM(o,e.containerWorkspaceFolder)),qv(o,t)}function K_(e,t,r,n){let i=e==="win32";return qv(_ee.bind(void 0,i,t,kM(i,r)),n)}function qv(e,t){if(typeof t=="string")return IM(e,t);if(Array.isArray(t))return t.map(r=>qv(e,r));if(t&&typeof t=="object"){let r=Object.create(null);return Object.keys(t).forEach(n=>{r[n]=qv(e,t[n])}),r}return t}var Cee=/\$\{(.*?)\}/g;function kM(e,t){if(e){let r=Object.create(null);return Object.keys(t).forEach(n=>{r[n.toLowerCase()]=t[n]}),r}return t}function IM(e,t){return t.replace(Cee,bee.bind(void 0,e))}function bee(e,t,r){let n,i=r.split(":");return i.length>1&&(r=i[0],n=i[1]),e(t,r,n)}function Eee(e,t,r,n,i){switch(n){case"env":case"localEnv":return TM(e,t.env,i,r,t.configFile);case"localWorkspaceFolder":return t.localWorkspaceFolder!==void 0?t.localWorkspaceFolder:r;case"localWorkspaceFolderBasename":return t.localWorkspaceFolder!==void 0?(e?Su.win32:Su.posix).basename(t.localWorkspaceFolder):r;case"containerWorkspaceFolder":return t.containerWorkspaceFolder!==void 0?t.containerWorkspaceFolder:r;case"containerWorkspaceFolderBasename":return t.containerWorkspaceFolder!==void 0?Su.posix.basename(t.containerWorkspaceFolder):r;default:return r}}function _ee(e,t,r,n,i,o){switch(i){case"containerEnv":return TM(e,r,o,n,t);default:return n}}function TM(e,t,r,n,i){if(r){e&&(r=r.toLowerCase());let o=t[r];return typeof o=="string"?o:""}throw new $e({description:`'${n}'${i?` in ${Su.posix.basename(i.path)}`:""} can not be resolved because no environment variable name is given.`})}async function vo(e){return new Promise(t=>setTimeout(t,e))}var ea=0,OM=/Extension host agent listening on (\d+)/;var Xr;(function(a){a[a.Begin=0]="Begin",a[a.CloningRepository=1]="CloningRepository",a[a.BuildingImage=2]="BuildingImage",a[a.StartingContainer=3]="StartingContainer",a[a.InstallingServer=4]="InstallingServer",a[a.StartingServer=5]="StartingServer",a[a.End=6]="End"})(Xr||(Xr={}));var J_="updateContentCommand";async function Bv(e){let{params:t,createdAt:r,startedAt:n,sharedDataFolder:i,sharedDataFolderIsLocalCacheFolder:o,remoteWorkspaceFolder:s,containerUser:a,containerGroup:c,containerEnv:l,remoteExec:u,remotePtyExec:f,remoteExecAsRoot:d,rootShellServer:p}=e,h;if(p&&a==="root"?h=p:h=await Zo(u,t.output,t.sessionId),!l){let L=(await h.exec("echo $PATH")).stdout.trim();l=L?{PATH:L}:{}}a||(a=await I_(h)),!d&&a==="root"&&(d=u);let m=await O_(h),g=await T_(h,a);g||t.output.write(BE(`User ${a} not found in /etc/passwd.`));let v=await See(l,g),y=await NM(l,g),C=A_(y,t.product),{commit:b,quality:_}=t.product,P=b&&await xee(C,b,_||"insider",t.web),S=R_(m,_==="stable"),x=b&&i&&await LM(Ne.posix,i,S,b,_||"insider",t.web),I=P&&await kee(P),A;p?A=Promise.resolve(p):a==="root"&&(A=Promise.resolve(h));let O={createdAt:r,startedAt:n,osRelease:m,build:S,user:a,gid:c||(g==null?void 0:g.gid),env:l,shell:v,homeFolder:y,userDataFolder:C,sharedDataFolderIsLocalCacheFolder:o,sharedDataFolder:i,installFolder:P,sharedInstallFolder:x,remoteWorkspaceFolder:s,nodeExecutable:I,remoteExec:u,remotePtyExec:f,remoteExecAsRoot:d,shellServer:h};return(A||d)&&(O.launchRootShellServer=()=>A||(A=Zo(d,t.output))),O}async function I_(e){return(await e.exec("id -un")).stdout.trim()}async function NM(e,t){return e.HOME||t&&t.home||"/root"}async function See(e,t){return e.SHELL||t&&t.shell||"/bin/sh"}async function T_(e,t){let{stdout:r}=await e.exec("cat /etc/passwd",{logOutput:!1});return Rv(r,t)}function Rv(e,t){return e.split(/\r?\n/).map(n=>n.split(":")).map(n=>({name:n[0],uid:n[2],gid:n[3],home:n[5],shell:n[6]})).find(n=>n.name===t||n.uid===t)}async function xee(e,t,r,n){return Ne.posix.join(e,"bin",`${t}${r==="stable"?"":`-${r}`}${n?"-web":""}`)}async function LM(e,t,r,n,i,o){return e.join(t,"bin",r.id,`${n}${i==="stable"?"":`-${i}`}${o?"-web":""}`)}function FM(e){return Ne.posix.join(e.userDataFolder,"extensions")}function fi(e){return Ne.posix.join(typeof e=="string"?e:e.userDataFolder,"data/Machine")}function Hv(e){return Ne.posix.join(e.userDataFolder,"data/Machine/settings.json")}function Pee(e){return Ne.posix.join(e,".vscode-remote")}function A_(e,t){return Ne.posix.join(e,t.serverDataFolderName)}function xu(e){return Ne.posix.join("/var",/^\.*(.*)$/.exec(e)[1])}async function kee(e){return Ne.posix.join(e,"node")}var Vv=class{constructor(t){this.settings=t}getConfiguration(t){return this.settings[lp(t)]||this.settings[Xs(t)]}getDotfileConfiguration(t){return this.settings[Xs(t)]||this.settings[t]}};async function Wv(e,t,r,n,i=ea){var y;await MM(e,t),await Gee(e,t),await Kee(e,t);let o=await jM(e,t,r),{serverDownloaded:s}=await qM(e,t),a,c,l=Promise.resolve(),u;if(!e.cliMode&&t.nodeExecutable){let C=await Zd(e,t);a=C.remoteContainersCLI,c=C.remoteEnv,l=C.ready,u=C.mrpcExec;let b=e.cliHost.reconnect;b&&(e.cliHost.reconnect=async()=>{await b(),C.reconnect().catch(_=>e.output.write(ot(_&&(_.stack||_.message)||String(_))))})}let d=e.computeExtensionHostEnv||t.installFolder&&e.cliMode||e.postCreate.enabled?bu(e,t,r,u).then(C=>K(K(K(K({},C),c),e.cliMode?{}:{REMOTE_CONTAINERS:"true"}),r.remoteEnv?K_(e.cliHost.platform,r.configFilePath,t.env,r.remoteEnv):{})):Promise.resolve({}),p=(y=o.getConfiguration(Ze.gitCredentialHelperConfigLocation))!=null?y:e.credentialHelperConfigLocation;!e.cliMode&&t.nodeExecutable&&(await Ec(e,t,[".ssh","known_hosts"],"ssh"),p!=="none"&&await Pu(t,a,e.output,"system"));let h,m,g,v;if(t.installFolder){let b=await zM(e,t,i,u,async()=>BM(e,t,async()=>{var S,x,I;return Array.from(new Set([...((x=(S=r.customizations)==null?void 0:S.vscode)==null?void 0:x.extensions)||[],...((I=await n())==null?void 0:I.allFeatures.filter(A=>(WF||A.included)&&A.value).reduce((A,O)=>{var L,J;return A.concat(((J=(L=O.customizations)==null?void 0:L.vscode)==null?void 0:J.extensions)||[])},[]))||[]]))}),d),_=b.serverPort;g=b.connectionToken,v=b.webConnectionToken,h=_,e.forwardServerPort&&t.nodeExecutable&&(m=await G_(e,t,_,e.sessionId),h=m.address().port,e.backgroundTasks.push(async()=>JM(e,t,r)))}if(e.postCreate.enabled){let C,b=!1,_=new Promise(S=>C=()=>{b=!0,S()}),P=(async()=>{var S;if((r.waitFor||J_)==="initializeCommand"&&C(),!(e.postCreate.skipNonBlocking&&b)&&(await X_(e,t,r,"onCreateCommand",d,l,!1,C),!(e.postCreate.skipNonBlocking&&b)&&(await X_(e,t,r,"updateContentCommand",d,l,!!e.prebuild,C),!(e.postCreate.skipNonBlocking&&b)))){if(!e.prebuild){if(await X_(e,t,r,"postCreateCommand",d,l,!1,C),e.postCreate.skipNonBlocking&&b||(await U_(e,t,d,l,o),!e.cliMode&&t.nodeExecutable&&(((S=o.getConfiguration(Ze.copyGitConfig))!=null?S:e.isCopyGitConfigEnabled)&&(await Ec(e,t,[".gitconfig"],"git"),await Kv(e,t,d.then(x=>K(K({},t.env),x)))),await Pu(t,a,e.output,p)),await $ee(e,t,r,d,l,C),e.postCreate.skipNonBlocking&&b))return;await Uee(e,t,r,d,l,C)}e.postCreate.done()}})();e.backgroundTasks.push(P),await Promise.race([_,P])}return{hostOrContainerPort:h,hostPortServer:m,connectionToken:g,webConnectionToken:v,remoteEnv:e.computeExtensionHostEnv?await d:{},serverDownloaded:s}}async function zv(e,t,r,n,i=ea,o){var C;await MM(e,t);let s=await jM(e,t,n),{serverDownloaded:a}=await qM(e,t),c,l,u=Promise.resolve(),f;if(!e.cliMode&&t.nodeExecutable){let b=await Zd(e,t);c=b.remoteContainersCLI,l=b.remoteEnv,u=b.ready,f=b.mrpcExec;let _=e.cliHost.reconnect;_&&(e.cliHost.reconnect=async()=>{await _(),b.reconnect().catch(P=>e.output.write(ot(P&&(P.stack||P.message)||String(P))))})}let p=e.computeExtensionHostEnv||t.installFolder&&e.cliMode||e.postCreate.enabled?bu(e,t,n,f).then(b=>K(K(K(K({},b),l),e.cliMode?{}:{REMOTE_CONTAINERS:"true"}),K_(e.cliHost.platform,r.configFilePath,t.env,n.remoteEnv||{}))):Promise.resolve({}),h=(C=s.getConfiguration(Ze.gitCredentialHelperConfigLocation))!=null?C:e.credentialHelperConfigLocation;!e.cliMode&&t.nodeExecutable&&(await Ec(e,t,[".ssh","known_hosts"],"ssh"),h!=="none"&&await Pu(t,c,e.output,"system"));let m,g,v,y;if(t.installFolder){let _=await zM(e,t,i,f,async()=>BM(e,t,async()=>{var x;return[...new Set([].concat(...(((x=n.customizations)==null?void 0:x.vscode)||[]).map(I=>I.extensions||[])))]}),p),P=_.serverPort;v=_.connectionToken,y=_.webConnectionToken,m=P,e.forwardServerPort&&t.nodeExecutable&&(g=await G_(e,t,P,e.sessionId),m=g.address().port,e.backgroundTasks.push(async()=>JM(e,t,n)))}if(e.postCreate.enabled){let b,_=new Promise(S=>b=()=>{S()}),P=(async()=>{var A;let S=K(K({},l),e.cliMode?{}:{REMOTE_CONTAINERS:"true"}),x=["onCreateCommand","updateContentCommand","postCreateCommand","postStartCommand","postAttachCommand"],I=x.reduce((O,L)=>(O[L]=(n[`${L}s`]||[]).length>0,O),{});if(e.prebuild){let O=x.indexOf("updateContentCommand");if((!x.slice(0,O+1).some(z=>I[z])?"prebuild":await o(!1,!1,!0,S))!=="prebuild")throw new Error('"prebuild" expected')}else{let O=!0,L=!0,J=n.waitFor||J_,z=x.indexOf(J),ee=x.indexOf("postCreateCommand"),ie=z<=ee&&!x.slice(0,z+1).some(D=>I[D]),q=!x.slice(0,ee+1).some(D=>I[D]),M=ie?"skipNonBlocking":q?"stopForPersonalization":await o(O,L,!1,S);if(M==="skipNonBlocking"){if(b(),e.postCreate.skipNonBlocking)return;O=!1,M=!x.slice(z+1,ee+1).some($=>I[$])?"stopForPersonalization":await o(O,L,!1,S)}if(M==="stopForPersonalization"){await U_(e,t,p,u,s),!e.cliMode&&t.nodeExecutable&&(((A=s.getConfiguration(Ze.copyGitConfig))!=null?A:e.isCopyGitConfigEnabled)&&(await Ec(e,t,[".gitconfig"],"git"),await Kv(e,t,p.then(Y=>K(K({},t.env),Y)))),await Pu(t,c,e.output,h)),L=!1;let D=z>ee&&!x.slice(ee+1,z+1).some(Y=>I[Y]),$=!x.slice(ee+1).some(Y=>I[Y]);M=D?"skipNonBlocking":$?"done":await o(O,L,!1,S)}if(M==="skipNonBlocking"){if(b(),e.postCreate.skipNonBlocking)return;O=!1,M=!x.slice(z+1).some($=>I[$])?"done":await o(O,L,!1,S)}if(M!=="done")throw new Error('"done" expected')}})();P.then(()=>{e.postCreate.done()},S=>{e.postCreate.done(S)}),e.backgroundTasks.push(P),await Promise.race([_,P])}return{hostOrContainerPort:m,hostPortServer:g,connectionToken:v,webConnectionToken:y,remoteEnv:e.computeExtensionHostEnv?await p:{},serverDownloaded:a}}async function MM(e,t){let r=Pee(t.homeFolder);!await Jv(t.shellServer,t.userDataFolder)&&await Jv(t.shellServer,r)&&await rs(e,t,["/bin/sh","-c",`cp -r '${r}' '${t.userDataFolder}'`])}async function jM(e,t,r){var s;let n=fi(t),i=Ne.posix.join(n,".writeMachineSettingsMarker"),o=Hv(t);if(await Yv(t.shellServer,i)){let a=(s=r.customizations)==null?void 0:s.vscode,c=Object.assign({},...(Array.isArray(a)?a:a?[a]:[]).map(l=>l.settings));if(Iee(c,r.portsAttributes),Tee(c,r.otherPortsAttributes),Object.keys(c).length)return await t.shellServer.exec(`mkdir -p '${Ne.posix.dirname(o)}' && cat >'${o}' <<'settingsJSON'
${JSON.stringify(c,null,"	")}
settingsJSON
`),new Vv(c)}try{let{stdout:a}=await t.shellServer.exec(`cat ${o}`);return new Vv(pt(a)||{})}catch{return new Vv({})}}function Iee(e,t){if(!e||!t||!Object.keys(t).length)return;let r="remote.portsAttributes";if(!e[r]){e[r]=t;return}for(let n in t)e[r][n]||(e[r][n]=t[n])}function Tee(e,t){if(!e||!t)return;let r="remote.otherPortsAttributes";e[r]||(e[r]=t)}async function Gv(e,t,r,n){let i=typeof e.gid=="string"?`${e.user}:${e.gid}`:e.user,o=await t();if((await o.exec(`stat -c %u ${r}`)).stdout.trim()==="0"){let c=Ne.posix.dirname(r);c!=="/"&&await o.exec(`chown ${i} ${c}`),r!=="/"&&await o.exec(`chown -R ${i} ${r}`)}else if(n&&(await o.exec(`stat -c %u ${n}`)).stdout.trim()==="0"){let u=Ne.posix.dirname(n);u!=="/"&&await o.exec(`chown -R ${i} ${u}`)}}async function Pu(e,t,r,n){if((t||mo)&&n!=="none"){let i=n==="system"?e.launchRootShellServer&&await e.launchRootShellServer():e.shellServer;i?await i.exec(`command -v git >/dev/null 2>&1 && git config --${n} --replace-all credential.helper '!f() { ${e.nodeExecutable} ${t} $*; }; f' || true`):r.write("Cannot configure system wide Git credential helper without root access.")}}async function Ec(e,t,r,n){let{cliHost:i}=e,o=i.path.join(await i.homedir(),...r),s=Ne.posix.join(t.homeFolder,...r);await hu(e,t,o,s,n)}async function Kv(e,t,r){let{cliHost:n}=e,{env:i}=n,o=["git","config"],s=i.XDG_CONFIG_HOME?[i.XDG_CONFIG_HOME]:[await n.homedir(),".config"],a=n.path.join(...s,...o),c=(async()=>{let l=await r,u=l.XDG_CONFIG_HOME?[l.XDG_CONFIG_HOME]:[t.homeFolder,".config"];return Ne.posix.join(...u,...o)})();await hu(e,t,a,c,"git")}async function hu(e,t,r,n,i){let o=await Aee(e.cliHost,r);if(o)try{let s=await n;await t.shellServer.exec(`# Test for ${s} and ${i}
[ -e ${s} ] && echo ${s} exists && exit 1
command -v ${i} >/dev/null 2>&1 || (echo ${i} not found && exit 1) || exit 1
mkdir -p ${Ne.posix.dirname(s)}`),await t.shellServer.exec(`# Copy ${r} to ${s}
${eS(o.byteLength)} >${s}`,{stdin:o})}catch(s){if(s&&s.code!==1)throw s}}async function Aee(e,t){try{return await e.readFile(t)}catch(r){if(r&&(r.code==="ENOENT"||r.code==="EISDIR"))return;throw r}}async function qM(e,t){let{commit:r}=e.product,{installFolder:n,shellServer:i,launchRootShellServer:o,build:s}=t;if(!(r&&n))return{serverDownloaded:void 0};Dee(t.osRelease,s),s.preview&&e.output.write(`\r
[1mSupport for ${s.label} is in preview.[22m\r
\r
`);let a=await Jv(i,n),c;a||s===VM[s.arch]&&(o?c=(await o()).exec("apk info | grep -e '^libstdc++$' || (apk update && apk add libstdc++)"):c=i.exec(`apk info | grep -e '^libstdc++$' || (echo "ERROR: libstdc++ not found. Please install." >&2 && exit 1)`));let l=t.sharedInstallFolder;if(l&&await Jv(i,l))return a||await i.exec(`mkdir -p '${Ne.posix.dirname(n)}' && ln -snf '${l}' '${n}'`),o&&(async()=>{await(await o()).exec(`touch '${l}'`)})().catch(console.error),await c,{serverDownloaded:!1};if(a)return{serverDownloaded:!1};e.progress(4),e.output.write(`Installing VS Code Server for commit ${r}\r
`);let u=!!(l&&o),f=u?l:n,d=u?await o():i,p={localCacheFolder:e.localCacheFolder,build:s,commit:r,quality:e.product.quality||"insider",web:e.web,output:e.output,alternateDownload:e.alternateDownload},h=np(p),m=await Gt(h);m||await Pv(p);try{t.sharedDataFolderIsLocalCacheFolder?await $M(p):await rp(e,d,h,f)}catch(g){if(g&&g.stderr&&/unexpected end of file|not in gzip format/i.test(g.stderr.toString()))await Pv(p),t.sharedDataFolderIsLocalCacheFolder?await $M(p):await rp(e,d,h,f);else throw g}return u&&(await i.exec(`mkdir -p '${Ne.posix.dirname(n)}' && ln -snf '${l}' '${n}'`),(async()=>{await d.exec(`touch '${l}' && cd '${Ne.posix.dirname(l)}' && ls -td *[^_]????????????? | tail -n +10 | xargs rm -rf`)})().catch(console.error)),await c,{serverDownloaded:!m}}function Dee(e,t){let r=e.version;if(t.minVersion&&r){let n=bc(r.trim());if(n&&_u(n,t.minVersion)){let i=`${t.label} ${t.minVersion.join(".")} or later required.`;throw new $e({description:i,data:{reload:!1}})}}}async function Pv(e){let{build:t,commit:r,quality:n,web:i,output:o}=e,s="Downloading VS Code Server",a=o.start(s);o.write(`${r} ${t.id} ${n} ${i?"web":""}`);let c=np(e);await ri(Ne.dirname(c));let l=`https://update.code.visualstudio.com/commit:${r}/server-${t.id}${i?"-web":""}/${n}`;try{let u=`${c}_${Date.now()}`;await new Promise((f,d)=>{let p=$v.createWriteStream(u);o.write("Starting download.",pe.Trace),AM.https.get(l,m=>{if(m.statusCode<200||m.statusCode>299){o.write(`Download failed: ${m.statusCode} ${m.statusMessage}.`,pe.Trace),d(new $e({description:"Downloading the VS Code Server failed. Please try again later.",originalError:`Failed to download VS Code Server (${l}): HTTP ${m.statusCode} - ${m.statusMessage}`}));return}o.write("Downloading data.",pe.Trace),m.on("error",d),m.pipe(p),m.on("end",f)}).on("error",d)}),await Ho(u,c)}catch(u){if(o.write("Downloading failed.",pe.Trace),o.write((u==null?void 0:u.stack)||(u==null?void 0:u.message)||String(u),pe.Trace),e.alternateDownload){o.write(u&&(u.originalError||u.message)),o.write("Retrying to download VS Code Server.");let f=`${c}_${Date.now()}`;await e.alternateDownload(l,f),await Ho(f,c)}else throw u||new Error("Failed to download VS Code Server.")}finally{o.stop(s,a)}}async function rp(e,t,r,n,i,o=!0){let s="Installing VS Code Server",a=e.output.start(s),c=`${n}_${Date.now()}`;try{if(await t.exec(`mkdir -p ${c}`),i)typeof r=="string"&&r.endsWith(".zip")?await t.exec(`unzip ${r} -d ${c}`):await t.exec(`cat ${r} | tar --no-same-owner -x${o?"z":""} -C ${c}`);else{let l=typeof r=="string"?await rt(r):r;await t.exec(`${eS(l.byteLength)} | tar --no-same-owner -x${o?"z":""} -C ${c}`,{stdin:l})}await t.exec(`mv -n ${Ne.posix.join(c,"*",".")} ${n} && rmdir ${c}`)}catch(l){try{await t.exec(`rm -rf ${c}`)}catch{}throw l}finally{e.output.stop(s,a)}}async function $M(e){let{localCacheFolder:t,build:r,commit:n,quality:i,web:o,output:s}=e,a="Unpacking VS Code Server",c=s.start(a);s.write(`${n} ${r.id} ${i} ${o?"web":""}`);let l=await LM(Ne,t,r,n,i,o),u=`${l}_${Date.now()}`;try{await ri(u);let f=np(e);await(await ts(void 0)({cmd:"tar",args:["--no-same-owner","-xzf",f,"--strip-components","1","-C",u],cwd:process.cwd(),output:s})).exit,await Vo(l,{recursive:!0,force:!0}),await Ho(u,l)}catch(f){try{await Vo(u,{recursive:!0,force:!0})}catch{}throw f}finally{s.stop(a,c)}}function np(e){let{localCacheFolder:t,build:r,commit:n,quality:i,web:o}=e,s=Ne.join(t,"serverCache",n),a=`vscode-server-${r.id}${i==="stable"?"":`-${i}`}${o?"-web":""}${r.archiveExt||".tar.gz"}`;return Ne.join(s,a)}async function UM(e,t){let r={VSCODE_AGENT_FOLDER:t.userDataFolder},{stdout:n}=await rs(e,t,[Ne.posix.join(t.installFolder,...op(e.product)),...GM(t.userDataFolder),...YM(e.getTelemetryLevel()),"--list-extensions"],t.installFolder,{remoteEnv:r});return n.toString().split(`
`).filter(i=>!!i)}async function BM(e,t,r){let n="Preparing Extensions",i=e.output.start(n),{sharedDataFolder:o}=t,s=o?Mee(o):void 0,a=HM(t),c=await Ree(e,t,r);if(t.sharedDataFolderIsLocalCacheFolder)t.shellServer.exec(`mkdir -p '${s}' && ln -s -T '${s}' '${a}' || true`),t.launchRootShellServer&&(await t.launchRootShellServer()).exec(`chown -R ${t.user} ${s}`);else{let l=Fee(e.localCacheFolder),u=await Oee(e,t,l,s,a,[...c.builtinExtensions,...c.extensions]);Nee(e,t,l,s,a,u).catch(console.error)}return e.output.stop(n,i),c}async function Ree(e,t,r){let n=fi(t),i=Ne.posix.join(n,".installExtensionsMarker"),o=!await Yv(t.shellServer,i),s=o?[]:e.installBuiltinExtensions||[],a=await e.getAdditionalExtensionsToInstall(o),c=o?[]:await r();for(let u of a)c.indexOf(u)===-1&&c.push(u);let l=[].concat(...s.map(u=>["--install-builtin-extension",u]),...c.map(u=>["--install-extension",u]));return e.cliMode&&l.length&&l.push("--do-not-sync"),{builtinExtensions:s,extensions:c,args:l}}async function Oee(e,t,r,n,i,o){e.output.write(`Extensions cache, install extensions: ${o.join(", ")||"None"}`);let{shellServer:s}=t,a=(await s.exec(`test -d ${i} && ls ${i} || true`)).stdout.trim().split(`
`).filter(c=>!!c);if(n){let c=(await s.exec(`test -d ${n} && ls ${n} || true`)).stdout.trim().split(`
`).filter(u=>!!u),l=c.filter(u=>o.some(f=>u.toLowerCase().startsWith(f.toLowerCase()))&&a.indexOf(u)===-1);if(e.output.write(`Extensions cache, link in container: ${l.join(", ")||"None"}`),l.length){await s.exec(`mkdir -p '${i}' && ln -s '${n}'/* '${i}' || true`);let{launchRootShellServer:u}=t;u&&(async()=>{await(await u()).exec(`cd ${n} && touch ${l.map(d=>`'${d}'`).join(" ")}`)})().catch(console.error)}return{remoteExtensions:[...new Set([...a,...c])],cachedExtensions:c}}else{await ri(r);let c=await ti(r),l=c.filter(u=>o.some(f=>u.toLowerCase().startsWith(f.toLowerCase()))&&a.indexOf(u)===-1);if(e.output.write(`Extensions cache, copy to remote: ${l.join(", ")||"None"}`),l.length){let u=Ne.basename(r),f=Uv.c({cwd:Ne.dirname(r)},l.map(h=>Ne.join(u,h))),d=Ne.posix.join(i,`tmp-${Date.now()}`),p=await new Promise(h=>{let m=[];f.on("data",g=>m.push(g)),f.on("end",()=>h(Buffer.concat(m)))});await s.exec(`# Copy extensions to remote
mkdir -p ${d}
${eS(p.byteLength)} | tar --no-same-owner -x --strip-components 1 -C ${d}
mv ${d}/* ${i} && rmdir ${d}`,{stdin:p})}return{remoteExtensions:a.concat(l),cachedExtensions:c}}}async function Nee(e,t,r,n,i,o){if(n&&!t.launchRootShellServer)return;let s=1e4,a=6e4;for(await vo(s);;)o=await Lee(e,t,r,n,i,o),await vo(a)}async function Lee(e,t,r,n,i,{remoteExtensions:o,cachedExtensions:s}){let{shellServer:a,launchRootShellServer:c,remoteExec:l}=t,u=(await a.exec(`ls ${i} || true`,{logOutput:"silent"})).stdout.trim().split(`
`).filter(d=>!!d);if(!n){let d=o.filter(p=>u.indexOf(p)===-1);e.output.write(`Extensions cache, remote removals: ${d.join(", ")||"None"}`);for(let p of d)try{await EA(Ne.join(r,p))}catch(h){if(!(h&&h.code==="ENOENT"))throw h}}let f=u.filter(d=>o.indexOf(d)===-1&&s.indexOf(d)===-1);if(e.output.write(`Extensions cache, copy to ${n?"shared cache":"local"}: ${f.join(", ")||"None"}`,pe.Trace),f.length)if(n){let d=await c();await d.exec(`mkdir -p '${n}' && cd '${i}' && cp ${f.map(p=>`'${p}'`).join(" ")} '${n}'`),await d.exec(`cd '${n}' && ls -t | tail -n +50 | xargs rm -f`)}else{let d=Ne.posix.basename(i),p=await l({cmd:"tar",cwd:Ne.posix.dirname(i),args:["c",...f.map(v=>Ne.posix.join(d,v))],output:e.output}),h=Ne.join(Ne.dirname(r),`${Ne.basename(r)}-${Date.now()}`);await ri(h);let m=Uv.x({cwd:h,strip:1}),g=new Promise((v,y)=>{m.on("error",y),m.on("finish",v)});p.stdout.pipe(m),await g;for(let v of await ti(h))await Ho(Ne.join(h,v),Ne.join(r,v));await _A(h)}return{remoteExtensions:u,cachedExtensions:s}}var Q_="extensionsCache";function Fee(e){return Ne.join(e,Q_)}function Mee(e){return Ne.posix.join(e,Q_)}function HM(e){return Ne.posix.join(e.userDataFolder,Q_)}var jee={x64:{label:"x86-64",id:"linux-x64",arch:"x64",stable:!0,preview:!1},armhf:{label:"ARM",id:"linux-armhf",arch:"armhf",stable:!0,preview:!0},arm64:{label:"ARM64",id:"linux-arm64",arch:"arm64",stable:!0,preview:!0}},VM={x64:{label:"Alpine Linux",id:"linux-alpine",arch:"x64",stable:!0,preview:!0,minVersion:[3,9]},arm64:{label:"Alpine Linux ARM64",id:"alpine-arm64",arch:"arm64",stable:!0,preview:!0,minVersion:[3,9]}},D_={label:"Mac",id:"darwin",arch:"x64",stable:!0,preview:!0,archiveExt:".zip"},qee={x86_64:"x64",armv7l:"armhf",arm64:"arm64",aarch64:"arm64"};function R_(e,t){let r=qee[e.hardware];if(e.id==="alpine"){let i=r&&VM[r];if(!i)throw new $e({description:`Alpine Linux is not supported on the hardware architecture '${e.hardware}' of the container.`,data:{learnMoreUrl:"https://aka.ms/vscode-remote/linux",reload:!1}});return i}let n=r&&jee[r];if(!n||t&&!n.stable)throw new $e({description:`The hardware architecture '${e.hardware}' of the container is not supported.`,data:{learnMoreUrl:"https://aka.ms/vscode-remote/linux",reload:!1}});return n}async function O_(e){let t="unknown",r="unknown",n="unknown";try{t=(await e.exec("uname -m")).stdout.trim();let{stdout:i}=await e.exec("(cat /etc/os-release || cat /usr/lib/os-release) 2>/dev/null");r=(i.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound",n=(i.match(/^VERSION_ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound"}catch(i){console.error(i)}return{hardware:t,id:r,version:n}}async function X_(e,t,r,n,i,o,s,a){let c=Ne.posix.join(fi(t),`.${n}Marker`),l=!!t.createdAt&&await WM(t.shellServer,c,t.createdAt)||s;await Z_(e,t,r,n,i,o,l,a)}async function $ee(e,t,r,n,i,o){let s=Ne.posix.join(fi(t),".postStartCommandMarker"),a=!!t.startedAt&&await WM(t.shellServer,s,t.startedAt);await Z_(e,t,r,"postStartCommand",n,i,a,o)}async function WM(e,t,r){try{return await e.exec(`mkdir -p '${Ne.posix.dirname(t)}' && CONTENT="$(cat '${t}' 2>/dev/null || echo ENOENT)" && [ "\${CONTENT:-${r}}" != '${r}' ] && echo '${r}' > '${t}'`),!0}catch{return!1}}async function Uee(e,t,r,n,i,o){await Z_(e,t,r,"postAttachCommand",n,i,!0,o)}async function Z_({postCreate:e},t,r,n,i,o,s,a){let c=r[n];if(s&&c&&(typeof c=="string"?c.trim():c.length)){await o;let l=`Running ${n}...`,u=typeof c=="string"?c:c.join(" "),f=Vr({event(d){e.output.event(d),d.type==="raw"&&d.text.includes("::endstep::")&&e.output.event({type:"progress",name:l,status:"running",stepDetail:""}),d.type==="raw"&&d.text.includes("::step::")&&e.output.event({type:"progress",name:l,status:"running",stepDetail:`${d.text.split("::step::")[1].split(`\r
`)[0]}`})},get dimensions(){return e.output.dimensions},onDidChangeDimensions:e.output.onDidChangeDimensions},pe.Info);try{f.event({type:"progress",name:l,status:"running",stepDetail:u});let d=t.remoteWorkspaceFolder||t.homeFolder;f.raw(`[1mRunning the ${n} from devcontainer.json...[0m\r
\r
`),await zee(me(K({},e),{output:f}),t,typeof c=="string"?["/bin/sh","-c",c]:c,d,{remoteEnv:await i,print:"continuous"}),f.raw(`\r
`),f.event({type:"progress",name:l,status:"succeeded"})}catch(d){if(f.event({type:"progress",name:l,status:"failed"}),d&&(d.code===130||d.signal===2))f.raw(`\r
[1m${n} interrupted.[0m\r
\r
`);else throw(d==null?void 0:d.code)&&f.write(ot(`${n} failed with exit code ${d.code}. Skipping any further user-provided commands.`)),new $e({description:`The ${n} in the devcontainer.json failed.`,originalError:d})}}n===(r.waitFor||J_)&&a()}async function Yv(e,t){try{return await e.exec(Lv(t)),!0}catch{return!1}}function Lv(e){return`test ! -f '${e}' && set -o noclobber && mkdir -p '${Ne.posix.dirname(e)}' && { > '${e}' ; } 2> /dev/null`}async function Jv(e,t){try{return await Bee(e,t),!0}catch{return!1}}async function Bee(e,t){return e.exec(`test -d ${t}`)}async function zM(e,t,r,n,i,o){let{userDataFolder:s,installFolder:a,sharedInstallFolder:c,shellServer:l}=t,{processes:u,mntNS:f}=await u_(l),d=`(${Ne.posix.join(...op(e.product,!1))}|${Ne.posix.join(...op(e.product,!0))})`.replace(".","\\."),p=new RegExp(`${Ne.posix.join(Ne.posix.dirname(a).replace(".","\\."),"[^/]*",d)}`),h=u.filter(z=>z.mntNS===f&&p.test(z.cmd));e.output.write(`Running extension host agents:
${JSON.stringify(h,void 0,"  ")}`,pe.Trace);let{current:m,others:g}=h.reduce((z,ee)=>(z[(ee.cwd===a||ee.cwd===c)&&p.test(ee.cmd)?"current":"others"].push(ee),z),{current:[],others:[]});if(!e.cliMode&&g.length){e.output.write(`Terminating old extension host agent.\r
`);try{await l.exec(`kill -9 ${g.map(z=>z.pgrp?`-${z.pgrp}`:z.pid).join(" ")}`)}catch{}}let{commit:v,quality:y}=e.product,C=Ne.posix.join(fi(t),`.connection-token-${v}${y==="stable"?"":`-${y}`}${e.web?"-web":""}`),b=Ne.posix.join(fi(t),`.devport-${v}${y==="stable"?"":`-${y}`}${e.web?"-web":""}`);if(m.length){e.output.write(`Extension host agent is already running.\r
`);try{let{stdout:z}=await l.exec(`cat '${b}' 2>/dev/null`),ee=z.toString().trim(),ie=parseInt(ee,10),q=new RegExp(` '?${KM(e.product)}'? `).test(m[0].cmd)?(await l.exec(`cat '${C}'`)).stdout.toString().trim():void 0,M=(/'?--connectionToken'? '?([^ ']+)'? /.exec(m[0].cmd)||[])[1];return{serverPort:ie,connectionToken:q,webConnectionToken:M}}catch(z){console.error(z),e.output.write(`Agent port not found. Terminating old extension host agent.\r
`);try{await l.exec(`kill -9 ${m.map(ee=>ee.pgrp?`-${ee.pgrp}`:ee.pid).join(" ")}`)}catch{}}}let _=!!e.webConnectionToken,P;if(!_){let z=`${C}-${Fn()}`,{stdout:ee}=await l.exec(`cat '${C}' 2>/dev/null || (umask 377 && echo '${Fn()}' >'${z}' && mv -n '${z}' '${C}' && rm -f '${z}' && cat '${C}')`);P=ee.toString().trim()}e.progress(5);let S="Starting VS Code Server",x=e.output.start(S),I=[Ne.posix.join(a,...op(e.product,_)),"--log",Vs(e.getLogLevel()),"--force-disable-user-env",...GM(t.userDataFolder),...Hee(e),...YM(e.getTelemetryLevel()),"--accept-server-license-terms","--host","127.0.0.1","--port",String(r),...e.webConnectionToken?["--connectionToken",e.webConnectionToken]:[],...P?[KM(e.product),C]:[],"--extensions-download-dir",HM(t),...(await i()).args,"--start-server",...e.isLocalContainer?["--disable-websocket-compression"]:[""],...e.cliMode?["--enable-remote-auto-shutdown"]:[]],O=(await rs(e,{remoteExec:t.remoteExec},I,a,{remoteEnv:K({SHELL:t.shell,VSCODE_AGENT_FOLDER:s},e.cliMode?await o:{}),resolveOn:OM,print:"continuous"})).cmdOutput;e.output.stop(S,x);let L=(OM.exec(O)||[])[1];if(!L)throw new Error("Port not found");return await l.exec(`echo ${L} >'${b}'`),{serverPort:parseInt(L,10),connectionToken:P,webConnectionToken:e.webConnectionToken}}function GM(e){return["--server-data-dir",e]}function KM(e){return e.serverApplicationName?"--connection-token-file":"--connection-secret"}function Hee(e){return e.isLocalContainer?["--use-host-proxy"]:[]}function YM(e){return e?["--telemetry-level",e]:[]}var Vee=/^([a-z0-9\-]+):(\d{1,5})$/;function Wee(e){let t=e.match(Vee);if(!(!t||t.length!==3))return{host:t[1],port:Number(t[2])}}async function JM(e,t,r){let n=(r.forwardPorts||[]).map(o=>typeof o=="number"?`localhost:${o}`:o).map(Wee).filter(Boolean),i=await e.getTunnels();await Promise.all(n.filter(o=>!i.find(s=>s.remoteAddress.host===o.host&&s.remoteAddress.port===o.port)).map(async({host:o,port:s})=>e.openTunnel(t,s,o)))}async function zee(e,{remotePtyExec:t},r,n,i={}){let o=i.print||(i.silent?"off":"end"),s=await t({env:i.remoteEnv,cwd:n,cmd:r[0],args:r.slice(1),output:i.silent?Pt:e.output}),a="",c,l=new Promise(d=>{c=d});s.onData(d=>{a+=d,o==="continuous"&&e.output.raw(d),i.resolveOn&&i.resolveOn.exec(a)&&c()});let u=e.onDidInput&&e.onDidInput(d=>s.write(d)),f=await Promise.race([s.exit,l]);return u&&u.dispose(),o==="end"&&e.output.raw(a),f&&(f.code||f.signal)?Promise.reject({message:`Command failed: ${r.join(" ")}`,cmdOutput:a,code:f.code,signal:f.signal}):{cmdOutput:a}}async function rs(e,{remoteExec:t},r,n,i={}){let o=i.print||(i.silent?"off":"end"),s=await t({env:i.remoteEnv,cwd:n,cmd:r[0],args:r.slice(1),output:i.silent?Pt:e.output}),a=[],c=[],l=new Y_.StringDecoder,u=new Y_.StringDecoder,f="",d="",p,h,m=new Promise((b,_)=>{p=b,h=_});s.stdout.on("data",b=>{a.push(b);let _=l.write(b);o==="continuous"&&e.output.write(_.replace(/\r?\n/g,`\r
`)),f+=_,i.resolveOn&&i.resolveOn.exec(f)&&p()}),s.stderr.on("data",b=>{c.push(b),d+=u.write(b)}),i.stdin instanceof Buffer?(s.stdin.write(i.stdin,b=>{b&&h(b)}),s.stdin.end()):i.stdin instanceof $v.ReadStream&&i.stdin.pipe(s.stdin);let g=await Promise.race([s.exit,m]),v=Buffer.concat(a),y=Buffer.concat(c);o==="end"&&(e.output.write(f.replace(/\r?\n/g,`\r
`)),e.output.write(ot(d)));let C=`${f}
${d}`;return g&&(g.code||g.signal)?Promise.reject({message:`Command failed: ${r.join(" ")}`,cmdOutput:C,stdout:v,stderr:y,code:g.code,signal:g.signal}):{cmdOutput:C,stdout:v,stderr:y}}function eS(e){let t=8*1024,r=e%t,n=(e-r)/t;return`(dd iflag=fullblock bs=${t} count=${n} 2>/dev/null; dd iflag=fullblock bs=${r} count=1 2>/dev/null)`}async function Gee(e,t){let r=Ne.posix.join(xu(e.product.serverDataFolderName),".patchEtcEnvironmentMarker");if(e.allowSystemConfigChange&&t.launchRootShellServer&&!await tp(t.shellServer,r)){let n=await t.launchRootShellServer();await Yv(n,r)&&await n.exec(`cat >> /etc/environment <<'etcEnvrionmentEOF'
${Object.keys(t.env).map(i=>`
${i}="${t.env[i]}"`).join("")}
etcEnvrionmentEOF
`)}}async function Kee(e,t){let r=Ne.posix.join(xu(e.product.serverDataFolderName),".patchEtcProfileMarker");if(e.allowSystemConfigChange&&t.launchRootShellServer&&!await tp(t.shellServer,r)){let n=await t.launchRootShellServer();await Yv(n,r)&&await n.exec("sed -i -E 's/((^|\\s)PATH=)([^\\$]*)$/\\1${PATH:-\\3}/g' /etc/profile || true")}}async function bu(e,t,r,n){let i=await QM(e,t,r,n,"cat /proc/self/environ","\0");return i||(e.output.write("userEnvProbe: falling back to printenv"),await QM(e,t,r,n,"printenv",`
`)||{})}async function QM(e,t,r,n,i,o){var a;let{userEnvProbe:s}=r||{};if(e.output.write(`userEnvProbe: ${s||e.defaultUserEnvProbe}${s?"":" (default)"}`),s||(s=e.defaultUserEnvProbe),s==="none")return{};try{let l=(await(0,RM.promisify)(DM.randomBytes)(16)).toString("hex"),u=new RegExp(l+"([^]*)"+l),f=t.shell;e.output.write(`userEnvProbe shell: ${f}`);let d=Ne.posix.basename(f),p=`echo -n ${l}; ${i}; echo -n ${l}`,h;/^pwsh(-preview)?$/.test(d)?h=s==="loginInteractiveShell"||s==="loginShell"?["-Login","-Command"]:["-Command"]:h=[s==="loginInteractiveShell"?"-lic":s==="loginShell"?"-lc":s==="interactiveShell"?"-ic":"-c"];let m=Vr(e.output,pe.Trace),g=rs({output:m},{remoteExec:await n||t.remoteExec},[f,...h,p],t.installFolder);Promise.race([g,vo(2e3)]).then(async I=>{if(!I){let A,O=t.shellServer||await Zo(t.remoteExec,e.output);try{({processes:A}=await u_(O))}finally{t.shellServer||await O.process.terminate()}let L=A.find(J=>J.cmd.startsWith(f)&&J.cmd.indexOf(l)!==-1);if(L){let z=OL(A)[L.pid];e.output.write(`userEnvProbe is taking longer than 2 seconds. Process tree:
${f_(z)}`)}else e.output.write("userEnvProbe is taking longer than 2 seconds. Process not found.")}},()=>{}).catch(I=>e.output.write(ot(I&&(I.stack||I.message)||"Error reading process tree.")));let v=await Promise.race([g,vo(1e4)]);if(!v)return e.output.write(ot("userEnvProbe is taking longer than 10 seconds. Avoid waiting for user input in your shell's startup scripts. Continuing.")),{};let y=v.stdout.toString(),C=u.exec(y),b=C?C[1]:"";if(!b||b.trim()==="-n")return;let _=b.split(o).reduce((I,A)=>{let O=A.indexOf("=");return O!==-1&&(I[A.substring(0,O)]=A.substring(O+1)),I},{});e.output.write(`userEnvProbe parsed: ${JSON.stringify(_,void 0,"  ")}`,pe.Trace),delete _.PWD;let P=_.PATH,S=(a=t.env)==null?void 0:a.PATH,x=!(e.allowSystemConfigChange&&t.launchRootShellServer)&&P&&S;if(x){let I=t.user;_.PATH=Yee(P,S,I==="root"||I==="0")}return e.output.write(`userEnvProbe PATHs:
Probe:     ${typeof P=="string"?`'${P}'`:"None"}
Container: ${typeof S=="string"?`'${S}'`:"None"}${x?`
Merged:    ${typeof _.PATH=="string"?`'${_.PATH}'`:"None"}`:""}`),_}catch(c){return e.output.write(ot(c&&(c.stack||c.message)||"Error reading shell environment.")),{}}}function Yee(e,t,r){let n=e.split(":"),i=0;for(let o of t.split(":")){let s=n.indexOf(o);s===-1?(r||!/\/sbin(\/|$)/.test(o))&&n.splice(i++,0,o):i=s+1}return n.join(":")}async function XM(e){for(let t of e)await(typeof t=="function"?t():t)}var Hj=te(require("crypto")),gp=te(require("path"));function ZM(e){return typeof e=="undefined"||e===null}function Jee(e){return typeof e=="object"&&e!==null}function Qee(e){return Array.isArray(e)?e:ZM(e)?[]:[e]}function Xee(e,t){var r,n,i,o;if(t)for(o=Object.keys(t),r=0,n=o.length;r<n;r+=1)i=o[r],e[i]=t[i];return e}function Zee(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function ete(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var tte=ZM,rte=Jee,nte=Qee,ite=Zee,ote=ete,ste=Xee,hr={isNothing:tte,isObject:rte,toArray:nte,repeat:ite,isNegativeZero:ote,extend:ste};function ej(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function up(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=ej(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}up.prototype=Object.create(Error.prototype);up.prototype.constructor=up;up.prototype.toString=function(t){return this.name+": "+ej(this,t)};var dn=up;function tS(e,t,r,n,i){var o="",s="",a=Math.floor(i/2)-1;return n-t>a&&(o=" ... ",t=n-a+o.length),r-n>a&&(s=" ...",r=n+a-s.length),{str:o+e.slice(t,r).replace(/\t/g,"\u2192")+s,pos:n-t+o.length}}function rS(e,t){return hr.repeat(" ",t-e.length)+e}function ate(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],o,s=-1;o=r.exec(e.buffer);)i.push(o.index),n.push(o.index+o[0].length),e.position<=o.index&&s<0&&(s=n.length-2);s<0&&(s=n.length-1);var a="",c,l,u=Math.min(e.line+t.linesAfter,i.length).toString().length,f=t.maxLength-(t.indent+u+3);for(c=1;c<=t.linesBefore&&!(s-c<0);c++)l=tS(e.buffer,n[s-c],i[s-c],e.position-(n[s]-n[s-c]),f),a=hr.repeat(" ",t.indent)+rS((e.line-c+1).toString(),u)+" | "+l.str+`
`+a;for(l=tS(e.buffer,n[s],i[s],e.position,f),a+=hr.repeat(" ",t.indent)+rS((e.line+1).toString(),u)+" | "+l.str+`
`,a+=hr.repeat("-",t.indent+u+3+l.pos)+`^
`,c=1;c<=t.linesAfter&&!(s+c>=i.length);c++)l=tS(e.buffer,n[s+c],i[s+c],e.position-(n[s]-n[s+c]),f),a+=hr.repeat(" ",t.indent)+rS((e.line+c+1).toString(),u)+" | "+l.str+`
`;return a.replace(/\n$/,"")}var cte=ate,lte=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],ute=["scalar","sequence","mapping"];function fte(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function dte(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(lte.indexOf(r)===-1)throw new dn('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=fte(t.styleAliases||null),ute.indexOf(this.kind)===-1)throw new dn('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Wr=dte;function tj(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(o,s){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(i=s)}),r[i]=n}),r}function pte(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function nS(e){return this.extend(e)}nS.prototype.extend=function(t){var r=[],n=[];if(t instanceof Wr)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new dn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(o){if(!(o instanceof Wr))throw new dn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new dn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new dn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof Wr))throw new dn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(nS.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=tj(i,"implicit"),i.compiledExplicit=tj(i,"explicit"),i.compiledTypeMap=pte(i.compiledImplicit,i.compiledExplicit),i};var hte=nS,mte=new Wr("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),gte=new Wr("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),vte=new Wr("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),yte=new hte({explicit:[mte,gte,vte]});function wte(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function Cte(){return null}function bte(e){return e===null}var Ete=new Wr("tag:yaml.org,2002:null",{kind:"scalar",resolve:wte,construct:Cte,predicate:bte,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function _te(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function Ste(e){return e==="true"||e==="True"||e==="TRUE"}function xte(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Pte=new Wr("tag:yaml.org,2002:bool",{kind:"scalar",resolve:_te,construct:Ste,predicate:xte,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function kte(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Ite(e){return 48<=e&&e<=55}function Tte(e){return 48<=e&&e<=57}function Ate(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!kte(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!Ite(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!Tte(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function Dte(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function Rte(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1==0&&!hr.isNegativeZero(e)}var Ote=new Wr("tag:yaml.org,2002:int",{kind:"scalar",resolve:Ate,construct:Dte,predicate:Rte,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Nte=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Lte(e){return!(e===null||!Nte.test(e)||e[e.length-1]==="_")}function Fte(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var Mte=/^[-+]?[0-9]+e/;function jte(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(hr.isNegativeZero(e))return"-0.0";return r=e.toString(10),Mte.test(r)?r.replace("e",".e"):r}function qte(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!=0||hr.isNegativeZero(e))}var $te=new Wr("tag:yaml.org,2002:float",{kind:"scalar",resolve:Lte,construct:Fte,predicate:qte,represent:jte,defaultStyle:"lowercase"}),Ute=yte.extend({implicit:[Ete,Pte,Ote,$te]}),Bte=Ute,rj=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),nj=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Hte(e){return e===null?!1:rj.exec(e)!==null||nj.exec(e)!==null}function Vte(e){var t,r,n,i,o,s,a,c=0,l=null,u,f,d;if(t=rj.exec(e),t===null&&(t=nj.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(o=+t[4],s=+t[5],a=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(u=+t[10],f=+(t[11]||0),l=(u*60+f)*6e4,t[9]==="-"&&(l=-l)),d=new Date(Date.UTC(r,n,i,o,s,a,c)),l&&d.setTime(d.getTime()-l),d}function Wte(e){return e.toISOString()}var zte=new Wr("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Hte,construct:Vte,instanceOf:Date,represent:Wte});function Gte(e){return e==="<<"||e===null}var Kte=new Wr("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Gte}),iS=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Yte(e){if(e===null)return!1;var t,r,n=0,i=e.length,o=iS;for(r=0;r<i;r++)if(t=o.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8==0}function Jte(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,o=iS,s=0,a=[];for(t=0;t<i;t++)t%4==0&&t&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|o.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):r===18?(a.push(s>>10&255),a.push(s>>2&255)):r===12&&a.push(s>>4&255),new Uint8Array(a)}function Qte(e){var t="",r=0,n,i,o=e.length,s=iS;for(n=0;n<o;n++)n%3==0&&n&&(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]),r=(r<<8)+e[n];return i=o%3,i===0?(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]):i===2?(t+=s[r>>10&63],t+=s[r>>4&63],t+=s[r<<2&63],t+=s[64]):i===1&&(t+=s[r>>2&63],t+=s[r<<4&63],t+=s[64],t+=s[64]),t}function Xte(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var Zte=new Wr("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Yte,construct:Jte,predicate:Xte,represent:Qte}),ere=Object.prototype.hasOwnProperty,tre=Object.prototype.toString;function rre(e){if(e===null)return!0;var t=[],r,n,i,o,s,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],s=!1,tre.call(i)!=="[object Object]")return!1;for(o in i)if(ere.call(i,o))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function nre(e){return e!==null?e:[]}var ire=new Wr("tag:yaml.org,2002:omap",{kind:"sequence",resolve:rre,construct:nre}),ore=Object.prototype.toString;function sre(e){if(e===null)return!0;var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1){if(n=s[t],ore.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;o[t]=[i[0],n[i[0]]]}return!0}function are(e){if(e===null)return[];var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1)n=s[t],i=Object.keys(n),o[t]=[i[0],n[i[0]]];return o}var cre=new Wr("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:sre,construct:are}),lre=Object.prototype.hasOwnProperty;function ure(e){if(e===null)return!0;var t,r=e;for(t in r)if(lre.call(r,t)&&r[t]!==null)return!1;return!0}function fre(e){return e!==null?e:{}}var dre=new Wr("tag:yaml.org,2002:set",{kind:"mapping",resolve:ure,construct:fre}),ij=Bte.extend({implicit:[zte,Kte],explicit:[Zte,ire,cre,dre]}),ta=Object.prototype.hasOwnProperty,Qv=1,oj=2,sj=3,Xv=4,oS=1,pre=2,aj=3,hre=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,mre=/[\x85\u2028\u2029]/,gre=/[,\[\]\{\}]/,cj=/^(?:!|!!|![a-z\-]+!)$/i,lj=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function uj(e){return Object.prototype.toString.call(e)}function yo(e){return e===10||e===13}function _c(e){return e===9||e===32}function pn(e){return e===9||e===32||e===10||e===13}function ku(e){return e===44||e===91||e===93||e===123||e===125}function vre(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function yre(e){return e===120?2:e===117?4:e===85?8:0}function wre(e){return 48<=e&&e<=57?e-48:-1}function fj(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function Cre(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var dj=new Array(256),pj=new Array(256);for(Sc=0;Sc<256;Sc++)dj[Sc]=fj(Sc)?1:0,pj[Sc]=fj(Sc);var Sc;function bre(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||ij,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function hj(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=cte(r),new dn(t,r)}function Le(e,t){throw hj(e,t)}function Zv(e,t){e.onWarning&&e.onWarning.call(null,hj(e,t))}var mj={YAML:function(t,r,n){var i,o,s;t.version!==null&&Le(t,"duplication of %YAML directive"),n.length!==1&&Le(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&Le(t,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),s=parseInt(i[2],10),o!==1&&Le(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&Zv(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,o;n.length!==2&&Le(t,"TAG directive accepts exactly two arguments"),i=n[0],o=n[1],cj.test(i)||Le(t,"ill-formed tag handle (first argument) of the TAG directive"),ta.call(t.tagMap,i)&&Le(t,'there is a previously declared suffix for "'+i+'" tag handle'),lj.test(o)||Le(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{Le(t,"tag prefix is malformed: "+o)}t.tagMap[i]=o}};function ra(e,t,r,n){var i,o,s,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,o=a.length;i<o;i+=1)s=a.charCodeAt(i),s===9||32<=s&&s<=1114111||Le(e,"expected valid JSON character");else hre.test(a)&&Le(e,"the stream contains non-printable characters");e.result+=a}}function gj(e,t,r,n){var i,o,s,a;for(hr.isObject(r)||Le(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,a=i.length;s<a;s+=1)o=i[s],ta.call(t,o)||(t[o]=r[o],n[o]=!0)}function Iu(e,t,r,n,i,o,s,a,c){var l,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,u=i.length;l<u;l+=1)Array.isArray(i[l])&&Le(e,"nested arrays are not supported inside keys"),typeof i=="object"&&uj(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&uj(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(l=0,u=o.length;l<u;l+=1)gj(e,t,o[l],r);else gj(e,t,o,r);else!e.json&&!ta.call(r,i)&&ta.call(t,i)&&(e.line=s||e.line,e.lineStart=a||e.lineStart,e.position=c||e.position,Le(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[i]=o,delete r[i];return t}function sS(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Le(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function sr(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;_c(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(yo(i))for(sS(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Zv(e,"deficient indentation"),n}function ey(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||pn(r)))}function aS(e,t){t===1?e.result+=" ":t>1&&(e.result+=hr.repeat(`
`,t-1))}function Ere(e,t,r){var n,i,o,s,a,c,l,u,f=e.kind,d=e.result,p;if(p=e.input.charCodeAt(e.position),pn(p)||ku(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),pn(i)||r&&ku(i)))return!1;for(e.kind="scalar",e.result="",o=s=e.position,a=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),pn(i)||r&&ku(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),pn(n))break}else{if(e.position===e.lineStart&&ey(e)||r&&ku(p))break;if(yo(p))if(c=e.line,l=e.lineStart,u=e.lineIndent,sr(e,!1,-1),e.lineIndent>=t){a=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=c,e.lineStart=l,e.lineIndent=u;break}}a&&(ra(e,o,s,!1),aS(e,e.line-c),o=s=e.position,a=!1),_c(p)||(s=e.position+1),p=e.input.charCodeAt(++e.position)}return ra(e,o,s,!1),e.result?!0:(e.kind=f,e.result=d,!1)}function _re(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(ra(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else yo(r)?(ra(e,n,i,!0),aS(e,sr(e,!1,t)),n=i=e.position):e.position===e.lineStart&&ey(e)?Le(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);Le(e,"unexpected end of the stream within a single quoted scalar")}function Sre(e,t){var r,n,i,o,s,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return ra(e,r,e.position,!0),e.position++,!0;if(a===92){if(ra(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),yo(a))sr(e,!1,t);else if(a<256&&dj[a])e.result+=pj[a],e.position++;else if((s=yre(a))>0){for(i=s,o=0;i>0;i--)a=e.input.charCodeAt(++e.position),(s=vre(a))>=0?o=(o<<4)+s:Le(e,"expected hexadecimal character");e.result+=Cre(o),e.position++}else Le(e,"unknown escape sequence");r=n=e.position}else yo(a)?(ra(e,r,n,!0),aS(e,sr(e,!1,t)),r=n=e.position):e.position===e.lineStart&&ey(e)?Le(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}Le(e,"unexpected end of the stream within a double quoted scalar")}function xre(e,t){var r=!0,n,i,o,s=e.tag,a,c=e.anchor,l,u,f,d,p,h=Object.create(null),m,g,v,y;if(y=e.input.charCodeAt(e.position),y===91)u=93,p=!1,a=[];else if(y===123)u=125,p=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),y=e.input.charCodeAt(++e.position);y!==0;){if(sr(e,!0,t),y=e.input.charCodeAt(e.position),y===u)return e.position++,e.tag=s,e.anchor=c,e.kind=p?"mapping":"sequence",e.result=a,!0;r?y===44&&Le(e,"expected the node content, but found ','"):Le(e,"missed comma between flow collection entries"),g=m=v=null,f=d=!1,y===63&&(l=e.input.charCodeAt(e.position+1),pn(l)&&(f=d=!0,e.position++,sr(e,!0,t))),n=e.line,i=e.lineStart,o=e.position,Tu(e,t,Qv,!1,!0),g=e.tag,m=e.result,sr(e,!0,t),y=e.input.charCodeAt(e.position),(d||e.line===n)&&y===58&&(f=!0,y=e.input.charCodeAt(++e.position),sr(e,!0,t),Tu(e,t,Qv,!1,!0),v=e.result),p?Iu(e,a,h,g,m,v,n,i,o):f?a.push(Iu(e,null,h,g,m,v,n,i,o)):a.push(m),sr(e,!0,t),y=e.input.charCodeAt(e.position),y===44?(r=!0,y=e.input.charCodeAt(++e.position)):r=!1}Le(e,"unexpected end of the stream within a flow collection")}function Pre(e,t){var r,n,i=oS,o=!1,s=!1,a=t,c=0,l=!1,u,f;if(f=e.input.charCodeAt(e.position),f===124)n=!1;else if(f===62)n=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)oS===i?i=f===43?aj:pre:Le(e,"repeat of a chomping mode identifier");else if((u=wre(f))>=0)u===0?Le(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?Le(e,"repeat of an indentation width identifier"):(a=t+u-1,s=!0);else break;if(_c(f)){do f=e.input.charCodeAt(++e.position);while(_c(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!yo(f)&&f!==0)}for(;f!==0;){for(sS(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!s||e.lineIndent<a)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>a&&(a=e.lineIndent),yo(f)){c++;continue}if(e.lineIndent<a){i===aj?e.result+=hr.repeat(`
`,o?1+c:c):i===oS&&o&&(e.result+=`
`);break}for(n?_c(f)?(l=!0,e.result+=hr.repeat(`
`,o?1+c:c)):l?(l=!1,e.result+=hr.repeat(`
`,c+1)):c===0?o&&(e.result+=" "):e.result+=hr.repeat(`
`,c):e.result+=hr.repeat(`
`,o?1+c:c),o=!0,s=!0,c=0,r=e.position;!yo(f)&&f!==0;)f=e.input.charCodeAt(++e.position);ra(e,r,e.position,!1)}return!0}function vj(e,t){var r,n=e.tag,i=e.anchor,o=[],s,a=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Le(e,"tab characters must not be used in indentation")),!(c!==45||(s=e.input.charCodeAt(e.position+1),!pn(s))));){if(a=!0,e.position++,sr(e,!0,-1)&&e.lineIndent<=t){o.push(null),c=e.input.charCodeAt(e.position);continue}if(r=e.line,Tu(e,t,sj,!1,!0),o.push(e.result),sr(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&c!==0)Le(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=o,!0):!1}function kre(e,t,r){var n,i,o,s,a,c,l=e.tag,u=e.anchor,f={},d=Object.create(null),p=null,h=null,m=null,g=!1,v=!1,y;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),y=e.input.charCodeAt(e.position);y!==0;){if(!g&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Le(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),o=e.line,(y===63||y===58)&&pn(n))y===63?(g&&(Iu(e,f,d,p,h,null,s,a,c),p=h=m=null),v=!0,g=!0,i=!0):g?(g=!1,i=!0):Le(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,y=n;else{if(s=e.line,a=e.lineStart,c=e.position,!Tu(e,r,oj,!1,!0))break;if(e.line===o){for(y=e.input.charCodeAt(e.position);_c(y);)y=e.input.charCodeAt(++e.position);if(y===58)y=e.input.charCodeAt(++e.position),pn(y)||Le(e,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(Iu(e,f,d,p,h,null,s,a,c),p=h=m=null),v=!0,g=!1,i=!1,p=e.tag,h=e.result;else if(v)Le(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=u,!0}else if(v)Le(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=u,!0}if((e.line===o||e.lineIndent>t)&&(g&&(s=e.line,a=e.lineStart,c=e.position),Tu(e,t,Xv,!0,i)&&(g?h=e.result:m=e.result),g||(Iu(e,f,d,p,h,m,s,a,c),p=h=m=null),sr(e,!0,-1),y=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&y!==0)Le(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return g&&Iu(e,f,d,p,h,null,s,a,c),v&&(e.tag=l,e.anchor=u,e.kind="mapping",e.result=f),v}function Ire(e){var t,r=!1,n=!1,i,o,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&Le(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(r=!0,s=e.input.charCodeAt(++e.position)):s===33?(n=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(o=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):Le(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!pn(s);)s===33&&(n?Le(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),cj.test(i)||Le(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),gre.test(o)&&Le(e,"tag suffix cannot contain flow indicator characters")}o&&!lj.test(o)&&Le(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{Le(e,"tag name is malformed: "+o)}return r?e.tag=o:ta.call(e.tagMap,i)?e.tag=e.tagMap[i]+o:i==="!"?e.tag="!"+o:i==="!!"?e.tag="tag:yaml.org,2002:"+o:Le(e,'undeclared tag handle "'+i+'"'),!0}function Tre(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&Le(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!pn(r)&&!ku(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Le(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Are(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!pn(n)&&!ku(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Le(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),ta.call(e.anchorMap,r)||Le(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],sr(e,!0,-1),!0}function Tu(e,t,r,n,i){var o,s,a,c=1,l=!1,u=!1,f,d,p,h,m,g;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=a=Xv===r||sj===r,n&&sr(e,!0,-1)&&(l=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;Ire(e)||Tre(e);)sr(e,!0,-1)?(l=!0,a=o,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):a=!1;if(a&&(a=l||i),(c===1||Xv===r)&&(Qv===r||oj===r?m=t:m=t+1,g=e.position-e.lineStart,c===1?a&&(vj(e,g)||kre(e,g,m))||xre(e,m)?u=!0:(s&&Pre(e,m)||_re(e,m)||Sre(e,m)?u=!0:Are(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&Le(e,"alias node should not have any properties")):Ere(e,m,Qv===r)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(u=a&&vj(e,g))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Le(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,d=e.implicitTypes.length;f<d;f+=1)if(h=e.implicitTypes[f],h.resolve(e.result)){e.result=h.construct(e.result),e.tag=h.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(ta.call(e.typeMap[e.kind||"fallback"],e.tag))h=e.typeMap[e.kind||"fallback"][e.tag];else for(h=null,p=e.typeMap.multi[e.kind||"fallback"],f=0,d=p.length;f<d;f+=1)if(e.tag.slice(0,p[f].tag.length)===p[f].tag){h=p[f];break}h||Le(e,"unknown tag !<"+e.tag+">"),e.result!==null&&h.kind!==e.kind&&Le(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+h.kind+'", not "'+e.kind+'"'),h.resolve(e.result,e.tag)?(e.result=h.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Le(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}function Dre(e){var t=e.position,r,n,i,o=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(sr(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(o=!0,s=e.input.charCodeAt(++e.position),r=e.position;s!==0&&!pn(s);)s=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&Le(e,"directive name must not be less than one character in length");s!==0;){for(;_c(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!yo(s));break}if(yo(s))break;for(r=e.position;s!==0&&!pn(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}s!==0&&sS(e),ta.call(mj,n)?mj[n](e,n,i):Zv(e,'unknown document directive "'+n+'"')}if(sr(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,sr(e,!0,-1)):o&&Le(e,"directives end mark is expected"),Tu(e,e.lineIndent-1,Xv,!1,!0),sr(e,!0,-1),e.checkLineBreaks&&mre.test(e.input.slice(t,e.position))&&Zv(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&ey(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,sr(e,!0,-1));return}if(e.position<e.length-1)Le(e,"end of the stream or a document separator is expected");else return}function yj(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new bre(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,Le(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Dre(r);return r.documents}function Rre(e,t,r){t!==null&&typeof t=="object"&&typeof r=="undefined"&&(r=t,t=null);var n=yj(e,r);if(typeof t!="function")return n;for(var i=0,o=n.length;i<o;i+=1)t(n[i])}function Ore(e,t){var r=yj(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new dn("expected a single document in the stream, but found more")}}var Nre=Rre,Lre=Ore,wj={loadAll:Nre,load:Lre},Cj=Object.prototype.toString,bj=Object.prototype.hasOwnProperty,cS=65279,Fre=9,fp=10,Mre=13,jre=32,qre=33,$re=34,lS=35,Ure=37,Bre=38,Hre=39,Vre=42,Ej=44,Wre=45,ty=58,zre=61,Gre=62,Kre=63,Yre=64,_j=91,Sj=93,Jre=96,xj=123,Qre=124,Pj=125,zr={};zr[0]="\\0";zr[7]="\\a";zr[8]="\\b";zr[9]="\\t";zr[10]="\\n";zr[11]="\\v";zr[12]="\\f";zr[13]="\\r";zr[27]="\\e";zr[34]='\\"';zr[92]="\\\\";zr[133]="\\N";zr[160]="\\_";zr[8232]="\\L";zr[8233]="\\P";var Xre=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Zre=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function ene(e,t){var r,n,i,o,s,a,c;if(t===null)return{};for(r={},n=Object.keys(t),i=0,o=n.length;i<o;i+=1)s=n[i],a=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),c=e.compiledTypeMap.fallback[s],c&&bj.call(c.styleAliases,a)&&(a=c.styleAliases[a]),r[s]=a;return r}function tne(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new dn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+hr.repeat("0",n-t.length)+t}var rne=1,dp=2;function nne(e){this.schema=e.schema||ij,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=hr.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=ene(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?dp:rne,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function kj(e,t){for(var r=hr.repeat(" ",t),n=0,i=-1,o="",s,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(s=e.slice(n),n=a):(s=e.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(o+=r),o+=s;return o}function uS(e,t){return`
`+hr.repeat(" ",e.indent*t)}function ine(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function ry(e){return e===jre||e===Fre}function pp(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==cS||65536<=e&&e<=1114111}function Ij(e){return pp(e)&&e!==cS&&e!==Mre&&e!==fp}function Tj(e,t,r){var n=Ij(e),i=n&&!ry(e);return(r?n:n&&e!==Ej&&e!==_j&&e!==Sj&&e!==xj&&e!==Pj)&&e!==lS&&!(t===ty&&!i)||Ij(t)&&!ry(t)&&e===lS||t===ty&&i}function one(e){return pp(e)&&e!==cS&&!ry(e)&&e!==Wre&&e!==Kre&&e!==ty&&e!==Ej&&e!==_j&&e!==Sj&&e!==xj&&e!==Pj&&e!==lS&&e!==Bre&&e!==Vre&&e!==qre&&e!==Qre&&e!==zre&&e!==Gre&&e!==Hre&&e!==$re&&e!==Ure&&e!==Yre&&e!==Jre}function sne(e){return!ry(e)&&e!==ty}function hp(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function Aj(e){var t=/^\n* /;return t.test(e)}var Dj=1,fS=2,Rj=3,Oj=4,Au=5;function ane(e,t,r,n,i,o,s,a){var c,l=0,u=null,f=!1,d=!1,p=n!==-1,h=-1,m=one(hp(e,0))&&sne(hp(e,e.length-1));if(t||s)for(c=0;c<e.length;l>=65536?c+=2:c++){if(l=hp(e,c),!pp(l))return Au;m=m&&Tj(l,u,a),u=l}else{for(c=0;c<e.length;l>=65536?c+=2:c++){if(l=hp(e,c),l===fp)f=!0,p&&(d=d||c-h-1>n&&e[h+1]!==" ",h=c);else if(!pp(l))return Au;m=m&&Tj(l,u,a),u=l}d=d||p&&c-h-1>n&&e[h+1]!==" "}return!f&&!d?m&&!s&&!i(e)?Dj:o===dp?Au:fS:r>9&&Aj(e)?Au:s?o===dp?Au:fS:d?Oj:Rj}function cne(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===dp?'""':"''";if(!e.noCompatMode&&(Xre.indexOf(t)!==-1||Zre.test(t)))return e.quotingType===dp?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,r),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),a=n||e.flowLevel>-1&&r>=e.flowLevel;function c(l){return ine(e,l)}switch(ane(t,a,e.indent,s,c,e.quotingType,e.forceQuotes&&!n,i)){case Dj:return t;case fS:return"'"+t.replace(/'/g,"''")+"'";case Rj:return"|"+Nj(t,e.indent)+Lj(kj(t,o));case Oj:return">"+Nj(t,e.indent)+Lj(kj(lne(t,s),o));case Au:return'"'+une(t)+'"';default:throw new dn("impossible error: invalid scalar style")}}()}function Nj(e,t){var r=Aj(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),o=i?"+":n?"":"-";return r+o+`
`}function Lj(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function lne(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var l=e.indexOf(`
`);return l=l!==-1?l:e.length,r.lastIndex=l,Fj(e.slice(0,l),t)}(),i=e[0]===`
`||e[0]===" ",o,s;s=r.exec(e);){var a=s[1],c=s[2];o=c[0]===" ",n+=a+(!i&&!o&&c!==""?`
`:"")+Fj(c,t),i=o}return n}function Fj(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,o,s=0,a=0,c="";n=r.exec(e);)a=n.index,a-i>t&&(o=s>i?s:a,c+=`
`+e.slice(i,o),i=o+1),s=a;return c+=`
`,e.length-i>t&&s>i?c+=e.slice(i,s)+`
`+e.slice(s+1):c+=e.slice(i),c.slice(1)}function une(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=hp(e,i),n=zr[r],!n&&pp(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||tne(r);return t}function fne(e,t,r){var n="",i=e.tag,o,s,a;for(o=0,s=r.length;o<s;o+=1)a=r[o],e.replacer&&(a=e.replacer.call(r,String(o),a)),(ns(e,t,a,!1,!1)||typeof a=="undefined"&&ns(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function Mj(e,t,r,n){var i="",o=e.tag,s,a,c;for(s=0,a=r.length;s<a;s+=1)c=r[s],e.replacer&&(c=e.replacer.call(r,String(s),c)),(ns(e,t+1,c,!0,!0,!1,!0)||typeof c=="undefined"&&ns(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=uS(e,t)),e.dump&&fp===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=o,e.dump=i||"[]"}function dne(e,t,r){var n="",i=e.tag,o=Object.keys(r),s,a,c,l,u;for(s=0,a=o.length;s<a;s+=1)u="",n!==""&&(u+=", "),e.condenseFlow&&(u+='"'),c=o[s],l=r[c],e.replacer&&(l=e.replacer.call(r,c,l)),!!ns(e,t,c,!1,!1)&&(e.dump.length>1024&&(u+="? "),u+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),!!ns(e,t,l,!1,!1)&&(u+=e.dump,n+=u));e.tag=i,e.dump="{"+n+"}"}function pne(e,t,r,n){var i="",o=e.tag,s=Object.keys(r),a,c,l,u,f,d;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new dn("sortKeys must be a boolean or a function");for(a=0,c=s.length;a<c;a+=1)d="",(!n||i!=="")&&(d+=uS(e,t)),l=s[a],u=r[l],e.replacer&&(u=e.replacer.call(r,l,u)),!!ns(e,t+1,l,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&fp===e.dump.charCodeAt(0)?d+="?":d+="? "),d+=e.dump,f&&(d+=uS(e,t)),!!ns(e,t+1,u,!0,f)&&(e.dump&&fp===e.dump.charCodeAt(0)?d+=":":d+=": ",d+=e.dump,i+=d));e.tag=o,e.dump=i||"{}"}function jj(e,t,r){var n,i,o,s,a,c;for(i=r?e.explicitTypes:e.implicitTypes,o=0,s=i.length;o<s;o+=1)if(a=i[o],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(c=e.styleMap[a.tag]||a.defaultStyle,Cj.call(a.represent)==="[object Function]")n=a.represent(t,c);else if(bj.call(a.represent,c))n=a.represent[c](t,c);else throw new dn("!<"+a.tag+'> tag resolver accepts not "'+c+'" style');e.dump=n}return!0}return!1}function ns(e,t,r,n,i,o,s){e.tag=null,e.dump=r,jj(e,r,!1)||jj(e,r,!0);var a=Cj.call(e.dump),c=n,l;n&&(n=e.flowLevel<0||e.flowLevel>t);var u=a==="[object Object]"||a==="[object Array]",f,d;if(u&&(f=e.duplicates.indexOf(r),d=f!==-1),(e.tag!==null&&e.tag!=="?"||d||e.indent!==2&&t>0)&&(i=!1),d&&e.usedDuplicates[f])e.dump="*ref_"+f;else{if(u&&d&&!e.usedDuplicates[f]&&(e.usedDuplicates[f]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(pne(e,t,e.dump,i),d&&(e.dump="&ref_"+f+e.dump)):(dne(e,t,e.dump),d&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?Mj(e,t-1,e.dump,i):Mj(e,t,e.dump,i),d&&(e.dump="&ref_"+f+e.dump)):(fne(e,t,e.dump),d&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&cne(e,e.dump,t,o,c);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new dn("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(l=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?l="!"+l:l.slice(0,18)==="tag:yaml.org,2002:"?l="!!"+l.slice(18):l="!<"+l+">",e.dump=l+" "+e.dump)}return!0}function hne(e,t){var r=[],n=[],i,o;for(dS(e,r,n),i=0,o=n.length;i<o;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(o)}function dS(e,t,r){var n,i,o;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,o=e.length;i<o;i+=1)dS(e[i],t,r);else for(n=Object.keys(e),i=0,o=n.length;i<o;i+=1)dS(e[n[i]],t,r)}function mne(e,t){t=t||{};var r=new nne(t);r.noRefs||hne(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),ns(r,0,n,!0,!0)?r.dump+`
`:""}var gne=mne,vne={dump:gne};function pS(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var hn=wj.load,nke=wj.loadAll,ike=vne.dump;var oke=pS("safeLoad","load"),ske=pS("safeLoadAll","loadAll"),ake=pS("safeDump","dump");var sy=te(require("path"));var gS=te(require("path")),Bj=te(require("os"));var qj=te(require("crypto"));var $j=te(require("util"));var qi={async readDocument(e){switch(e.scheme){case"file":try{return(await rt(e.fsPath)).toString()}catch(t){if(t&&t.code==="ENOENT")return;throw t}default:throw new Error(`Unsupported scheme: ${e.toString()}`)}},async applyEdits(e,t,r){switch(e.scheme){case"file":let n=Kt(r,t);await md(e.fsPath,n);break;default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}},ny=class{constructor(t){this.fileHost=t}async readDocument(t){switch(t.scheme){case ny.scheme:try{return(await this.fileHost.readFile(We(t,this.fileHost.platform))).toString()}catch{return}default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}async applyEdits(t,r,n){switch(t.scheme){case ny.scheme:let i=Kt(n,r);await this.fileHost.writeFile(We(t,this.fileHost.platform),Buffer.from(i));break;default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}},rr=ny;rr.scheme="vscode-fileHost";var Pc=class{constructor(t){this.shellServer=t}async readDocument(t){switch(t.scheme){case Pc.scheme:try{let{stdout:r}=await this.shellServer.exec(`cat ${t.path}`);return r}catch{return}default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}async applyEdits(t,r,n){switch(t.scheme){case Pc.scheme:try{if(!Pc.nonce){let s=await(0,$j.promisify)(qj.randomBytes)(20);Pc.nonce=s.toString("hex")}let i=Kt(n,r),o=`EOF-${Pc.nonce}`;await this.shellServer.exec(`cat <<'${o}' >${t.path}
${i}
${o}
`)}catch(i){console.log(i)}break;default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}},xc=Pc;xc.scheme="vscode-remote";var Uj=class{constructor(t){this.documents=t}async readDocument(t){let r=this.documents[t.scheme];if(!r)throw new Error(`Unsupported scheme: ${t.toString()}`);return r.readDocument(t)}async applyEdits(t,r,n){let i=this.documents[t.scheme];if(!i)throw new Error(`Unsupported scheme: ${t.toString()}`);return i.applyEdits(t,r,n)}};function mr(e,t){let r={file:qi,[rr.scheme]:new rr(e)};return t&&(r[xc.scheme]=new xc(t)),new Uj(r)}var hS=new Map;async function mS(e,t){let r=e.toString(),n=hS.get(r);if(n||hS.set(r,n=[]),n.push(t),n.length===1){for(;n.length;)await n[0](),n.shift();hS.delete(r)}}var na;(function(s){s[s.Slash=47]="Slash",s[s.Colon=58]="Colon",s[s.A=65]="A",s[s.Z=90]="Z",s[s.a=97]="a",s[s.z=122]="z"})(na||(na={}));function We(e,t){let r;return e.authority&&e.path.length>1&&(e.scheme==="file"||e.scheme===rr.scheme)?r=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?r=e.path[1].toLowerCase()+e.path.substr(2):r=e.path,t==="win32"&&(r=r.replace(/\//g,"\\")),r}function Du(e,t){return[e.join(t,".devcontainer","devcontainer.json"),e.join(t,".devcontainer.json")]}async function iy(e,t){let r=Du(e.path,t);for(let n of r)if(await e.isFile(n))return Ve.file(n).with({scheme:rr.scheme})}async function oy(e){let t=Du(gS,e);for(let r of t)if(await Gt(r))return r}var is=`{${Bj.EOL}}`;async function pi(e,t,r,n){t.scheme==="file"&&await ri(gS.dirname(t.fsPath)),await e.applyEdits(t,r,n)}function Ru(e){let t=gS.posix.dirname(e.path);return e.with({path:t})}function mp(e){if(!(e.extensions||e.settings||e.devPort!==void 0))return e;let t=K({},e),r=t.customizations||(t.customizations={}),n=r.vscode||(r.vscode={});return t.extensions&&(n.extensions=(n.extensions||[]).concat(t.extensions),delete t.extensions),t.settings&&(n.settings=K(K({},t.settings),n.settings||{}),delete t.settings),t.devPort!==void 0&&n.devPort===void 0&&(n.devPort=t.devPort,delete t.devPort),t}function kc(e,t,r){return os(e,t.configFilePath,r)}function os(e,t,r){let n=Ru(t);return t.with({path:sy.posix.resolve(n.path,e.platform==="win32"&&t.scheme!==xc.scheme?(sy.win32.isAbsolute(r)?"/":"")+r.replace(/\\/g,"/"):r)})}function Yt(e){return"dockerFile"in e||"build"in e&&"dockerfile"in e.build}function ia(e){return e&&(Yt(e)||"image"in e||"dockerComposeFile"in e)}function Zr(e,t){return kc(e,t,yne(t))}function yne(e){return"dockerFile"in e?e.dockerFile:e.build.dockerfile}async function Sr(e,t,r,n){if(Array.isArray(t.dockerComposeFile)){if(t.dockerComposeFile.length)return t.dockerComposeFile.map(i=>We(kc(e,t,i),e.platform))}else if(typeof t.dockerComposeFile=="string")return[We(kc(e,t,t.dockerComposeFile),e.platform)];if(n){let i=r==null?void 0:r.COMPOSE_FILE;if(i)return i.split(e.path.delimiter).map(a=>e.path.resolve(n,a));try{let a=e.path.join(n,".env"),c=await e.readFile(a),l=/^COMPOSE_FILE=(.+)$/m.exec(c.toString()),u=l&&l[1].trim();if(u)return u.split(e.path.delimiter).map(f=>e.path.resolve(n,f))}catch(a){if(!(a&&(a.code==="ENOENT"||a.code==="EISDIR")))throw a}let o=[e.path.resolve(n,"docker-compose.yml")],s=e.path.resolve(n,"docker-compose.override.yml");return await e.isFile(s)&&o.push(s),o}return[]}function wne(){return{contentHashes:{}}}async function Vj(e,t,r){let n=e.configurationTracking,i=n.getConfigurationState();if(i){let o=i.contentHashes,s=Object.keys(o),c=(await vS(e,t,r)).contentHashes,l=Object.keys(c),u=new Set(l);s.forEach(p=>u.delete(p));let f=new Set(s);l.forEach(p=>f.delete(p));let d=[];for(let p of s)p in c&&c[p]!==o[p]&&d.push(p);if(u.size||f.size||d.length){let p=await vS(e,t,r);(async()=>{await n.containerOutdated([...u,...f,...d].sort())==="ignore"&&await e.configurationTracking.updateConfigurationState(p)})().catch(console.error)}}else await Wj(e,t,r)}async function ay(e,t,r){let n="Updating configuration state",i=e.common.output.start(n);await Wj(e,t,r),e.common.output.stop(n,i)}async function Wj(e,t,r){let n=await vS(e,t,r);await e.configurationTracking.updateConfigurationState(n)}async function vS(e,t,r){let n=wne();cy(n,gp.posix.basename(r.configFilePath.path),JSON.stringify(me(K({},r),{forwardPorts:void 0,configFilePath:void 0,postStartCommand:void 0,postAttachCommand:void 0})));let i=Ru(r.configFilePath).path;if(Yt(r)){let o=Zr(e.common.cliHost,r),s=await t.readDocument(o);s!==void 0&&cy(n,gp.posix.relative(i,o.path),s)}if("dockerComposeFile"in r){let o=await Sr(e.common.cliHost,r,e.common.cliHost.env,e.common.cliHost.cwd),s=await Promise.all(o.map(async a=>{let c=Ve.file(a).with({scheme:rr.scheme});return{uri:c,content:await t.readDocument(c)}}));for(let{uri:a,content:c}of s)c!==void 0&&cy(n,gp.posix.relative(i,a.path),c);for(let a=s.length-1;a>=0;a--){let{uri:c,content:l}=s[a];if(l){let u=hn(l),f=u&&u.services,d=f&&f[r.service],p=d&&d.build,h=p&&(typeof p=="string"?p:p.context);if(h){let m=os(e.common.cliHost,c,h),g=zj(m,p.dockerfile||"Dockerfile"),v=await t.readDocument(g);v!==void 0&&cy(n,gp.posix.relative(i,g.path),v)}if(d&&(d.image||d.build))break}}}return n}function cy(e,t,r){let n=Hj.createHash("sha256").update(r).digest("hex");e.contentHashes[t]=n}var Ui=te(require("path")),_U=te(require("crypto"));var xr=te(require("path"));var Xj=te(require("net")),ES=te(require("path"));var yS=te(require("path")),wS=te(require("http")),Gj=te(require("os")),Kj=te(require("crypto"));async function Yj(e,t){let r=await CS(e),n=new Jj(r,t);return n.listen(),n}var Jj=class{constructor(t,r){this.ipcHandlePath=t;this.server=wS.createServer((n,i)=>{Promise.resolve(r(n,i)).catch(o=>console.error(o&&o.message||o))}),this.server.on("error",n=>console.error(n))}listen(){this.server.listen(this.ipcHandlePath)}dispose(){this.server.close()}};async function Qj(e){return new Promise((t,r)=>{let n=[];e.setEncoding("utf8"),e.on("data",i=>n.push(i)),e.on("error",i=>r(i)),e.on("end",()=>{let i=JSON.parse(n.join(""));t(i)})})}async function Cne(e){return new Promise((t,r)=>{Kj.randomBytes(e,(n,i)=>{n?r(n):t(i)})})}async function CS(e){let r=(await Cne(20)).toString("hex"),n=`${e}-${r}`;return process.platform==="win32"?`\\\\.\\pipe\\${n}-sock`:process.env.XDG_RUNTIME_DIR?yS.join(process.env.XDG_RUNTIME_DIR,`${n}.sock`):yS.join(Gj.tmpdir(),`${n}.sock`)}var bS=class{constructor(){this.messages=[]}push(t){this.messages.push(t),this.dequeueRequest&&(this.dequeueRequest.resolve(this.messages),this.dequeueRequest=void 0,this.messages=[])}async dequeue(t){if(this.messages.length){let r=this.messages;return this.messages=[],r}return this.dequeueRequest&&this.dequeueRequest.resolve([]),new Promise((r,n)=>{this.dequeueRequest={resolve:r,reject:n},typeof t=="number"&&setTimeout(n,t)})}};async function wo(e,t,r){let n=await CS("ssh-askpass");return await new Promise((i,o)=>{Xj.createServer(s=>{s.setEncoding("utf8");let a="";s.on("data",async c=>{if(a+=c,a.endsWith(`
`))try{r.write(`SSH askpass request: ${a}`,pe.Trace);let l=await t(JSON.parse(a));s.write(l,u=>{u&&console.error(u)}),s.end()}catch(l){console.error(l)}}),s.on("error",c=>console.error(c))}).on("error",s=>{o(s)}).listen(n,()=>{i()})}),{DISPLAY:process.env.DISPLAY||"1",ELECTRON_RUN_AS_NODE:"1",SSH_ASKPASS:ES.join(e,"scripts",`ssh-askpass.${process.platform==="win32"?"bat":"sh"}`),VSCODE_SSH_ASKPASS_NODE:process.execPath,VSCODE_SSH_ASKPASS_EXTRA_ARGS:process.versions.electron?"--ms-enable-electron-run-as-node":"",VSCODE_SSH_ASKPASS_MAIN:ES.join(e,"dist","common","sshAskpass.js"),VSCODE_SSH_ASKPASS_HANDLE:n}}var bne=0;function gr(e){return e.VSCODE_SSH_ASKPASS_HANDLE?{VSCODE_SSH_ASKPASS_COUNTER:String(++bne)}:{}}async function mn(e,t){return(await oa(e,[t]))[0]}async function oa(e,t){let r=await uy(e,"container",t);for(let n of r){n.Ports=[];let i=n.NetworkSettings.Ports;for(let o in i){let[s,a]=o.split("/");for(let c of i[o]||[]){let{HostIp:l,HostPort:u}=c;n.Ports.push({IP:l,PrivatePort:parseInt(s),PublicPort:parseInt(u),Type:a})}}}return r}async function Ou(e,t){return(await uy(e,"image",[t]))[0]}async function ly(e,t){return(await uy(e,"volume",[t]))[0]}async function vp(e,t){return uy(e,"volume",t)}async function uy(e,t,r){if(!r.length)return[];let n=wp(e),i=await ze(me(K({},n),{args:(n.args||[]).concat(["inspect","--type",t,...r])}));try{return JSON.parse(i.stdout.toString())}catch(o){throw console.error({stdout:i.stdout.toString(),stderr:i.stderr.toString()}),o}}async function ss(e,t=!1,r=[]){let n=[];t&&n.push("-a");for(let o of r)n.push("--filter",`label=${o}`);return(await Et(e,"ps","-q",...n)).stdout.toString().split(/\r?\n/).filter(o=>!!o)}async function Co(e,t=[]){let r=[];for(let i of t)r.push("--filter",`label=${i}`);return(await Et(e,"volume","ls","-q",...r)).stdout.toString().split(/\r?\n/).filter(i=>!!i)}async function _S(e){return(await Et(e,"volume","ls","-q","-f","dangling=true")).stdout.toString().split(/\r?\n/).filter(r=>!!r)}async function Zj(e){return(await Et(e,"volume","prune","-f")).stdout.toString()}async function fy(e,t,r){let n=[];for(let i of r||[])n.push("--label",i);await Et(e,"volume","create",...n,t)}async function dy(e,t){let{exec:r,cmd:n,args:i,env:o,output:s}=wp(e),a=[];for(let d in t)for(let p of t[d])a.push("--filter",`${d}=${p}`);let c=await xS(e)?"json":"{{json .}}",l=(i||[]).concat(["events","--format",c,...a]),u=await r({cmd:n,args:l,env:o,output:s}),f=[];return u.stderr.on("data",d=>f.push(d)),u.exit.then(({code:d,signal:p})=>{f.length&&s.write(ot(Buffer.concat(f).toString())),(d||p&&p!=="SIGKILL")&&s.write(ot(`Docker events terminated (code: ${d}, signal: ${p}).`))},d=>{s.write(ot(d&&(d.stack||d.message)))}),u}async function Et(e,...t){let r=wp(e);return ze(me(K({},r),{args:(r.args||[]).concat(t)}))}async function SS(e){var t;try{let{stdout:r}=await Et(e,"context","ls","--format","{{json .}}"),n=`[${r.toString().trim().split(/\r?\n/).join(",")}]`;return(t=JSON.parse(n).find(s=>s.Current))==null?void 0:t.Name}catch{return}}async function xS(e){if(("cliHost"in e?e.cliHost:e.common.cliHost).platform!=="linux")return!1;try{let{stdout:r}=await Et(e,"-v");return r.toString().toLowerCase().indexOf("podman")!==-1}catch{return!1}}async function py(e,...t){let r=Cp(e);return Ks(me(K({},r),{args:(r.args||[]).concat(t)}))}async function Ic(e,...t){let r=wp(e,"dockerComposeCLI"in e?await e.dockerComposeCLI():void 0);return ze(me(K({},r),{args:(r.args||[]).concat(t)}))}async function eq(e,...t){let r=Cp(e,"dockerComposeCLI"in e?await e.dockerComposeCLI():void 0);return Ks(me(K({},r),{args:(r.args||[]).concat(t)}))}function Nu(e,t,r){return async function(n){let{exec:i,cmd:o,args:s,env:a}=wp(e),{argsPrefix:c,args:l}=rq(t,r,n,!1);return i({cmd:o,args:(s||[]).concat(l),env:a,output:tq(n.output,o,c)})}}async function yp(e,t,r,n){if(!await n("node-pty"))throw new Error("Missing node-pty");return async function(o){let{ptyExec:s,cmd:a,args:c,env:l}=Cp(e),{argsPrefix:u,args:f}=rq(t,r,o,!0);return s({cmd:a,args:(c||[]).concat(f),env:l,output:tq(o.output,a,u)})}}function tq(e,t,r){return Ene(e,`Run: ${t} ${(r||[]).join(" ").replace(/\n.*/g,"")}`,"Run in container:")}function Ene(e,t,r){let n=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");return Vr(me(K({},e),{get dimensions(){return e.dimensions},event:o=>e.event("text"in o?me(K({},o),{text:o.text.replace(n,r)}):o)}))}function rq(e,t,r,n){let{env:i,cwd:o,cmd:s,args:a}=r,c=["exec","-i"];n&&c.push("-t"),t&&c.push("-u",t),i&&Object.keys(i).forEach(u=>c.push("-e",`${u}=${i[u]}`)),o&&c.push("-w",o),c.push(e);let l=c.slice();return c.push(s),a&&c.push(...a),{argsPrefix:l,args:c}}function wp(e,t){return"dockerEnv"in e?{exec:e.common.cliHost.exec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:K(K({},e.dockerEnv),gr(e.dockerEnv)),output:e.common.output}:"cliHost"in e?{exec:e.cliHost.exec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:K(K({},e.env),gr(e.env)),output:e.output}:me(K({},e),{env:K(K({},e.env),gr(e.env))})}function Cp(e,t){return"dockerEnv"in e?{ptyExec:e.common.cliHost.ptyExec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:K(K({},e.dockerEnv),gr(e.dockerEnv)),output:e.common.output}:"cliHost"in e?{ptyExec:e.cliHost.ptyExec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:K(K({},e.env),gr(e.env)),output:e.output}:me(K({},e),{env:K(K({},e.env),gr(e.env))})}function PS(e){return e.toLowerCase().replace(/[^a-z0-9\._-]+/g,"").replace(/(\.[\._-]|_[\.-]|__[\._-]|-+[\._])[\._-]*/g,(t,r)=>r.substr(0,r.length-1))}var kS="com.docker.compose.project",nq="com.docker.compose.service";async function iq(e,t,r,n,i,o,s,a,c,l,u,f,d,p){return _ne(e,t,r,n,i,o,Sne(n),s,a,c,l,u,f,d,p)}async function _ne(e,t,r,n,i,o,s,a,c,l,u,f,d,p,h){var y,C;let{common:m}=e,{cliHost:g}=t,v;try{let b=await Sr(g,n,g.env,g.cwd),_=g.path.join(g.cwd,".env"),P=Array.isArray(n.dockerComposeFile)&&n.dockerComposeFile.length===0&&await g.isFile(_)?_:void 0,S=await bp(t,r,b),x=!l,I=K(K({},t.env),gr(t.env)),A={cliHost:g,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:I,extensionPath:m.extensionPath,appRoot:m.appRoot,package:m.package,output:m.postCreate.output},{mergedConfiguration:O}=await ju(A,o,p,m.getLogLevel(),d,a.Id,h,m.cliMode),L=O.remoteUser;v=await Mu(e,a.Id,s,L),f&&l&&v.user!=="root"&&(v.launchRootShellServer?await Gv(v,v.launchRootShellServer,s,n.configFilePath.path):m.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files."));let J=mr(g,v.shellServer);x||await ay(e,J,n);let z=O.shutdownAction;z==="stopContainer"&&(z="stopCompose");let ee={cwd:i,dockerCLI:e.dockerCLI,dockerComposeCLI:await e.dockerComposeCLI(),env:m.env,containerId:a.Id,user:v.user,sessionId:m.sessionId,shutdownAction:z,projectName:S,composeFiles:b,envFile:P,buildContainerRunArgs:u,service:n.service,runServices:n.runServices,logLevel:m.getLogLevel(),delay:1e4},{shutdownArgs:ie,doneWithDocuments:q}=await my(e,J,"dockerCompose",ee,x?n:void 0);m.backgroundTasks.push(q);let M=((C=(((y=O.customizations)==null?void 0:y.vscode)||[]).slice().reverse().find(Pe=>typeof Pe.devPort=="number"))==null?void 0:C.devPort)||ea,{hostOrContainerPort:D,hostPortServer:$,connectionToken:Y,webConnectionToken:Q,remoteEnv:X,serverDownloaded:ve}=await zv(m,v,n,O,M,gy(e,t,o,d,a.Id,c,p,h));return ie.hostPortServer=$,Lu(m,v,D,Y,Q,a,r),{params:m,properties:v,config:n,resolvedAuthority:{host:sa,port:D,connectionToken:Y,extensionHostEnv:X},webConnectionToken:Q,tunnelInformation:m.isLocalContainer?Fu(a):{},dockerParams:e,dockerContainerId:a.Id,serverDownloaded:ve}}catch(b){let _=b instanceof $e?b:new $e({description:"An error occurred setting up the container.",originalError:b});throw a&&(_.manageContainer=!0,_.params=e.common,_.containerId=a.Id,_.dockerParams=e),v&&(_.containerProperties=v),_.config=n,_}}function Sne(e){return e.workspaceFolder||"/"}async function oq(e,t,r){if(Ar(e)){let n=Js(e),i=[];for(let o=0;o<t.length;o++){let s=await es(n,t[o],r);i.push(s)}return i}return t}async function sq(e,t,r){try{let n=[].concat(...t.map(o=>["-f",o]));r&&n.push("--env-file",r);let i=await e.dockerComposeCLI();(bc(i.version)||[])[0]>=2&&n.push("--profile","*");try{let{stdout:o}=await Ic(e,...n,"config"),s=o.toString();return e.output.write(s),hn(s)||{}}catch(o){if(!Buffer.isBuffer(o==null?void 0:o.stderr)||(o==null?void 0:o.stderr.toString().indexOf("UnicodeEncodeError"))===-1)throw o;if(e.cliHost.platform==="win32"){let{cmdOutput:c}=await eq(me(K({},e),{output:Vr({event:e.output.event,dimensions:{columns:999999,rows:1}},pe.Info)}),...n,"config");return hn(c.replace(Ws,""))||{}}let{stdout:s}=await Ic(me(K({},e),{env:me(K({},e.env),{LANG:"en_US.UTF-8",LC_CTYPE:"en_US.UTF-8"})}),...n,"config"),a=s.toString();return e.output.write(a),hn(a)||{}}}catch(n){throw n instanceof $e?n:new $e({description:"An error occurred retrieving the Docker Compose configuration.",originalError:n,data:{fileWithError:t[0]}})}}async function aq(e,t,r){let n=await ss(e,!0,[`${kS}=${t}`,`${nq}=${r}`]);return n&&n[0]}async function cq(e,t,r){var n;return(n=e.find(i=>{let o=i.Config.Labels||{};return o[kS]===t&&o[nq]===r}))==null?void 0:n.Id}async function bp(e,t,r){let{cliHost:n}="cliHost"in e?e:e.common,i=await xne(e),o=hy(n.env.COMPOSE_PROJECT_NAME||"",i);if(o)return o;try{let c=n.path.join(n.cwd,".env"),l=await n.readFile(c),u=/^COMPOSE_PROJECT_NAME=(.+)$/m.exec(l.toString()),f=u&&u[1].trim(),d=hy(f||"",i);if(d)return d}catch(c){if(!(c&&(c.code==="ENOENT"||c.code==="EISDIR")))throw c}let s=t.configFolderPath,a=r[0]?n.path.dirname(r[0]):n.cwd;return rM(n.platform,a,n.path.join(s,".devcontainer"))?hy(`${n.path.basename(s)}_devcontainer`,i):hy(n.path.basename(a),i)}function IS(e){let t=(e.Config.Labels||{})[kS];return t||void 0}function hy(e,t){return t?e.toLowerCase().replace(/[^-_a-z0-9]/g,""):e.toLowerCase().replace(/[^a-z0-9]/g,"")}async function xne(e){try{let t=bc((await e.dockerComposeCLI()).version);return t?!_u(t,[1,21,0]):!0}catch{return!0}}function bo(e,t,r){let n;return()=>n||(n=(async()=>{let i=!1,o;try{o=(await Ic(me(K({},e),{cmd:r}),"version","--short")).stdout}catch(s){if((s==null?void 0:s.code)!=="ENOENT")throw s;o=(await Ic(me(K({},e),{cmd:t}),"compose","version","--short")).stdout,i=!0}return{version:o.toString().trim(),cmd:i?t:r,args:i?["compose"]:[]}})())}var Eo=te(require("url")),lq=te(require("https"));var TS;(function(t){t[t.CannotAccessRepository=2]="CannotAccessRepository"})(TS||(TS={}));function _o(e){return e.toLowerCase().indexOf("github.com")>=0?Ane(e):e.toLowerCase().indexOf("visualstudio.com")>=0?Ine(e):e.toLowerCase().indexOf("dev.azure.com")>=0?kne(e):e.toLowerCase().indexOf("gitlab.com")>=0?Tne(e):Pne(e)}function as(e){let t="owner",r="repository";return{repository:"unknown",repositoryUrl:e,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${t}/${r}`}}function Pne(e){var s;let t="unknown-owner",r,n=e,i;i=(s=Eo.parse(e))==null?void 0:s.path;let o=i==null?void 0:i.split("/");return!o||o.length<1?as(e):(r=o[o.length-1],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf("."))),{repository:"unknown",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${t}/${r}`})}function kne(e){var o,s;let t,r,n=e,i;if(vy(e)){let a=`http://${e}`;i=(o=Eo.parse(a))==null?void 0:o.path;let c=i==null?void 0:i.split("/");if(!c||c.length<5)return as(e);t=c[3],r=c[4]}else{i=(s=Eo.parse(e))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<5)return as(e);t=a[2],r=a[4],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf(".")))}return{repository:"ado",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${t}/${r}`}}function Ine(e){var o,s;let t,r,n=e,i;if(vy(e)){let a=`http://${e}`;i=(o=Eo.parse(a))==null?void 0:o.path;let c=i==null?void 0:i.split("/");if(!c||c.length<5)return as(e);t=c[3],r=c[4]}else{i=(s=Eo.parse(e))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<5)return as(e);t=a[2],r=a[4],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf(".")))}return{repository:"vso",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${t}/${r}`}}function Tne(e){var o,s;let t,r,n=e,i;if(vy(e)){let a=`http://${e}`;i=(o=Eo.parse(a))==null?void 0:o.path,i&&(i=i.replace("/:","/"));let c=i==null?void 0:i.split("/");if(!c||c.length<3)return as(e);t=c[c.length-2],r=c[c.length-1]}else{i=(s=Eo.parse(e))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<3)return as(e);t=a[a.length-2],r=a[a.length-1]}return r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf("."))),{repository:"gitlab",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${t}/${r}`}}function Ane(e){var c,l;let t,r,n=e,i,o,s;if(vy(e)){let u=`http://${e}`;s=(c=Eo.parse(u))==null?void 0:c.path,s&&(s=s.replace("/:","/"))}else s=(l=Eo.parse(e))==null?void 0:l.path;let a=s==null?void 0:s.split("/");if(!a||a.length<=2)return as(e);if(t=a[1],r=a[2],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf("."))),a.length>=3){if(a[3]==="commit"||a[3]==="tree"){let u=e.match(/\/tree\/|\/commit\//);u&&u.index&&(n=e.substring(0,u.index),i=e.substring(u.index+u[0].length))}if(a[3]==="pull"){o=a[4];let u=e.match(/\/pull\//);u&&u.index&&(n=e.substring(0,u.index))}}return{repository:"github",repositoryUrl:n,ref:i,commit:a[3]==="commit",repositoryOwner:t,repositoryName:r,pullRequestId:o,fullRepositoryName:`${t}/${r}`}}function vy(e){return e=e.toLowerCase(),e.indexOf("://")<0?e.indexOf("@")<e.indexOf(":"):!1}var yy=class extends Error{constructor(t,r){super();this.code=t,this.description=r}},wy=class{constructor(t){this.inputUrl=t,this.gitUrlInfo=_o(this.inputUrl)}repositoryName(){return this.gitUrlInfo.repositoryName}repositoryOwner(){return this.gitUrlInfo.repositoryOwner}async postClone(t,r,n,i){}installExtension(){return null}},uq=class extends wy{constructor(t){super(t)}async parseUrl(t){var o,s,a;let r=(o=this.gitUrlInfo)==null?void 0:o.repositoryOwner,n=(s=this.gitUrlInfo)==null?void 0:s.repositoryName,i=(a=this.gitUrlInfo)==null?void 0:a.pullRequestId;return this.getPullRequestInfo(t,r,n,i)}async getPullRequestInfo(t,r,n,i){var u,f,d,p,h,m,g,v,y,C,b;let o=await this.fetchPullRequestInfo(t,r,n,i),s=(f=(u=o.head)==null?void 0:u.repo)==null?void 0:f.clone_url,a=(p=(d=o.base)==null?void 0:d.repo)==null?void 0:p.clone_url;if(!a)throw new yy(2,"Cannot access the head repository of the Pull Request.");let c=(h=o.head)==null?void 0:h.ref,l=((v=(g=(m=o.head)==null?void 0:m.repo)==null?void 0:g.owner)==null?void 0:v.login)===r?null:(b=(C=(y=o.head)==null?void 0:y.repo)==null?void 0:C.owner)==null?void 0:b.login;return{urlToClone:a,prRepositoryUrl:s,ref:c,sourceOwner:l}}async fetchPullRequestInfo(t,r,n,i){let o=`/repos/${r}/${n}/pulls/${i}`,s={"user-agent":"vscode-remote-containers"};t&&(s.authorization=`token ${t}`);let a={hostname:"api.github.com",port:443,path:o,method:"GET",headers:s};return new Promise((c,l)=>{let u="",f=lq.request(a,d=>{if(d.statusCode<200||d.statusCode>=300)return l(new Error(`Status Code: ${d.statusCode}`));d.on("data",p=>{u+=p}),d.on("end",()=>{let p=JSON.parse(u.toString());c(p)})});f.on("error",l),f.end()})}cloneOptions(t){return{url:t.urlToClone,fullClone:!0}}async postClone(t,r,n,i){if(t.sourceOwner){let l=t.prRepositoryUrl.replace(/\.[^/.]+$/,"");await ze({exec:r.exec,cmd:"git",args:["remote","add",t.sourceOwner,l],cwd:n,output:i}),await ze({exec:r.exec,cmd:"git",args:["fetch",t.sourceOwner,t.ref],cwd:n,output:i});try{await ze({exec:r.exec,cmd:"git",args:["checkout","-t",`${t.sourceOwner}/${t.ref}`],cwd:n,output:i})}catch(u){if(!(u.stderr&&u.stderr.startsWith(`fatal: A branch named '${t.ref}' already exists`)))throw u}await ze({exec:r.exec,cmd:"git",args:["config","--local",`remote.${t.sourceOwner}.github-pr-remote`,"true"],cwd:n,output:i})}else await ze({exec:r.exec,cmd:"git",args:["checkout",t.ref],cwd:n,output:i});let o=this.gitUrlInfo.repositoryOwner,s=this.gitUrlInfo.repositoryName,a=this.gitUrlInfo.pullRequestId,c=`${o}#${s}#${a}`;await ze({exec:r.exec,cmd:"git",args:["config","--local",`branch.${t.ref}.github-pr-owner-number`,c],cwd:n,output:i})}installExtension(){return"GitHub.vscode-pull-request-github"}},fq=class extends wy{constructor(t){super(t)}async parseUrl(t){var r,n;return{urlToClone:(r=this.gitUrlInfo)==null?void 0:r.repositoryUrl,ref:(n=this.gitUrlInfo)==null?void 0:n.ref}}cloneOptions(t){let r=this.gitUrlInfo.commit;return{url:t.urlToClone,branch:!r&&t.ref||void 0,fullClone:r}}async postClone(t,r,n,i){this.gitUrlInfo.commit&&await ze({exec:r.exec,cmd:"git",args:["checkout",t.ref],cwd:n,output:i})}},AS=class extends wy{constructor(t,r){super(t);this.branch=r}async parseUrl(t){return{urlToClone:this.inputUrl,ref:this.branch}}cloneOptions(t){return{url:t.urlToClone,branch:t.ref||void 0}}};function qu(e,t){if(t)return new AS(e,t);let r=_o(e);if(r.repository==="github"){if(r.pullRequestId)return new uq(e);if(r.ref)return new fq(e)}return new AS(e)}var Ep=xr.join(__dirname,"..","node_modules","vscode-dev-containers","repository-containers");async function dq(e,t,r,n){if(t&&!/\/\.?devcontainer\.json$/.test(t.path))throw new Error(`Filename must be devcontainer.json or .devcontainer.json (${We(t,e.common.cliHost.platform)}).`);let i=e.parsedAuthority;if(!i||Rr(i))return Dne(e,i,t,r,n);if(mi(i))return i.inspectVolume?pq(e,i):Rne(e,i,t);if(Sp(i))return pq(e,i);throw new Error(`Unexpected authority: ${JSON.stringify(i)}`)}async function Dne(e,t,r,n,i){let{common:o,dockerCLI:s,dockerComposeCLI:a,dockerComposePath:c}=e,{cliHost:l,env:u,output:f}=o,d=l.cwd,p=e.originalCwd||d,h=t&&at(l.path,zd(t.hostPath)?l.path.join(d,xr.basename(t.hostPath)):d),m;h&&(m=await Nne(e,h),m&&(o.backgroundTasks.push(m==null?void 0:m.gitUnshallow),await m.gitClone()));let g={cliHost:l,dockerCLI:s,dockerComposeCLI:a,dockerComposePath:c,env:u,output:f},v=i?void 0:[`${FS}=${p}`],y=i||[`${MS}=${p}`,`${Ey}=${o.product.quality}`];return DS(e,g,v,y,p,d,r,n,h,t==null?void 0:t.settings,[],o.cliMode?"never":"on")}async function Rne(e,t,r){var I,A,O;let{repositoryPath:n,volumeName:i,folder:o}=t,s=hi(n);i=await yq(e,s,i);let{labels:a,remoteWorkspaceFolder:c}=wq(s,n,o,i),l=[...a],u=[...a,`${Ey}=${e.common.product.quality}`],{containerId:f,shellServer:d,config:p,preInstalledExtensions:h}=await s.cloneAndInitializeRepository(e,t,s,i,r),m=at(xr.posix,o?s.workspaceFolder(o):s.fullRepositoryName),g=[`type=volume,source=${i},target=${xr.posix.dirname(m.rootFolderPath)},external=true`],v=await Cq(e,f,c),y={},{HOME:C,USERPROFILE:b}=e.common.env;C!==void 0&&(y.HOME=C),b!==void 0&&(y.USERPROFILE=b);let _=LS(s,i,o),P=v.cliHost,S,x=Yt(p)||"image"in p;if(x||"dockerComposeFile"in p&&p.workspaceFolder||h.length){let L=h.length?me(K({},p.customizations),{vscode:me(K({},(I=p.customizations)==null?void 0:I.vscode),{extensions:[...((O=(A=p.customizations)==null?void 0:A.vscode)==null?void 0:O.extensions)||[],...h]})}):p.customizations,J=x?me(K({},p),{configFilePath:void 0,workspaceFolder:void 0,workspaceMount:"",customizations:L}):me(K({},p),{configFilePath:void 0,workspaceFolder:m.rootFolderPath,customizations:L}),z=P.path.join(await P.tmpdir(),`devcontainer-${Fn()}.json`),ee=`EOF-${z}`,ie=`${z}_${Date.now()}`;await d.exec(`cat <<'${ee}' >${ie}
${JSON.stringify(J)}
${ee}
mv ${ie} ${z}`),S=Ve.from({scheme:rr.scheme,path:z})}try{return await DS(e,v,l,u,e.common.cliHost.cwd,P.cwd,r,S,m,t.settings,g,"off",_,!0,void 0,y)}finally{Promise.all(e.common.backgroundTasks.filter(L=>typeof L!="function").map(L=>L.catch(()=>{}))).then(()=>Et(e,"rm","-f",f))}}async function pq(e,t){let{common:r,dockerCLI:n,dockerComposeCLI:i,dockerComposePath:o}=e,{cliHost:s,env:a,output:c}=r,{volumeName:l}=t,u,f,d=Sp(t);d?(u=by,f="Inspect Volume"):(u=hi(t.repositoryPath).volumeDestination,f="Recovery Container");let p=[`${Cy}=${l}`],h=[`${Cy}=${l}`,`${Ey}=${r.product.quality}`],m=await vq(e),g=[`type=volume,source=${l},target=${u},external=true`],v={cliHost:s,dockerCLI:n,dockerComposeCLI:i,dockerComposePath:o,env:a,output:c},y=at(s.path,m);return DS(e,v,p,h,m,m,void 0,void 0,y,t.settings,g,"never",void 0,!d,f)}async function DS(e,t,r,n,i,o,s,a,c,l,u,f,d,p,h,m){let{common:g,userRepositoryConfigurationPaths:v}=e,{output:y,extensionPath:C,appRoot:b,postCreate:_}=g,{cliHost:P}=t;e.cacheMount==="bind"&&await ri(g.localCacheFolder);let S=e.cacheMount==="volume"?[...u,"type=volume,source=vscode,target=/vscode,external=true"]:e.cacheMount==="bind"?[...u,`type=bind,source=${g.localCacheFolder},target=/vscode`]:u;if(e.cacheMount==="volume"){let X="vscode";(await Co(t)).indexOf(X)===-1&&await fy(t,X)}let x=s||(c?await So(P,c,v,!a,y):void 0);if((x==null?void 0:x.scheme)==="file"&&P.type!=="local"){let X=xr.dirname(x.fsPath),ve=xr.basename(x.fsPath),Pe=ve===".devcontainer.json"?X:xr.dirname(X),Se=P.path.join(await P.tmpdir(),`devcontainer-config-${Fn()}`);await Tc(Pe,P,Se,y),x=Ve.from({scheme:rr.scheme,path:P.path.join(Se,...ve===".devcontainer.json"?[ve]:[xr.basename(X),ve])})}typeof e.removeOnStartup=="string"&&await Bn(e,e.removeOnStartup)&&await Et(e,"rm","-f",e.removeOnStartup);let I=await hq(t,n);I&&e.removeOnStartup===!0&&r&&(await Et(e,"rm","-f",I.Id),I=void 0);let A=!!I||!r,O=A?n:r,L=e.removeOnStartup===!0||!(I||r&&await hq(t,r)),J=K(K(K({},m),t.env),gr(t.env)),z={cliHost:P,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:J,extensionPath:C,appRoot:b,package:g.package,postCreate:_,output:g.postCreate.output},ee=g.postCreate.output.dimensions||g.output.dimensions,ie=await xp(z,["up",...t.cliHost.type==="local"&&g.persistedFolder?["--user-data-folder",g.persistedFolder]:[],...t.dockerCLI!=="docker"?["--docker-path",t.dockerCLI]:[],...t.dockerComposePath!=="docker-compose"?["--docker-compose-path",t.dockerComposePath]:[],...A?["--container-data-folder",fi(e.common.product.serverDataFolderName)]:[],...A?["--container-system-data-folder",xu(e.common.product.serverDataFolderName)]:[],"--workspace-folder",o,...e.workspaceMountConsistencyDefault?["--workspace-mount-consistency",e.workspaceMountConsistencyDefault]:[],...[].concat(...O.map(X=>["--id-label",X])),"--log-level",Vs(g.getLogLevel()),"--log-format","json",...x?["--config",We(x,P.platform)]:[],...a?["--override-config",We(a,P.platform)]:[],"--default-user-env-probe",g.defaultUserEnvProbe,...e.buildNoCache?["--build-no-cache"]:[],...e.removeOnStartup===!0?["--remove-existing-container"]:[],...e.expectExistingContainer?["--expect-existing-container"]:[],...[].concat(...S.map(X=>["--mount",X])),"--skip-post-create","--update-remote-user-uid-default",f,"--mount-workspace-git-root",String(!g.cliMode),...ee?["--terminal-columns",String(ee.columns),"--terminal-rows",String(ee.rows)]:[]]);if((ie==null?void 0:ie.outcome)!=="success")throw new $e({description:`devcontainer command failed: ${ie?JSON.stringify(ie):"data missing"}`});let q=await Bn(e,ie.containerId);if(!q)return Eq(g.output,"Dev container not found.");let M=await RS(z,o,x,g.getLogLevel(),O,q.Id,a,g.cliMode),D=M.configuration,$=$u(l),Y=h||(D.name?`Dev Container: ${D.name}${$}`:`Dev Container${$}`);g.setWorkspaceName(Y);let Q;if(Yt(D)||"image"in D)Q=await bq(e,t,c,D,M.workspace,i,o,q,A,L,p,O,x,a);else if("dockerComposeFile"in D){if(!c)throw new $e({description:"A Dev Container using Docker Compose requires a workspace folder."});Q=await iq(e,t,c,D,i,o,q,A,L,d,p,O,x,a)}else throw new $e({description:`Dev container config (${D.configFilePath}) is missing one of "image", "dockerFile" or "dockerComposeFile" properties.`});return Q}async function hq(e,t){let r=await ss(e,!0,t);return(await oa(e,r)).filter(i=>i.State.Status!=="removing")[0]}async function RS(e,t,r,n,i,o,s,a=!1){let{cliHost:c,output:l}=e,u=await xp(e,["read-configuration",...e.dockerPath!=="docker"?["--docker-path",e.dockerPath]:[],...e.dockerComposePath!=="docker-compose"?["--docker-compose-path",e.dockerComposePath]:[],"--workspace-folder",t,...(i||[]).map(f=>["--id-label",f]).flat(),...o?["--container-id",o]:[],"--log-level",Vs(n),"--log-format","json",...r?["--config",We(r,c.platform)]:[],...s?["--override-config",We(s,c.platform)]:[],"--mount-workspace-git-root",String(!a),...l.dimensions?["--terminal-columns",String(l.dimensions.columns),"--terminal-rows",String(l.dimensions.rows)]:[]]);return u.configuration.configFilePath=Ve.revive(u.configuration.configFilePath).with({scheme:c.type==="local"?"file":rr.scheme}),u}async function So(e,t,r,n,i){let o=await OS(e,t,r,n,i);return o==null?void 0:o.uri}async function OS(e,t,r,n,i){let o=await AL(e,t,Pt),s=o&&await _p(o,r);if(s)return{uri:s,location:"user"};let a=await iy(e,t.configFolderPath);if(a)return{uri:a,location:"workspace"};let c=o&&await _p(o,[Ep]);if(c)return{uri:c,location:"builtin"};n&&i&&((o==null?void 0:o.length)?i.write(`No dev container config found. Additional locations checked:
${[...NS(o,r),...NS(o,[Ep])].map(l=>`- ${xr.join(l,".devcontainer","devcontainer.json")}`).join(`
`)}`):i.write("No dev container config found. No repository connection string found."))}async function _p(e,t){let r=NS(e,t);for(let n of r){let i=await oy(n);if(i)return Ve.file(i)}}function NS(e,t){let r=[],n=new Set(e.map(One).filter(i=>!!i));for(let i of n)for(let o of t){let s=xr.join(o,i);r.push(s)}return r}function mq(e,t,r){let n=e.path.relative(t.rootFolderPath,We(r,e.platform));return n&&!n.startsWith("..")&&!e.path.isAbsolute(n)}function gq(e){if(e.scheme!=="file")return;let t=xr.relative(Ep,e.fsPath);if(t&&!t.startsWith("..")&&!xr.isAbsolute(t))return t}function One(e){let t;if(e.startsWith("https://"))t=e.substr(8);else{let r=/[^@:]+@([^:]+):(.+)/.exec(e);if(r)t=`${r[1]}/${r[2]}`;else return}if(!(t.toLowerCase().startsWith("github.com")&&(t=(/^[^/]+\/[^/]+\/[^/]+/.exec(t)||[])[0],!t)))return t.endsWith(".git")&&(t=t.substr(0,t.length-4)),t}async function Nne(e,t){var p;let{common:r,gitClone:n}=e,{cliHost:i}=r;if(!n)return;let o=cp(r),s=cp(r),a=qu(n.url,n.branch),c=await a.parseUrl(n.tokenEnvVar?i.env[n.tokenEnvVar]:void 0),l=a.cloneOptions(c),u=me(K(K({},n),l),{env:K(K({},n.env),l.env)}),f=await uv(r,r.cliHost,t.rootFolderPath,u,o.output,s.output),d=(p=f.gitClone)==null?void 0:p.then(()=>a.postClone(c,i,t.rootFolderPath,o.output));return{gitClone:async()=>{o.flush(),await d},gitUnshallow:async()=>{o.flush(),s.flush(),await f.gitUnshallow}}}var Fy=te(require("path")),yU=te(mU()),wU=te(require("url")),$oe=te(ou());var gU=te(lu()),vU=te(require("url"));function Nc(e,t){return new Promise((r,n)=>{let i=new vU.URL(e.url),o={hostname:i.hostname,port:i.port,path:i.pathname+i.search,method:e.type,headers:e.headers},s=gU.https.request(o,a=>{if(a.statusCode<200||a.statusCode>299)n(new Error(`HTTP ${a.statusCode}: ${a.statusMessage}`)),t&&t.write(`HTTP request failed with status code ${a.statusCode}: : ${a.statusMessage}`,pe.Error);else{a.on("error",n);let c=[];a.on("data",l=>c.push(l)),a.on("end",()=>r(Buffer.concat(c)))}});s.on("error",n),e.data&&s.write(e.data),s.end()})}var CU="devcontainer-features.tgz";function Lc(e){let t=typeof e=="string"?Fy.join(e,"dist"):e.distFolder;return Fy.join(t,"node_modules","vscode-dev-containers","container-features")}function My(e){let{type:t}=e;switch(t){case"local-cache":return"local-cache";case"direct-tarball":return Buffer.from(e.tarballUri).toString("base64");case"github-repo":return`github-${e.owner}-${e.repo}-${e.isLatest?"latest":e.tag}`;case"file-path":return Buffer.from(e.filePath).toString("base64")}}function JS(e){if(!e)return"n/a";let{type:t}=e;switch(t){case"local-cache":return"(cache)";case"direct-tarball":return"(tarball)";case"github-repo":return`${e.owner}/${e.repo}`;case"file-path":return"(file-path)"}}function Uoe(e,t){let r=new RegExp("^[a-zA-Z0-9_-]*$");if(!e.includes("/"))return t.write(`[${e}] - No slash, must be locally cached feature.`,pe.Trace),{id:e,sourceInformation:{type:"local-cache"}};if(e.startsWith("http://")||e.startsWith("https://")){t.write(`[${e}] - Direct URI`,pe.Trace),e=e.replace(/\/+$/,"");let f=e.lastIndexOf("#"),d=e.substring(f+1);if(d===""||!r.test(d)){t.write(`Parse error. Specify a feature id with alphanumeric, dash, or underscore characters. Provided: ${d}.`,pe.Error);return}let p=new wU.URL(e.substring(0,f)).toString();return t.write(`[${e}] - uri: ${p} , id: ${d}`,pe.Trace),{id:d,sourceInformation:{type:"direct-tarball",tarballUri:p}}}if(e.startsWith("/")||e.startsWith("./")||e.startsWith("../"))return;let n="latest",i=e.split("@");if(i.length>2){t.write("Parse error. Use the '@' symbol only to designate a version tag.",pe.Error);return}i.length===2&&(t.write(`[${e}] has version ${i[1]}`,pe.Trace),n=i[1]);let s=i[0].split("/");if(s.length!==3||s.some(f=>f==="")||!r.test(s[2])){t.write("Invalid parse for GitHub/registry feature identifier. Follow format: '<publisher>/<feature-set>/<feature>'",pe.Error);return}let a=s[0],c=s[1],l=s[2],u=QS({owner:a,repo:c,tag:n});return{id:l,sourceInformation:u}}function QS(e){let{owner:t,repo:r,tag:n}=e;return n==="latest"?{type:"github-repo",apiUri:`https://api.github.com/repos/${t}/${r}/releases/latest`,unauthenticatedUri:`https://github.com/${t}/${r}/releases/latest/download/${CU}`,owner:t,repo:r,isLatest:!0}:{type:"github-repo",apiUri:`https://api.github.com/repos/${t}/${r}/releases/tags/${n}`,unauthenticatedUri:`https://github.com/${t}/${r}/releases/download/${n}/${CU}`,owner:t,repo:r,tag:n,isLatest:!1}}async function Boe(e,t){if(e.length===0){t.write("Parsed featureSet is empty.",pe.Error);return}let r=pt(e.toString());if(!(r==null?void 0:r.features)||r.features.length===0){t.write("Parsed featureSet contains no features.",pe.Error);return}return t.write(`Loaded devcontainer-features.json declares ${r.features.length} features and ${r.sourceInformation?"contains":"does not contain"} explicit source info.`,pe.Trace),Hoe(r)}async function XS(e,t){let r=await rt(Fy.join(e,"devcontainer-features.json"));return Boe(r,t)}function Hoe(e){return e.features.find(t=>t.extensions||t.settings)?me(K({},e),{features:e.features.map(t=>{if(!(t.extensions||t.settings))return t;let r=K({},t),n=r.customizations||(r.customizations={}),i=n.vscode||(n.vscode={});return r.extensions&&(i.extensions=(i.extensions||[]).concat(r.extensions),delete r.extensions),r.settings&&(i.settings=K(K({},r.settings),i.settings||{}),delete r.settings),r})}):e}var ZS=(e,t)=>`${e}-${My(t)}`;async function ex(e,t,r,n){var f;let{output:i}=e,o=await n(),s=o["com.visualstudio.code.devcontainers.id"],a=o.version,c=t.features||{},l={};for(let d of Object.keys(c)){let{id:p,sourceInformation:h}=(f=Uoe(d,i))!=null?f:{};if(p&&h){let m=ZS(p,h);l[m]=c[d]}else{i.write(`Failed to read user declared feature ${d}. Skipping.`,pe.Error);continue}}let u={};for(let d of r.featureSets)for(let p of d.features){Voe(p);let h=ZS(p.id,d.sourceInformation);s&&(p.exclude||[]).some(m=>bU(m,s,a))?p.included=!1:"include"in p?p.included=!!s&&(p.include||[]).some(m=>bU(m,s,a)):p.included=!0,u[h]=u[h]||p.included,p.value=l[h]||!1}e.output.write(`Feature configuration:
`+JSON.stringify(me(K({},r),{imageDetails:void 0}),void 0,"  "),pe.Trace);for(let d of r.featureSets)d.features=d.features.filter(p=>{let h=ZS(p.id,d.sourceInformation);return h in u&&p.included===u[h]?(delete u[p.id],!0):!1});return r}function Voe(e){if(e.values){let t=e.options||(e.options={});t.version={type:"string",[e.customValues?"proposals":"enum"]:e.values,default:e.values[0],description:e.hint}}delete e.type,delete e.values,delete e.customValues,delete e.hint}function bU(e,t,r){let n=e.indexOf("@"),[i,o]=n!==-1?[e.slice(0,n),e.slice(n+1)]:[e,void 0];return t===i&&(!o||!r||yU.satisfies(r,o))}function us(e){var t;return((t=e.options)==null?void 0:t.version)?"version":void 0}function jp(e){var r,n;let t=us(e);if(!t)return!!e.value;if(typeof e.value=="object"){let i=e.value[t];return i===void 0&&e.options?(r=e.options[t])==null?void 0:r.default:i}return e.value===void 0&&e.options?(n=e.options[t])==null?void 0:n.default:e.value}function EU(e){var r;let t=us(e);return t?e.options&&((r=e.options[t])==null?void 0:r.default):!0}function hi(e){return{repositoryPath:e,fullRepositoryName:jy(e),repositoryName:Woe(e),workspaceFolder:SU,volumeDestination:tx(),oldVolumeName:zoe(e),alreadyCloned:!1,imageName:Goe(e),uniqueVolumeName:Koe(e),getWorkspaceConfiguration:(t,r)=>Yoe(t,r),getOldWorkspacePath:kU,cloneAndInitializeRepository:Joe,getConfigurationFromImage:PU,gitUrlHandler:qu(e),gitUrlInfo:_o(e)}}function jy(e){let t=_o(e);return t==null?void 0:t.fullRepositoryName}function Woe(e){let t=_o(e);return t==null?void 0:t.repositoryName}function tx(){return"/workspaces"}function zoe(e){let t=jy(e);return`vsc-${Ui.posix.basename(t)}-${rx(e)}`}function Goe(e){let t=jy(e),r=rx(e),n=Ui.posix.basename(t);return PS(`vsc-${n}-${r}`)}function Koe(e){let t=_o(e),r="";t&&t.repositoryName&&(r=t.repositoryName,t.ref?r=`${r}-${t.ref.replace(/\//g,"-")}`:t.pullRequestId&&(r=`${r}-pull-${t.pullRequestId}`));let n=rx(e);return`${r}-${n}`}function rx(e){return _U.createHash("md5").update(e).digest("hex")}function Yoe(e,t){let r=SU(e),n=`type=volume,src=${t},dst=${tx()}`;return{workspaceFolder:r,workspaceMount:n}}function SU(e){return Ui.posix.join(`${tx()}`,`${e}`)}async function Joe(e,{folder:t,cloneInfo:r},n,i,o){var u;await Zoe(e);let{containerId:s,shellServer:a}=await Qoe(e,n,i,t,o,e.configProvider,r),{config:c}=await PU(e,n,t,o,a),l=(u=n.gitUrlHandler)==null?void 0:u.installExtension();return{repository:n,volumeName:i,containerId:s,shellServer:a,config:c,preInstalledExtensions:l?[l]:[]}}async function Qoe(e,t,r,n,i,o,s){let{common:a}=e,{output:c,loadNativeModule:l}=a,u=t.fullRepositoryName,f,d,p,h;e.common.progress(Xr.CloningRepository);let m=LS(t,r,n,e.buildContainerRunArgs);n?(c.write(`Cloning Github repository: ${u} into ${t.workspaceFolder(n)}
\r`),f=`fatal: destination path '${t.workspaceFolder(n)}' already exists`,h=t.workspaceFolder(n),p=`Repository '${u}' was already cloned into '${t.workspaceFolder(n)}'.
\r`):(c.write(`Cloning Github repository: ${u} into volume ${r}
\r`),f=`fatal: destination path '${u}' already exists`,h=`${u}`,p=`Repository '${u}' was already cloned into volume.`);let g=t.gitUrlHandler;if(!g)throw new $e({description:"Could not analyze the URL."});s?d=g.cloneOptions(s):d={url:t.repositoryPath};let{stdout:v}=await Et(e,...m),y=v.toString().trim(),C=Nu(e,y,"root"),b=await Zo(C,c),_,P,S=Promise.resolve(),x;if(!a.cliMode){let L=await Zd(a,{remoteExec:C,user:"root",nodeExecutable:"node",shellServer:b});_=L.remoteContainersCLI,P=L.remoteEnv,S=L.ready,x=L.mrpcExec}let I=await yp(e,y,"root",l),A=Qs("container",h,{},await x||C,I,()=>{throw new Error("not implemented")},void 0,c);try{a.cliMode||(e.common.isCopyGitConfigEnabled&&(await Ec(e.common,{homeFolder:"/root",shellServer:b},[".gitconfig"],"git"),await Kv(e.common,{homeFolder:"/root",shellServer:b},{})),await Pu({shellServer:b,nodeExecutable:"node"},_,c,"global"),await Ec(e.common,{homeFolder:"/root",shellServer:b},[".ssh","known_hosts"],"ssh"),await S);let L=cp(a),J=await uv(a,A,h,me(K({},d),{env:K(K({},P),d.env)}),c,L.output);if(await J.gitClone,J.gitUnshallow&&(a.backgroundTasks.push(J.gitUnshallow.then(()=>{})),J.gitUnshallow.then(L.flush,L.flush)),J.gitClone&&s)try{await g.postClone(s,A,h,c)}catch{return nx(e,y,`Failed to checkout the repository ${s.urlToClone}.`)}}catch(L){let J=L&&(L.cmdOutput||L.stack||L.message)||String(L);if(J=J.replace(Ws,""),J.replace(/[\r\n]+/gm,"").includes(f))c.write(p),t.alreadyCloned=!0;else return nx(e,y,`Git clone failed. ${J}`)}let{configRaw:O}=await xU(e,t,n,i,b);if(!ia(O)&&o){c.write(`Repository ${u} has no dev container files.
\r`);let L=!0;for(;L;){let J=await o.createConfiguration(h,A);if(J)L=!1;else if(J=await o.showError("You must select a container configuration since the repository does not contain a dev container configuration. Without a dev container configuration the container cannot be started.","Select Configuration"),J!=="Select Configuration")return nx(e,y,"Cancelled container configuration selection.")}}return{containerId:y,shellServer:b}}function LS(e,t,r,n=[]){return r?["run","-d","--mount",`type=volume,src=${t},dst=${e.volumeDestination}`,"-v","/var/run/docker.sock:/var/run/docker.sock",...n,`${ix}`,"sleep","infinity"]:["run","-d","--mount",`type=volume,src=${t},dst=${e.fullRepositoryName}`,"-v","/var/run/docker.sock:/var/run/docker.sock",...n,`${ix}`,"sleep","infinity"]}function nx(e,t,r){throw t&&Et(e,"rm","-f",t),new $e({description:r})}async function xU(e,t,r,n,i){let o,s;if(r?s=t.workspaceFolder(r):s=`${kU(t.repositoryPath)}`,n)return o=(await i.exec(`cat ${n.path} 2>/dev/null`,{logOutput:!1})).stdout,{configRaw:o&&pt(o),configFile:n,workspaceFolder:s};if(n=await _p([t.repositoryPath],e.userRepositoryConfigurationPaths),n&&(o=(await rt(n.fsPath)).toString()),!n)for(let a of Du(Ui.posix,s))try{o=(await i.exec(`cat ${a} 2>/dev/null`,{logOutput:!1})).stdout,n=Ve.from({scheme:"vscode-remote",path:a});break}catch{}return n||(n=await _p([t.repositoryPath],[Ep]),n&&(o=(await rt(n.fsPath)).toString())),{configRaw:o&&pt(o),configFile:n,workspaceFolder:s}}async function PU(e,t,r,n,i){let{configRaw:o,configFile:s,workspaceFolder:a}=await xU(e,t,r,n,i);if(!s||!o)throw new $e({description:"The repository does not have a 'devcontainer.json' configuration file."});let{common:c,configUpdater:l}=e,{cliHost:u,output:f}=c,d=mp(K({},o)),p=d;l&&(d.configFilePath=s,p=l(d),delete p.configFilePath);let h=jv({platform:u.platform,configFile:s,env:u.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:a},p);return h.configFilePath=s,("workspaceMount"in h||"workspaceFolder"in h)&&f.write("The options 'workspaceMount' or 'workspaceFolder' are ignored when cloning a repository into a volume."),{workspaceFolder:a,config:h}}function kU(e){return`/workspaces/${Ui.posix.basename(jy(e))}`}var ix="vsc-volume-bootstrap";var ox="bootstrap.Dockerfile",Xoe="volume.Dockerfile";async function Zoe(e){let{common:t,development:r}=e,{cliHost:n,output:i}=t,o=t.package.version,s=n.path.join(await cx(n),"bootstrap-image",r?`${o}-dev-${Date.now()}`:o),a=n.path.join(s,ox),c=!await n.isFolder(s);if(!c&&!await n.isFile(a)){let u="Removing incomplete bootstrap-image folder.",f=i.start(u),d=`${s}-${Fn()}`;await n.rename(s,d),await n.rm(d,{recursive:!0,force:!0}),c=!await n.isFolder(s),i.stop(u,f)}if(c){let u=`${s}-${Fn()}`,f=n.path.join(u,".vscode-remote-containers","dist",`dev-containers-cli-${o}`);await n.mkdirp(n.path.join(f,"dist","spec-node")),await n.writeFile(n.path.join(u,ox),await rt(Ui.join(t.extensionPath,"scripts",ox))),await n.writeFile(n.path.join(f,"package.json"),await rt(Ui.join(t.extensionPath,"package.json"))),await n.writeFile(n.path.join(f,"dist","spec-node","devContainersSpecCLI.js"),await rt(Ui.join(t.extensionPath,"dist","spec-node","devContainersSpecCLI.js")));let d=Lc(t.extensionPath),p=n.path.join(f,"dist","node_modules","vscode-dev-containers","container-features");await Tc(d,n,p,i),await n.rename(u,s)}await py(e,...["build","-f",a,"-t",ix,s])}async function vq(e){let{common:t,development:r}=e,{cliHost:n,output:i}=t,o=t.package.version,s=n.path.join(await cx(n),"inspect-volume",r?`${o}-dev-${Date.now()}`:o),a=n.path.join(s,Xoe),c=!await n.isFolder(s);if(!c&&!await n.isFile(a)){let l="Removing incomplete inspect-volume folder.",u=i.start(l),f=`${s}-${Fn()}`;await n.rename(s,f),await n.rm(f,{recursive:!0,force:!0}),c=!await n.isFolder(s),i.stop(l,u)}if(c){let l=`${s}-${Fn()}`;await Tc(Ui.join(t.extensionPath,"scripts","inspect-volume"),n,l,i),await n.rename(l,s)}return s}async function yq(e,t,r){let n=[`vsch.local.repository=${t.repositoryPath}`];return r?r===Hn?(r=t.uniqueVolumeName,n.push("vsch.local.repository.unique=true")):n.push("vsch.local.repository.unique=false"):(r=t.oldVolumeName,n.push("vsch.local.repository.unique=false")),t.gitUrlInfo.ref&&n.push(`vsch.local.repository.branch=${t.gitUrlInfo.ref}`),t.gitUrlInfo.pullRequestId&&n.push(`vsch.local.repository.pullRequestId=${t.gitUrlInfo.pullRequestId}`),(await Co(e)).indexOf(r)===-1&&await fy(e,r,n),r}var qy="vsch.local.repository",sx="vsch.local.repository.volume",ax="vsch.local.repository.folder";function wq(e,t,r,n){return r?{labels:[`${qy}=${t}`,`${sx}=${n}`,`${ax}=${r}`],remoteWorkspaceFolder:e.workspaceFolder(r)}:{labels:[`${qy}=${t}`],remoteWorkspaceFolder:e.getOldWorkspacePath(t)}}async function Cq(e,t,r){let{loadNativeModule:n,output:i}=e.common,o=Nu(e,t,"root"),s=await yp(e,t,"root",n),a=Qs("container",r,{},o,s,()=>{throw new Error("not implemented")},"node",i);return{cliHost:a,dockerCLI:"docker",dockerComposeCLI:bo({exec:a.exec,env:{},output:i},"docker","docker-compose"),dockerComposePath:"docker-compose",env:{},output:i}}var FS="devcontainer.local_folder",Cy="vsch.local.volume",by="/volume",Ey="vsch.quality",MS="vsch.local.folder";async function bq(e,t,r,n,i,o,s,a,c,l,u,f,d,p){let{common:h}=e,m;try{let g=!l,v=K(K({},t.env),gr(t.env)),y={cliHost:t.cliHost,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:v,extensionPath:h.extensionPath,appRoot:h.appRoot,package:h.package,output:h.postCreate.output},{mergedConfiguration:C}=await ju(y,s,d,h.getLogLevel(),f,a.Id,p,h.cliMode),b=C.remoteUser;return m=await Mu(e,a.Id,i.workspaceFolder,b),u&&l&&i.workspaceFolder&&m.user!=="root"&&(m.launchRootShellServer?await Gv(m,m.launchRootShellServer,i.workspaceFolder,n.configFilePath.path):h.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files.")),await tse(a,c,e,t,m,n,C,r,g,o,s,f,d,p)}catch(g){throw ese(g,a,e,m,n)}}function ese(e,t,r,n,i){let o=e instanceof $e?e:new $e({description:"An error occurred setting up the container.",originalError:e});return t&&(o.manageContainer=!0,o.params=r.common,o.containerId=t.Id,o.dockerParams=r),n&&(o.containerProperties=n),i&&(o.config=i),o}async function tse(e,t,r,n,i,o,s,a,c,l,u,f,d,p){var A,O;let{common:h}=r,m=mr(h.cliHost,i.shellServer);c||await ay(r,m,o);let g=s.shutdownAction;g==="stopCompose"&&(g="stopContainer");let v={cwd:l,dockerCLI:r.dockerCLI,env:h.env,containerId:e.Id,user:i.user,sessionId:h.sessionId,shutdownAction:g,logLevel:h.getLogLevel(),delay:1e4},{shutdownArgs:y}=await my(r,m,"singleContainer",v,c?o:void 0),C=((O=(((A=s.customizations)==null?void 0:A.vscode)||[]).slice().reverse().find(L=>typeof L.devPort=="number"))==null?void 0:O.devPort)||ea,{hostOrContainerPort:b,hostPortServer:_,connectionToken:P,webConnectionToken:S,remoteEnv:x,serverDownloaded:I}=await zv(h,i,o,s,C,gy(r,n,u,f,e.Id,t,d,p));return y.hostPortServer=_,Lu(h,i,b,P,S,e,a),{params:h,properties:i,config:o,resolvedAuthority:{host:sa,port:b,connectionToken:P,extensionHostEnv:x},webConnectionToken:S,tunnelInformation:h.isLocalContainer?Fu(e):{},dockerParams:r,dockerContainerId:e.Id,serverDownloaded:I}}function Vu(e){let t=e.Config.Labels||{},r=t[FS]||t[MS];return r||void 0}function Fc(e){let t=(e.Config.Labels||{})[qy];return t||void 0}function $y(e){let t=(e.Config.Labels||{})[sx];return t||void 0}function IU(e){let t=(e.Config.Labels||{})[Cy];return t||void 0}function TU(e){let t=(e.Config.Labels||{})[ax];return t||void 0}function Eq(e,t){throw e.write(ot(t)),new Error(t)}var AU=te(require("path"));async function DU(e,t,r,n,i,o){let s,a=new Promise(h=>s=h),c=new bS,l=[],u=await Yj("vscode-remote-containers",async(h,m)=>{let g=await Qj(h),v=[];if(g.type==="poll")try{v=await c.dequeue(6e4)}catch{}else if(g.type==="reply"){let y=l[g.sequence];y&&(y(g.reply),delete l[g.sequence])}else g.type==="done"&&s?s():g.type==="log"&&n.event(g.event);m.write(JSON.stringify(v)),m.end()});u.server.unref();let f=AU.join(r,"dist","shutdown","shutdownMonitorProcess"),d=[u.ipcHandlePath,e,pe[t],i||"",o.getTime().toString()];n.write(`Forking shutdown monitor: ${f} ${d.join(" ")}\r
`);let p=sM(f,d,{stdio:["ignore","ignore","ignore","ipc"],detached:!0,execArgv:[]});return p.on("error",h=>{console.error(h)}),p.unref(),{queue:c,sequence:0,replies:l,done:a}}async function Uy(e,t,r){let n=e.sequence++,i=new Promise(s=>e.replies[n]=s);return e.queue.push({type:"configure",sequence:n,options:t}),await i}async function RU({queue:e,done:t}){e.push({type:"cleanup"}),await t}var LU=te(require("util"));var qp=te(require("string_decoder"));var Hn="__UNIQUE__",sa="127.0.0.1";function Wu(e,t){let r=e.platform==="win32"&&!e.env.SSH_AUTH_SOCK?k_:e.type==="wsl"?e.env.SSH_AUTH_SOCK:void 0,n={DOCKER_CONTEXT:"default"};return t&&("context"in t?n.DOCKER_CONTEXT=t.context:(t.host&&(t.host.startsWith("ssh://")&&e.type==="ssh"?n.VSCODE_DOCKER_HOST=t.host:n.DOCKER_HOST=t.host),t.certPath&&(n.DOCKER_CERT_PATH=t.certPath),t.tlsVerify&&(n.DOCKER_TLS_VERIFY=t.tlsVerify))),r&&(n.SSH_AUTH_SOCK=r),n}function ca(e){let t;if(e.DOCKER_CONTEXT&&e.DOCKER_CONTEXT!=="default")t={context:e.DOCKER_CONTEXT};else{t={};let r=e.VSCODE_DOCKER_HOST||e.DOCKER_HOST;r&&(t.host=r),e.DOCKER_CERT_PATH&&(t.certPath=e.DOCKER_CERT_PATH),e.DOCKER_TLS_VERIFY&&(t.tlsVerify=e.DOCKER_TLS_VERIFY),Object.keys(t).length||(t=void 0)}return t}function By(e,t){t&&("context"in t&&t.context&&e.write(`Context: ${t.context}\r
`),"host"in t&&t.host&&e.write(`Host: ${t.host}\r
`),"certPath"in t&&t.certPath&&e.write(`CertPath: ${t.certPath}\r
`),"tlsVerify"in t&&t.tlsVerify&&e.write(`TLSVerify: ${t.tlsVerify}\r
`))}function Hy(e){return!e.VSCODE_DOCKER_HOST&&!e.DOCKER_HOST&&(!e.DOCKER_CONTEXT||e.DOCKER_CONTEXT==="default")}function $u(e){return e&&("context"in e||e.host)?` @ ${"context"in e?e.context:e.host}`:""}async function Bn(e,t){try{return await mn(e,t)}catch{return}}function Lu(e,t,r,n,i,o,s){let a=o.Ports.filter(d=>!!d.PublicPort),c="";if(e.authority&&s){let d=s.isWorkspaceFile?"workspace":"folder",p=t.remoteWorkspaceFolder||"/",h=s.isWorkspaceFile?gn.posix.join(p,e.cliHost.path.basename(s.workspaceOrFolderPath)):p;c=`&${d}=${encodeURIComponent(`vscode-remote://${e.authority}${h}`)}`}let l=[...a.length?["Published Ports:"]:[],...a.map(d=>`${d.PrivatePort}/${d.Type} -> ${d.IP}:${d.PublicPort}`),...a.length?[""]:[],...e.web?[`VS Code Web: http://localhost:${r}?tkn=${n||i}${c}`,""]:[]],u=l.reduce((d,p)=>Math.max(p.length,d),0),f="-".repeat(u);u>0&&e.output.write(`\r
\r
${f}\r
${l.join(`\r
`)}${f}\r
\r
`)}async function Vy(e){let{common:t}=e,{output:r}=t,n="Check Docker is running",i=r.start(n);try{let{stdout:o}=await Et(e,"version","--format","{{.Server.APIVersion}}"),s=o.toString();if(s.toLowerCase().indexOf("cannot connect")!==-1)throw new Error(s);r.write(`Server API version: ${s.trim()}`)}catch(o){console.error(o);let s=o&&(o.stderr?o.stderr.toString():o.message)||"";s&&r.write(ot(s));let a="Docker returned an error. Make sure the Docker daemon is running and select an option how to proceed.",c=o&&(o.stderr?o.stderr.toString().toLowerCase():o.message)||"";throw c.indexOf("permission denied")!==-1?c.indexOf("ssh")!==-1?a="Cannot connect to Docker daemon using 'ssh'. Make sure public/private keys are set up for connecting without keyboard interaction.":a="Current user does not have permission to run 'docker'. Try adding the user to the 'docker' group.":c.indexOf("ENOENT")!==-1&&(a="The 'docker' command was not found. Make sure Docker is installed."),new $e({description:a,originalError:`Docker returned an error code ${o.code}, message: ${o.message}`})}finally{r.stop(n,i)}}function Rr(e){return e.hostPath!==void 0}function mi(e){return e.repositoryPath!==void 0}function Sp(e){return!mi(e)&&e.volumeName!==void 0}function wi(e){let t=MU("dev-container",e);if(!!t)return typeof t=="string"?{hostPath:t}:"repositoryPath"in t?t.dockerHost?{repositoryPath:t.repositoryPath,settings:{host:`tcp://${t.dockerHost.host}:${t.dockerHost.port}`,cloneInfo:t.cloneInfo}}:t:"hostPath"in t&&t.dockerHost?{hostPath:t.hostPath,settings:{host:`tcp://${t.dockerHost.host}:${t.dockerHost.port}`}}:t}function $p(e,t,r,n){let i=r?JSON.stringify({hostPath:e,localDocker:n,settings:r}):e;return`vscode-remote://dev-container+${Buffer.from(i,"utf8").toString("hex")}${t}`}function Mc(e,t,r,n,i,o){if(e){let a=hi(e);if(!t){let l=JSON.stringify({repositoryPath:e,settings:i,cloneInfo:o,inspectVolume:n});return`vscode-remote://dev-container+${Buffer.from(l,"utf8").toString("hex")}${a.getOldWorkspacePath(e)}`}let c=JSON.stringify({repositoryPath:e,volumeName:t,folder:r,settings:i,cloneInfo:o,inspectVolume:n});return`vscode-remote://dev-container+${Buffer.from(c,"utf8").toString("hex")}${a.workspaceFolder(r)}`}let s=JSON.stringify({volumeName:t,settings:i});return`vscode-remote://dev-container+${Buffer.from(s,"utf8").toString("hex")}${by}`}function Wy(e){let t=MU("attached-container",e);if(!!t)return typeof t=="string"?{containerId:t}:(t.dockerHost&&(t.settings={host:`tcp://${t.dockerHost.host}:${t.dockerHost.port}`},delete t.dockerHost),t)}function FU(e,t,r){let n=JSON.stringify({containerName:e,settings:t,cwd:r});return`attached-container+${Buffer.from(n,"utf8").toString("hex")}`}function MU(e,t){try{let[r,n]=t.split("+"),i=r===e&&n?Buffer.from(n,"hex").toString("utf8"):void 0;return i?i.startsWith("{")?JSON.parse(i):i:void 0}catch(r){console.warn(r);return}}async function jU(e,t,r,n=!1){return!n&&await a_(e,t,r)||t}function qU(e,t,r){let n=e.path.relative(e.path.dirname(t),r);return`/workspaces/${e.platform==="win32"?n.replace(/\\/g,"/"):n}`}function $U(e,t,r){if(e==="win32")return t;let n=`${nse(r,"/")}/`;return(e==="linux"?t.startsWith(n):t.toLowerCase().startsWith(n.toLowerCase()))&&(t=`~/${t.substr(n.length)}`),t}function nse(e,t){if(t.length===0)return e;for(;e.endsWith(t);)e=e.substr(0,e.length-t.length);return e}function zj(e,t){return e.with({path:gn.posix.resolve(e.path,t)})}async function my(e,t,r,n,i){let{common:o,onRemoveOnShutdownChanged:s}=e;if(o.cliMode)return{shutdownArgs:{},doneWithDocuments:Promise.resolve()};let a=o.output.start("Setup shutdown monitor"),c=await DU(r,o.getLogLevel(),o.extensionPath,o.output,o.logFilePath?gn.dirname(o.logFilePath):void 0,o.sessionStart);Uy(c,n,o.output).catch(d=>console.error(d)),s&&s(async d=>{n.rebuild=!!d,n.delay=0,await Uy(c,n,o.output)}),o.onDidChangeLogLevel(async d=>{n.logLevel=d,await Uy(c,n,o.output)});let l={},u=async()=>{let d=RU(c);l.hostPortServer&&await(0,LU.promisify)(l.hostPortServer.close.bind(l.hostPortServer))(),await d};o.shutdowns.push(u);let f=i?Vj(e,t,i).catch(console.error):Promise.resolve();return o.output.stop("Setup shutdown monitor",a),{monitor:c,shutdownArgs:l,doneWithDocuments:f}}function Fu(e){return{environmentTunnels:e.Ports.filter(t=>!!t.PublicPort).map(t=>({remoteAddress:{port:t.PrivatePort,host:t.IP},localAddress:t.IP+":"+t.PublicPort}))}}async function Mu(e,t,r,n,i){let{common:o}=e,s="Inspecting container",a=o.output.start(s),c=await mn(e,t);o.output.stop(s,a);let l=n||c.Config.User||"root",[,u,,f]=/([^:]*)(:(.*))?/.exec(l),d=ise(c.Config.Env),p=Nu(e,t,l),h=await yp(e,t,l,o.loadNativeModule),m=Nu(e,t,"root"),g=c.Mounts.find(C=>C.Type==="volume"&&C.Name==="vscode"),v=c.Mounts.find(C=>C.Type==="bind"&&C.Source===o.localCacheFolder),y=g&&gn.posix.join(g.Destination,/^\.*(.*)$/.exec(o.product.serverDataFolderName)[1])||(v==null?void 0:v.Destination);return Bv({params:o,createdAt:c.Created,startedAt:c.State.StartedAt,sharedDataFolder:y,sharedDataFolderIsLocalCacheFolder:!g&&!!v,remoteWorkspaceFolder:r,containerUser:u==="0"?"root":u,containerGroup:f,containerEnv:d,remoteExec:p,remotePtyExec:h,remoteExecAsRoot:m,rootShellServer:i})}function ise(e){return(e||[]).reduce((t,r)=>{let n=r.indexOf("=");return n!==-1&&(t[r.substr(0,n)]=r.substr(n+1)),t},{})}async function cx(e){return e.path.join(await e.tmpdir(),e.platform==="linux"?`vsch-${await e.getUsername()}`:"vsch")}async function xo(){return gn.join(NU.tmpdir(),process.platform==="linux"?`vsch-${await Dv()}`:"vsch")}async function UU(e){let{common:t,dockerCLI:r,dockerComposeCLI:n,dockerComposePath:i,dockerEnv:o}=e,{cliHost:s,output:a}=t;return{cliHost:s,dockerCLI:r,dockerComposeCLI:n,dockerComposePath:i,env:o,output:a}}async function BU(e,t){return e.type==="local"&&t?e.path.join(t,"data"):e.path.join(await e.homedir(),".vscode-remote-containers","data")}async function Tc(e,t,r,n){await t.mkdirp(r);let i=OU.c({cwd:e,filter:l=>(console.log(l),!0)},["."]),o=new Promise((l,u)=>{i.on("error",u),i.on("finish",l)}),s=await t.exec({cmd:"tar",args:["--no-same-owner","-x","-f","-"],cwd:r,output:n}),a=new qp.StringDecoder;s.stdout.on("data",l=>{n.write(a.write(l))});let c=new qp.StringDecoder;s.stderr.on("data",l=>{n.write(ot(c.write(l)))}),i.pipe(s.stdin),await s.exit,await o}async function xp(e,t){let{cliHost:r,postCreate:n,output:i}=e,o=await cse(e),s=sse(r),a;return await ose({exec:r.exec,cwd:o.cwd,cmd:s.cmd,args:[...s.args,o.script,...t],env:ase(e,s.cmd),stdin:n==null?void 0:n.onDidInput,output:i,stdoutData:c=>a=c,stderrData:c=>{i.event(c)}}),a}async function ose(e){let{exec:t,cmd:r,args:n,cwd:i,env:o,stdin:s,output:a,stdoutData:c,stderrData:l}=e,u=await t({cmd:r,args:n,cwd:i,env:o,output:a});return new Promise((f,d)=>{let p=new qp.StringDecoder,h="";u.stdout.on("data",y=>{h+=p.write(y);let C=h.split(`
`);h=C.pop();for(let b of C)if(b.trim())try{c(JSON.parse(b))}catch{a.write(b)}}),u.stdout.on("error",y=>{if((y==null?void 0:y.code)!=="ENOTCONN")throw y});let m=new qp.StringDecoder,g="";u.stderr.on("data",y=>{g+=m.write(y);let C=g.split(`
`);g=C.pop();for(let b of C)if(b.trim())try{l(JSON.parse(b))}catch{a.write(b)}}),u.stderr.on("error",y=>{if((y==null?void 0:y.code)!=="ENOTCONN")throw y});let v=[];u.exit.then(({code:y})=>{try{v.forEach(C=>C.dispose()),y?(a.write(`Exit code ${y}`),d({message:`Command failed: ${r} ${(n||[]).join(" ")}`,code:y})):f()}catch(C){d(C)}},d),typeof s=="function"&&v.push(s(y=>u.stdin.write(y)))})}function sse(e){if(e.type==="local")return mo?{cmd:j_,args:[]}:{cmd:process.argv[0],args:process.versions.electron&&process.versions["microsoft-build"]?["--ms-enable-electron-run-as-node"]:[]};if(e.nodeExecutable)return{cmd:e.nodeExecutable,args:[]};throw new Error("Node executable required")}function ase(e,t){let{cliHost:r,env:n,appRoot:i}=e;return K(K(K({},n),r.type==="local"?i?{NODE_PATH:`${r.path.join(i,"node_modules.asar")}${gn.delimiter}${r.path.join(i,"node_modules")}`}:void 0:r.type==="container"?void 0:{NODE_PATH:r.path.join(r.path.dirname(t),"node_modules")}),mo?{TS_NODE_PROJECT:void 0}:{})}async function cse(e){let{cliHost:t,extensionPath:r,output:n}=e,i=gn.join(r,...mo?["node_modules","@devcontainers","cli","src"]:["dist"],"spec-node",`devContainersSpecCLI.${mo?"t":"j"}s`),o=t.type==="local"?r:t.path.join(await t.homedir(),".vscode-remote-containers","dist",`dev-containers-cli-${e.package.version}`),s=t.type==="local"?i:t.path.join(o,"dist","spec-node","devContainersSpecCLI.js");if(["wsl","ssh"].indexOf(t.type)!==-1&&!await t.isFile(s)){let a=`${o}-${Fn()}`,c=t.path.join(a,"dist","spec-node","devContainersSpecCLI.js");await t.mkdirp(t.path.dirname(c)),await t.writeFile(t.path.join(a,"package.json"),await rt(gn.join(r,"package.json"))),await t.writeFile(c,await rt(i));let l=Lc(r),u=t.path.join(a,"dist","node_modules","vscode-dev-containers","container-features");await Tc(l,t,u,n),await Tc(gn.join(r,"scripts"),t,t.path.join(a,"scripts"),n),await t.rename(a,o)}return{cwd:o,script:s}}function gy(e,t,r,n,i,o,s,a){return async(c,l,u,f)=>{let{common:d}=e,{cliHost:p}=t,h=K(K({},t.env),gr(t.env)),m={cliHost:t.cliHost,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:h,extensionPath:d.extensionPath,appRoot:d.appRoot,package:d.package,postCreate:d.postCreate,output:d.postCreate.output},g=d.postCreate.output.dimensions||d.output.dimensions,v=await xp(m,["run-user-commands",...t.cliHost.type==="local"&&d.persistedFolder?["--user-data-folder",d.persistedFolder]:[],...t.dockerCLI!=="docker"?["--docker-path",t.dockerCLI]:[],...t.dockerComposePath!=="docker-compose"?["--docker-compose-path",t.dockerComposePath]:[],...o?["--container-data-folder",fi(e.common.product.serverDataFolderName)]:[],...o?["--container-system-data-folder",xu(e.common.product.serverDataFolderName)]:[],"--workspace-folder",r,...(n||[]).map(y=>["--id-label",y]).flat(),"--container-id",i,"--log-level",Vs(d.getLogLevel()),"--log-format","json",...s?["--config",We(s,p.platform)]:[],...a?["--override-config",We(a,p.platform)]:[],"--default-user-env-probe",d.defaultUserEnvProbe,"--skip-non-blocking-commands",String(c),...d.skipPostAttach?["--skip-post-attach"]:[],"--prebuild",String(u),"--stop-for-personalization",String(l),...[].concat(...Object.keys(f).map(y=>["--remote-env",`${y}=${f[y]}`])),"--mount-workspace-git-root",String(!d.cliMode),...g?["--terminal-columns",String(g.columns),"--terminal-rows",String(g.rows)]:[]]);if((v==null?void 0:v.outcome)!=="success")throw new $e({description:`devcontainer command failed: ${v?JSON.stringify(v):"data missing"}`});return v.result}}async function ju(e,t,r,n,i,o,s,a=!1){let{cliHost:c,output:l}=e,u=await xp(e,["read-configuration",...e.dockerPath!=="docker"?["--docker-path",e.dockerPath]:[],...e.dockerComposePath!=="docker-compose"?["--docker-compose-path",e.dockerComposePath]:[],"--workspace-folder",t,...(i||[]).map(f=>["--id-label",f]).flat(),...o?["--container-id",o]:[],"--log-level",Vs(n),"--log-format","json",...r?["--config",We(r,c.platform)]:[],...s?["--override-config",We(s,c.platform)]:[],"--include-merged-configuration","--mount-workspace-git-root",String(!a),...l.dimensions?["--terminal-columns",String(l.dimensions.columns),"--terminal-rows",String(l.dimensions.rows)]:[]]);return u.configuration.configFilePath=Ve.revive(u.configuration.configFilePath).with({scheme:c.type==="local"?"file":rr.scheme}),u}var Ht=te(require("vscode"));var jc={id:"openDocumentation",title:"Open Documentation",isLastAction:!1,applicable:(e,t)=>!t,execute:async e=>{await Ht.env.openExternal(Ht.Uri.parse("https://aka.ms/vscode-remote/container/resolve-failed"))}},qc={id:"reloadWindow",title:"Reload Window",isLastAction:!0,applicable:(e,t)=>!t&&e.data.reload!==!1,execute:async e=>{e.manageContainer&&e.dockerParams&&e.containerId&&await Et(e.dockerParams,"stop","-t","0",e.containerId),await Ht.commands.executeCommand("workbench.action.reloadWindow")}},HU={id:"rebuildContainer",title:"Rebuild Container",isLastAction:!0,applicable:(e,t)=>e.manageContainer&&!!e.dockerParams&&!!e.containerId&&!t,execute:async e=>{await Et(e.dockerParams,"rm","-f",e.containerId),await Ht.commands.executeCommand("workbench.action.reloadWindow")}},zu={id:"openRecent",title:"Open Recent...",isLastAction:!0,applicable:(e,t)=>!t,execute:async e=>{await Ht.commands.executeCommand("workbench.action.openRecent")}},VU={id:"startContainer",title:"Start Container",isLastAction:!0,applicable:e=>!!e.dockerParams&&!!e.containerId&&e.data.start===!0,execute:async e=>{await Et(e.dockerParams,"start",e.containerId),await Ht.commands.executeCommand("workbench.action.reloadWindow")}},WU={id:"chooseContainer",title:"Choose Container",isLastAction:!0,applicable:e=>e.data.attach===!0,execute:async()=>{await Ht.commands.executeCommand("remote-containers.attachToRunningContainer")}},la={id:"closeRemote",title:"Close Remote",isLastAction:!0,applicable:(e,t)=>{if(!t)return!1;let r=Ht.workspace.workspaceFile;return!(r&&r.scheme==="untitled"||Ht.workspace.textDocuments.some(i=>i.isDirty))},execute:async e=>{await Ht.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null})}},Gu=[{id:"retry",title:"Retry",isLastAction:!0,applicable:(e,t)=>t&&e.data.reload!==!1,execute:qc.execute},{id:"moreActions",title:"More Actions...",isCloseAffordance:!0,isLastAction:!1,applicable:(e,t)=>t,execute:async e=>{}},{id:"learnMore",title:"Learn More",isLastAction:!1,applicable:(e,t)=>t&&!!e.data.learnMoreUrl,async execute(e){await Ht.env.openExternal(Ht.Uri.parse(e.data.learnMoreUrl))}}];async function ua(e,t,r,n=!1,i){var d,p,h,m,g,v;let o=e instanceof $e?e:new $e({description:"An error occurred setting up the container.",originalError:e});if(i){i.show();let y=o.originalError&&(o.originalError.stack||o.originalError.message)||o.originalError;if(y!==void 0){i.log.write(ot(String(y)));let C=(p=(d=o.originalError)==null?void 0:d.stdout)==null?void 0:p.toString().trim();C&&i.log.write(C);let b=(m=(h=o.originalError)==null?void 0:h.stderr)==null?void 0:m.toString().trim();b&&i.log.write(ot(b)),((g=o.originalError)==null?void 0:g.code)&&i.log.write(`Exit code ${(v=o.originalError)==null?void 0:v.code}`)}}if(e.message.indexOf("Cancelled container configuration selection")!==-1)throw await Ht.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),Ht.RemoteAuthorityResolverError.NotAvailable(void 0,!1);let s=o.actions;s.length||(s=[jc]);let a=await s.reduce(async(y,C)=>await C.applicable(o,!0)?[...await y,C]:y,Promise.resolve([])),c=await Ht.window.showErrorMessage(o.description,{modal:!0},...a);if(c&&(zU(r,t,c.id),await c.execute(o)),c&&c.isLastAction){if(n)throw Ht.RemoteAuthorityResolverError.NotAvailable(void 0,!0);return}let l=await s.reduce(async(y,C)=>await C.applicable(o,!1)?[...await y,C]:y,Promise.resolve([])),u=l.map(y=>({label:y.title,action:y}));async function f(){let C=await(l.length?Ht.window.showQuickPick(u,{ignoreFocusOut:!0,placeHolder:"Pick an action to help resolve the problem."}):Promise.resolve(void 0));C&&(zU(r,t,C.action.id),C.action.execute(o).catch(console.error),C.action.isLastAction||await f())}if(f().catch(console.error),n)throw Ht.RemoteAuthorityResolverError.NotAvailable(void 0,!0)}function zU(e,t,r){e.sendTelemetryEvent("errorAction",{resolver:t,action:r})}var he=te(require("vscode")),hC=te(require("path"));var aW=te(EV()),ka=te(oW());var sW=te(require("vscode"));function jt(e){let t=sW.workspace.getConfiguration(),r=lp(e),n=t.get(r),i=Xs(e),o=t.get(i);if(o!=null&&o!==n){let s=t.inspect(r);if(!s||s.globalValue===void 0&&s.workspaceValue===void 0&&s.workspaceFolderValue===void 0)return o}return n}function qh(e,t){return e.affectsConfiguration(lp(t))||e.affectsConfiguration(Xs(t))}var Kn="remote-containers.revealLogTerminal",Rk="remote-containers.revealPostCreateTerminal",$h="remote-containers.openDevContainerFile",cW="remote-containers.openRepositoryInVolume",mC="remote-containers.openRepositoryInUniqueVolume",lW="remote-containers.openRepositoryFromRemoteHub",uW="remote-containers.openRepositoryFromRemoteHubWithEditSession",fW="remote-containers.openPullRequestInVolume",Uh=he.Uri.parse("https://aka.ms/vscode-remote/containers/folder-setup"),Bh=he.Uri.parse("https://aka.ms/vscode-dev-containers"),dW=new qE,Yr={onRemoveOnShutdownChangedEmitter:dW,onRemoveOnShutdownChanged:dW.event,results:new Map},wl,Ro=e=>aM(e,he.env.appRoot);function gC(e,t,r,n){return async(i,o)=>{if(he.commands.executeCommand("setContext","forwardedPortsViewEnabled",!0),o.resolveAttempt>1){let s=r.get(i);if(!s)throw new Error("Reconnect attempt without old result.");let a=`Reconnection attempt ${o.resolveAttempt-1}`,c=e.log.start(a),{cliHost:l}=s.params;if(l.reconnect)try{await l.reconnect()}catch(u){throw e.log.write(ot(String(u&&(u.stack||u.message)||u))),he.RemoteAuthorityResolverError.TemporarilyNotAvailable("Cannot reconnect to remote host.")}if(s.dockerContainerId){let u=await Bn(s.dockerParams,s.dockerContainerId);if(!u)throw he.RemoteAuthorityResolverError.NotAvailable("Container no longer exists.");if(u.State.Status==="paused")throw he.RemoteAuthorityResolverError.TemporarilyNotAvailable("Container is paused.");if(u.State.Status!=="running")throw he.RemoteAuthorityResolverError.NotAvailable("Container is no longer running.")}return e.log.stop(a,c),me(K({},s.resolvedAuthority),{isTrusted:s.isTrusted})}else{let s="Resolving Remote",a=e.log.start(s),c=await n(i,e,t);return hpe(c.params,c.properties).catch(l=>{}),r.set(i,c),e.log.stop(s,a),he.window.withProgress({location:he.ProgressLocation.Window,title:Dpe,cancellable:!1},async l=>{await XM(c.params.backgroundTasks)}).then(void 0,l=>{e.log.write(ot(String(l&&(l.stack||l.message)||l)))}),me(K(K({},c.resolvedAuthority),c.tunnelInformation),{isTrusted:c.isTrusted})}}}async function hpe(e,t){if(!t.nodeExecutable)return;let r=await rt(hC.join(e.extensionPath,"dist","node","remoteCloudGuesser.js"),{encoding:"utf8"}),{stdout:n}=await rs(e,t,[t.nodeExecutable,"-e",r],void 0,{silent:!0}),i=n.toString().trim();e.sendTelemetryEvent("extraInfo",{remoteCloud:i})}var Ok;async function mpe(e){return Ok||(Ok=wo(hC.join(__dirname,"..",".."),xs,e)),Ok}var Hh={};async function xs(e,t=!0){var r;if(e.counter&&((r=Hh[e.prompt])==null?void 0:r.from)===e.counter&&delete Hh[e.prompt],!Hh[e.prompt]){if(!t)return"";Hh[e.prompt]={result:Promise.resolve(he.window.showInputBox({prompt:e.prompt||"Enter password",password:!0,ignoreFocusOut:!0}).then(n=>n||"")),from:e.counter}}return Hh[e.prompt].result}async function wt(e,t,r,n=!0,i=mpe(t),o=!0){let s=!r;if(s){if(Yr.results.size){let g=[...Yr.results.values()].filter(v=>v.dockerParams)[0];return UU(g.dockerParams)}if(wl)return wl}r&&typeof r!="string"&&"scheme"in r&&(r.scheme==="file"?r=r.fsPath:r=wu(r));let a;if(!r){let g=(he.workspace.workspaceFolders||[])[0];if(he.env.remoteName==="wsl")g?r=wu(g.uri):r={wslDistro:Iv(he.env.remoteAuthority),wslPath:"/"};else if(he.env.remoteName==="ssh-remote"){let v=gpe(he.env.remoteAuthority);if(v){let{user:y,hostName:C,port:b}=v;a={host:`ssh://${y?`${y}@`:""}${C}${b?`:${b}`:""}`},g?r=g.uri.path:r="/"}}else(g==null?void 0:g.uri.scheme)==="file"&&(r=g.uri.fsPath);r||(r=process.cwd())}let c=a&&"host"in a&&a.host||void 0,l=n?eo():{executeInWSL:"never",defaultDistro:void 0},u=ji(c,r,Ro,l,e.extensionPath,await xo(),await ip(he.env.appRoot),t,Lo,{sshAskpassEnv:i,settings:$f()});o&&!await Promise.race([u,vo(1e3)])&&await he.window.withProgress({location:he.ProgressLocation.Notification,title:`[Setting up Dev Containers (show log)](command:${Kn} "Show details in terminal")`,cancellable:!1},async()=>{await u});let f=await u,d=Zi(),p=Oo();if(!a){let g=he.workspace.getConfiguration("docker"),v=g.get("context")||f.env.DOCKER_CONTEXT;if(!v){let y={cliHost:f,dockerCLI:d,dockerComposeCLI:bo({exec:f.exec,env:{},output:Pt},d,p),dockerComposePath:p,env:{},output:Pt};v=await SS(y)||"default"}v&&v!=="default"?a={context:v}:(a=ca(f.env)||{},"context"in a||(Nk(a,g,"host"),Nk(a,g,"certPath"),Nk(a,g,"tlsVerify"),Object.keys(a).length||(a=void 0)))}let h=K(K({},await i),Wu(f,a)),m={cliHost:f,dockerCLI:d,dockerComposeCLI:bo({exec:f.exec,env:h,output:t},d,p),dockerComposePath:p,env:h,output:t};return s&&(wl=m),m}var vC;function pW(e){if(vC)return vC;let t=wpe(e);return e.subscriptions.push(t),e.subscriptions.push(t.event(()=>{let r=wl==null?void 0:wl.cliHost;wl=void 0,(r==null?void 0:r.terminate)&&r.terminate()})),vC=t.event,vC}function gpe(e){let t=/^ssh-remote\+(.*)$/.exec(e);if(!t)return;let r=t[1];try{let n=JSON.parse(Buffer.from(r,"hex").toString("utf8"));if(n&&n.hostName)return n}catch{}return{hostName:r}}function Nk(e,t,r){let n=t.get(r);n&&(e[r]=n)}var vpe=["docker.context","docker.host","docker.certPath","docker.tlsVerify"],ype=[Ze.dockerComposePath,Ze.executeInWSL,Ze.executeInWSLDistro];function wpe(e){let t=new he.EventEmitter,r=he.workspace.onDidChangeConfiguration(async c=>{(vpe.some(l=>c.affectsConfiguration(l))||ype.some(l=>qh(c,l)))&&t.fire()}),n,i,o,s=()=>{(async()=>{i||(i=await ji(void 0,process.cwd(),Ro,eo(),e.extensionPath,await xo(),void 0,Pt,Lo));let c={cliHost:i,dockerCLI:Zi(),dockerComposeCLI:bo({exec:i.exec,env:{},output:Pt},Zi(),Oo()),dockerComposePath:Oo(),env:{},output:Pt},l=await SS(c);l===void 0?o=setTimeout(s,2*60*1e3):(l!==n&&(n!==void 0&&t.fire(),n=l),o=setTimeout(s,2*1e3))})().catch(console.error)};s();let a=t.dispose;return t.dispose=()=>{r.dispose(),o&&clearTimeout(o),a.call(t)},t}async function Cl(){let e=he.workspace.workspaceFolders;if((e==null?void 0:e.length)===1){let t=e[0].uri;return Lk(t)}return null}async function Lk(e){if(e&&e.scheme==="vscode-remote"&&/dev-container\+(.*)/.exec(e.authority)){let r=wi(e.authority);if(Rr(r))return null;if(mi(r)&&r.inspectVolume&&r.inspectVolume===!0)return r}return null}function yC(e){return{getConfigurationState:()=>e.get("configurationState"),updateConfigurationState:async t=>e.update("configurationState",t),containerOutdated:Cpe}}async function Cpe(e){let t="Rebuild",r="Ignore",n=await he.window.showInformationMessage(`Configuration file(s) changed: ${e.join(", ")}. The container might need to be rebuilt to apply the changes.`,t,r);if(n===t)return he.commands.executeCommand("remote-containers.rebuildContainer");if(n===r)return"ignore"}async function bpe(e){return e?hW():Array.from(new Set([...jt(Ze.defaultExtensions)||[],...hW()]))}function hW(){let e=he.env.language,t=e.indexOf("-"),r=mW(e)||(t!==-1?mW(e.substr(0,t)):void 0);return r?[r]:[]}function mW(e){let t=e.toLowerCase();return he.extensions.all.filter(r=>{var i;let n=r.packageJSON&&r.packageJSON.contributes;return((i=n==null?void 0:n.localizations)==null?void 0:i.length)?!!n.localizations.find(o=>{var s;return((s=o==null?void 0:o.languageId)==null?void 0:s.toLowerCase())===t}):!1}).map(r=>r.id)[0]}function gW(){return!!jt(Ze.enableExperiments)}function Epe(){return!!jt(Ze.enableWebAccess)}function wC(){return jt(Ze.workspaceMountConsistency)||"cached"}function CC(){return!!jt(Ze.experimentalUpdateRemoteUserUIDOnMacOS)}function bC(){var e;return(e=jt(Ze.cacheVolume))!=null?e:!0}function _pe(){let e=jt(Ze.copyGitConfig);return typeof e=="boolean"?e:!0}function Spe(){return jt(Ze.gitCredentialHelperConfigLocation)||"global"}function Zi(){return jt(Ze.dockerPath)||"docker"}function eo(){return{executeInWSL:Fk(),defaultDistro:Mk()}}function Fk(){return process.platform!=="win32"?"never":jt(Ze.executeInWSL)?"always":"forWSLPath"}function Mk(){if(process.platform==="win32")return jt(Ze.executeInWSLDistro)||void 0}function Oo(){return jt(Ze.dockerComposePath)||"docker-compose"}function Vh(){let e=jt(Ze.logLevel)||"debug";return zO(e)}var xpe=e=>he.workspace.onDidChangeConfiguration(t=>{qh(t,Ze.logLevel)&&e(Vh())});function Ppe(){let e=he.workspace.getConfiguration(),t=r=>(e.get(Xs(r),"")||e.get(r,"")).trim();return{repository:t(go.repository)||void 0,installCommand:t(go.installCommand)||void 0,targetPath:t(go.targetPath)||"~/dotfiles"}}function $f(){let e=he.workspace.getConfiguration();return{executablePath:e.get("remote.SSH.path"),configFilePath:e.get("remote.SSH.configFile")}}function Ps(e,t,r,n,i,o,s){var u,f;let a={resolver:t,outcome:r};n&&(a.hostType=n.cliHost.type),i&&(a.configProperties=JSON.stringify(Object.keys(i)),a.configExtensions=JSON.stringify(((f=(u=i.customizations)==null?void 0:u.vscode)==null?void 0:f.extensions)||[]),a.configFeatures=JSON.stringify(Object.keys(i.features||{})),"image"in i?a.configType="image":Yt(i)?a.configType="dockerfile":"dockerComposeFile"in i&&(a.configType="dockerCompose")),o&&(a.hardwareId=o.osRelease.hardware,a.osReleaseId=o.osRelease.id,a.osReleaseVersion=o.osRelease.version);let c=s&&s.originalError,l=c&&(c.stack||c.message||String(c))||s&&s.description;l&&(a.errorMessage=l),e.sendTelemetryEvent("resolver",a)}var vW=class{constructor(t){this.onClose=t;this.writeEmitter=new he.EventEmitter;this.onDidWrite=this.writeEmitter.event;this.inputEmitter=new he.EventEmitter;this.onDidInput=this.inputEmitter.event;this.queue=[];this.ready=!1}open(){this.ready=!0,this.queue.forEach(t=>this.writeEmitter.fire(t))}close(){this.ready=!1,this.onClose()}write(t){this.queue.push(t),this.ready&&this.writeEmitter.fire(t)}handleInput(t){this.inputEmitter.fire(t)}},EC=class{constructor(t,r,n=void 0){this.sessionStart=r;this.outputTerminal=new vW(()=>this._terminal=void 0);this.onDidInput=this.outputTerminal.onDidInput;this._name="Dev Containers";this._revealOnNextOutput=!1;let i=o=>{this.outputTerminal.write(o),this.revealOnNextOutput&&(this.revealOnNextOutput=!1,this.show())};this.logFilePath=t?hC.join(t,`remoteContainers-${r.toISOString().replace(/:/g,"-")}.log`):void 0,this.log=kpe(i,Vh,this.logFilePath,r,n),Object.defineProperty(this.log,"dimensions",{get:()=>{var o;return(o=this._terminal)==null?void 0:o.dimensions}}),this.log.onDidChangeDimensions=o=>he.window.onDidChangeTerminalDimensions(s=>{s.terminal===this._terminal&&o(s.dimensions)})}get name(){return this._name}set name(t){this._name=t}get revealOnNextOutput(){return this._revealOnNextOutput}set revealOnNextOutput(t){this._revealOnNextOutput=t}show(){this._terminal||(this._terminal=he.window.createTerminal({name:this.name,pty:this.outputTerminal})),this._terminal.show()}dispose(){this._terminal&&this._terminal.dispose()}get shown(){return!!this._terminal}};function kpe(e,t,r,n,i=void 0){let o=[];return r&&o.push(KO(r,()=>Math.min(pe.Debug,t()))),o.push(YO(e,t,n)),Vr(GO(o,i))}async function jk(e,t){let r=await Bn(e,t.Id);if(r&&r.State.Status==="running")try{await Et(e,"stop",r.Id)}catch(n){he.window.showErrorMessage(`Error stopping container: ${n.message}`)}}async function _C(e,t){let r=await Bn(e,t.Id);if(r&&r.State.Status!=="running")try{await Et(e,"start",r.Id)}catch(n){he.window.showErrorMessage(`Error starting container: ${n.message}`)}}async function yW(e,t){try{await Et(e,"rm",t)}catch(r){he.window.showErrorMessage(`Error removing container: ${r.message}`)}}async function qk(e,t){try{await Et(e,"volume","rm","--force",t)}catch(r){he.window.showErrorMessage(`Error removing volume: ${r.message}`)}}function Ipe(){return he.env.sessionId!=="someValue.sessionId"?he.env.sessionId:`${he.env.sessionId}_${Date.now()}`}function Tpe(e,t){let r=he.workspace.registerResourceLabelFormatter({scheme:"vscode-remote",authority:e.authority,formatting:{label:"${path}",separator:"/",workspaceSuffix:t,tildify:!0}});e.shutdowns.push(r.dispose.bind(r))}async function wW(e,t){if(e.globalState.get("removeOnStartup")===t)return await e.globalState.update("removeOnStartup",null),!0;let r=e.workspaceState.get("removeOnStartup",!1);return r&&await e.workspaceState.update("removeOnStartup",null),r}async function CW(e,t){await e.workspaceState.update("removeOnStartup",t)}async function $k(e,t){await e.globalState.update("removeOnStartup",t)}async function bW(e,t){return e.globalState.get("buildNoCache")===t?(await e.globalState.update("buildNoCache",null),!0):!1}async function Wh(e,t){await e.globalState.update("buildNoCache",t)}async function zh(e,t,r,n,i){await e.globalState.update("openEditorsOnStartup",{workspaceFolder:t,fileWithError:r==null?void 0:r.toString(),logFile:n,openLog:i})}async function EW(e){var r;let t=e.globalState.get("openEditorsOnStartup");if(t){await e.globalState.update("openEditorsOnStartup",void 0);let n=(r=he.workspace.workspaceFolders)==null?void 0:r.some(o=>o.uri.fsPath===t.workspaceFolder||o.uri.path===t.workspaceFolder),i=await Cl();if(n||i&&i.repositoryPath===t.workspaceFolder&&(n=!0),n){let o=t.fileWithError?Ve.parse(t.fileWithError):void 0;if(t.openLog==="onTheSide"&&await SW(o),t.openLog&&t.logFile){let s={viewColumn:t.openLog==="onTheSide"?he.ViewColumn.Beside:he.ViewColumn.One,preserveFocus:!0},a=await he.window.showTextDocument(he.Uri.file(t.logFile),s),c=new he.Position(a.document.lineCount-1,0);a.selection=new he.Selection(c,c),a.revealRange(a.selection)}return t.openLog!=="onTheSide"&&await SW(o),!0}}return!1}function _W(e){return[`vscode-remote:/workspaces/${e}/.devcontainer/devcontainer.json`,`vscode-remote:/workspaces/${e}/.devcontainer.json`]}async function SW(e){return e?he.commands.executeCommand("vscode.open",he.Uri.parse(e.toString()),{viewColumn:he.ViewColumn.One}):he.commands.executeCommand("remote-containers.openDevContainerFile",void 0,{viewColumn:he.ViewColumn.One})}async function Uk(e){if(Yr.results.size)return[...Yr.results.values()].filter(o=>o.config).map(o=>o.config.configFilePath);let t=No(),r=he.workspace.workspaceFolders||[],n=await Promise.all(r.map(async o=>{let s=at(e.path,We(o.uri,e.platform));return await So(e,s,t)})),i=he.workspace.workspaceFile;if(i&&i.scheme!=="untitled"){let o=at(e.path,We(i,e.platform)),s=await So(e,o,t);s&&n.indexOf(s)===-1&&n.unshift(s)}return n.filter(o=>!!o)}function No(){return jt(Ze.repositoryConfigurationPaths)||[]}async function Ape(e,t,r="localhost"){await he.workspace.openTunnel({remoteAddress:{host:r,port:t}})}function xW(e,t){let r=new EC(void 0,t);r.name="Configuring...",r.revealOnNextOutput=!0;let n=!1;r.onDidInput(()=>{n&&(n=!1,r.dispose())});let i,o={enabled:!0,skipNonBlocking:!1,output:cM(r.log,"postCreate",e),onDidInput:r.onDidInput,done:()=>{r.shown&&(r.log.raw("[1mDone. Press any key to close the terminal.[0m"),n=!0),i()},promise:new Promise(s=>i=s)};return{channel:r,postCreate:o}}async function Uf(e){let{authority:t,extensionContext:r,sessionStart:n,progress:i,cliHost:o,env:s,cwd:a,isLocalContainer:c,telemetry:l,output:u,logFilePath:f,allowSystemConfigChange:d,postCreate:p}=e,h=Epe(),m=me(K({computeExtensionHostEnv:!0},l),{appRoot:he.env.appRoot,localCacheFolder:await xo(),extensionPath:r.extensionPath,webConnectionToken:void 0,sessionId:Ipe(),sessionStart:n,authority:t,cliHost:o,env:s,cwd:a,isLocalContainer:c,getAdditionalExtensionsToInstall:bpe,isCopyGitConfigEnabled:_pe(),credentialHelperConfigLocation:Spe(),dotfilesConfiguration:Ppe(),progress:Npe(i),output:u,logFilePath:f,allowSystemConfigChange:d,defaultUserEnvProbe:"loginInteractiveShell",postCreate:p,getTelemetryLevel:()=>l.getTelemetryLevel(),forwardServerPort:!0,web:h,getLogLevel:Vh,onDidChangeLogLevel:xpe,loadNativeModule:Ro,shutdowns:[],forwardedPorts:new Set,backgroundTasks:[],setWorkspaceName:g=>Tpe(m,g),openTunnel:Ape,getTunnels:()=>Promise.resolve(he.workspace.tunnels),onAdoptProcess:he.window.onDidOpenTerminal,persistedFolder:await BU(o,r.globalStoragePath),alternateDownload:Lo,skipPostAttach:!1});return m}async function Lo(e,t){let r=await he.commands.executeCommand("_workbench.downloadResource",he.Uri.parse(e));if(!r)throw new $e({description:"Downloading the VS Code Server failed. Please try again later."});await Ho(r.fsPath,t)}var Bf=`[Starting Dev Container (show log)](command:${Kn} "Show details in terminal")`,Dpe=`[Configuring Dev Container (show log)](command:${Rk} "Show details in terminal")`,Rpe=`[Reading Dev Container Configuration (show log)](command:${Kn} "Show details in terminal")`,Ope={[Xr.Begin]:"",[Xr.CloningRepository]:"Cloning Repository",[Xr.BuildingImage]:"Building image",[Xr.StartingContainer]:"Starting container",[Xr.InstallingServer]:"Installing server",[Xr.StartingServer]:"Starting server",[Xr.End]:""};function Npe(e){let t=0;return r=>{let n=Xr.End-r,i=(100-t)/(n+1);e.report({message:Ope[r],increment:i}),t+=i}}async function PW(e,t,r){let{name:n,publisher:i,version:o,aiKey:s}=t;if(!s)return HO(t,r);let a=i?`${i}.${n}`:n,c=new aW.default(a,o,s);e.subscriptions.push(c);let l=new kW(c),u=Lpe(r),f=gW()?(0,ka.getExperimentationService)(a,o,u,l,e.globalState):void 0;return{sendTelemetryEvent:l.sendTelemetryEvent.bind(l),isCachedFlightEnabled:async d=>f&&gW()?f.isCachedFlightEnabled(d):!1,product:r,package:t,getTelemetryLevel:()=>c.telemetryLevel}}var kW=class{constructor(t){this.baseReporter=t;this.sharedProperties={}}sendTelemetryEvent(t,r,n){this.baseReporter.sendTelemetryEvent(t,K(K({},this.sharedProperties),r),n)}setSharedProperty(t,r){this.sharedProperties[t]=r}postEvent(t,r){let n={};for(let[i,o]of r)n[i]=o;this.sendTelemetryEvent(t,n)}};function Lpe(e){switch(e.quality){case"stable":return ka.TargetPopulation.Public;case"insider":return ka.TargetPopulation.Insiders;case"exploration":return ka.TargetPopulation.Internal;case void 0:return ka.TargetPopulation.Team;default:return ka.TargetPopulation.Public}}var Gh="Opening a folder in a Dev Container may execute arbitrary code both inside and outside the container.",Bk="userConfirmedCloneRepositoryInDevContainerRequiresTrust";async function Kh(e,t){if((t==null?void 0:t.toLowerCase().startsWith("https://github.com/microsoft/vscode-remote-try-"))||e.globalState.get(Bk))return!0;let r="Got It",n="Learn More",i=await he.window.showWarningMessage("Cloning a repository in a Dev Container may execute arbitrary code. ",{modal:!0,detail:"Only clone a repository in a Dev Container if you trust its authors."},r,n);return i===r?(await e.globalState.update(Bk,!0),!0):(i===n&&he.env.openExternal(he.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}var Hk="userConfirmedAttachToContainerRequiresTrust";async function Ia(e){if(e.globalState.get(Hk))return!0;let t="Got It",r="Learn More",n=await he.window.showWarningMessage("Attaching to a container may execute arbitrary code.",{modal:!0,detail:"Only attach to a container if you trust its origin."},t,r);return n===t?(await e.globalState.update(Hk,!0),!0):(n===r&&he.env.openExternal(he.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}function IW(e){e.globalState.setKeysForSync([Bk,Hk,Vk])}function TW(){let e=process.env.PATH||"";process.platform==="darwin"&&!/(^|:)\/usr\/local\/bin(:|$)/i.test(e)&&(process.env.PATH=`${e}:/usr/local/bin`)}var Vk="updatedToPreRelease2",Fpe="2022-01-19T05:14:31.474Z";async function AW(e,t){try{t.quality==="insider"&&t.date&&t.date.localeCompare(Fpe)>=0&&!e.globalState.get(Vk,!1)&&(await e.globalState.update(Vk,!0),await he.commands.executeCommand("workbench.extensions.installExtension","ms-vscode-remote.remote-containers",{installPreReleaseVersion:!0}))}catch(r){console.error(r)}}async function Wk(e,t,r,n,i=!1){try{return RS(e,t,r,Vh(),void 0,void 0,n,i)}catch{return}}async function zk(e,t,r,n,i=!1){let o=(async()=>{try{return ju(e,t,r,Vh(),void 0,void 0,n,i)}catch{return}})(),s=await Promise.race([o,new Promise(a=>setTimeout(()=>a("timeout"),1e3))]);return s!=="timeout"?s:he.window.withProgress({location:he.ProgressLocation.Notification,title:Rpe,cancellable:!0},async(a,c)=>Promise.race([o,new Promise(l=>{let u=c.onCancellationRequested(()=>{u.dispose(),l("canceled")})})]))}var Tt=te(require("vscode")),ct=te(require("path")),j9=te(require("fs"));var Ts=te(fT()),q9=te(y9());var $9=te(require("util"));var w9=te(require("path"));var sCe=["png","md","json","txt","map"],aCe=["node_modules",".git","bin","out","dist",".vscode-test"],cCe=[{tag:"function.json",pattern:/^function\.json$/i},{tag:"package.json",pattern:/^package\.json$/i},{tag:"sln",pattern:/^.+\.sln$/i},{tag:"project.json",pattern:/^project\.json$/i},{tag:"csproj",pattern:/^.+\.csproj$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"amlignore",pattern:/^.+\.amlignore$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"environment.yml",pattern:/^environment\.yml$/i},{tag:"_config.yml",pattern:/^_config\.yml$/i},{tag:"_config.toml",pattern:/^_config\.toml$/i},{tag:"server.xml",pattern:/^server\.xml$/i},{tag:"web.xml",pattern:/^web\.xml$/i}],C9={"Node.js":["package.json"],".NET Core":["sln","project.json","csproj"],"Azure Functions":["function.json"],"Azure Machine Learning":["azureml","amlignore"],Anaconda:["environment.yml"],Jekyll:["_config.yml","_config.toml"],Tomcat:["server.xml","web.xml"],Dapr:[]},b9={"C#":["cs"],"C++":["cpp","cxx",".cc","c++"],"F#":["fs"],JavaScript:["js"],TypeScript:["ts"],Java:["java"],Elm:["elm"],Go:["go"],Python:["py","ipynb"],Ruby:["rb"],Perl:["pl"],PHP:["php"],R:["r"],PowerShell:["ps1"],Dart:["dart"],Rust:["rs"],Swift:["swift"],ReasonML:["re"],TerraForm:["tf"]},lCe=["docker-existing-docker-compose","docker-existing-dockerfile","codespaces-linux"];async function LT(e,t){for(let r of t)if(r.metaData){if(lCe.indexOf(w9.basename(r.definitionFolder))>-1)continue;let n=0,i=0,o=r.metaData.get("languagesPlatforms");if(o){let s=o.split(",").map(a=>a.trim());if(s[0]==="Any")n+=5;else for(let a of s)if(b9[a]){let c=b9[a];for(let l of c)e.fileTypes.get(l.toLowerCase())&&(n+=10),e.mostPopularFileType===l&&(n+=10)}else if(C9[a]){let c=C9[a],l=!1;for(let u of c)e.configFiles.get(u)&&(l=!0,i+=20);l||(i-=20)}}r.recommendationScore=n+(i<0?-4:i)}}async function E9(e,t){return uCe(e,t.rootFolderPath,aCe,sCe)}async function uCe(e,t,r,n){let i=new Map,o=new Map,s=500;function a(p,h,m,g){let v=[];(e.readDirWithTypes||e.readDir)(p).then(C=>{if(m.count>=s)return m.count+=C.length,m.maxReached=!0,g(v);let b=C.length;if(b===0)return g(v);let _=C;m.count+C.length>s&&(m.maxReached=!0,b=s-m.count,_=C.slice(0,b)),m.count+=C.length;for(let P of _){let S=Array.isArray(P)?P[0]:P;(Array.isArray(P)?Promise.resolve((P[1]&gd.File)!=0):e.isFile(e.path.join(p,S))).then(I=>{I?(v.push(S),--b==0&&g(v)):h.indexOf(S)===-1?a(e.path.join(p,S),h,m,A=>{if(v=v.concat(A),--b==0)return g(v)}):--b==0&&g(v)},()=>{if(--b==0)return g(v)})}},()=>g(v))}let c=p=>{i.has(p)?i.set(p,i.get(p)+1):i.set(p,1)},l=p=>{for(let h of cCe)h.pattern.test(p)&&(o.has(h.tag)?o.set(h.tag,o.get(h.tag)+1):o.set(h.tag,1))},u=p=>{if(p.lastIndexOf(".")>=0){let h=p.split(".").pop();h&&!n.includes(h)&&c(h.toLowerCase())}l(p)},f=p=>[...p.entries()].reduce((h,m)=>m[1]>h[1]?m:h,["",0])[0],d={count:0,maxReached:!1};return new Promise((p,h)=>{a(t,r,d,async m=>{m.forEach(u),p({configFiles:o,fileTypes:i,fileCount:d.count,mostPopularFileType:f(i)})})})}var I0=te(require("path"));var Fa=te(require("vscode"));async function T0(){await Fa.window.showInformationMessage("You need to first save your workspace in a folder containing all its workspace folders.",{modal:!0})}function Ma(e,t){let r=Fa.workspace.fs;return{platform:e,path:e==="win32"?I0.win32:I0.posix,async isFile(n){try{return((await r.stat(Is(e,t,n))).type&Fa.FileType.File)!=0}catch(i){if((i==null?void 0:i.code)==="FileNotFound")return!1;throw i}},async readFile(n){try{let i=await r.readFile(Is(e,t,n));return Buffer.from(i)}catch(i){if((i==null?void 0:i.code)==="FileNotFound"){let o=new Error(`Could not read file: ${n}`);throw o.originalError=i,o.code="ENOENT",o}throw i}},async rename(n,i){try{let o=Is(e,t,n),s=Is(e,t,n);await r.rename(o,s)}catch(o){if((o==null?void 0:o.code)==="FileNotFound"){let s=new Error(`Could not rename  ${n} -> ${i}`);throw s.originalError=o,s.code="ENOENT",s}throw o}},async writeFile(n,i){await r.writeFile(Is(e,t,n),i)},async readDir(n){return(await r.readDirectory(Is(e,t,n))).map(o=>o[0])},async readDirWithTypes(n){return r.readDirectory(Is(e,t,n))},async mkdirp(n){await r.createDirectory(Is(e,t,n))},async toCommonURI(n){return Is(e,t,n)}}}function Is(e,t,r){let n=e==="win32"?"/"+r.replace(/\\/g,"/"):r;return t.with({path:n})}var A0=class{async readDocument(t){try{let r=await Fa.workspace.fs.readFile(t);return Buffer.from(r).toString()}catch{return}}async applyEdits(t,r,n){let i=Kt(n,r);await Fa.workspace.fs.writeFile(t,Buffer.from(i))}};var Te=te(require("vscode"));var tr=te(require("vscode")),D0=te(require("path"));async function FT(e,t){var i,o;let{fileHost:r}=e,n=await e.findDevContainerFiles();if(n.length){let s=n.length>1?(i=await tr.window.showQuickPick(n.map(f=>({label:f.scheme==="file"?f.fsPath:f.toString(),uri:f})),{placeHolder:"Select a container configuration file"}))==null?void 0:i.uri:n[0];if(!s)return;let a=r.path.dirname(We(s,r.platform)),c=r.path.basename(a)===".devcontainer"?r.path.dirname(a):a,l=at(r.path,c),u=await Rl(r,l);if(u){let f=me(K({},u.object),{configFilePath:u.uri}),d=await Uo();if("image"in f)return{workspace:l,config:u,imageName:f.image,manifest:await Rm(f.image,d)};if(Yt(f)){let p=((o=f.build)==null?void 0:o.args)||{},h=Zr(r,f),m=await MT(r,h,p);if(m)return K({workspace:l,config:u},m)}if("dockerComposeFile"in f){let p=await Sr(r,f),h=await t.readDockerComposeConfig(p,void 0),m=await _9(r,p,c,u.uri,f,h);if(m)return K({workspace:l,config:u},m)}return{workspace:l,config:u}}}else{let s="Add Files...";await tr.window.showInformationMessage("No container configuration file found.",{modal:!0},s)===s&&await Dl(e)}}async function _9(e,t,r,n,i,o){var f;let s=((o==null?void 0:o.services)||{})[i.service]||{},a=R0(e,t,r,s),c=a?os(e,n,a):void 0,l=c&&await MT(e,c,((f=s.build)==null?void 0:f.args)||{}),u=await Uo();if(l)return l;if(typeof s.image=="string")return{imageName:s.image,manifest:await Rm(s.image,u)}}function R0(e,t,r,n){let i=t.length?e.path.dirname(t[0]):r,o=n.build;if(typeof o=="string")return e.path.resolve(i,o,"Dockerfile");if(o&&typeof o=="object"&&typeof o.context=="string"){let s=typeof o.dockerfile=="string"?o.dockerfile:"Dockerfile";return e.path.resolve(i,o.context,s)}}async function MT(e,t,r){let i=await mr(e).readDocument(t);if(i){let o=(/^\s*FROM\s+(\S+)(\s|$)/m.exec(i)||[])[1]||void 0;if(o){let s=o.replace(/\$\{([^\}]+)\}/,(c,l)=>r[l]||c),a=await Uo();return{imageName:s,manifest:await Rm(s,a)}}}}async function S9(e){let t=await FT(e,{readDockerComposeConfig:async(r,n)=>{if(r[0])try{let i=await e.fileHost.readFile(r[0]);return hn(i.toString())}catch(i){e.output.write(ot(String(i&&(i.stack||i.message)||i)))}return{}}});t&&await jT(e,t,{})}async function jT(e,t,r){var h;let{fileHost:n}=e,{workspace:i,config:o}=t,s=tr.window.createQuickPick();s.ignoreFocusOut=!0;let a={fileHost:n,workspace:i,quickPick:s,telemetry:await e.telemetry,output:e.output},c={featureSets:[]},l=await N0(),u=Lc({distFolder:l}),f=await XS(u,a.output);if(!f)return;f=me(K({},f),{sourceInformation:{type:"local-cache"}}),c.featureSets.push(f),c=await ex(a,o.object,c,async()=>{var m,g;return K({"com.visualstudio.code.devcontainers.id":(m=t.manifest)==null?void 0:m.definitionName,version:(g=t.manifest)==null?void 0:g.definitionVersion},r)});let d=((h=c.featureSets.find(m=>m.sourceInformation.type==="local-cache"))==null?void 0:h.features.filter(m=>m.included))||[];if(!d.length){await tr.window.showInformationMessage("No container features available for the current base image.",{modal:!0});return}let p=await Al(a,d,d.filter(m=>m.value!==!1));try{if(p){let m=o.text,g=o.text;for(let v of d){let y=p[v.id];if(y!==jp(v)){let C=["features",v.id];if(y!==!1&&typeof v.value=="object"){let _=us(v);_&&C.push(_)}let b=bt(g,C,y!==!1?y:void 0,{formattingOptions:{}});g=Kt(g,b)}}m!==g&&await mr(n).applyEdits(o.uri,[{content:g,offset:0,length:o.text.length}],o.text)}}finally{s.dispose()}}async function O0(e,t,r,n){var u,f;if(!Dm())return t;let i=t.configText,o=(u=e.existingConfig)==null?void 0:u.object.features;if(!e.replaceExistingConfig&&o){r=me(K({},r),{features:K(K({},r.features),o)});for(let d in o){let p=bt(i,["features",d],o[d],{formattingOptions:{}});i=Kt(i,p)}}let s=Ma(process.platform,Ve.file(t.configFilePath)),a=await qT(e,s,r,t.basePath,D0.basename(t.definitionFolder)),c=((f=((a==null?void 0:a.featureSets)||[]).find(d=>d.sourceInformation.type==="local-cache"))==null?void 0:f.features.filter(d=>d.included))||[],l=await Al(e,c,c.filter(d=>d.value!==!1),!0,!0);if(!!l){if(l==="back")return n();for(let d of c){let p=l[d.id];if(p!==jp(d)){let h=["features",d.id];if(p!==!1&&typeof d.value=="object"){let g=us(d);g&&h.push(g)}let m=bt(i,h,p!==!1?p:void 0,{formattingOptions:{}});i=Kt(i,m)}}return me(K({},t),{configText:i})}}async function qT(e,t,r,n,i){var u;let o;if("image"in r)o=await Rm(r.image,n);else if(Yt(r)){let f=((u=r.build)==null?void 0:u.args)||{},d=Zr(t,r),p=await MT(t,d,f);o=p==null?void 0:p.manifest}else if("dockerComposeFile"in r){let f=await Sr(t,r);if(f.length&&await t.isFile(f[0])){let d=await t.readFile(f[0]),p=hn(d.toString()),h=await _9(t,f,e.workspace.rootFolderPath,r.configFilePath,r,p);o=h==null?void 0:h.manifest}o=o||i&&await $T(i,D0.join(n,"manifests"))||void 0}let s=await N0(),a=Lc({distFolder:s}),c={featureSets:[]},l=await XS(a,e.output);if(!!l)return l=me(K({},l),{sourceInformation:{type:"local-cache"}}),c.featureSets.push(l),c=await ex(e,r,c,async()=>({"com.visualstudio.code.devcontainers.id":o==null?void 0:o.definitionName,version:o==null?void 0:o.definitionVersion})),c}var Am={iconPath:new tr.ThemeIcon("check-all"),tooltip:"Finish"};async function Al(e,t,r,n=!0,i=!1){if(!t.length)return{};let o={iconPath:new tr.ThemeIcon("info"),tooltip:"Open Documentation"},s=e.quickPick.onDidTriggerItemButton(u=>{let f=u.item.feature.documentationURL;tr.env.openExternal(tr.Uri.parse(f))}),a=await Pn(e.quickPick,t.map(u=>({label:u.name,picked:r.indexOf(u)!==-1,buttons:u.documentationURL?[o]:void 0,feature:u})).sort((u,f)=>u.label.localeCompare(f.label)),"Select additional features to install",void 0,!0,i?[tr.QuickInputButtons.Back,Am]:[Am]);if(s.dispose(),!a)return;if(a.button===tr.QuickInputButtons.Back)return"back";let c=a.pick.map(u=>u.feature),l={};for(let u of t){let f=c.indexOf(u)!==-1;l[u.id]=f?jp(u)||EU(u):!1}return a.button===Am||!n?l:dCe(e,l,c,()=>Al(e,t,c))}function fCe(e){let t=us(e),r=t&&e.options&&e.options[t];return!!r&&r.type==="string"&&("enum"in r||"proposals"in r)}async function dCe(e,t,r,n){let i=r.filter(fCe);return async function o(s,a,c){if(!a.length)return s;let l=a[0],u=l.options[us(l)],f=("enum"in u&&u.enum||"proposals"in u&&u.proposals||[]).map(h=>({label:String(h),value:h,picked:jp(l)===h})),d=f.length===1?{pick:f[0],button:"ok"}:await Pn(e.quickPick,f,u.description||"Select a value",void 0,void 0,[tr.QuickInputButtons.Back,Am],"proposals"in u);if(!d)return;if(d.button===tr.QuickInputButtons.Back)return c();let p=me(K({},s),{[l.id]:d.pick.value});return d.button===Am?s:o(p,a.slice(1),()=>o(s,a,c))}(t,i,n)}function x9(){return tr.commands.executeCommand("setContext","experimentalContainerFeatures",Dm()),tr.workspace.onDidChangeConfiguration(e=>{qh(e,Ze.experimentalContainerFeatures)&&tr.commands.executeCommand("setContext","experimentalContainerFeatures",Dm())})}function Dm(){var e;return(e=jt(Ze.experimentalContainerFeatures))!=null?e:!0}var UT=te(require("path"));function P9(e){return{provideCompletionItems(t,r,n){let i=SN(t.getText(),t.offsetAt(r)),o=t.getWordRangeAtPosition(r)||new Te.Range(r,r);if(i.path[0]==="extensions"||i.path[0]==="vscode"&&i.path[1]==="extensions"){let s=pt(t.getText());return s.configFilePath=t.uri,pCe(s,o)}if(Dm()&&i.path[0]==="features"){let s=pt(t.getText());s.configFilePath=t.uri;try{return hCe(e,s,i,o)}catch(a){console.error(a)}}return[]}}}function pCe(e,t){var n,i;let r=((e==null?void 0:e.extensions)||[]).concat(((i=(n=e==null?void 0:e.customizations)==null?void 0:n.vscode)==null?void 0:i.extensions)||[]);if(Array.isArray(r)){let o=Te.extensions.all.filter(s=>!(s.id.startsWith("vscode.")||s.id==="Microsoft.vscode-markdown"||r.indexOf(s.id)>-1));if(o.length)return o.map(s=>{let a=new Te.CompletionItem(s.id),c=`"${s.id}"`;return a.kind=Te.CompletionItemKind.Value,a.insertText=c,a.range=t,a.filterText=c,a})}}async function hCe(e,t,r,n){var o,s;let i=t&&t.features||{};if(typeof i=="object"){if(t.configFilePath.scheme==="vscode-remote"&&e.fileHost.type==="local"){t=me(K({},t),{configFilePath:t.configFilePath.with({scheme:rr.scheme,authority:""})});let m=Te.env.remoteName&&Te.env.remoteName!=="test"?"linux":process.platform,g=((o=(Te.workspace.workspaceFolders||[])[0])==null?void 0:o.uri)||Ve.file(process.cwd());e=me(K({},e),{fileHost:await Ma(m,g)})}let{path:a}=e.fileHost,c=We(t.configFilePath,e.fileHost.platform),l=a.basename(c),u=a.dirname(c),f=at(a,l===".devcontainer.json"?u:a.dirname(u)),d=await Uo(),p=await qT(me(K({},e),{workspace:f}),e.fileHost,t,d),h=((s=((p==null?void 0:p.featureSets)||[]).find(m=>m.sourceInformation.type==="local-cache"))==null?void 0:s.features.filter(m=>m.included))||[];if(r.path.length===2)if(r.isAtPropertyKey){let m=h.filter(g=>!(g.id in i));if(m.length)return m.map(g=>{let v=new Te.CompletionItem(g.id),y=`"${g.id}": `;return v.kind=Te.CompletionItemKind.Property,v.insertText=y,v.range=n,v.filterText=y,v})}else{let m=r.path[1],g=h.find(v=>v.id===m);if(g){let v=us(g),y=v&&(g.options||{})[v]||{type:"boolean",description:"Set to true to install."},C=(y.type==="string"?("enum"in y&&y.enum||"proposals"in y&&y.proposals||[""]).map(b=>`"${b}"`):["true","false"]).map(b=>({label:b,text:b}));return C.push({label:"{}",text:new Te.SnippetString(`{
	$1
}$0`)}),C.map(({label:b,text:_},P)=>{let S=new Te.CompletionItem(b);return S.kind=Te.CompletionItemKind.Value,S.insertText=_,S.range=n,S.sortText=`${P}_${b}`,S})}}else if(r.path.length===3){let m=r.path[1],g=h.find(v=>v.id===m);if(g){let v=g.options||{};if(r.isAtPropertyKey)return Object.keys(v).filter(y=>!(y in(i[m]||{}))).map(y=>{let C=new Te.CompletionItem(y),b=`"${y}": `;return C.kind=Te.CompletionItemKind.Property,C.insertText=b,C.range=n,C.filterText=b,C.detail=v[y].description,C});{let y=r.path[2],C=v[y];if(C)return(C.type==="string"?("enum"in C&&C.enum||"proposals"in C&&C.proposals||[""]).map(_=>`"${_}"`):["true","false"]).map((_,P)=>{let S=new Te.CompletionItem(_),x=_;return S.kind=Te.CompletionItemKind.Value,S.insertText=x,S.range=n,S.filterText=x,S.sortText=`${P}_${_}`,S})}}}}}async function k9(e){let t=await BT(e);if((t==null?void 0:t.scheme)===rr.scheme){let r=We(t,e.fileHost.platform);t=await e.fileHost.toCommonURI(r)}t&&await Te.window.showTextDocument(Te.Uri.parse(t.toString()))}async function BT(e){let t=await e.findDevContainerFiles();if(!t.length){let n="Add Files...";await Te.window.showInformationMessage("No container configuration file found.",{modal:!0},n)===n&&await Dl(e)&&(t=await e.findDevContainerFiles())}if(!t.length)return;let r;return t.length===1?r={uri:t[0]}:r=await Te.window.showQuickPick(t.map(n=>({label:n.scheme==="file"?n.fsPath:n.toString(),uri:n})),{placeHolder:"Select a container configuration file"}),r==null?void 0:r.uri}async function I9(e,t){var n,i,o,s,a,c,l;let r=await BT(e);if(r){let u=mr(e.fileHost);r.scheme==="file"&&!await Gt(r.fsPath)?await pi(qi,r,[],is):r.scheme==="vscode-remote"&&(u=new A0);let f=await u.readDocument(r);if(f){let d=!/\.?devcontainer\.json/.test(UT.default.posix.basename(r.path)),p=pt(f),h=!d&&(((i=(n=p.customizations)==null?void 0:n.vscode)==null?void 0:i.extensions)||!p.extensions),m=(h?(s=(o=p.customizations)==null?void 0:o.vscode)==null?void 0:s.extensions:p.extensions)||[],g=e.openConfigurationCommandId?`[Dev Container configuration](command:${e.openConfigurationCommandId})`:"Dev Container configuration";if((p.extensions||[]).concat(((c=(a=p.customizations)==null?void 0:a.vscode)==null?void 0:c.extensions)||[]).indexOf(t)===-1){m.push(t);let v;h?((l=p.customizations)==null?void 0:l.vscode)?v=bt(f,["customizations","vscode","extensions"],m,{formattingOptions:{}}):p.customizations?v=bt(f,["customizations","vscode"],{extensions:m},{formattingOptions:{}}):v=bt(f,["customizations"],{vscode:{extensions:m}},{formattingOptions:{}}):v=bt(f,["extensions"],m,{formattingOptions:{}}),await u.applyEdits(r,v,f),await Te.window.showInformationMessage(`Extension has been added to the ${g}.`)}else await Te.window.showInformationMessage(`Extension is already included in the ${g}.`)}}}async function T9(e,t){var s,a;let r=await Te.commands.executeCommand("remote.tunnel.label",t);if(r===void 0)return;let n=r.label,i=r.port,o=await BT(e);if(o){let c=mr(e.fileHost);o.scheme==="file"&&!await Gt(o.fsPath)?await pi(qi,o,[],is):o.scheme==="vscode-remote"&&(c=new A0);let l=await c.readDocument(o);if(l){let f=(s=pt(l).portsAttributes)!=null?s:{},d=(a=f[`${i}`])!=null?a:{},p=e.openConfigurationCommandId?`[Dev Container configuration](command:${e.openConfigurationCommandId})`:"Dev Container configuration";if(f&&d&&d.label===n)await Te.window.showInformationMessage(`Port attributes are already included in the ${p}.`);else{d.label=n,f[`${i}`]=d;let h=bt(l,["portsAttributes"],f,{formattingOptions:{}});await c.applyEdits(o,h,l),await Te.window.showInformationMessage(`Port attributes have been added to the ${p}.`)}}}}function A9(e,t){let r=Te.languages.createDiagnosticCollection("devcontainer");return Te.window.activeTextEditor&&HT(Te.window.activeTextEditor.document,r,t.output),e.subscriptions.push(Te.workspace.onDidChangeTextDocument(n=>{n&&HT(n.document,r,t.output)})),e.subscriptions.push(Te.workspace.onDidOpenTextDocument(n=>{n&&HT(n,r,t.output)})),r.dispose}function HT(e,t,r){let n=UT.default.basename(e.uri.fsPath);if(/\.?devcontainer\.json/.test(n)){let i=iv(e.getText());if(!i)return;let o=ov(i)||{},s=[...gCe(e,o,r),...vCe(i,e)];t.set(e.uri,s)}}function mCe(e,t){let r=new RegExp("^[a-zA-Z0-9_-]*$");if(!e)return{type:void 0,tooltip:"Empty feature id"};if(!e.includes("/")&&!e.includes("\\")&&r.test(e))return{type:"local-cache",isLegacy:!0,level:Te.DiagnosticSeverity.Warning};if(e.startsWith("http://"))return{type:void 0,tooltip:"Direct tarball references must be served over HTTPS.",level:Te.DiagnosticSeverity.Error};if(e.startsWith("https://"))try{return Te.Uri.parse(e,!0).scheme==="https"?{type:"direct-tarball",level:void 0}:{type:void 0,level:Te.DiagnosticSeverity.Error,tooltip:"Failed to parse scheme of URI"}}catch{return{type:void 0,level:Te.DiagnosticSeverity.Error,tooltip:"Invalid URI"}}if(e.startsWith("/"))return{type:void 0,tooltip:"Absolute file paths are not allowed.  Local file path must be indicated relative to the devcontainer.json.",level:Te.DiagnosticSeverity.Error};if(e.startsWith("./")||e.startsWith("../"))return{type:"file-path"};if(e.split("/").length===3&&e.length>=5&&!e.includes("."))return new RegExp("^[a-zA-Z0-9_/@-]*$").test(e)?{type:"github-repo",isLegacy:!0,level:Te.DiagnosticSeverity.Warning}:{type:void 0,tooltip:"GitHub release feature id contains invalid characters",level:Te.DiagnosticSeverity.Error};let i=e.split("/");return e.includes(".")&&i.length>1&&i[1].length>=1?new RegExp("^[a-zA-Z0-9_/:.-]*$").test(e)?{type:"oci"}:{type:void 0,level:Te.DiagnosticSeverity.Error,tooltip:"OCI Feature id contains invalid characters"}:{type:void 0,level:Te.DiagnosticSeverity.Error,tooltip:"Failed to parse feature identifier."}}function gCe(e,t,r){let n=t==null?void 0:t.features;if(!n)return[];let i=[];return Object.keys(n).forEach(o=>{var a;let s=mCe(o,r);for(let c=0;c<e.lineCount;c++){let l=e.lineAt(c);if(l.text.includes(`"${o}"`)){let u=l.text.indexOf(o),f=u+o.length;if(s.hint){let p={message:s.hint,severity:Te.DiagnosticSeverity.Hint,range:new Te.Range(new Te.Position(c,u),new Te.Position(c,f))};i.push(p)}if(s.level!==void 0){let d=(a=s.tooltip)!=null?a:"",p=s.level,h={message:d,severity:p,range:new Te.Range(new Te.Position(c,u),new Te.Position(c,f)),code:{target:Te.Uri.parse("https://containers.dev/implementors/features/#referencing-a-feature"),value:"referencing-a-feature"}};i.push(h)}break}}}),i}function vCe(e,t){return["extensions","settings","devPort"].filter(r=>Gs(e,[r])&&Gs(e,["vscode",r])).map(r=>{var s,a;let n=(((a=(s=Gs(e,[r]))==null?void 0:s.parent)==null?void 0:a.children)||[])[0],i=t.positionAt(n.offset),o=t.positionAt(n.offset+n.length);return{message:`Legacy "${r}" property when "${r}" property under "vscode" is also present.`,range:new Te.Range(i,o),severity:Te.DiagnosticSeverity.Warning}})}var kn=te(require("vscode")),D9=te(require("os")),br=te(require("path"));var R9=te(ou()),id=te(fT());var O9=te(require("fs"));var VT={"user-agent":"devcontainer"};async function N9(e){let{fileHost:t,output:r}=e;r.write(" -- CREATEDEVCONTAINER v2");let n=await WT();if(n){let i=We(n,t.platform),o=at(t.path,i),s=await fu(t,o);if(s){let c="Continue";if(await kn.window.showInformationMessage(`The workspace could fail to open in a container: ${s}`,{modal:!0},c)!==c)return!1}let a=await yCe(e,o);if(a){let c=await t.toCommonURI(a);return c&&kn.window.showTextDocument(kn.Uri.parse(c.toString())),!0}}return!1}async function yCe(e,t){let{fileHost:r,telemetry:n,output:i}=e,o=await n,s=await Rl(r,t),c=!!ia(s==null?void 0:s.object)&&!!s;if(c){sn(o,"exists");let b=We(s.uri,r.platform);if(!await kn.window.showWarningMessage(`Dev Container configuration '${r.path.relative(t.configFolderPath,b)}' file already exists.`,{modal:!0},"Continue")){let P=await r.toCommonURI(b);P&&kn.window.showTextDocument(kn.Uri.parse(P.toString()));return}}let l=kn.window.createQuickPick();l.ignoreFocusOut=!0;let u=new Set,f=jt(Ze.additionalDefinitionIndexes)||[];f.length===0?i.write("No additional indexes provided via setting"):(i.write(`${f.length} additional indexes provided via setting.`),f.forEach(b=>u.add(b)));let d=jt(Ze.useEmbeddedV1PackagedCache)||!1,p=D9.tmpdir(),h=br.join(p,"collectionsMetadataCache.json"),m=me(K({},e),{quickPick:l,replaceExistingConfig:c,existingConfig:s,telemetry:o,workspace:t,codespaces:!!e.codespaces,indexes:u,tmpDir:p,collectionsMetadataCache:h,useEmbeddedV1PackagedCache:d}),g=await L9(m,{});if(!g){i.write("Failed to get definitions",pe.Error);return}let{mergedDefinitions:v,cachedAt:y,collectionsContainer:C}=g;return v.sort((b,_)=>{let P=b==null?void 0:b.categories.some(x=>x==="Core"),S=_==null?void 0:_.categories.some(x=>x==="Core");return P&&S?0:P?-1:1}),L0(m,v,y,C)}async function L0(e,t,r,n){var p;let{output:i,quickPick:o,fileHost:s,useEmbeddedV1PackagedCache:a}=e,c=[{iconPath:new kn.ThemeIcon("cloud-download"),tooltip:"Clear definitions cache and refetch.",action:"clear-cache"}],l=await Pn(o,t,`Select a container configuration definition (last cached ${r})`,void 0,void 0,c);if(!l)return;let u=l==null?void 0:l.pick,f=u==null?void 0:u.type,d=l==null?void 0:l.button;if(d!=="ok"&&d.action==="clear-cache"){i.write("Refresh Cache!");let h=await L9(e,{clearCache:!0});if(!h){o.dispose();return}return L0(e,h.mergedDefinitions,h.cachedAt,h.collectionsContainer)}if(f==="singleContainer"||f==="dockerCompose"){let h=await ECe(e,{},u);if(h==="back")return L0(e,t,r,n);(!h||Object.keys(h).length===0)&&i.write("No options returned",pe.Trace);let m,g=u.srcInfo;if(g){let v=(p=n.collections.find(y=>My(y.sourceInformation)===My(g)&&y.features))==null?void 0:p.features;if(v){let y=v.map(C=>me(K({},C),{value:!1}));m=await Al(e,v,y,!0)}}else i.write("No srcInfo for selected definition.  Not offering features.",pe.Warning);if(m==="back")return L0(e,t,r,n);o.busy=!0,o.enabled=!1;try{let v;if(i.write(`useEmbeddedV1PackagedCache is ${a}`),a)v=await CCe(e,u);else{let S=await ICe(e,u);if(!S){i.write("Failed to fetch definition",pe.Error),o.dispose();return}v=await wCe(e,S)}if(!v){i.write("Failed during configuration copy",pe.Error),o.dispose();return}let{devcontainerjsonPath:y,config:C,configText:b}=v,_=await bCe(e,h,C,b);if(!_){i.write("Failed during application of options",pe.Error),o.dispose();return}b=_.configText;let P=await _Ce(e,m,b);if(!P){i.write("Failed during application of features",pe.Error),o.dispose();return}return b=P.configText,await s.writeFile(y,Buffer.from(b)),y}finally{o&&o.dispose()}}i.write("Undefined behavior in definition selection UX",pe.Error),o.dispose()}async function wCe(e,t){let{workspace:r,fileHost:n,output:i}=e,{rootFolderPath:o}=r;await Vo(o,{recursive:!0,force:!0}),await n.mkdirp(o),await R9.x({file:t,cwd:o});let s=br.join(o,".devcontainer","devcontainer.json");if(!await n.isFile(s)){i.write(`No devcontainer.json found at expected path:  ${s}`),e.quickPick.dispose();return}let a=(await n.readFile(s)).toString(),c=pt(a),l=JSON.stringify(c,void 0,4);if(c.configFilePath=Ve.parse(s),!a||a===""||!c){i.write("devcontainer.json has no contents or could not be parsed.",pe.Error),e.quickPick.dispose();return}return{rootFolderPath:o,devcontainerjsonPath:s,config:c,configText:l}}async function CCe(e,t){let{workspace:r,fileHost:n,output:i}=e,{rootFolderPath:o}=r;await Vo(o,{recursive:!0,force:!0}),await n.mkdirp(br.join(o,".devcontainer"));let s=br.join(await Uo(),"containers",t.id),a=(await F0(s)).map(d=>br.relative(s,d));for(let d of a){let p=br.join(s,d),h=n.path.sep!==br.sep?d.replace(br.sep===br.win32.sep?/\\/g:/\//g,n.path.sep):d,m=n.path.join(o,h);await n.mkdirp(br.dirname(m)),(0,O9.copyFileSync)(p,m)}let c=br.join(o,".devcontainer","devcontainer.json"),l=(await n.readFile(c)).toString(),u=pt(l),f=JSON.stringify(u,void 0,4);if(u.configFilePath=Ve.parse(c),!l||l===""||!u){i.write("devcontainer.json has no contents or could not be parsed.",pe.Error),e.quickPick.dispose();return}return{rootFolderPath:o,devcontainerjsonPath:c,config:u,configText:f}}async function bCe(e,t,r,n){var a;let{output:i,fileHost:o}=e;if(!t||Object.keys(t).length===0)return{configText:n};if(!r)return;i.write("Applying selected options to devcontainer.json");let s=Object.keys(t);if(Yt(r)){let c=((a=r.build)==null?void 0:a.args)||{};s.forEach(l=>{let u=t[l];if(!u)return;let f=c[l];if(u!==f){let d=bt(n,["build","args",l],u,{formattingOptions:{}});n=Kt(n,d)}})}else if("dockerComposeFile"in r){let c=await Sr(o,r);if(c.length&&await o.isFile(c[0])){let l=(await o.readFile(c[0])).toString(),u;s.forEach(f=>{let d=t[f];if(!d)return;u||(u=id.parseDocument(l,{lineCounter:new id.LineCounter}));let p=u.getIn(["services","app","build"]);p.has("args")||p.set("args",new id.YAMLMap),p.get("args").set(f,String(d))}),u&&await o.writeFile(c[0],Buffer.from(u.toString()))}}return{configText:n}}async function ECe(e,t,r){if(!r.options)return;let n=r.options,i=Object.keys(n),o=i.length;if(!!i.length)return async function s(a,c,l){if(!c.length)return a;let u=c[0],f=n[u],d=("enum"in f&&f.enum||"proposals"in f&&f.proposals||[]).map(m=>({label:String(m),value:m})),p=d.length===1?{pick:d[0],button:"ok",picked:void 0}:await Pn(e.quickPick,d,(f==null?void 0:f.description)||"Select a value",void 0,void 0,[kn.QuickInputButtons.Back]);if(!p)return;if(p.button===kn.QuickInputButtons.Back)return c.length===o?"back":l();let h=me(K({},a),{[u]:p.pick.value});return s(h,c.slice(1),()=>s(a,c,l))}(t,i,async()=>{})}async function _Ce(e,t,r){let{output:n}=e;if(!t||!r){n.write("No features selected or no devcontainer.json to apply features to.",pe.Warning);return}let i=r,o=Object.keys(t);for(let s of o){let a=t[s],c=["features",s];if(a!==!1){let l=bt(i,c,a,{formattingOptions:{}});i=Kt(i,l)}}return{configText:i}}async function L9(e,{clearCache:t=!1}){let{output:r,collectionsMetadataCache:n,fileHost:i,useEmbeddedV1PackagedCache:o}=e;r.write("--- In getDefinitions_v2");let s;!t&&n&&await i.isFile(n)?s=pt((await i.readFile(n)).toString()):o?s=await xCe(e):s=await SCe(e);let a=s==null?void 0:s.collections,c=s==null?void 0:s.cachedAt;if(!s||!a||!c||a.length===0){r.write("Failed to gather definition collections metadata",pe.Error);return}let l=[];for(let u of a){let f=u.sourceInformation,d=f?JS(f)+"/":"";for(let p of u.definitions)l.push(me(K({},p),{srcInfo:f,label:(p==null?void 0:p.displayName)||p.id||"ERR: No id",description:`${d}${p.id}`,detail:(p==null?void 0:p.description)||"No Description"}))}return{mergedDefinitions:l,cachedAt:c,collectionsContainer:s}}async function SCe(e){let{output:t}=e;t.write("Populating collection(s) cache from internet...");let r=await PCe(e);if(!r){t.write("Failed to fetch collection names from indexes",pe.Error);return}return await kCe(e,r)}async function xCe(e){let{output:t,fileHost:r}=e;t.write("Populating collection(s) cache from from embedded package...");let n=[],i=br.join(await Uo(),"devcontainer-collection.json");if(!await r.isFile(i)){t.write("Embedded package does not contain devcontainer-collection.json",pe.Error);return}let o=pt((await r.readFile(i)).toString()),s={type:"local-cache"};return o.sourceInformation=s,n.push(o),await F9(e,n)}async function F9(e,t){let{output:r,tmpDir:n,collectionsMetadataCache:i,fileHost:o}=e,s={collections:t,cachedAt:"never"};if(s.cachedAt=new Date().toISOString(),r.write(`Fetched ${t.length} collections.`),r.write(`Cached at: ${s.cachedAt}`),i&&n){r.write(`Caching collection metadata to ${e.collectionsMetadataCache}`);let a=br.join(n,`metadata-tmp-${new Date().getMilliseconds()}`);await o.writeFile(a,Buffer.from(JSON.stringify(s))),await o.rename(a,i)}else r.write("Did not write collection to cache. Needs cache directory and path to cache to.",pe.Warning);return s}async function PCe(e){let{indexes:t,output:r}=e;if(!t)return;let n=new Set;for await(let i of t){let o={type:"GET",url:i,headers:VT},s;try{s=await Nc(o,r)}catch(c){r.write(`Failed to fetch index ${i} - ${c==null?void 0:c.message}`,pe.Error);continue}if(!s||s.length===0){r.write(`Did not receive a valid response from index defined at: ${i}`,pe.Error);continue}s.toString().split(`
`).filter(c=>c&&c.trim()!=="").forEach(c=>{n.add(c)})}if(n.add("https://github.com/microsoft/vscode-dev-containers/releases/latest/download/devcontainer-collection.json"),n.size===0){r.write("No collections set. Exiting.",pe.Warning);return}return n}async function kCe(e,t){let{output:r,tmpDir:n,collectionsMetadataCache:i}=e;if(!n||!i){r.write("Missing required metadata",pe.Error);return}let o=[];for await(let s of t){let a={type:"GET",url:s,headers:VT},c;try{c=await Nc(a,r)}catch(f){r.write(`Failed to fetch collection ${s} - ${f==null?void 0:f.message}`,pe.Error);continue}if(!c||c.length===0){r.write(`Did not receive a valid response from collection defined at: ${s}`,pe.Error);continue}let l=pt(c.toString()),u=QS(l.sourceInformation);l.sourceInformation=u,o.push(l)}if(o.length===0){r.write("No collections set. Exiting.",pe.Warning);return}return await F9(e,o)}async function ICe(e,t){let{output:r,tmpDir:n,fileHost:i}=e;if(!n||n===""){r.write("ERR: No tmpDir defined.",pe.Error);return}let o=`devcontainer-definition-${t.id}`;if(!t.srcInfo){r.write(`ERR: No srcInfo defined for definition ${t.id}`,pe.Error);return}let s=`https://github.com/${JS(t.srcInfo)}/releases/latest/download/${o}.tgz`,a={type:"GET",url:s,headers:VT},c;try{c=await Nc(a,r)}catch(u){r.write(`Failed to fetch definition ${s} - ${u==null?void 0:u.message}`,pe.Error);return}if(!c||c.length===0){r.write(`Did not receive a valid response from definition defined at: ${s}`,pe.Error);return}let l=br.join(n,`${o}-${new Date().getMilliseconds()}.tgz`);return await i.writeFile(l,c),l}var M0=te(require("vscode"));async function M9(e,t){let r=await TCe(e);if(!r){e.output.write("Failed to find configuration.  Cannot configure container features.",pe.Error);return}await DCe(e,r,(t==null?void 0:t.hiddenFeatureIds)||[])}async function TCe(e){var n;let{fileHost:t}=e,r=await e.findDevContainerFiles();if(r.length){let i=r.length>1?(n=await M0.window.showQuickPick(r.map(l=>({label:l.scheme==="file"?l.fsPath:l.toString(),uri:l})),{placeHolder:"Select a container configuration file"}))==null?void 0:n.uri:r[0];if(!i)return;let o=t.path.dirname(We(i,t.platform)),s=t.path.basename(o)===".devcontainer"?t.path.dirname(o):o,a=at(t.path,s),c=await Rl(t,a);if(c)return{workspace:a,config:c}}else{let i="Add Files...";await M0.window.showInformationMessage("No container configuration file found.",{modal:!0},i)===i&&await Dl(e)}}async function ACe(e){let{output:t}=e,i=await Nc({type:"GET",url:"https://containers.dev/static/devcontainer-index.json",headers:{"user-agent":"devcontainers-vscode",Accept:"application/json"}},t),o=pt(i.toString());if(o.collections.length===0||o.collections[0].features.length===0){t.write("No container features retrieved from index.",pe.Error);return}return o}async function DCe(e,t,r){let{fileHost:n}=e,{workspace:i,config:o}=t,s=M0.window.createQuickPick();s.ignoreFocusOut=!0;let a={fileHost:n,workspace:i,quickPick:s,telemetry:await e.telemetry,output:e.output},c=await ACe(e);if(!c)return;let l=c.collections.reduce((d,p)=>d.concat(p.features),[]).filter(d=>!r.includes(d.id)),u=[];if(o.object.features&&Object.entries(o.object.features).length>0){let d=Object.keys(o.object.features);u=l.filter(p=>d.some(h=>h.split(":")[0]===p.id))}let f=await Al(a,l,u,!1,!0);if(!(!f||f==="back"))try{if(f){let d=o.text,p=o.text;if(!o.object.features){let h=bt(p,["features"],{},{formattingOptions:{}});p=Kt(p,h)}for(let h of l){let m=[],g=h.majorVersion?`${h.id}:${h.majorVersion}`:h.id,v=["features",g];if(!f[h.id])m=m.concat(bt(p,v,void 0,{formattingOptions:{}}));else{let y={};if(h.options&&Object.keys(h.options).length>0){Object.entries(h.options).forEach(([b,_])=>{y=me(K({},y),{[b]:_.default||"<NO DEFAULT>"})});let C=y;m=m.concat(bt(p,v,C,{formattingOptions:{}}))}else m=m.concat(bt(p,v,!0,{formattingOptions:{}}))}p=Kt(p,m)}d!==p&&await mr(n).applyEdits(o.uri,[{content:p,offset:0,length:o.text.length}],o.text)}}catch(d){e.output.write(`Error in selecting dev container features: ${d}`,pe.Error),console.log("Error in selecting dev container features: ",d)}finally{s.dispose()}}async function U9(e,t){return A9(e,t),{async openConfiguration(){return k9(t)},async createConfiguration(){return jt(Ze.experimentalAddDefinitionUX)||!1?N9(t):Dl(t)},async addExtensionToConfiguration(r){return I9(t,r)},async addPortLabelToConfiguration(r){return T9(t,r)},async configureContainerFeatures(r){return jt(Ze.dynamicallyFetchFeaturesFromIndex)||!1||(r==null?void 0:r.dynamicallyFetchFeaturesFromIndex)?M9(t,r):S9(t)},createCompletionItemProvider(){return P9(t)}}}async function Dl(e){let{fileHost:t,output:r}=e;r.write(" -- CREATEDEVCONTAINER v1");let n=await WT();if(n){let i=We(n,t.platform),o=at(t.path,i),s=await fu(t,o);if(s){let c="Continue";if(await Tt.window.showInformationMessage(`The workspace could fail to open in a container: ${s}`,{modal:!0},c)!==c)return!1}let a=await Om(e,o);if(a){let c=await t.toCommonURI(a);return c&&Tt.window.showTextDocument(Tt.Uri.parse(c.toString())),!0}}return!1}async function WT(){let e=Tt.workspace.workspaceFile,t=Tt.workspace.workspaceFolders,r;if(e){if(e.scheme==="untitled"){await T0();return}r=e}else if(t&&t.length)if(t.length>1){let n=await Tt.window.showWorkspaceFolderPick({placeHolder:"Select a folder to create a container configuration for"});n&&(r=n.uri)}else r=t[0].uri;return r}function Pn(e,t,r,n,i,o,s){if(e.value="",e.title=n||"Add Dev Container Configuration Files",e.placeholder=r,e.canSelectMany=!!i,Array.isArray(t))if(e.items=t,i)e.selectedItems=t.filter(l=>l.picked);else{let l=t.find(u=>u.picked);l&&(e.activeItems=[l])}e.buttons=o?Array.isArray(o)?o:[Tt.QuickInputButtons.Back]:[];let a=[],c=new Promise((l,u)=>{if(Array.isArray(t)||(e.busy=!0,t.then(f=>{if(e.busy=!1,e.items=f,i)e.selectedItems=f.filter(d=>d.picked);else{let d=f.find(p=>p.picked);d&&(e.activeItems=[d])}},f=>{e.busy=!1,u(f)})),a.push(e.onDidAccept(()=>{let f=i?e.selectedItems.slice():e.selectedItems[0];l(Array.isArray(o)?{pick:f,button:"ok"}:f),a.forEach(d=>d.dispose())})),e.buttons.length&&a.push(e.onDidTriggerButton(f=>{let d=i?e.selectedItems.slice():e.activeItems[0];l(o===!0?"back":{pick:d,button:f}),a.forEach(p=>p.dispose())})),a.push(e.onDidHide(()=>{a.forEach(f=>f.dispose()),e.dispose(),l(void 0)})),s){let f;a.push(e.onDidChangeValue(d=>{let p=d.trim().toLowerCase(),h=!p||e.items.find(m=>m.label.toLowerCase()===p);if(h&&f)e.items=e.items.filter(m=>m!==f),f=void 0;else if(!h){let m=e.items.filter(g=>g!==f);m.push(f={label:`Other: ${d}`,value:d}),e.items=m}}))}});return e.show(),c}var zT={label:"Learn More",description:"Documentation on predefined container definitions",alwaysShow:!0,type:"help"};async function Om(e,t){let{fileHost:r,telemetry:n}=e,i=await n,o=await Rl(r,t),a=!!ia(o==null?void 0:o.object)&&!!o;if(a){sn(i,"exists");let l=We(o.uri,r.platform);if(!await Tt.window.showWarningMessage(`Dev Container configuration '${r.path.relative(t.configFolderPath,l)}' file already exists.`,{modal:!0},"Continue")){let f=await r.toCommonURI(l);f&&Tt.window.showTextDocument(Tt.Uri.parse(f.toString()));return}}let c=Tt.window.createQuickPick();return c.ignoreFocusOut=!0,GT(me(K({},e),{quickPick:c,replaceExistingConfig:a,existingConfig:o,telemetry:i,workspace:t,codespaces:!!e.codespaces,tmpDir:void 0,indexes:void 0,collectionsMetadataCache:void 0,useEmbeddedV1PackagedCache:void 0}))}async function j0(){return await $Ce(void 0)}async function GT(e){let{fileHost:t,workspace:r,telemetry:n,existingFilesLearnMoreLink:i}=e,o=await t.readDir(r.rootFolderPath),s=o.filter(p=>/docker.*compose/i.test(p)).map(p=>t.path.join(r.rootFolderPath,p)),a=o.filter(p=>/dockerfile/i.test(p)).map(p=>t.path.join(r.rootFolderPath,p)),c=a.map(p=>{let h=t.path.basename(p);return{label:`From '${h}'`,description:J9(t,p),dockerfile:h,dockerfilePath:p,detail:`Refer to the existing '${h}' in the container configuration`,type:"dockerfile"}}),l=s.map(p=>{let h=t.path.basename(p);return{label:`From '${h}'`,description:J9(t,p),dockerComposeFile:h,dockerComposePath:p,detail:`Refer to the existing '${h}' in the container configuration`,type:"dockerComposeFile"}});if(!(a.length>0||s.length>0))return q0(e,void 0);let f={label:"From a predefined container configuration definition...",detail:"Use a base configuration from the container definition registry",alwaysShow:!0,type:"predefined"},d=await Pn(e.quickPick,[f,...c,...l,...i?[zT]:[]],"How would you like to create your container configuration?");if(!d){sn(n,"canceled");return}if(d.type==="help"){sn(n,"help"),Tt.env.openExternal(i);return}if(d.type==="predefined")return q0(e,()=>GT(e));if(d.type==="dockerComposeFile")return MCe(e,d.dockerComposePath,()=>GT(e));if(d.type==="dockerfile")return FCe(e,d.dockerfilePath)}function B9(e){let t=e.metaData.get("categories");return t?t.trim().split(", ").indexOf("Core")>-1:!1}async function RCe(e){let{fileHost:t,workspace:r,predefinedDefinitionsLearnMoreLink:n}=e,i=e.stats||(e.stats=await E9(t,r)),o=await X9(e,LT.bind(null,i)),s=[];i.mostPopularFileType.length===0?s=await qCe(e):s=o.filter(c=>c.recommendationScore&&c.recommendationScore>0&&B9(c));let a;return s.length>0?a=[{label:"Show All Definitions...",detail:"Show all available predefined container definitions.",alwaysShow:!0,type:"showAll"},...n?[zT]:[],...s]:a=[...n?[zT]:[],...o],{items:a,stats:i}}async function q0(e,t){let{telemetry:r,predefinedDefinitionsLearnMoreLink:n}=e,i=RCe(e),{infoButton:o,sub:s}=V9(e),a=i.then(l=>l.items.map(u=>u.type==="baseConfiguration"?me(K({},u),{buttons:[o]}):u)),c=await Pn(e.quickPick,a,"Select a container configuration definition",void 0,void 0,!!t);if(s.dispose(),c==="back")return t();if(!c){sn(r,"canceled");return}if(c.type==="help"){sn(r,"help"),Tt.env.openExternal(n);return}if(c.type==="showAll")return H9(e,(await i).stats,()=>q0(e,t));if(c.type==="baseConfiguration")return W9(e,c,()=>q0(e,t))}async function H9(e,t,r){let{telemetry:n}=e,i=await X9(e,LT.bind(null,t)),{infoButton:o,sub:s}=V9(e),a=i.map(l=>l.type==="baseConfiguration"?me(K({},l),{buttons:[o]}):l),c=await Pn(e.quickPick,a,"Select a container configuration definition",void 0,void 0,!0);if(s.dispose(),c==="back")return r();if(c&&c.type==="baseConfiguration")return W9(e,c,()=>H9(e,t,r));sn(n,"canceled")}function V9(e){let t={iconPath:new Tt.ThemeIcon("info"),tooltip:"Open Documentation"},r=e.quickPick.onDidTriggerItemButton(n=>{let i=`https://github.com/microsoft/vscode-dev-containers/blob/main/containers/${ct.basename(n.item.definitionFolder)}/README.md`;Tt.env.openExternal(Tt.Uri.parse(i))});return{infoButton:t,sub:r}}async function W9(e,t,r){let{telemetry:n}=e,i=await OCe(e,t);if(!i){sn(n,"canceled");return}return i==="back"?r():(sn(n,"definition",ct.basename(i.definitionFolder)),KT(e,i))}async function KT(e,t){let{quickPick:r}=e;r.busy=!0,r.enabled=!1;try{return await VCe(e,t)}finally{r.hide()}}async function OCe(e,t){let r=pt(t.configText);if(r.configFilePath=Ve.file(t.configFilePath),Yt(r))return NCe(e,t,r,async()=>"back",(n,i)=>z9(e,n,r,i));if("dockerComposeFile"in r){let n=Ma(process.platform,Ve.file(t.configFilePath));return LCe(e,t,n,r,async()=>"back",(i,o)=>G9(e,i,n,r,o))}return O0(e,t,r,async()=>"back")}async function NCe(e,t,r,n,i){var c;let o=Zr({platform:process.platform},r),s=((c=r.build)==null?void 0:c.args)||{},a=await K9(o,s);return async function l(u,f,d){if(!f.length)return i(me(K({},t),{configText:u}),d);let p=f[0],h=await Pn(e.quickPick,p.items,p.placeholder,void 0,void 0,!0);if(!h)return;if(h==="back")return d();let m=u;if(h.value!==p.default){let g=bt(m,["build","args",p.name],h.value,{formattingOptions:{}});m=Kt(m,g)}return l(m,f.slice(1),()=>l(u,f,d))}(t.configText,a,n)}async function z9(e,t,r,n){var u;let i=Zr({platform:process.platform},r),o=((u=r.build)==null?void 0:u.args)||{},{options:s,hasOptions:a}=await Y9(i,o),c=s.length?await Pn(e.quickPick,s,a?`Select the options for the '${t.label}' dev container`:`Select the install options for the '${t.label}' dev container`,void 0,!0,!0):[];if(!c)return;if(c==="back")return n();let l=t.configText;for(let f of s){let d=c.indexOf(f)!==-1;if(d!==f.default){let p=bt(l,["build","args",f.name],String(d),{formattingOptions:{}});l=Kt(l,p)}}return O0(e,me(K({},t),{configText:l}),r,s.length?()=>z9(e,t,r,n):n)}async function LCe(e,t,r,n,i,o){var a;let s=await Sr(r,n);if(s.length&&await r.isFile(s[0])){let c=t.files||{},l=c[s[0]]||(await r.readFile(s[0])).toString(),u=hn(l),f=((u==null?void 0:u.services)||{})[n.service]||{},d=e.workspace.rootFolderPath,p=R0(r,s,d,f);if(p){let h=n.configFilePath,m=os(r,h,p),g=((a=f.build)==null?void 0:a.args)||{},v=await K9(m,g),y;return async function C(b,_){if(!b.length)return y&&(c[s[0]]=y.toString()),o(me(K({},t),{files:c}),_);let P=b[0],S=await Pn(e.quickPick,P.items,P.placeholder,void 0,void 0,!0);if(!!S){if(S==="back")return _();if(S.value!==P.default){y||(y=Ts.parseDocument(l,{lineCounter:new Ts.LineCounter}));let x=y.getIn(["services","app","build"]);x.has("args")||x.set("args",new Ts.YAMLMap),x.get("args").set(P.name,S.value)}return C(b.slice(1),()=>C(b,_))}}(v,i)}}return o(t,i)}async function G9(e,t,r,n,i){var c;let o=!1,s=t.files||{},a=await Sr(r,n);if(a.length&&await r.isFile(a[0])){let l=s[a[0]]||(await r.readFile(a[0])).toString(),u=hn(l),f=((u==null?void 0:u.services)||{})[n.service]||{},d=e.workspace.rootFolderPath,p=R0(r,a,d,f);if(p){let h=n.configFilePath,m=os(r,h,p),g=((c=f.build)==null?void 0:c.args)||{},{options:v,hasOptions:y}=await Y9(m,g);o=!!v.length;let C=v.length?await Pn(e.quickPick,v,y?`Select the options for the '${t.label}' dev container`:`Select the install options for the '${t.label}' dev container`,void 0,!0,!0):[];if(!C)return;if(C==="back")return i();let b;for(let _ of v){let P=C.indexOf(_)!==-1;if(P!==_.default){b||(b=Ts.parseDocument(l,{lineCounter:new Ts.LineCounter}));let S=b.getIn(["services","app","build"]);S.has("args")||S.set("args",new Ts.YAMLMap),S.get("args").set(_.name,String(P))}}b&&(s[a[0]]=b.toString())}}return O0(e,me(K({},t),{files:s}),n,o?()=>G9(e,t,r,n,i):i)}async function K9(e,t){let r=(await rt(e.fsPath)).toString(),n=/^#\s*\[Choice\]\s*([^:\r\n]+):(.*)\r?\nARG\s+([^=\s]+)="?([^"\r\n]*)"?\s*$/gm,i,o=[];for(;i=n.exec(r);)o.push(i);return o.map(([,s,a,c,l])=>{let u=t[c]||l,f=a.trim().split(",").map(p=>p.trim()).map(p=>({label:p,description:p===u?"(default)":void 0,value:p})),d=f.findIndex(p=>p.value===u);return d!==-1&&f.unshift(...f.splice(d,1)),{placeholder:s||c,name:c,default:u,items:f}})}async function Y9(e,t){let r=(await rt(e.fsPath)).toString(),n=/^#\s*\[(Option|Install)\]\s*(.+)\r?\nARG\s+([^=\s]+)="?(true|false)"?\s*$/gm,i,o=[];for(;i=n.exec(r);)o.push(i);let s=o.map(([,c,l,u,f])=>{let p=(t[u]||f)==="true";return{type:c.toLowerCase(),label:l||u,picked:p,name:u,default:p}}),a=s.some(c=>c.type==="option");return a&&s.filter(c=>c.type==="install").forEach(c=>c.label=`Install ${c.label}`),{options:s,hasOptions:a}}function J9(e,t){let r=Tt.workspace.workspaceFolders||[];if(r.length<2)return;let n=r.find(i=>e.platform==="win32"?t.toLowerCase().startsWith(i.uri.fsPath.toLowerCase()):t.startsWith(i.uri.fsPath));return n&&n.name}async function FCe(e,t){let{fileHost:r,workspace:n,telemetry:i}=e,s=(await j0()).find(a=>ct.basename(a.definitionFolder)==="docker-existing-dockerfile");if(s){let a=ct.relative(s.definitionFolder,s.configFilePath),c=r.path.sep!==ct.sep?a.replace(ct.sep===ct.win32.sep?/\\/g:/\//g,r.path.sep):a,l=r.path.resolve(n.configFolderPath,c),u=r.path.relative(r.path.dirname(l),t),f=r.platform==="win32"?u.replace(/\\/g,"/"):u,d="dockerFile"in pt(s.configText)?["dockerFile"]:["build","dockerfile"],p=bt(s.configText,d,f,{formattingOptions:{}}),h=Kt(s.configText,p);return sn(i,"dockerFile"),KT(e,me(K({},s),{configText:h}))}else{sn(i,"existingDockerfileDefinitionNotFound");return}}async function MCe(e,t,r){let{fileHost:n,workspace:i,telemetry:o}=e,s=(await n.readFile(t)).toString(),a=hn(s);if(!a){await Tt.window.showErrorMessage(`Invalid docker-compose file "${t}"`,{modal:!0});return}let c=a.version,l=Object.keys(a&&a.services||{}),u=l.length<2?l[0]||"":await Pn(e.quickPick,l.map(h=>({label:h,type:"service"})),"Select a service",void 0,void 0,!0);if(u==="back")return r();if(u===void 0){sn(o,"canceled");return}let f=typeof u=="string"?u:u.label,p=(await j0()).find(h=>ct.basename(h.definitionFolder)==="docker-existing-docker-compose");if(p){let h=ct.relative(p.definitionFolder,p.configFilePath),m=n.path.sep!==ct.sep?h.replace(ct.sep===ct.win32.sep?/\\/g:/\//g,n.path.sep):h,g=n.path.resolve(i.configFolderPath,m),v=n.path.relative(n.path.dirname(g),t),y=n.platform==="win32"?v.replace(/\\/g,"/"):v,C=pt(p.configText).dockerComposeFile,b=Array.isArray(C)?C.slice(1):[],_=[y,...b],P=bt(p.configText,["dockerComposeFile"],_,{formattingOptions:{}}),S=Kt(p.configText,P),x=bt(S,["service"],f,{formattingOptions:{}}),I=Kt(S,x),A=b.reduce((L,J)=>(L[kc({platform:process.platform},{configFilePath:Ve.file(p.configFilePath)},J).fsPath]=!0,L),{}),O=me(K({},p),{configText:I,async copyFile(L,J){if(A[L]){let z=this.files&&this.files[L]||(await rt(L)).toString(),ee=hn(z);ee.version&&c&&ee.version!==c&&(z=z.replace(new RegExp(`^(version:.*)(${ee.version.replace(/\./g,"\\.")})`,"m"),`$1${c}`));let ie=Object.keys(ee&&ee.services||{});ie.length&&(z=z.replace(new RegExp(`\\b${ie[0]}\\b`),f)),await n.writeFile(J,Buffer.from(z))}else{let z=this.files&&this.files[L]?Buffer.from(this.files[L]):await rt(L);await n.writeFile(J,z)}}});return sn(o,"dockerComposeFile"),KT(e,O)}else{sn(o,"existingDockerComposeDefinitionNotFound");return}}function sn(e,t,r){let n={outcome:t};r&&(n.definitionName=r),e.sendTelemetryEvent("createConfiguration",n)}function jCe(e,t){let r=t.recommendationScore===void 0?0:t.recommendationScore,n=e.recommendationScore===void 0?0:e.recommendationScore;return r-n}var Q9=["docker-existing-docker-compose","docker-existing-dockerfile"];async function X9(e,t){let{codespaces:r}=e,n=(await j0()).filter(i=>Q9.indexOf(ct.basename(i.definitionFolder))===-1);return r&&(n=n.filter(i=>!/^\s*no\b/i.test(i.metaData.get("codespaces")||"yes"))),t?(await t(n),n.sort(jCe)):n.sort((i,o)=>i.label.localeCompare(o.label))}async function qCe(e){let{codespaces:t}=e,r=(await j0()).filter(n=>Q9.indexOf(ct.basename(n.definitionFolder))===-1);return r=r.filter(n=>B9(n)),t&&(r=r.filter(n=>!/^\s*no\b/i.test(n.metaData.get("codespaces")||"yes"))),r.sort((n,i)=>n.label.localeCompare(i.label))}async function $Ce(e){let t=!e;e=e!=null?e:await Uo();let r=new q9.default,n=ct.join(e,"containers"),i=ct.join(e,"containers-readmes"),o=await ti(n);return(await Promise.all(o.map(async a=>{var C;let c=ct.join(n,a),l=await oy(c),u=l&&await HCe(l);if(!u)return;let f=pt(u);f.configFilePath=Ve.file(l);let[,d,p]=((C=f.name)==null?void 0:C.match(/^(.*)(\([^)]*\))$/))||[],h=(d==null?void 0:d.trim())||f.name||a,m=p,g,v=ct.join(i,a,"README.md"),y=new Map;if(await Gt(v))try{let b=await rt(v,{encoding:"utf8"}),_=/\#\s*summary.*\n*(.*)/i.exec(b);if(_){let P=r.render(_[1]);g=UCe(P);let S=g.indexOf(". ");S!==-1&&(g=g.substr(0,S+1))}y=BCe(b)}catch(b){console.error(b)}return{label:h,description:m,type:"baseConfiguration",detail:g,definitionFolder:c,configText:u,configFilePath:l,metaData:y,isV2:!t,basePath:e}}))).filter(a=>!!a)}function UCe(e){return e.replace(/<[^>]*>/g,"").trim().replace(/&#([0-9]+);/g,function(t,r){return String.fromCodePoint(parseInt(r,10))}).replace(/&#x([0-9a-f]+);/g,function(t,r){return String.fromCodePoint(parseInt(r,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(t){switch(t){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return t})}function BCe(e){let t=new Map,r=!1,n=/^\s*\|\s*Metadata\s*\|\s*Value\s*\|/i,i=/^\s*\|/gi,o={categories:/^\s*\|\s*\*Categories\*\s*\|\s*(.*)\s*\|/i,contributors:/^\s*\|\s*\*Contributors\*\s*\|\s*(.*)\s*\|/i,definitionType:/^\s*\|\s*\*Definition type\*\s*\|\s*(.*)\s*\|/i,codespaces:/^\s*\|\s*\*Works in Codespaces\*\s*\|\s*(.*)\s*\|/i,languagesPlatforms:/^\s*\|\s*\*Languages, platforms\*\s*\|\s*(.*)\s*\|/i},s=e.toString().split(`
`);for(let a of s)if(!r)a.match(n)&&(r=!0);else{if(!a.match(i))break;for(let c in o){let l=a.match(o[c]);l&&l[1]&&t.set(c,l[1])}}return t}async function HCe(e){return await Gt(e)?(await rt(e)).toString():void 0}async function VCe(e,t){let{fileHost:r,workspace:n,replaceExistingConfig:i,existingConfig:o,output:s}=e,a=n.configFolderPath,c="Skip",l=(await F0(t.definitionFolder)).map(d=>ct.relative(t.definitionFolder,d)),u,f;for(let d of l){let p=ct.join(t.definitionFolder,d),h=p===t.configFilePath,m=r.path.sep!==ct.sep?d.replace(ct.sep===ct.win32.sep?/\\/g:/\//g,r.path.sep):d,g=r.path.join(a,m);if(h&&!i&&o){let v=pt(t.configText);try{f=WCe(r,v,g,o)}catch(y){await GCe(y,r,g,m,s);return}g=We(o.uri,r.platform)}else if(await r.isFile(g)){let v=await Tt.window.showInformationMessage(`File '${m}' already exists, overwrite?`,{modal:!0},c,"Overwrite");if(!v)return;if(v===c)continue}if(await r.mkdirp(r.path.dirname(g)),h)u=g,await r.writeFile(g,Buffer.from(f||t.configText));else if(t.copyFile)await t.copyFile(p,g);else{let v=t.files&&t.files[p]?Buffer.from(t.files[p]):await rt(p);await r.writeFile(g,v)}}return u}function WCe(e,t,r,n){var u,f,d,p,h,m,g,v,y,C,b,_,P,S;let i=n.text,o=We(n.uri,e.platform);if("image"in t)i=Dt(i,["image"],t.image);else if("dockerFile"in t){let x=od(e,r,o,t.dockerFile);if(i=Dt(i,["dockerFile"],x),t.context){let I=od(e,r,o,t.context);i=Dt(i,["context"],I)}}else if("build"in t){let x=od(e,r,o,t.build.dockerfile);if(i=Dt(i,["build","dockerfile"],x),t.build.context){let I=od(e,r,o,t.build.context);i=Dt(i,["build","context"],I)}i=Dt(i,["build","target"],t.build.target),i=Dt(i,["build","args"],t.build.args)}else if("dockerComposeFile"in t){let x=zCe(e,r,o,t.dockerComposeFile);i=Dt(i,["dockerComposeFile"],x),i=Dt(i,["service"],t.service),i=Dt(i,["workspaceFolder"],t.workspaceFolder)}t.features&&(i=Dt(i,["features"],t.features));let s=JT(((f=(u=t.customizations)==null?void 0:u.vscode)==null?void 0:f.settings)||t.settings,((p=(d=n.object.customizations)==null?void 0:d.vscode)==null?void 0:p.settings)||n.object.settings);((m=(h=n.object.customizations)==null?void 0:h.vscode)==null?void 0:m.settings)||!n.object.settings?((g=n.object.customizations)==null?void 0:g.vscode)?i=Dt(i,["customizations","vscode","settings"],s):n.object.customizations?i=Dt(i,["customizations","vscode"],{settings:s}):i=Dt(i,["customizations"],{vscode:{settings:s}}):i=Dt(i,["settings"],s);let a=YT(n.object.forwardPorts,t.forwardPorts);i=Dt(i,["forwardPorts"],a);let c=YT(((y=(v=n.object.customizations)==null?void 0:v.vscode)==null?void 0:y.extensions)||n.object.extensions,((b=(C=t.customizations)==null?void 0:C.vscode)==null?void 0:b.extensions)||t.extensions);if(((P=(_=n.object.customizations)==null?void 0:_.vscode)==null?void 0:P.extensions)||!n.object.extensions?((S=n.object.customizations)==null?void 0:S.vscode)?i=Dt(i,["customizations","vscode","extensions"],c):n.object.customizations?i=Dt(i,["customizations","vscode"],{extensions:c}):i=Dt(i,["customizations"],{vscode:{extensions:c}}):i=Dt(i,["extensions"],c),"image"in t||Yt(t)){let x=YT(n.object.mounts,t.mounts);i=Dt(i,["mounts"],x);let I=JT(t.containerEnv,n.object.containerEnv);i=Dt(i,["containerEnv"],I),i=Dt(i,["containerUser"],t.containerUser);let A=Z9(n.object.runArgs,t.runArgs);i=Dt(i,["runArgs"],A)}i=Dt(i,["postCreateCommand"],t.postCreateCommand);let l=JT(t.remoteEnv,n.object.remoteEnv);return i=Dt(i,["remoteEnv"],l),i=Dt(i,["remoteUser"],t.remoteUser),i}function Dt(e,t,r){if(r===void 0)return e;let n=bt(e,t,r,{formattingOptions:{}});return Kt(e,n)}function zCe(e,t,r,n){return Array.isArray(n)?n.map(i=>od(e,t,r,i)):od(e,t,r,n)}function od({path:e},t,r,n){let i=e.resolve(e.dirname(t),n);return e.relative(e.dirname(r),i)||"."}function YT(e,t){var r;return(r=Z9(e,t))==null?void 0:r.filter((n,i,o)=>o.indexOf(n)===i)}function Z9(e,t){if(!!(t==null?void 0:t.length))return(e||[]).concat(t)}function JT(e,t){if(!(!e||!Object.keys(e).length))return Object.assign({},e,t)}async function Rl(e,t){let r=await iy(e,t.configFolderPath);if(!r)return;let n=await mr(e).readDocument(r);if(!n)return;let i=pt(n);return{uri:r,text:n,object:i}}async function F0(e){let t=await ti(e);return[].concat(...await Promise.all(t.map(async r=>{let n=ct.join(e,r);return(await(0,$9.promisify)(j9.lstat)(n)).isDirectory()?F0(n):n})))}async function GCe(e,t,r,n,i){i.write(ot(e&&(e.stack||e.message)));let o=await t.toCommonURI(r),s=await Tt.window.showErrorMessage(`Could not update '${n}' due to errors in its content. Try fixing these first.`,{modal:!0},...o?["Open devcontainer.json"]:[]);o&&s&&Tt.window.showTextDocument(Tt.Uri.parse(o.toString()))}async function Rm(e,t){return(await KCe(t)).find(n=>{var i,o;return(o=(i=n.build)==null?void 0:i.tags)==null?void 0:o.some(s=>{let l=`^mcr.microsoft.com/vscode/devcontainers/${s.split(/\$\{[^}]*\}/).map(u=>u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g").join(".*")}$`;return new RegExp(l).test(e)})})}async function KCe(e){let t=ct.join(e,"manifests");return(await Promise.all((await ti(t)).map(r=>$T(r,t)))).filter(Boolean)}async function $T(e,t){let r=ct.join(t,e,"definition-manifest.json");if(await Gt(r)){let n=(await rt(r)).toString(),i=pt(n);return i.definitionName=e,i}}async function N0(){let e=await hd(ct.join(__dirname,"node_modules","vscode-dev-containers"))?[]:await hd(ct.join(__dirname,"..","node_modules","vscode-dev-containers"))?[".."]:["..",".."];return ct.join(__dirname,...e)}async function Uo(){return ct.join(await N0(),"node_modules","vscode-dev-containers")}async function e5(e,t,r,n,i,o){let s=wi(r);if(Rr(s)&&!await lt.workspace.requestWorkspaceTrust({message:Gh}))return Ar(s.hostPath)?(await lt.window.showInformationMessage("The WSL folder is currently not trusted.",{modal:!0,detail:"Trust is required to build a dev container from it. The folder will now reopen in WSL."}),await lt.commands.executeCommand("remote-containers.reopenInWSL")):(await lt.window.showInformationMessage("The local folder is currently not trusted.",{modal:!0,detail:"Trust is required to build a dev container from it. The folder will now reopen locally."}),await lt.commands.executeCommand("remote-containers.reopenLocally")),new Promise(()=>{});let a=mi(s);return a&&!await Kh(e,s.repositoryPath)?(await lt.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{})):me(K({},await YCe(s,e,i,o,t,r,n)),{isTrusted:a||void 0})}async function YCe(e,t,r,n,i,o,s){let{log:a,logFilePath:c}=r,l="hostPath"in e&&Ar(e.hostPath)&&!!lt.extensions.getExtension("ms-vscode-remote.remote-wsl");l&&lt.commands.executeCommand("setContext","canReopenInWSL",!0);let u=e.settings,f="localDocker"in e&&e.localDocker,d=!!(u&&"host"in u&&u.host&&u.host.startsWith("ssh://")&&!f)&&(!!lt.extensions.getExtension("ms-vscode-remote.remote-ssh")||!!lt.extensions.getExtension("ms-vscode-remote.remote-ssh-nightly"));d&&lt.commands.executeCommand("setContext","canReopenInSSH",!0);let p=!(u&&"host"in u&&u.host&&u.host.startsWith("ssh://")&&!f);p&&lt.commands.executeCommand("setContext","canReopenLocally",!0);let h;return lt.window.withProgress({location:lt.ProgressLocation.Notification,title:Bf,cancellable:!1},async m=>{let g=wo(t.extensionPath,xs,a),{cliHost:v,originalCwd:y}=await JCe(e,t.extensionPath,await xo(),g,i.product,a),C=K(K({},await g),Wu(v,e.settings)),b=K(K({},v.env),C),_=await Uf({authority:o,extensionContext:t,sessionStart:r.sessionStart,progress:m,cliHost:v,env:b,cwd:v.cwd,isLocalContainer:Hy(C),telemetry:i,output:a,logFilePath:c,allowSystemConfigChange:!0,postCreate:n}),P={async createConfiguration(S,x){return Om({fileHost:x,telemetry:i,output:a,existingFilesLearnMoreLink:Uh,predefinedDefinitionsLearnMoreLink:Bh,openConfigurationCommandId:$h},at(QT.posix,S))},async showError(S,...x){return await lt.window.showErrorMessage(S,{modal:!0},...x)}};return h={common:_,parsedAuthority:e,dockerCLI:Zi(),dockerComposePath:Oo(),dockerComposeCLI:bo({exec:_.cliHost.exec,env:K(K({},C),gr(C)),output:_.output},Zi(),Oo()),dockerEnv:C,workspaceMountConsistencyDefault:wC(),updateRemoteUserUIDOnMacOS:CC(),cacheMount:bC()?"volume":"none",configurationTracking:yC(t.workspaceState),removeOnStartup:await wW(t,o),buildNoCache:await bW(t,o),onRemoveOnShutdownChanged:s,userRepositoryConfigurationPaths:No(),originalCwd:y,configProvider:P,development:t.extensionMode===lt.ExtensionMode.Development},await Vy(h),dq(h)}).then(m=>(s(async g=>{await CW(t,g&&m.dockerContainerId||!1),await Wh(t,g==="rebuildNoCache"?o:!1)}),Ps(i,XT(e),"success",h==null?void 0:h.common,m.config,m.properties),m),m=>{var S;let g=m instanceof $e?m:new $e({description:"An error occurred setting up the container.",originalError:m});mi(e)&&(g.volumeName=e.volumeName,g.volumeName===Hn&&(g.volumeName=hi(e.repositoryPath).uniqueVolumeName),g.repositoryPath=e.repositoryPath,g.folderPath=e.folder),Ps(i,XT(e),"failure",h==null?void 0:h.common,g.config,g.containerProperties,g);let v="onTheSide",y=(S=g.data)==null?void 0:S.fileWithError,C=y&&(h==null?void 0:h.common.cliHost.path.basename(y))||"devcontainer.json",b=Rr(e)?[{id:"openFileWithErrorLocally",title:`Edit ${C} Locally`,isLastAction:!0,applicable:async(x,I)=>p&&!(I&&l),async execute(){let x=h==null?void 0:h.common.cliHost,I=y?x.type==="wsl"?await x.toCommonURI(y):Ve.file(y):void 0;await zh(t,e.hostPath,I,c,v);let A=lt.Uri.file(e.hostPath);await lt.commands.executeCommand("vscode.openFolder",A)}},{id:"openFileWithErrorinWSL",title:`Edit ${C} in WSL`,isLastAction:!0,applicable:async()=>l,async execute(){let x=lt.Uri.parse((await yu(e.hostPath,a)).toString());await zh(t,x.path,y?x.with({path:y}):void 0,c,v),await lt.commands.executeCommand("vscode.openFolder",x)}},{id:"openFileWithErrorinSSH",title:`Edit ${C} in SSH`,isLastAction:!0,applicable:async()=>d,async execute(){let x=e.settings,I=lt.Uri.parse(sp(x.host,e.hostPath).toString());await zh(t,I.path,y?I.with({path:y}):void 0,c,v),await lt.commands.executeCommand("vscode.openFolder",I)}}]:[],_=mi(e)?e.inspectVolume?[la]:[{id:"reopenInRecoveryContainer",title:`Edit ${C} in Recovery Container`,isLastAction:!0,applicable:(x,I)=>!0,execute:async x=>{await zh(t,e.repositoryPath,y?Ve.file(y).with({scheme:"vscode-remote"}):void 0,c,v),await lt.commands.executeCommand("remote-containers.inspectVolume",x.volumeName,x.repositoryPath,x.folderPath)}},la,{id:"openRepository",title:"Open Repository",isLastAction:!1,applicable:(x,I)=>!I,async execute(){lt.env.openExternal(lt.Uri.parse(e.repositoryPath))}}]:[],P=Sp(e)?[la]:[];return g.actions=[...Gu,qc,HU,...b,..._,...P,zu,jc],QCe(g),ua(g,XT(e),i,!0,r)})}async function JCe(e,t,r,n,i,o){let{settings:s}=e,a=s&&"host"in s&&s.host||void 0;if(Rr(e)){let c=at(QT,e.hostPath),l=c.rootFolderPath,u=await ji(a,c.rootFolderPath,Ro,eo(),t,r,i,o,Lo,{sshAskpassEnv:n,settings:$f(),localDocker:e.localDocker});return u.cwd!==c.rootFolderPath&&(c=at(u.path,c.isWorkspaceFile?u.path.join(u.cwd,QT.basename(e.hostPath)):u.cwd)),o.write(`Setting up container for folder or workspace: ${c.workspaceOrFolderPath}\r
`),By(o,e.settings),e.localDocker&&o.write(`Local Docker: ${e.localDocker}\r
`),{cliHost:u,originalCwd:l}}else{let c=await ji(a,void 0,Ro,eo(),t,r,i,o,Lo,{sshAskpassEnv:n,settings:$f()});return{cliHost:c,originalCwd:await c.homedir()}}}function XT(e){return Rr(e)?"config":mi(e)?e.inspectVolume?"volume":"repository":"volume"}function QCe(e){let t=(e.originalError&&(e.originalError.cmdOutput||e.originalError.message)||"").toLowerCase();t&&t.indexOf("drive has not been shared")!==-1?e.description="The drive of the workspace folder is not shared. Share it in the Docker settings first.":t&&(t.indexOf("port is already allocated")!==-1||t.indexOf("address already in use")!==-1)?e.description="A port the container is setup to bind to is already in use. See the Dev Containers terminal for details.":t&&t.indexOf('invalid mount config for type "bind"')!==-1?e.description="A mount config is invalid. Make sure it has the right format and a source folder that exists on the machine where the Docker daemon is running.":t&&t.indexOf("deb.debian.org/debian/dists/jessie-updates")!==-1&&(e.description="The base image references the obsolete Debian 8 update repository.",e.actions.push({id:"learnMore",title:"Learn More",isLastAction:!1,applicable:(r,n)=>n,async execute(){lt.env.openExternal(lt.Uri.parse("https://aka.ms/vscode-remote/containers/troubleshooting/jessie"))}}))}var Bo=te(require("vscode"));var t5=te(require("util"));var no=te(require("path"));async function r5(e,t,r){let{common:n}=e,i;try{let{commit:o}=n.product;if(!o)throw new $e({description:"Cannot attach without commit id for the remote extension host."});i=await Mu(e,t.Id,r.workspaceFolder,r.remoteUser);let s=mr(n.cliHost,i.shellServer),{hostOrContainerPort:a,hostPortServer:c,connectionToken:l,webConnectionToken:u,remoteEnv:f,serverDownloaded:d}=await Wv(n,i,r,async()=>{},ea);if(XCe(n,i,s,r.configFilePath),e0e(n,i,s,r.configFilePath),Lu(n,i,a,l,u,t,at(no.posix,"/")),c){let p=async()=>{await(0,t5.promisify)(c.close.bind(c))()};n.shutdowns.push(p)}return{params:n,properties:i,config:r,resolvedAuthority:{host:sa,port:a,connectionToken:l,extensionHostEnv:f},webConnectionToken:u,tunnelInformation:n.isLocalContainer?Fu(t):{},dockerParams:e,dockerContainerId:t.Id,serverDownloaded:d}}catch(o){let s=o instanceof $e?o:new $e({description:"An error occurred attaching to the container.",originalError:o});throw t&&(s.manageContainer=!1,s.params=e.common,s.containerId=t.Id,s.dockerParams=e),i&&(s.containerProperties=i),s.config=r,s}}function XCe(e,t,r,n){t.installFolder&&n5(e,t,r,n).catch(console.error)}async function n5(e,t,r,n){try{await rs(e,t,["/bin/sh","-c",`# Watch installed extensions
			trap "exit 0" 15
			old=\`ls -A --full-time\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
			exit 2
		`],FM(t),{print:"off"});return}catch(i){(i==null?void 0:i.code)===1?await ZCe(e,t,r,n):(i==null?void 0:i.code)!==2&&await vo(6e4)}return n5(e,t,r,n)}async function ZCe(e,t,r,n){let i=await UM(e,t);await mS(n,async()=>{var s,a;let o=await H0(e.cliHost,r,n,t.remoteWorkspaceFolder);if(!r0e(((a=(s=o.config.customizations)==null?void 0:s.vscode)==null?void 0:a.extensions)||[],i)){let c=bt(o.text,["extensions"],i,{formattingOptions:{}});await pi(r,n,c,o.text)}})}function e0e(e,t,r,n){i5(e,t,r,n).catch(console.error)}async function i5(e,t,r,n){try{let i=Hv(t),o=no.posix.dirname(i),s=no.posix.basename(i);await rs(e,t,["/bin/sh","-c",`# Watch machine settings
			trap "exit 0" 15
			old=\`ls -A --full-time ${s} 2>/dev/null || true\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time ${s} 2>/dev/null || true\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
			exit 2
		`],o,{print:"off"});return}catch(i){(i==null?void 0:i.code)===1?await t0e(e.cliHost,t,r,n):(i==null?void 0:i.code)!==2&&await vo(6e4)}return i5(e,t,r,n)}async function t0e(e,t,r,n){let{stdout:i}=await t.shellServer.exec(`cat ${Hv(t)}`),o=pt(i)||{};await mS(n,async()=>{var a,c;let s=await H0(e,r,n,t.remoteWorkspaceFolder);if(JSON.stringify(((c=(a=s.config.customizations)==null?void 0:a.vscode)==null?void 0:c.settings)||{})!==JSON.stringify(o)){let l=bt(s.text,["settings"],o,{formattingOptions:{}});await pi(r,n,l,s.text)}})}function r0e(e,t){let r=new Set(e),n=new Set(t);return r.size===n.size&&e.every(i=>n.has(i))}async function o5(e,t){let r=U0(e,t.Name),n=await d5(r);return n||(r=c5(e,t.Config.Image),n=await d5(r)),n}async function s5(e,t,r,n,i){let o=Ve.file(U0(r,n.Name)),s=await H0(e,t,o,i);return s.exists||(o=Ve.file(c5(r,n.Config.Image)),s=await H0(e,t,o,i)),s}function $0(e){return no.join(e,"nameConfigs")}function U0(e,t){let r=t.startsWith("/")?t.substr(1):t;return no.join($0(e),`${u5(r)}.json`)}async function a5(e){try{let t=$0(e);return(await ti(t)).filter(n=>n.endsWith(".json")).map(n=>({name:f5(n.substr(0,n.length-5)),uri:Ve.file(no.join(t,n))}))}catch(t){if(t&&t.code==="ENOENT")return[];throw t}}function B0(e){return no.join(e,"imageConfigs")}function c5(e,t){return no.join(B0(e),`${u5(t)}.json`)}async function l5(e){try{let t=B0(e);return(await ti(t)).filter(n=>n.endsWith(".json")).map(n=>({image:f5(n.substr(0,n.length-5)),uri:Ve.file(no.join(t,n))}))}catch(t){if(t&&t.code==="ENOENT")return[];throw t}}function u5(e){return e.replace(/[:/%]/g,t=>`%${t.charCodeAt(0).toString(16)}`)}function f5(e){return e.replace(/%([0-9a-f]{2})/g,(t,r)=>String.fromCharCode(parseInt(r,16)))}async function d5(e){if(!await Gt(e))return;let t=await rt(e),r=pt(t.toString())||{},n=mp(r);return n.configFilePath=Ve.file(e),n}async function H0(e,t,r,n){let i=await t.readDocument(r),o=i||is,s=pt(o)||{},a=mp(s),c=jv({platform:e.platform,configFile:r,env:e.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:n},a);return c.configFilePath=r,{exists:!!i,text:o,config:c}}async function p5(e,t,r,n,i){return await Ia(e)?me(K({},await n0e(e,t,r,n,i)),{isTrusted:!0}):(await Bo.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function n0e(e,t,r,n,i){let o,s;return Bo.window.withProgress({location:Bo.ProgressLocation.Notification,title:Bf,cancellable:!1},async a=>{var c,l;try{let u=Wy(r),{settings:f}=u,d="containerName"in u?u.containerName:u.containerId;n.log.write(`Setting up container: ${d}\r
`),By(n.log,f);let p=f&&"host"in f&&f.host||void 0,h=wo(e.extensionPath,xs,n.log),m=await ji(p,u.cwd,Ro,eo(),e.extensionPath,await xo(),t.product,n.log,Lo,{sshAskpassEnv:h,settings:$f()}),g=Zi(),v=K(K({},await h),Wu(m,f)),y=bo({exec:m.exec,env:K(K({},v),gr(v)),output:n.log},Zi(),Oo()),C=K(K({},m.env),v),b=await Bn({cliHost:m,dockerCLI:g,dockerComposeCLI:y,dockerComposePath:Oo(),env:C,output:n.log},"containerName"in u?u.containerName:u.containerId);if(!b)throw new $e({description:`Cannot attach to the container with name/id ${d}, it no longer exists.`,data:{reload:!1,attach:!0}});let _=(l=(c=(Bo.workspace.workspaceFolders||[void 0])[0])==null?void 0:c.uri)==null?void 0:l.path,P=await s5(m,qi,e.globalStoragePath,b,_);if(_&&P.config.workspaceFolder!==_){let A=bt(P.text,["workspaceFolder"],_,{formattingOptions:{}});await pi(qi,P.config.configFilePath,A,P.text)}o={common:await Uf({authority:r,extensionContext:e,sessionStart:n.sessionStart,progress:a,cliHost:m,env:C,cwd:u.cwd||await m.homedir(),isLocalContainer:Hy(v),telemetry:t,output:n.log,logFilePath:n.logFilePath,allowSystemConfigChange:!1,postCreate:i}),parsedAuthority:u,dockerCLI:g,dockerComposePath:Oo(),dockerComposeCLI:y,dockerEnv:v,workspaceMountConsistencyDefault:wC(),updateRemoteUserUIDOnMacOS:CC(),cacheMount:bC()?"volume":"none",configurationTracking:yC(e.workspaceState),userRepositoryConfigurationPaths:[],development:e.extensionMode===Bo.ExtensionMode.Development},await Vy(o);let S=$u(f),x=b.Name.startsWith("/")?b.Name.substr(1):b.Name,I=`Container ${b.Config.Image} (${x})${S}`;if(o.common.setWorkspaceName(I),b.State.Status!=="running")throw new $e({description:`Cannot attach to the container ${b.Config.Image} (${x})${S}, it is not running.`,params:o.common,containerId:b.Id,dockerParams:o,data:{reload:!1,start:!0}});return await r5(o,b,P.config)}catch(u){let f=u instanceof $e?u:new $e({description:"An error occurred attaching to the container.",originalError:u});throw f.actions=[VU,WU,...Gu,qc,la,zu,jc],f}}).then(a=>(Ps(t,"attach","success",o==null?void 0:o.common,s,a.properties),a),a=>{let c=a instanceof $e?a:new $e({description:"An error occurred attaching to the container.",originalError:a});return Ps(t,"attach","failure",o==null?void 0:o.common,s,c.containerProperties,c),ua(c,"attach",t,!0,n)})}var qt=te(require("vscode"));var Zt=te(require("vscode")),h5=te(require("path")),Ol=te(require("os")),Nm=te(require("fs")),m5=te(require("child_process")),g5=te(lu());async function V0(e){s0e()?await new v5().downloadAndInstallDocker(e):w5()?await new y5().downloadAndInstallDocker(e):await Zt.env.openExternal(Zt.Uri.parse("https://aka.ms/download-docker-linux-vscode"))}var ZT=class{async downloadAndInstallDocker(t){if(await this.preInstallCheck(t)){let n="Downloading Docker installer...",i="The Docker Desktop installation is started. Complete the installation and then start Docker Desktop.",o;try{o=await Zt.window.withProgress({location:Zt.ProgressLocation.Notification,title:n},async()=>this.downloadInstaller())}catch(a){let c="Downloading the Docker Desktop installer failed. Do you want to manually download and install?",l="Download";throw this.handleError(c,l,this.downloadUrl),a}let s=this.getInstallCommand(o);Zt.window.showInformationMessage(i);try{await this.install(o,s,t)}catch(a){let c=`Docker Desktop installation failed. ${a}`,l="Install Instruction";throw this.handleError(c,l,"https://aka.ms/AA37qtj"),a}}}async preInstallCheck(t){let r=!0;if(await new C5(t).isDockerInstalledRealTimeCheck()){let n="Docker Desktop is already installed. Would you like to reinstall?",i="Reinstall";r=await Zt.window.showInformationMessage(n,{modal:!0},i)!==void 0}return r}async downloadInstaller(){let t=`${o0e()}.${this.fileExtension}`;return await c0e(this.downloadUrl,t),t}handleError(t,r,n){Zt.window.showErrorMessage(t,{title:r}).then(i=>{i&&Zt.env.openExternal(Zt.Uri.parse(n))})}},v5=class extends ZT{constructor(){super(...arguments);this.downloadUrl="https://aka.ms/download-docker-windows-vscode";this.fileExtension="exe"}getInstallCommand(t){return`"${t}"`}async install(t,r,n){try{n.write(`Executing command ${r}`),await E5(r,n)}finally{try{await Nm.promises.stat(t),await Nm.promises.unlink(t)}catch{}}}},y5=class extends ZT{constructor(){super(...arguments);this.downloadUrl="https://aka.ms/download-docker-mac-vscode";this.fileExtension="dmg"}getInstallCommand(t){return`chmod +x '${t}' && open '${t}'`}async install(t){let r="Docker Install",n=this.getInstallCommand(t);await a0e(n,r,{addDockerEnv:!1})}},i0e=0;function o0e(){return h5.join(Ol.tmpdir(),`${Zt.env.sessionId}-${i0e++}.tmp`)}function s0e(){return Ol.platform()==="win32"}function w5(){return Ol.platform()==="darwin"}async function a0e(e,t,r){var a,c,l;let n;r=r!=null?r:{},r.addDockerEnv&&(n={});let i=new Zt.Task({type:"shell"},(a=r.workspaceFolder)!=null?a:Zt.TaskScope.Workspace,t,"Docker",new Zt.ShellExecution(e,{cwd:r.cwd||((l=(c=r.workspaceFolder)==null?void 0:c.uri)==null?void 0:l.fsPath)||Ol.homedir(),env:n}),[]);r.alwaysRunNew&&(i.definition.idRandomizer=Math.random()),r.focus&&(i.presentationOptions={focus:!0});let o=await Zt.tasks.executeTask(i);return new Promise((u,f)=>{let d=Zt.tasks.onDidEndTaskProcess(p=>{p.execution===o&&(d.dispose(),p.exitCode&&r.rejectOnError&&f(p.exitCode),u())})})}var C5=class{constructor(t){this.output=t;this.maxCacheTime=3e4;this.isDockerInstalledLazy=new _5(async()=>{let r=await this.isDockerInstalledRealTimeCheck();return r&&this.isDockerInstalledLazy.cacheForever(),r},this.maxCacheTime)}async isDockerInstalled(){return await this.isDockerInstalledLazy.getValue()}async isDockerInstalledRealTimeCheck(){try{return await E5("docker -v",this.output),!0}catch{return!1}}};async function c0e(e,t){await new Promise((r,n)=>{let i=Nm.createWriteStream(t);g5.https.get(e,s=>{if(s.statusCode<200||s.statusCode>299){n(new Error(`Failed to download Docker (${e}): HTTP ${s.statusCode} - ${s.statusMessage}`));return}s.on("error",n),s.pipe(i),s.on("end",r)}).on("error",n)})}var b5=10*1024;async function E5(e,t,r,n){let i=Buffer.alloc(r&&r.maxBuffer||b5),o=Buffer.alloc(r&&r.maxBuffer||b5);return await l0e(e,t,r,n,i,n,o),{stdout:eA(i),stderr:eA(o)}}async function l0e(e,t,r,n,i,o,s,a){return await new Promise((c,l)=>{let u,f=0,d=0;r=r||{},r.shell=!0,u0e(r,t);let p=m5.spawn(e,r);p.on("error",h=>(u&&(u.dispose(),u=void 0),l(h))),p.on("close",(h,m)=>{if(u&&(u.dispose(),u=void 0),a&&a.isCancellationRequested)return l(new Error("User canceled"));if(h){let g=`Process '${e.length>50?`${e.substring(0,50)}...`:e}' exited with code ${h}`;s&&(g+=`
Error: ${eA(s)}`);let v=new Error(g);return v.code=h,v.signal=m,v.stdErrHandled=o!==null,l(v)}return c()}),(r==null?void 0:r.stdin)&&(p.stdin.write(r.stdin),p.stdin.end()),(n||i)&&p.stdout.on("data",h=>{let m=h.toString();n&&n(m,p),i&&(f+=i.write(m,f))}),(o||s)&&p.stderr.on("data",h=>{let m=h.toString();o&&o(m,p),s&&(d+=s.write(m,d))}),a&&(u=a.onCancellationRequested(()=>{p.kill()}))})}function u0e(e,t){var r,n;!w5()||/(?<=^|:)\/usr\/local\/bin(?=$|:)/i.test(((r=e==null?void 0:e.env)==null?void 0:r.PATH)||process.env.PATH||"")||(e=e!=null?e:{},e.env=(n=e.env)!=null?n:K({},process.env),t.write("WARNING: Adding '/usr/local/bin' to the PATH because it is missing."),e.env.PATH=`${e.env.PATH}:/usr/local/bin`)}function eA(e){return e.toString().replace(/[\x00-\x09\x0B-\x0C\x0E-\x1F]|\r?\n$/g,"")}var _5=class{constructor(t,r){this.valueFactory=t;this._valueLifetime=r;this._isValueCreated=!1}get isValueCreated(){return this._isValueCreated}cacheForever(){this._valueLifetime=void 0}clear(){this._isValueCreated=!1,this._valuePromise=void 0}async getValue(){if(this._isValueCreated)return this._value;let t=this._valuePromise===void 0;t&&(this._valuePromise=this.valueFactory());let r=await this._valuePromise;if(t&&(this._value=r,this._valuePromise=void 0,this._isValueCreated=!0),this._valueLifetime&&t){let n=setTimeout(()=>{this._valueLifetime&&this._valuePromise===void 0&&(this._isValueCreated=!1,this._value=void 0),clearTimeout(n)},this._valueLifetime)}return r}};async function In(e,t,r){var o;let n=(o=(qt.workspace.workspaceFolders||[])[0])==null?void 0:o.uri;n&&(n.scheme==="file"&&Ar(n.fsPath)||wu(n))&&(t=await wt(e,t.output,n));let i=await Lm(t,r);if(i==="permission")return await qt.window.showErrorMessage("Current user does not have permission to run 'docker'.",{modal:!0,detail:"Try adding the user to the 'docker' group."},"Documentation")&&qt.env.openExternal(qt.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079224")),!1;if(i==="ssh")return await qt.window.showErrorMessage("Cannot connect to Docker daemon using 'ssh'.",{modal:!0,detail:"Make sure public/private keys are set up for connecting without keyboard interaction."},"Show Log")&&qt.commands.executeCommand(Kn),!1;if(i==="daemon")return await qt.window.showErrorMessage("Docker returned an error.",{modal:!0,detail:"Make sure the Docker daemon is running."},"Show Log")&&qt.commands.executeCommand(Kn),!1;if(!i||i==="command"){if(t.cliHost.type==="wsl")await qt.window.showErrorMessage("Docker Desktop WSL 2 backend required.",{modal:!0},"Read more on docker.com")&&qt.env.openExternal(qt.Uri.parse("https://docs.docker.com/docker-for-windows/wsl"));else{let s="Install",a="License",c="Ignore",l=i===!1?[s,a,c]:[s,a],u=await qt.window.showErrorMessage("Docker version 17.12.0 or later required.",{modal:!0,detail:"Check the license for details."},...l);if(u===s)V0(t.output).then(console.error);else if(u===a)qt.env.openExternal(qt.Uri.parse("https://aka.ms/docker-subscription-service-agreement"));else if(u===c)return!0}return!1}return i==="wsl1"?(await qt.window.showErrorMessage("WSL 2 distro required.",{modal:!0,detail:"The WSL distro is running with WSL 1."},"Read more on docker.com")&&qt.env.openExternal(qt.Uri.parse("https://docs.docker.com/docker-for-windows/wsl")),!1):!0}async function Lm(e,t){var s,a,c,l;let r;try{let u=await Et(e,"version","--format","{{.Server.APIVersion}}");r=u.stdout.toString(),e.output.write(r);let f=u.stderr.toString();f&&e.output.write(ot(f))}catch(u){console.error(u);let f=(s=u==null?void 0:u.stdout)==null?void 0:s.toString();f&&e.output.write(f);let d=u&&(u.stderr?u.stderr.toString():u.message)||"";d&&e.output.write(ot(d)),Fm(t,"error",void 0,d);let p=d.toLowerCase();return p.indexOf("permission denied")!==-1?p.indexOf("ssh")!==-1?"ssh":"permission":p.indexOf("enoent")!==-1||p.indexOf("not found")!==-1?(e.output.write(`CLI host's PATH: ${e.cliHost.env.PATH}`),"command"):e.cliHost.type==="wsl"&&((l=(c=(a=u==null?void 0:u.stdout)==null?void 0:a.toString())==null?void 0:c.toLowerCase())==null?void 0:l.indexOf("wsl 1"))!==-1?"wsl1":"daemon"}let n=r.trim(),i=bc(n);if(!i&&n.toLowerCase().indexOf("error during connect")!==-1)return Fm(t,"error",void 0,n),"daemon";if(!i)return Fm(t,"unparsed",n),!0;let o=!_u(i,[1,35]);return!o&&await xS(e)?(Fm(t,"podman",n),!0):(Fm(t,o?"success":"failure",n),o)}function Fm(e,t,r,n){let i={outcome:t};r&&(i.version=r),n&&(i.errorMessage=n),e.sendTelemetryEvent("dockerVersion",i)}async function S5(e){try{return await Ic(e,"version"),!0}catch{return await qt.window.showErrorMessage("Docker Compose required",{modal:!0},"Documentation")&&qt.env.openExternal(qt.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079610")),!1}}var sd=te(require("vscode"));var tA=class{constructor(t){this.fileHost=t}async provideDocumentLinks(t,r){let n=[],i=iv(t.getText());if(!i)return n;let o=ov(i)||{};return o.configFilePath=t.uri,Yt(o)&&this._linksForDockerfile(n,o,i,t),"dockerComposeFile"in o&&await this._linksForDockerCompose(n,o,i,t),n}_tryAddDocumentLinkToBucket(t,r,n,i,o){let s=t.positionAt(r),a=t.positionAt(n);s.compareTo(a)!==0&&o.push(new sd.DocumentLink(new sd.Range(s,a),i))}_linksForDockerfile(t,r,n,i){let o=Gs(n,["build","dockerfile"])||Gs(n,["dockerFile"]);o&&o.type==="string"&&this._tryAddDocumentLinkToBucket(i,o.offset+1,o.offset+o.length-1,Zr(this.fileHost,r),t)}async _linksForDockerCompose(t,r,n,i){let s=(await Sr(this.fileHost,r)).map(c=>sd.Uri.file(c).path),a=Gs(n,["dockerComposeFile"]);if(s.length>0&&a)if(a.type==="array"&&a.children)for(let c=0;c<a.children.length;c++)this._tryAddDocumentLinkToBucket(i,a.children[c].offset+1,a.children[c].offset+a.children[c].length-1,i.uri.with({path:s[c]}),t);else a.type==="string"&&this._tryAddDocumentLinkToBucket(i,a.offset+1,a.offset+a.length-1,i.uri.with({path:s[0]}),t)}};var ue=te(require("vscode")),Nl=te(require("path"));var x5="Stop Container",P5="Reopen Folder locally",k5="Close Workspace",ja;(function(i){i.Placeholder="Placeholder",i.Group="Group",i.Container="Container",i.Folder="Folder"})(ja||(ja={}));var qr=class{static isGroupItem(t){return!!t&&t.type===ja.Group}static isContainerItem(t){return!!t&&t.type===ja.Container}static isFolderItem(t){return!!t&&t.type===ja.Folder}},Mm;(function(n){n[n.DevContainers=0]="DevContainers",n[n.AttachContainers=1]="AttachContainers",n[n.OtherContainers=2]="OtherContainers"})(Mm||(Mm={}));var rA=class extends qr{constructor(t,r){super();this.label=t;this.groupType=r;this.type=ja.Group}async asTreeItem(t,r,n,i){return new ue.TreeItem(this.label,ue.TreeItemCollapsibleState.Expanded)}},oo=class extends qr{constructor(t,r=[],n,i=!1){super();this.container=t;this.folders=r;this.parent=n;this.isDevContainer=i;this.type=ja.Container;this._alreadyCheckedRepository=!1}async asTreeItem(t,r,n,i){let o=new ue.TreeItem(this.getContainerLabel(),this.getCollapsibleState());o.description=this.containerDescription;let s=this.getContextBase();o.iconPath=W0(r,h0e),o.contextValue="exited"+s;let a=!1;return n&&this.container.Id===n.Id?(o.iconPath=W0(r,p0e),o.contextValue="active"+s,a=!0):t&&await this.setTreeItemIconAndContext(t,s,o),o.tooltip=this.getHover(a,o.iconPath instanceof ue.ThemeIcon?o.iconPath:new ue.ThemeIcon("vm"),o.label),this.folders.length===1&&(o.contextValue+="Folder"),o}getContextBase(){return(this.isDevContainer?"Dev":"")+"Container"}getCollapsibleState(){return this.folders.length>1?ue.TreeItemCollapsibleState.Expanded:ue.TreeItemCollapsibleState.None}async setTreeItemIconAndContext(t,r,n){switch(this.container.State.Status){case"created":{n.iconPath=new ue.ThemeIcon("vm"),n.contextValue="exited"+r;break}case"paused":{n.iconPath=new ue.ThemeIcon("vm-outline"),n.contextValue="running"+r;break}case"restarting":{n.iconPath=new ue.ThemeIcon("vm-outline"),n.contextValue="exited"+r;break}case"exited":{n.iconPath=new ue.ThemeIcon("vm"),n.contextValue="exited"+r;break}case"running":{n.iconPath=new ue.ThemeIcon("vm-running"),n.contextValue="running"+r;break}}}getTimeElapsed(t){if(!t)return"";let r="",n=t.State.Status,i=new Date(t.State.StartedAt),o=new Date(t.State.FinishedAt);if(i.getFullYear()>1&&o.getFullYear()>1){let s=new Date,a=new Date(i>o?t.State.StartedAt:t.State.FinishedAt),c,l,u=s.getTime()-a.getTime();(l=Math.round(u/oo.years))>0?l===1?c="year":c="years":(l=Math.round(u/oo.days))>0?l===1?c="day":c="days":(l=Math.round(u/oo.hours))>0?l===1?c="hour":c="hours":(l=Math.round(u/oo.minutes))>0?l===1?c="minute":c="minutes":(l=Math.round(u/oo.seconds),l===1?c="second":c="seconds"),r=` ${l} ${c}`+(n.endsWith("ing")?"":" ago")}return`${n.charAt(0).toUpperCase()+n.slice(1)}`+r}getContainerLabel(){if(Vu(this.container)&&this.folders.length>0)return`${Nl.basename(this.folders[0].folder.path)}`;{let r=IS(this.container);if(r)return r;let n=this.repository;return n?n.repositoryName:this.container.Config.Image}}get containerDescription(){return this.container.Name.substr(1)}getHover(t,r,n){let i=new ue.MarkdownString(void 0,!0);if(i.appendMarkdown(`$(${r.id}) ${n} (${this.container.Name.substr(1)})  
`),this.repository){let s=this.repository.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)";i.appendMarkdown(`${s} [${this.repository.fullRepositoryName}](${this.repository.gitUrlInfo.repositoryUrl})  
`)}let o=$y(this.container);return o&&i.appendMarkdown(`$(file-symlink-directory) ${o}  
`),t?i.appendMarkdown("$(remote) Connected"):i.appendMarkdown(`$(history) ${this.getTimeElapsed(this.container)}`),i}get repository(){if(!this._alreadyCheckedRepository){let t=Fc(this.container);t&&(this._repository=hi(t)),this._alreadyCheckedRepository=!0}return this._repository}inspect(t){return mn(t,this.container.Id)}},an=oo;an.seconds=1e3,an.minutes=oo.seconds*60,an.hours=oo.minutes*60,an.days=oo.hours*24,an.years=oo.days*365;var Ll=class extends qr{constructor(t,r,n){super();this.container=t;this.folder=r;this.isDevContainer=n;this.type=ja.Folder}async asTreeItem(t,r,n,i){let o=new ue.TreeItem(Nl.basename(this.folder.path),ue.TreeItemCollapsibleState.None);return o.description=this.folder.path,o.iconPath=W0(r,g0e),o.contextValue="attachedFolder",this.isDevContainer&&!Fc(this.container)&&(o.contextValue="devFolder"),n&&this.container.Id===n.Id&&i===this.folder.path&&(o.iconPath=W0(r,m0e),o.tooltip=`Active Folder ${o.label}`,o.contextValue=`active${o.contextValue}`),o}};function f0e(e,t,r,n){if(!(!ue.env.remoteName||ue.env.remoteName!=="attached-container"&&ue.env.remoteName!=="dev-container"))return I5(e,t,r,n)}function I5(e,t,r,n){ue.commands.executeCommand("setContext","remote-containers:showDetails",!0);let i=new L5(e,t,n,t.output),o=ue.window.createTreeView("detailsContainers",{treeDataProvider:i});return i.setTitle=s=>{o.title=s},e.subscriptions.push(r.onDidChangeActiveContainer(s=>i.refresh(s))),i}function d0e(e,t){let r=[x5];return e&&e.Id===t.Id&&ue.workspace.workspaceFolders&&ue.workspace.workspaceFolders.length>0&&(r.push(k5),ue.workspace.workspaceFolders[0].uri.authority.startsWith("dev-container")&&r.push(P5)),r}var T5=class{constructor(t,r){this.dockerParams=t;this.containerId=r;this.writeEmitter=new ue.EventEmitter;this.onDidWrite=this.writeEmitter.event;this.destroyables=[]}open(){let{cliHost:t,env:r,output:n}=this.dockerParams;t.exec({cmd:Zi(),args:["logs","-f",this.containerId],env:r,output:n}).then(i=>{this.destroyables.push(i.stdout.on("data",o=>{this.write(o.toString())})),this.destroyables.push(i.stderr.on("data",o=>{this.write(o.toString())}))}).catch(console.error)}close(){this.writeEmitter.dispose(),this.destroyables.forEach(t=>{t.destroy()})}write(t){this.writeEmitter.fire(t.replace(/\n/g,`\r
`))}},A5=class{constructor(t,r,n,i,o,s){this.targetsTreeData=t;this.detailsTreeData=r;this.devVolumesTreeData=n;this.dockerParams=i;this.context=o;this.telemetry=s}updateDockerParameters(t){this.dockerParams=t}registerCommands(){let t=[];return t.push(ue.commands.registerCommand("remote-containers.stopContainer",this.commandStopContainer,this)),t.push(ue.commands.registerCommand("remote-containers.removeContainer",this.commandRemoveContainer,this)),t.push(ue.commands.registerCommand("remote-containers.startContainer",this.commandStartContainer,this)),t.push(ue.commands.registerCommand("remote-containers.removeRecentFolder",this.commandRemoveRecentFolder,this)),t.push(ue.commands.registerCommand("remote-containers.showDetails",this.commandShowDetails,this)),t.push(ue.commands.registerCommand("remote-containers.explorerDetailsRefresh",this.commandExplorerDetailsRefresh,this)),t.push(ue.commands.registerCommand("remote-containers.attachToContainer",this.commandAttachToContainer,this)),t.push(ue.commands.registerCommand("remote-containers.attachToContainerNewWindow",this.commandAttachToContainerNewWindow,this)),t.push(ue.commands.registerCommand("remote-containers.inspectDockerResource",this.commandInspectDockerResource,this)),t.push(ue.commands.registerCommand("remote-containers.inspectInBasicDevContainer",this.commandInspectInBasicDevContainer,this)),t.push(ue.commands.registerCommand("remote-containers.cloneInVolume",this.commandCloneInVolume,this)),t.push(ue.commands.registerCommand("remote-containers.removeVolume",this.commandRemoveVolume,this)),t.push(ue.commands.registerCommand("remote-containers.pruneVolumes",this.commandPruneVolumes,this)),t.push(ue.commands.registerCommand("remote-containers.explorerVolumesRefresh",this.commandExplorerVolumesRefresh,this)),t.push(ue.commands.registerCommand("remote-containers.startAndOpenFolder",this.commandStartAndOpenFolder,this)),t.push(ue.commands.registerCommand("remote-containers.newContainer",this.commandNewContainer,this)),t.push(ue.commands.registerCommand("remote-containers.showContainerLog",this.commandShowContainerLog,this)),t}async commandStopContainer(t){if(!qr.isContainerItem(t))return;let r=this.targetsTreeData.currentContainer&&this.targetsTreeData.currentContainer.Id===t.container.Id?"Stop active container? This will disconnect your current window.":`Stop ${t.getContainerLabel()}?`,n=await ue.window.showWarningMessage(r,{modal:!0},...d0e(this.targetsTreeData.currentContainer,t.container));await this.targetsTreeData.withProgress(t,async()=>{switch(n){case x5:{await jk(this.dockerParams,t.container),t.container=await mn(this.dockerParams,t.container.Id);break}case k5:{await ue.commands.executeCommand("workbench.action.closeFolder");break}case P5:{await ue.commands.executeCommand("remote-containers.reopenLocally");break}}})}async commandRemoveContainer(t){if(!qr.isContainerItem(t))return;let r=await Bn(this.dockerParams,t.container.Id);if(!r)return;let n=await ue.window.showWarningMessage("Remove this container?",{modal:!0,detail:"This action is not reversible and deletes the container permanently."},"Remove");await this.targetsTreeData.withProgress(t.parent,async()=>{n==="Remove"&&(await jk(this.dockerParams,t.container),await yW(this.dockerParams,r.Id),this.detailsTreeData&&await this.detailsTreeData.refresh(void 0),await this.tryRemoveVolume(t.container))})}async tryRemoveVolume(t){let r=$y(t);if(r||(r=IU(t)),r){let n=await ly(this.dockerParams,r);if((await _S(this.dockerParams)).indexOf(r)>=0){let s;(n==null?void 0:n.Labels)&&n.Labels["vsch.local.repository.unique"]==="true"?s="The container is using a volume with a cloned repository.":s=`This is the last container using '${r}'.`,await ue.window.showInformationMessage(s,{modal:!0,detail:"Do you want to remove the volume and the data it contains?"},"Remove")==="Remove"&&await qk(this.dockerParams,r)}}}async commandPruneVolumes(t){let r="Are you sure you want to remove all unused volumes?";await ue.window.showInformationMessage(r,{modal:!0},"Remove")==="Remove"&&await this.targetsTreeData.withProgress(t,async()=>{await Zj(this.dockerParams)})}async commandExplorerVolumesRefresh(t){return await this.devVolumesTreeData.getDockerParams(),this.devVolumesTreeData.refresh(void 0)}async commandStartContainer(t){!qr.isContainerItem(t)||await this.targetsTreeData.withProgress(t,async()=>{await _C(this.dockerParams,t.container),t.container=await mn(this.dockerParams,t.container.Id)})}async commandRemoveRecentFolder(t){!qr.isFolderItem(t)||(await ue.commands.executeCommand("vscode.removeFromRecentlyOpened",t.folder.toString()),await this.targetsTreeData.refresh(void 0))}async commandShowDetails(t){!qr.isContainerItem(t)||(this.detailsTreeData||(this.detailsTreeData=I5(this.context,this.dockerParams,this.targetsTreeData,this.telemetry)),await this.detailsTreeData.refresh(t))}async commandExplorerDetailsRefresh(){this.detailsTreeData&&await this.detailsTreeData.refresh(void 0)}async commandStartAndOpenFolder(t){let r,n;qr.isFolderItem(t)?(n=t,r=t.container):an.isContainerItem(t)&&(n=t.folders[0],r=t.container),r&&(await _C(this.dockerParams,r),await ue.commands.executeCommand("remote-containers.openFolder",n))}async commandAttachToContainer(t){return this.attachToContainerInternal(t)}async commandAttachToContainerNewWindow(t){return this.attachToContainerInternal(t,!0)}async attachToContainerInternal(t,r=!1){let n;qr.isContainerItem(t)?n=t.container:this.detailsTreeData&&(n=this.detailsTreeData.container),n&&(await _C(this.dockerParams,n),await z0(this.dockerParams,n,this.context,r))}async commandInspectDockerResource(t){let r;(qr.isContainerItem(t)||qa.isImageItem(t)||qa.isVolume(t)||qa.isDevVolume(t))&&(r=await t.inspect(this.dockerParams)),r&&ue.window.showTextDocument(await ue.workspace.openTextDocument({language:"json",content:JSON.stringify(r,null,"	")}))}async commandInspectInBasicDevContainer(t){qa.isDevVolume(t)&&await t.inspectInBasicDevContainer()}async commandCloneInVolume(t){qa.isDevVolume(t)&&await t.cloneRepositoryInVolume()}async commandRemoveVolume(t){qa.isDevVolume(t)&&await t.removeVolume(this.dockerParams)}async commandNewContainer(){let t=[{label:"Open Current Folder in Container",command:"remote-containers.reopenInContainer"},{label:"Open Folder in Container...",command:"remote-containers.openFolder"},{label:"Open Workspace in Container...",command:"remote-containers.openWorkspace"},{label:"Clone Repository in Container Volume...",command:"remote-containers.openRepositoryInVolume"},{label:"Clone GitHub Pull Request in Container Volume...",command:"remote-containers.openPullRequestInVolume"},{label:"Try a Sample...",command:"remote-containers.trySample"}],r=await ue.window.showQuickPick(t,{placeHolder:"Select an action to create a container"});if(r)return ue.commands.executeCommand(r.command)}async commandShowContainerLog(t){if(!qr.isContainerItem(t))return;let r=new T5(this.dockerParams,t.container.Id);ue.window.createTerminal({name:t.container.Config.Image,pty:r}).show()}};async function D5(e,t,r,n){ue.commands.executeCommand("setContext","remote-containers:showDetails",!1);let i=new R5(e,t,s,r,n),o=ue.window.createTreeView("targetsContainers",{treeDataProvider:i});i.setMessage=a=>o.message=a,e.subscriptions.push(ue.commands.registerCommand("remote-containers.explorerTargetsRefresh",async()=>(await i.getDockerParams(!0),i.refresh(void 0))));function s(a){let c=f0e(e,a,i,r),l=new M5(e,r,n),u=ue.window.createTreeView("devVolumes",{treeDataProvider:l});e.subscriptions.push(u);let f=new A5(i,c,l,a,e,r);e.subscriptions.push(...f.registerCommands()),e.subscriptions.push(pW(e)(async()=>{i.refresh(void 0),l.refresh(void 0);let d=await wt(e,n);c&&c.updateDockerParameters(d),f.updateDockerParameters(d)}))}}var R5=class{constructor(t,r,n,i,o){this.context=t;this.resolverResults=r;this.onFirstReveal=n;this.telemetry=i;this.output=o;this._onDidChangeTreeData=new ue.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this._onDidChangeActiveContainer=new ue.EventEmitter;this.onDidChangeActiveContainer=this._onDidChangeActiveContainer.event;this.refreshDockerParams=!1;this.needsSSHCredentials=!1;this.setTreeMessage=()=>{};this.devContainers=[];this.attachContainers=[];this.otherContainers=[];this.recentAttachEntries=new Map;this.recentAttachDevContainerEntries=new Map;this.recentDevComposeEntries=new Map;this.containerItems=new Map;this.action=Promise.resolve();this.needsDockerStartOrInstallContext=void 0;this.hasContainersContext=void 0}set setMessage(t){this.setTreeMessage=t}get currentContainer(){return this._currentContainer}async getDockerParams(t=!1){if(!this.dockerParams){this.passiveSSHAskpassEnv||(this.passiveSSHAskpassEnv=wo(this.context.extensionPath,async r=>(this.needsSSHCredentials=!0,xs(r,!1)),this.output));try{this.dockerParams=await wt(this.context,this.output,void 0,void 0,t?void 0:this.passiveSSHAskpassEnv,!1),await Lm(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0)}catch(r){if(!this.needsSSHCredentials)throw r}}return this.dockerParams}handleDockerEvent(t){try{let r=JSON.parse(t.toString());if(!r.Action)return;let n="exec_create: /root/.vscode-server";if(r.Action==="die"||r.Action==="destroy"||r.Action==="create")this._onDidChangeTreeData.fire();else if(!r.Action.startsWith("exec_create")&&r.Actor&&r.Actor.ID&&this.containerItems.has(r.Actor.ID)){let i=this.containerItems.get(r.Actor.ID);this.dockerParams&&i?(async()=>{i.container=await mn(this.dockerParams,i.container.Id),this._onDidChangeTreeData.fire(i)})():this._onDidChangeTreeData.fire(i);return}else if(r.Action.startsWith(n)){this._onDidChangeTreeData.fire();return}}catch{}}async tryEnsureDocker(){let t=await this.getDockerParams();if(!!t)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await dy(t,{event:["create","destroy","die","health-status","kill","pause","rename","resize","restart","start","stop","unpause","update","exec_create"]}),this.eventsProcess.stdout.on("data",r=>{this.handleDockerEvent(r)})}catch(r){r.code!=="ENOENT"&&console.log(r),this.dockerParams=void 0}}async getTreeItem(t){return t.asTreeItem(this.dockerParams,this.context,this._currentContainer,this.currentFolder)}async setDockerStartOrInstallContext(t){(this.needsDockerStartOrInstallContext===void 0||this.needsDockerStartOrInstallContext!==t)&&(this.needsDockerStartOrInstallContext=t,!this.needsDockerStartOrInstallContext&&this.hasContainersContext===!1&&this.setHasContainersContext(!0),await ue.commands.executeCommand("setContext","remote-containers:needsDockerStartOrInstall",!this.needsDockerStartOrInstallContext&&!this.needsSSHCredentials),await ue.commands.executeCommand("setContext","remote-containers:needsSSHCredentials",!this.needsDockerStartOrInstallContext&&this.needsSSHCredentials))}async setHasContainersContext(t){if(this.hasContainersContext===void 0||this.hasContainersContext!==t){this.hasContainersContext=t;let r=ue.workspace.workspaceFolders&&ue.workspace.workspaceFolders.length>0?"remote-containers:noContainersWithFolder":"remote-containers:noContainersWithoutFolder";await ue.commands.executeCommand("setContext",r,!this.hasContainersContext)}}async getDockerOrShowMessage(t){return this.refreshDockerParams&&(this.refreshDockerParams=!1,this.dockerParams=void 0),!this.dockerParams&&(t===void 0&&await this.tryEnsureDocker(),!this.dockerParams)?(this.setDockerStartOrInstallContext(!1),this._onDidChangeActiveContainer.fire(void 0),!1):(this.setDockerStartOrInstallContext(!0),!0)}async getChildGroups(t){this.containerItems.clear(),await this.setCurrents(),await this.setContainerTypes(t);let r=[];return(this.devContainers.length>0||this.attachContainers.length>0)&&r.push(new rA("Dev Containers",0)),this.otherContainers.length>0&&r.push(new rA("Other Containers",2)),r}async getChildDevContainer(t,r){let n=await this.getWorkspaceFolderFromContainer(t),i=n?[new Ll(t,n,!0)]:[],o=Vu(t);o&&this.recentAttachDevContainerEntries.has(o)?i.push(...this.recentAttachDevContainerEntries.get(o).map(a=>new Ll(t,a,!1))):o&&this.recentAttachEntries.has(t.Id)?i.push(...this.recentAttachEntries.get(t.Id).map(a=>new Ll(t,a,!1))):(o=Fc(t))&&this.recentAttachDevContainerEntries.has(o)?i.push(...this.recentAttachDevContainerEntries.get(o).map(a=>new Ll(t,a,!1))):o===void 0&&this.recentDevComposeEntries.has(t.Id)&&i.push(...this.recentDevComposeEntries.get(t.Id).map(a=>new Ll(t,a,!1)));let s=new an(t,i,r,!0);return this.setContainerItems(s),s}setContainerItems(t){this.containerItems.set(t.container.Id,t),this._currentContainer&&t.container.Id===this._currentContainer.Id&&this._onDidChangeActiveContainer.fire(t)}async getChildContainers(t){if(t.groupType===0){let r=this.devContainers.map(async n=>this.getChildDevContainer(n,t));return r.push(...this.attachContainers.map(async n=>{let i=new an(n,this.recentAttachEntries.get(n.Id).map(o=>new Ll(n,o,!1)),t);return this.setContainerItems(i),i})),Promise.all(r)}else return this.otherContainers.map(r=>{let n=new an(r,[],t);return this.setContainerItems(n),n})}getChildFolders(t){return t.folders&&t.folders.length>1?t.folders:[]}async getChildItems(t){if(t===void 0){let r=await ss(this.dockerParams,!0);if(await this.setHasContainersContext(r.length>0),r.length===0)return[];let n=await oa(this.dockerParams,r);return this.getChildGroups(n)}else{if(qr.isGroupItem(t))return this.getChildContainers(t);if(qr.isContainerItem(t))return this.getChildFolders(t)}return[]}async getChildren(t){return await this.action,await this.getDockerOrShowMessage(t)?(this.onFirstReveal&&(this.onFirstReveal(this.dockerParams),this.onFirstReveal=void 0),this.setTreeMessage(void 0),this.getChildItems(t)):[]}async refresh(t){t===void 0&&(this.refreshDockerParams=!0),this._onDidChangeTreeData.fire(t)}async setCurrents(){let t=ue.workspace.workspaceFolders,r;if(this.dockerParams){if(t&&t.length>0){let n=this.resolverResults.get(t[0].uri.authority);n&&n.dockerContainerId&&(r=await Bn(this.dockerParams,n.dockerContainerId),this.currentFolder=t[0].uri.path)}else if(this.resolverResults.size>0){let n=[...this.resolverResults.values()][0].dockerContainerId;n&&(r=await Bn(this.dockerParams,n))}}r!==this._currentContainer&&(this._currentContainer=r)}addContainerToMap(t){if(Vu(t)){this.devContainers.push(t);return}else if(Fc(t)){this.devContainers.push(t);return}else if(IS(t)&&this.recentDevComposeEntries.has(t.Id)){this.devContainers.push(t);return}else if(this.recentAttachEntries.has(t.Id)){this.attachContainers.push(t);return}this.otherContainers.push(t)}async setContainerTypes(t){return await this.setRecentEntries(t),this.devContainers.length=0,this.attachContainers.length=0,this.otherContainers.length=0,t.forEach(r=>{this.addContainerToMap(r)}),{hasDev:this.devContainers.length>0,hasAttach:this.attachContainers.length>0}}async getWorkspaceFolderFromHostWorkspace(t){let{cliHost:r,dockerCLI:n,dockerComposePath:i}=this.dockerParams,o=at(r.path,t),s=await So(r,o,No()),a={cliHost:r,dockerPath:n,dockerComposePath:i,appRoot:ue.env.appRoot,extensionPath:this.context.extensionPath,package:await ui(this.context.extensionPath),output:this.output},c=s&&await Wk(a,o.rootFolderPath,s);if(c&&Yt(c.configuration))return ue.Uri.parse($p(t,c.workspace.workspaceFolder,void 0),!0)}async getWorkspaceFolderFromContainer(t){let r=Vu(t);if(r)return this.getWorkspaceFolderFromHostWorkspace(r);{let n=Fc(t),i=$y(t),o=TU(t);if(n)return ue.Uri.parse(Mc(n,i,o,!1,void 0,void 0))}}async getWorkspaceFolderFromHostPath(t){let r=this.dockerParams.cliHost,n=await jU(r,t,this.output),i=qU(r,n,t);return ue.Uri.parse($p(t,i,void 0),!0)}getWorkspaceFolderFromRepository(t,r,n){return ue.Uri.parse(Mc(t,r,n,!1,void 0,void 0),!0)}async findComposeTargetContainer(t,r){if(!this.dockerParams)return;let{cliHost:n,dockerCLI:i,dockerComposePath:o}=this.dockerParams,s=at(n.path,t),a=await So(n,s,No()),c={cliHost:n,dockerPath:i,dockerComposePath:o,appRoot:ue.env.appRoot,extensionPath:this.context.extensionPath,package:await ui(this.context.extensionPath),output:this.output},l=a&&await Wk(c,s.rootFolderPath,a);if(l&&"dockerComposeFile"in l.configuration){let u=await Sr(n,l.configuration),f=await bp(this.dockerParams,s,u);return cq(r,f,l.configuration.service)}}trySetEntryWithAttachAuthority(t,r,n){let i;if("containerName"in r){let o=n.find(s=>s.Name===r.containerName);o&&(i=o.Id)}else i=r.containerId;i&&(this.recentAttachEntries.has(i)?this.recentAttachEntries.get(i).push(t):this.recentAttachEntries.set(i,[t]))}async trySetEntryWithDevAuthority(t,r,n,i){let o=r.hostPath,s=i[o];if(s||(s=await this.getWorkspaceFolderFromHostPath(r.hostPath),i[o]=s),s.path!==t.path){this.recentAttachDevContainerEntries.has(r.hostPath)?this.recentAttachDevContainerEntries.get(r.hostPath).push(t):this.recentAttachDevContainerEntries.set(r.hostPath,[t]);let a=await this.findComposeTargetContainer(r.hostPath,n);a&&this.recentDevComposeEntries.has(a)?this.recentDevComposeEntries.get(a).push(t):a&&this.recentDevComposeEntries.set(a,[t])}}trySetEntryWithRepoAuthority(t,r){this.getWorkspaceFolderFromRepository(r.repositoryPath,r.volumeName,r.folder).path!==t.path&&(this.recentAttachDevContainerEntries.has(r.repositoryPath)?this.recentAttachDevContainerEntries.get(r.repositoryPath).push(t):this.recentAttachDevContainerEntries.set(r.repositoryPath,[t]))}trySetEntryWithVolumeAuthority(t,r){let n=r.volumeName;!n||(this.recentAttachEntries.has(n)?this.recentAttachEntries.get(n).push(t):this.recentAttachEntries.set(n,[t]))}async trySetEntry(t,r,n){var s;if(!t||!t.folderUri&&!t.workspace.configPath)return;let i=(s=t.folderUri)!=null?s:t.workspace.configPath,o=Wy(i.authority);if(o)this.trySetEntryWithAttachAuthority(i,o,r);else{let a=wi(i.authority);a&&(Rr(a)?await this.trySetEntryWithDevAuthority(i,a,r,n):mi(a)?this.trySetEntryWithRepoAuthority(i,a):this.trySetEntryWithVolumeAuthority(i,a))}}async setRecentEntries(t){this.recentAttachEntries.clear(),this.recentAttachDevContainerEntries.clear(),this.recentDevComposeEntries.clear();let r=await ue.commands.executeCommand("_workbench.getRecentlyOpened");if(r&&r.workspaces){let n={};for(let i of r.workspaces)await this.trySetEntry(i,t,n)}}withProgress(t,r){return this.action=this.action.then(()=>r()),this.refresh(t)}},io;(function(s){s.Default="Default",s.Title="Title",s.Image="Image",s.Port="Port",s.Volume="Volume",s.DevVolume="DevVolume"})(io||(io={}));var qa=class{constructor(t){this.label=t;this.type=io.Default}static isDetailItem(t){return!!t&&t.label!==void 0&&t.type!==void 0}static isImageItem(t){return!!t&&t.type===io.Image}static isVolume(t){return!!t&&t.type===io.Volume}static isDevVolume(t){return!!t&&t.type===io.DevVolume}},O5=class{constructor(t){this.detail=t;this.type=io.Image;this.context="image";this.label="Image"}inspect(t){return Ou(t,this.detail)}},N5=class{constructor(t,r){this.label=t;this.volumeDetails=r;this.type=io.Volume;this.context="volume"}async inspect(t){return ly(t,this.volumeDetails)}},L5=class{constructor(t,r,n,i){this.context=t;this.dockerParams=r;this.telemetry=n;this.output=i;this._onDidChangeTreeData=new ue.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this.setTreeTitle=()=>{}}updateDockerParameters(t){this.dockerParams=t}set setTitle(t){this.setTreeTitle=t}get container(){return this._container?this._container.container:void 0}getTreeItem(t){let r=new ue.TreeItem(t.label,Array.isArray(t.detail)&&t.detail.length>0?ue.TreeItemCollapsibleState.Expanded:ue.TreeItemCollapsibleState.None);return r.tooltip=t.label,t.detail&&!Array.isArray(t.detail)&&(r.description=t.detail,r.tooltip+=` ${r.description}`),r.contextValue=t.context,r.command=t.command,r}async getAttributes(t,r,n){let i=[];r&&i.push({label:"Workspace",detail:r});let o=Fc(t.container);return o&&i.push({label:"Repository",detail:o}),i.push({label:"Name",detail:t.container.Name}),i.push(new O5(t.container.Config.Image)),n&&i.push({label:"Configuration",detail:n,command:{title:"Open Dev Container File",command:"remote-containers.openDevContainerFile",arguments:[n]},context:"devContainer"}),i}async getMounts(t){let r=[];return t&&t.Mounts.forEach(n=>{if(n.Type==="volume"){let i=n.Name,o=new N5(`Volume: ${i}`,i),s={label:`Destination: ${n.Destination}`,detail:void 0};r.push({label:"Volume mount",detail:[o,s]})}else if(n.Type==="bind"){let i={label:`Source: ${n.Source}`,detail:void 0},o={label:`Destination: ${n.Destination}`,detail:void 0};r.push({label:"Bind mount",detail:[i,o]})}}),r}async getChildrenFromRoot(t){let r=[],n=Vu(t.container),i;if(this.dockerParams&&n){let a=await So(this.dockerParams.cliHost,at(this.dockerParams.cliHost.path,n),No());a&&(i=We(a,this.dockerParams.cliHost.platform))}r.push({label:"Attributes",detail:await this.getAttributes(t,n,i),type:io.Title});let o;this.dockerParams&&(o=await mn(this.dockerParams,t.container.Id));let s=await this.getMounts(o);return s.length>0&&r.push({label:"Mounts",detail:s,type:io.Title}),r}async testContainer(){let t=!0;try{(this.dockerParams?await mn(this.dockerParams,this._container.container.Id):void 0)===void 0&&(t=!1)}catch{t=!1}return t||(this._container=void 0,this.setTreeTitle("Details (Containers)")),t}async getChildren(t){if(this._container===void 0)return[];let r=[];return t===void 0?await this.testContainer()&&(this.setTreeTitle(this._container.getContainerLabel()),r=await this.getChildrenFromRoot(this._container)):Array.isArray(t.detail)&&r.push(...t.detail),r}async refresh(t){this.dockerParams=await wt(this.context,this.output),await Lm(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0,this._container=void 0),this._container=t||this._container,this._onDidChangeTreeData.fire(void 0)}},F5=class extends qa{constructor(t){super(t.Name);this.type=io.DevVolume;this.volumeDetails=t,this.createdAt=void 0}async asTreeItem(){let t=this.getLabel(),r=new ue.TreeItem(t,ue.TreeItemCollapsibleState.None);return r.iconPath=this.iconPath,r.description=this.getDescription(),this.isUniqueVolume()?r.contextValue="uniqueDevVolume":r.contextValue="devVolume",r}isUniqueVolume(){let t=this.volumeDetails.Labels;if(t){let r=t["vsch.local.repository.unique"];if(r&&r==="true")return!0}return!1}getLabel(){let t=this.volumeDetails.Name;if(this.volumeDetails.Labels&&this.isUniqueVolume()){let n=this.getRepository();n&&n.gitUrlInfo.repository!=="unknown"&&(t=n.gitUrlInfo.fullRepositoryName)}return t}getDescription(){let t="";if(this.volumeDetails.Labels&&this.isUniqueVolume()){let n=this.getRepository();if(n&&n.gitUrlInfo.repository!=="unknown"){let i=this.getBranchName(),o=this.getPullRequestId();o?t=`#${o}`:i&&(t=`${i}`)}}return t}getBranchName(){let t=this.volumeDetails.Labels;if(t&&this.isUniqueVolume()&&t["vsch.local.repository.branch"])return t["vsch.local.repository.branch"]}getPullRequestId(){let t=this.volumeDetails.Labels;if(t&&this.isUniqueVolume()&&t["vsch.local.repository.pullRequestId"])return t["vsch.local.repository.pullRequestId"]}getRepository(){let t=this.volumeDetails.Labels;if(t){let r=t["vsch.local.repository.unique"];if(r&&r==="true"){let n=t["vsch.local.repository"];return hi(n)}}}get iconPath(){return new ue.ThemeIcon("file-symlink-directory")}getTimeElapsed(){if(this.createdAt)return this.createdAt;let t="";if(new Date(this.volumeDetails.CreatedAt).getFullYear()>1){let n=new Date,i=new Date(this.volumeDetails.CreatedAt),o,s,a=n.getTime()-i.getTime();(s=Math.round(a/an.years))>0?s===1?o="year":o="years":(s=Math.round(a/an.days))>0?s===1?o="day":o="days":(s=Math.round(a/an.hours))>0?s===1?o="hour":o="hours":(s=Math.round(a/an.minutes))>0?s===1?o="minute":o="minutes":(s=Math.round(a/an.seconds),s===1?o="second":o="seconds"),t=` ${s} ${o} ago`}return this.createdAt=t,t}async inspect(t){return ly(t,this.volumeDetails.Name)}async inspectInBasicDevContainer(){await ue.commands.executeCommand("remote-containers.inspectVolume",this.volumeDetails.Name)}async cloneRepositoryInVolume(){await ue.commands.executeCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",this.volumeDetails.Name)}async removeVolume(t){if(!((await _S(t)).indexOf(this.volumeDetails.Name)>=0)){await ue.window.showInformationMessage(`Volume '${this.volumeDetails.Name}' is in use and cannot be removed.`,{modal:!0});return}await ue.window.showInformationMessage(`Are you sure you want to remove volume '${this.volumeDetails.Name}'?`,{modal:!0},"Remove")==="Remove"&&await qk(t,this.volumeDetails.Name)}},M5=class{constructor(t,r,n){this.context=t;this.telemetry=r;this.output=n;this._onDidChangeTreeData=new ue.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event}async getTreeItem(t){return t.asTreeItem()}async getDockerParams(){return this.dockerParams||(this.dockerParams=await wt(this.context,this.output,void 0,void 0),await Lm(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0)),this.dockerParams}async setHasVolumesContext(t){await ue.commands.executeCommand("setContext","remote-containers:noDevVolumes",t)}async getDockerOrShowMessage(t){return!(!this.dockerParams&&(t===void 0&&await this.tryEnsureDocker(),!this.dockerParams))}async getChildren(t){if(!await this.getDockerOrShowMessage(t))return[];let r=await wt(this.context,this.output),n=await Co(r),i=await vp(r,n),o=a=>!(a.Name==="vscode"||a.Name.length===64&&/^[0-9a-fA-F]+$/.test(a.Name)),s=i.filter(o);return await this.setHasVolumesContext(s.length===0),s.sort((a,c)=>{let l=new Date(a.CreatedAt);return new Date(c.CreatedAt).getTime()-l.getTime()}),s.map(a=>new F5(a))}async resolveTreeItem(t,r){let n=await wt(this.context,this.output),i=await this.getAssociatedContainers(n,r),o=r.getLabel(),s=r.getRepository(),a=r.getBranchName(),c=r.getPullRequestId(),l=r.getTimeElapsed();return i.length>0?t.tooltip=this.renderMarkdown(o,s,a,c,l,i.join(", ")):t.tooltip=this.renderMarkdown(o,s,a,c,l,"*None*"),t}async getAssociatedContainers(t,r){let n=[],i=await ss(t,!0),o=await oa(t,i);for(let s of o)for(let a of s.Mounts)a.Type==="volume"&&a.Name===r.volumeDetails.Name&&n.push(s.Name.substring(1));return n}renderMarkdown(t,r,n,i,o,s){let a=new ue.MarkdownString(void 0,!0);if(r){let c=r.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)",l=r.gitUrlInfo.repositoryUrl;l.startsWith("http")?(l=r.gitUrlInfo.repositoryUrl.replace(".git",""),a.appendMarkdown(`${c} [${l}](${l})
`)):a.appendMarkdown(`${c} ${l})
`),a.appendMarkdown(`&nbsp;  
`),n&&(r.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-compare) [${n}](${l}/tree/${n})
`):a.appendMarkdown(`$(git-compare) ${n}
`),a.appendMarkdown(`&nbsp;  
`)),i&&(r.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-pull-request-create) [#${i}](${l}/pull/${i})
`):a.appendMarkdown(`$(git-pull-request-create) #${i}
`),a.appendMarkdown(`&nbsp;  
`)),a.appendMarkdown(`$(history) ${o}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`)}else a.appendMarkdown(`$(file-symlink-directory) ${t}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(history) ${o}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`);return a}handleDockerEvent(t){try{let r=JSON.parse(t.toString());if(!r.Action)return;(r.Action==="die"||r.Action==="destroy"||r.Action==="create"||r.Action==="prune")&&this._onDidChangeTreeData.fire()}catch{}}async tryEnsureDocker(){let t=await this.getDockerParams();if(!!t)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await dy(t,{event:["destroy","die","kill","create","rename","resize","restart","start","stop","unpause","prune"]}),this.eventsProcess.stdout.on("data",r=>{this.handleDockerEvent(r)})}catch(r){r.code!=="ENOENT"&&console.log(r),this.dockerParams=void 0}}async refresh(t){t===void 0&&(this.dockerParams=void 0),this._onDidChangeTreeData.fire(t)}},p0e="vm-active",h0e="vm-default",m0e="folder-active",g0e="folder";function W0(e,t){let r=`${t}.svg`;return{light:ue.Uri.file(e.asAbsolutePath(Nl.join("resources","light",r))),dark:ue.Uri.file(e.asAbsolutePath(Nl.join("resources","dark",r))),highContrast:ue.Uri.file(e.asAbsolutePath(Nl.join("resources","highContrast",r)))}}var nA=te(require("util"));var Ai=te(require("vscode"));async function j5(e,t,r={}){let n=Cu(t[0],t.slice(1),void 0),i=await nM(t[0],t.slice(1),void 0,e.loadNativeModule),o=await Bv({params:e,createdAt:void 0,startedAt:void 0,sharedDataFolderIsLocalCacheFolder:!1,sharedDataFolder:void 0,remoteWorkspaceFolder:"/",containerUser:void 0,containerGroup:void 0,containerEnv:void 0,remoteExec:n,remotePtyExec:i,remoteExecAsRoot:void 0,rootShellServer:void 0}),{hostOrContainerPort:s,connectionToken:a,webConnectionToken:c,remoteEnv:l,serverDownloaded:u}=await Wv(e,o,r,async()=>{},void 0);return{params:e,properties:o,config:void 0,resolvedAuthority:{host:sa,port:s,connectionToken:a,extensionHostEnv:l},webConnectionToken:c,tunnelInformation:{},dockerParams:void 0,dockerContainerId:void 0,serverDownloaded:u}}async function q5(e,t,r){var n,i,o;if(!!await Ia(e))if(r&&r.name){let s=["get","pod",r.name,"-o","json"];r.namespace&&s.push("--namespace",r.namespace);let{cliHost:a,env:c,output:l}=t,u=(await ze({exec:a.exec,cmd:"kubectl",args:["config","current-context"],env:c,output:l})).stdout.toString().trim(),d=(await ze({exec:a.exec,cmd:"kubectl",args:s,env:c,output:l})).stdout.toString(),p=JSON.parse(d),h=((n=p.spec)==null?void 0:n.containers)||[];if(!h.length){t.output.write(`No containers found. Pod details:
${d}`),await Ai.window.showErrorMessage("No containers found.",{modal:!0},"Show Log")&&Ai.commands.executeCommand(Kn);return}let m=h.length>1?(i=await Ai.window.showQuickPick(h.map(g=>({label:g.name,detail:g.image,container:g})),{placeHolder:"Select container"}))==null?void 0:i.container:h[0];if(m){let g=((o=p.metadata)==null?void 0:o.namespace)||r.namespace,v={remoteAuthority:y0e({context:u,podname:r.name,namespace:g,name:m.name,image:m.image})};/\d$/.test(e.extensionPath)||(v.reuseWindow=!0),await Ai.commands.executeCommand("vscode.newWindow",v)}}else t.output.write(`No Pod name found. Pod object:
${JSON.stringify(r,void 0,"  ")}`),await Ai.window.showErrorMessage("No Pod name found.",{modal:!0},"Show Log")&&Ai.commands.executeCommand(Kn)}async function $5(e,t,r,n,i){return await Ia(e)?me(K({},await v0e(e,t,r,n,i)),{isTrusted:!0}):(await Ai.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function v0e(e,t,r,n,i){let o;return Ai.window.withProgress({location:Ai.ProgressLocation.Notification,title:Bf,cancellable:!1},async s=>{try{let a=w0e(r),c=process.cwd(),l=await ji(void 0,c,Ro,eo(),e.extensionPath,await xo(),t.product,n.log,Lo);o=await Uf({authority:r,extensionContext:e,sessionStart:n.sessionStart,progress:s,cliHost:l,env:l.env,cwd:c,isLocalContainer:!0,telemetry:t,output:n.log,logFilePath:n.logFilePath,allowSystemConfigChange:!1,postCreate:i}),o.setWorkspaceName(`${a.name} in ${a.podname} (${a.image})`);let u=["kubectl","exec","-it",a.podname];return a.context&&u.push("--context",a.context),a.namespace&&u.push("--namespace",a.namespace),u.push("--container",a.name,"--"),await j5(o,u)}catch(a){let c=a instanceof $e?a:new $e({description:"An error occurred attaching to the container.",originalError:a});throw c.actions=[...Gu,qc,la,zu,jc],c}}).then(s=>(Ps(t,"k8s-container","success",o,void 0,s.properties),s),s=>{let a=s instanceof $e?s:new $e({description:"An error occurred attaching to the container.",originalError:s});return Ps(t,"k8s-container","failure",o,void 0,a.containerProperties,a),ua(a,"k8s-container",t,!0,n)})}function y0e(e){let t=[];for(let r in e){let n=e[r];n&&t.push(`${r}=${encodeURIComponent(n)}`)}return`k8s-container+${t.join("+")}`}function w0e(e){return e.substr(e.indexOf("+")+1).split("+").reduce((t,r)=>{let n=r.indexOf("=");return n!==-1&&(t[r.substr(0,n)]=decodeURIComponent(r.substr(n+1))),t},{})}var Rt=te(require("vscode")),Fl=te(require("fs")),ad=te(require("os")),Ml=te(require("path")),G0=te(require("child_process")),cd=te(require("util"));function K0(e){switch(e.quality){case"stable":return"";case"insider":return"-insiders";default:return`-${e.quality}`}}async function U5(e,t){var l;let r=e.globalStorageUri,n=qn.joinPath(r,"cli-bin");await Rt.workspace.fs.createDirectory(n);let i="";try{i=(await Rt.workspace.fs.readFile(qn.joinPath(n,"remote-containers-path"))).toString()}catch(u){if((u==null?void 0:u.code)!=="FileNotFound")return}if(i===e.extensionPath)return;let o=qn.joinPath(e.extensionUri,"dev-containers-user-cli","bin"),s=K0(t),a=`devcontainer${s}`,c=[{source:"devcontainer",destination:a},{source:"devcontainer.cmd",destination:`devcontainer${s}.cmd`}];for(let u of c)await Rt.workspace.fs.copy(qn.joinPath(o,u.source),qn.joinPath(n,u.destination),{overwrite:!0});process.platform!=="win32"&&await Fl.promises.chmod(qn.joinPath(n,a).fsPath,493),await Rt.workspace.fs.writeFile(qn.joinPath(n,"vscode-app-root"),Buffer.from(Rt.env.appRoot,"utf-8")),await Rt.workspace.fs.writeFile(qn.joinPath(n,"vscode-path"),Buffer.from(process.execPath,"utf-8")),await Rt.workspace.fs.writeFile(qn.joinPath(n,"vscode-quality"),Buffer.from((l=t.quality)!=null?l:"","utf-8")),await Rt.workspace.fs.writeFile(qn.joinPath(n,"vscode-machine-id"),Buffer.from(Rt.env.machineId,"utf-8")),await Rt.workspace.fs.writeFile(qn.joinPath(n,"remote-containers-path"),Buffer.from(e.extensionPath,"utf-8"))}async function C0e(e,t){let r=K0(t),n="";try{if(n=(await(0,cd.promisify)(G0.exec)(`powershell.exe -NoProfile -NonInteractive -Command "[System.Environment]::GetEnvironmentVariable('PATH', 'User')"`)).stdout.toString().trim(),n.indexOf(e)>=0)return await Rt.window.showInformationMessage("The devcontainer CLI is already in your PATH",{modal:!0,detail:`Try running 'devcontainer${r} --help'
Note: you may need to restart your shell for PATH changes to take effect`}),!0;switch(await Rt.window.showInformationMessage("The devcontainer CLI needs to be added to your PATH",{modal:!0},"Add","Copy CLI Path")){case"Add":let s=(0,cd.promisify)(G0.exec)(`powershell.exe  -NoProfile -NonInteractive -Command "[System.Environment]::SetEnvironmentVariable('PATH', '${n};${e}', 'User')`),a=Rt.window.showInformationMessage("The devcontainer CLI has been added to your PATH",{modal:!0,detail:`Try running 'devcontainer${r} --help'
Note: you may need to restart your shell for PATH changes to take effect`});await Promise.all([s,a]);break;case"Copy CLI Path":await Rt.env.clipboard.writeText(e),await Rt.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${r} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break}return!0}catch{return!1}}async function b0e(e,t){var a;let n=((a=process.env.PATH)!=null?a:"").split(":"),i=[Ml.join(ad.homedir(),"bin"),Ml.join(ad.homedir(),".local/bin")],o="/usr/local/bin";ad.platform()==="darwin"&&i.push(o);let s=(0,cd.promisify)(Fl.stat);for(let c of i){if(n.findIndex(p=>p===c)<0)continue;try{await s(c)}catch{continue}let l=K0(t),u=Ml.join(c,`devcontainer${l}`);try{let p=await s(u);return console.log(p),await Rt.window.showInformationMessage(`The devcontainer CLI is already symlinked in ${c}`,{modal:!0,detail:`Try running 'devcontainer${l} --help'
Note: you may need to restart your shell for PATH changes to take effect`}),!0}catch(p){if((p==null?void 0:p.code)!=="ENOENT")return!1}let f=await Rt.window.showInformationMessage("The devcontainer CLI needs to be in your PATH",{detail:`Create a symlink in ${c}?`,modal:!0},"Create","Copy CLI Path"),d=Ml.join(e,`devcontainer${l}`);switch(f){case"Create":if(c===o){if(!await E0e(d,u))break}else await(0,cd.promisify)(Fl.symlink)(d,u);await Rt.window.showInformationMessage(`The devcontainer CLI has been symlinked in ${c}`,{modal:!0,detail:`Try running 'devcontainer${l} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break;case"Copy CLI Path":await Rt.env.clipboard.writeText(e),await Rt.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${l} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break}return!0}return!1}async function E0e(e,t){try{return await Fl.promises.symlink(e,t),!0}catch(r){if(r.code!=="EACCES"&&r.code!=="ENOENT")throw r;if(await Rt.window.showInformationMessage("This will now prompt with 'osascript' for Administrator privileges to install the shell command.",{modal:!0},"OK")==="OK"){let i=`osascript -e "do shell script \\"mkdir -p ${Ml.dirname(t)} && ln -sf '${e}' '${t}'\\" with administrator privileges"`;return await(0,cd.promisify)(G0.exec)(i),!0}return!1}}async function B5(e,t){let r=e.globalStorageUri,n=qn.joinPath(r,"cli-bin").fsPath;switch(ad.platform()){case"win32":if(await C0e(n,t))return;break;case"darwin":case"linux":if(await b0e(n,t))return;break}if(await Rt.window.showInformationMessage("The devcontainer CLI needs to be included your PATH",{modal:!0},"Copy CLI Path")==="Copy CLI Path"){await Rt.env.clipboard.writeText(n);let o=K0(t);await Rt.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${o} --help'
Note: you may need to restart your shell for PATH changes to take effect`})}}var z5=class{constructor(t,r,n){this.context=t;this.telemetry=n,this.output=r}handleUri(t){switch(t.path){case"/cloneInVolume":this.cloneInVolume(t)}}async cloneInVolume(t){let r=W5.parse(t.query);if(!r.url){B.window.showErrorMessage(`Failed to handle the URI '${t}' expected a 'url' query parameter.`,{modal:!0});return}let n;Array.isArray(r.url)?n=r.url[0]:n=r.url;let i=await wt(this.context,this.output.log);if(!await In(this.context,i,await this.telemetry))return;if(await c_(i.cliHost,n,this.output.log)===!1){B.commands.executeCommand(Kn),await B.window.showErrorMessage(`Cannot access the repository '${n}'.`,{modal:!0});return}await B.commands.executeCommand(mC,r.url)}};async function S0e(e){var P;TW();let t=new Date;IW(e);let r=await ui(e.extensionPath),n=await ip(B.env.appRoot);AW(e,n);let i=PW(e,r,n),o=`Dev Containers ${r.version} in VS Code ${B.version} (${n.commit||"out-of-source"}).`,s=new EC(e.logPath,t,o);e.subscriptions.push(B.commands.registerCommand(Kn,()=>s.show()));let{channel:a,postCreate:c}=xW(s.log,t);e.subscriptions.push(B.commands.registerCommand(Rk,()=>a.show())),e.subscriptions.push(B.workspace.registerRemoteAuthorityResolver("dev-container",{resolve:gC(s,c,Yr.results,async(S,x,I)=>e5(e,await i,S,Yr.onRemoveOnShutdownChanged,x,I)),async getCanonicalURI(S){var I;let x=wi(S.authority);if(x&&Rr(x)){let{hostPath:A,settings:O}=x;return Ar(A)?yu(A,s.log):O&&"host"in O&&((I=O.host)==null?void 0:I.startsWith("ssh://"))?sp(O.host,A):B.Uri.file(A)}return S}}),B.workspace.registerRemoteAuthorityResolver("attached-container",{resolve:gC(s,c,Yr.results,async(S,x,I)=>p5(e,await i,S,x,I))}),B.workspace.registerRemoteAuthorityResolver("k8s-container",{resolve:gC(s,c,Yr.results,async(S,x,I)=>$5(e,await i,S,x,I))}),B.window.registerUriHandler(new z5(e,s,i)));let l=async(S,x,I)=>{let A=await wt(e,s.log);if(!await In(e,A,await i))return;let O;if(qr.isFolderItem(S)?(O=S.folder,I=T0e()):O=S,O.scheme==="vscode-remote")return B.commands.executeCommand("vscode.openFolder",O,I);{let L=at(A.cliHost.path,We(O,A.cliHost.platform));return J0(e,L,A,await i,x,I)}};e.subscriptions.push(B.commands.registerCommand("remote-containers.openFolder",async(S,x)=>S?l(S,!1,x):J5(e,!0,await i,!1,s.log))),e.subscriptions.push(B.commands.registerCommand("remote-containers.openWorkspace",async(S,x)=>S?l(S,!1,x):J5(e,!1,await i,!1,s.log))),e.subscriptions.push(B.commands.registerCommand(cW,async S=>ld(e,await i,s.log,S))),e.subscriptions.push(B.commands.registerCommand(mC,async S=>ld(e,await i,s.log,S,Hn))),e.subscriptions.push(B.commands.registerCommand(lW,async S=>{if(S.url){let x=S.url;return(S==null?void 0:S.ref)&&(x=`${S.url}/tree/${S.ref}`),ld(e,await i,s.log,x,Hn)}})),e.subscriptions.push(B.commands.registerCommand(uW,async()=>{var z;let S=await((z=B.extensions.getExtension("ms-vscode.remote-repositories"))==null?void 0:z.activate()),x=B.workspace.workspaceFolders;if(!x)return;let I=x[0].uri;if(x.length>1){let ee=await B.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!1,title:"Choose a repository to clone in a Container Volume"});I=ee==null?void 0:ee[0]}let A=I?await S.getMetadata(I):void 0;if(!A)return;let O=`${A.repo.owner}/${A.repo.name}`,L=(await A.getRevision()).name,J=`https://github.com/${O}`;return L&&(J=`${J}/tree/${L}`),ld(e,await i,s.log,J,Hn)})),e.subscriptions.push(B.commands.registerCommand(fW,async S=>R0e(e,await i,s.log,S,Hn))),e.subscriptions.push(B.commands.registerCommand("remote-containers.inspectVolume",async(S,x,I)=>Z5(e,S,x,I,await i,s.log))),e.subscriptions.push(B.commands.registerCommand("remote-containers.inspectVolumeFromViewlet",async S=>O0e(e,S,await i,s.log))),e.subscriptions.push(B.commands.registerCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",async S=>ld(e,await i,s.log,void 0,S))),e.subscriptions.push(B.commands.registerCommand("remote-containers.reopenInContainer",()=>u(!1))),e.subscriptions.push(B.commands.registerCommand("remote-containers.rebuildAndReopenInContainer",()=>u(!0))),e.subscriptions.push(B.commands.registerCommand("remote-containers.rebuildNoCacheAndReopenInContainer",()=>u("rebuildNoCache")));let u=async S=>{if(!await B.workspace.requestWorkspaceTrust({message:Gh}))return;let I=await wt(e,s.log);if(!await In(e,I,await i))return;let A=B.workspace.workspaceFile;if(A&&A.scheme==="untitled"){await T0();return}let O=B.workspace.workspaceFolders;if(!A&&O&&O.length){let J=O.length>1?await B.window.showWorkspaceFolderPick({placeHolder:"Pick a folder to reopen in a container."}):O[0];J&&(A=J.uri)}let L=await Lk(A);if(L){await jm(e,L.repositoryPath,L.volumeName,L.folder,I);return}if(A){let J;if(I.cliHost.type==="wsl"&&A.scheme==="file"){let ee=We(A,process.platform),ie=Js(ee)||Mk()||await kv(I.output)||(()=>{throw new Error("No default WSL distro found.")})();J=await es(ie,ee,I.output)}else J=We(A,I.cliHost.platform);let z=at(I.cliHost.path,J);await J0(e,z,I,await i,S,{forceReuseWindow:!0})}};e.subscriptions.push(B.commands.registerCommand("remote-containers.reopenLocally",async()=>{let S=B.workspace.workspaceFolders,x=B.workspace.workspaceFile||S&&S.length&&S[0].uri;if(x&&x.scheme==="vscode-remote"){let I=wi(x.authority);if(I&&Rr(I)){let A=B.Uri.file(I.hostPath),O={forceReuseWindow:!0};await B.commands.executeCommand("vscode.openFolder",A,O)}else B.window.showInformationMessage("'Reopen Locally' not possible in current context.")}})),e.subscriptions.push(B.commands.registerCommand("remote-containers.reopenInWSL",async()=>{let S=B.workspace.workspaceFolders,x=B.workspace.workspaceFile||S&&S.length&&S[0].uri;if(x&&x.scheme==="vscode-remote"){let I=wi(x.authority);if(I&&Rr(I)&&Ar(I.hostPath)){let A=B.Uri.parse((await yu(I.hostPath,s.log)).toString()),O={forceReuseWindow:!0};await B.commands.executeCommand("vscode.openFolder",A,O)}else B.window.showInformationMessage("'Reopen in WSL' not possible in current context.")}})),e.subscriptions.push(B.commands.registerCommand("remote-containers.reopenInSSH",async()=>{let S=B.workspace.workspaceFolders,x=B.workspace.workspaceFile||S&&S.length&&S[0].uri;if(x&&x.scheme==="vscode-remote"){let I=wi(x.authority),A=I==null?void 0:I.settings;if(I&&Rr(I)&&A&&"host"in A&&A.host&&A.host.startsWith("ssh://")){let O=B.Uri.parse(sp(A.host,I.hostPath).toString()),L={forceReuseWindow:!0};await B.commands.executeCommand("vscode.openFolder",O,L)}else B.window.showInformationMessage("'Reopen in SSH' not possible in current context.")}}));let f,d=async S=>{var O;if(!await Ia(e))return;let x,I=typeof S=="string"?S:(O=S==null?void 0:S.containerDesc)==null?void 0:O.Id;if(I){let L=await wt(e,s.log);if(!await In(e,L,await i))return;x=await mn(L,I)}else{let L=!1;f||(f=wo(e.extensionPath,async z=>(L=!0,xs(z)),s.log));let J=await wt(e,s.log,void 0,void 0,f);if(x=await U0e(J,In(e,J,await i),()=>L),!x)return}let A=await wt(e,s.log);z0(A,x,e)};e.subscriptions.push(B.commands.registerCommand("remote-containers.attachToRunningContainer",d)),e.subscriptions.push(B.commands.registerCommand("remote-containers.attachToRunningContainerFromViewlet",d)),e.subscriptions.push(B.commands.registerCommand("remote-containers.attachToK8sContainerFromViewlet",async S=>q5(e,await wt(e,s.log),S)));let p=async S=>{var A;let x=await wt(e,s.log);if(!await In(e,x,await i))return;let I=(A=S==null?void 0:S.pullRequestModel)==null?void 0:A.html_url;ld(e,await i,s.log,I,Hn)};e.subscriptions.push(B.commands.registerCommand("remote-containers.checkoutPRInVolume",p)),e.subscriptions.push(B.commands.registerCommand("remote-containers.rebuildContainer",async()=>{let S=await Cl();if(S){let x=await wt(e,s.log);await jm(e,S.repositoryPath,S.volumeName,S.folder,x,!0);return}return await Promise.all(Yr.onRemoveOnShutdownChangedEmitter.fire(!0)),B.commands.executeCommand("workbench.action.reloadWindow")})),e.subscriptions.push(B.commands.registerCommand("remote-containers.rebuildContainerNoCache",async()=>{let S=await Cl();if(S){let x=await wt(e,s.log);await jm(e,S.repositoryPath,S.volumeName,S.folder,x,"rebuildNoCache");return}return await Promise.all(Yr.onRemoveOnShutdownChangedEmitter.fire("rebuildNoCache")),B.commands.executeCommand("workbench.action.reloadWindow")}));let h=B.env.remoteName&&B.env.remoteName!=="test"?"linux":process.platform,m=((P=(B.workspace.workspaceFolders||[])[0])==null?void 0:P.uri)||Ve.file(process.cwd()),g=Ma(h,m),v={fileHost:g,findDevContainerFiles:()=>Uk(g),telemetry:i,output:s.log,existingFilesLearnMoreLink:Uh,predefinedDefinitionsLearnMoreLink:Bh,openConfigurationCommandId:$h},y=await U9(e,v);e.subscriptions.push(B.commands.registerCommand("remote-containers.createDevContainerFile",async()=>{if(!B.workspace.workspaceFolders){await B.window.showInformationMessage("Open a folder to create the configuration files in first.",{modal:!0},"Open Folder")&&await B.commands.executeCommand(process.platform==="darwin"?"workbench.action.files.openFileFolder":"workbench.action.files.openFolder");return}await sA(e,g,y,await i,s.log)})),e.subscriptions.push(B.commands.registerCommand("remote-containers.openDevContainerFile",async(S,x)=>{let I,A=await wt(e,s.log),O;if(typeof S=="string"?I=[Ve.file(S)]:(O=await Uk(A.cliHost),I=(await Promise.all(O.map(L=>L.scheme==="file"||L.scheme==="vscode-remote"?L:A.cliHost.toCommonURI(We(L,A.cliHost.platform))))).filter(L=>!!L)),I.length){let L;I.length===1?L={uri:I[0]}:L=await B.window.showQuickPick(I.map(z=>({label:z.scheme==="file"?z.fsPath:z.toString(),uri:z})),{placeHolder:"Select container configuration file to open"});let J=await Cl();if(J){let z=_W(J.folder);for(let ee of z){try{await B.workspace.openTextDocument(B.Uri.parse(ee.toString()))}catch{continue}await B.commands.executeCommand("vscode.open",B.Uri.parse(ee.toString()),x);return}return}if(L){let z=L.uri,ee=gq(z);if(ee){let ie=`https://github.com/microsoft/vscode-dev-containers/tree/main/repository-containers/${process.platform==="win32"?ee.replace(/\\/g,"/"):ee}`;return B.env.openExternal(B.Uri.parse(ie))}else{if(z.scheme==="file"&&await Gt(z.fsPath))return await B.commands.executeCommand("vscode.open",B.Uri.parse(z.toString()),x);if(z.scheme==="file"&&Yr.results.size)return await pi(qi,z,[],is),await B.commands.executeCommand("vscode.open",B.Uri.parse(z.toString()),x);if(z.scheme==="vscode-remote"&&Yr.results.size)return await B.commands.executeCommand("vscode.open",B.Uri.parse(z.toString()),x);if(S===void 0)return await sA(e,g,y,await i,s.log)}}}else if(S===void 0&&!(O==null?void 0:O.length))return await sA(e,g,y,await i,s.log)})),e.subscriptions.push(B.commands.registerCommand("remote-containers.openAttachConfigByNameFile",async()=>{let{dockerContainerId:S,dockerParams:x}=[...Yr.results.values()][0];if(!S||!x)return B.window.showInformationMessage("Named configurations are only available for Docker containers.",{modal:!0});let I=await mn(x,S),A=U0(e.globalStoragePath,I.Name),O=B.Uri.file(A);return await Gt(A)?B.commands.executeCommand("vscode.open",O):(await pi(qi,O,[],is),B.commands.executeCommand("vscode.open",O))})),e.subscriptions.push(B.commands.registerCommand("remote-containers.openAttachDevContainerFile",async()=>{let S=[...(await a5(e.globalStoragePath)).map(I=>K({label:I.name},I)).sort((I,A)=>I.label.localeCompare(A.label)),...(await l5(e.globalStoragePath)).map(I=>K({label:I.image},I)).sort((I,A)=>I.label.localeCompare(A.label))],x=await B.window.showQuickPick(S.length?S:[{label:"No configuration found."}],{placeHolder:"Choose a configuration file"});if(x&&"uri"in x)return B.commands.executeCommand("vscode.open",B.Uri.parse(x.uri.toString()))})),e.subscriptions.push(B.commands.registerCommand("remote-containers.settings",async()=>B.commands.executeCommand("workbench.action.openSettings",`@ext:${Y5()}`))),e.subscriptions.push(B.commands.registerCommand("remote-containers.getHelp",async()=>B.env.openExternal(B.Uri.parse("https://aka.ms/vscode-remote/containers")))),e.subscriptions.push(B.commands.registerCommand("remote-containers.getStarted",async()=>B.env.openExternal(B.Uri.parse("https://aka.ms/vscode-remote/containers/getting-started")))),e.subscriptions.push(B.commands.registerCommand("remote-containers.reportIssue",async()=>B.commands.executeCommand("vscode.openIssueReporter",Y5()))),e.subscriptions.push(B.commands.registerCommand("remote-containers.provideFeedback",async()=>B.env.openExternal(B.Uri.parse("https://aka.ms/vscode-remote/containers/provide-feedback")))),e.subscriptions.push(B.languages.registerDocumentLinkProvider([{pattern:"**/devcontainer.json",language:"jsonc"},{pattern:"**/.devcontainer.json",language:"jsonc"}],new tA(g))),e.subscriptions.push(B.commands.registerCommand("remote-containers.trySample",async()=>{K0e(e,s.log)})),e.subscriptions.push(B.commands.registerCommand("remote-containers.openLogFile",()=>Y0e(e))),e.subscriptions.push(B.commands.registerCommand("remote-containers.openLastLogFile",()=>J0e(e,"remoteContainers",s.logFilePath))),e.subscriptions.push(B.commands.registerCommand("remote-containers.showReopenInContainerNotificationReset",()=>V0e(e))),e.subscriptions.push(B.commands.registerCommand("remote-containers.showRecoveryContainerNotificationReset",()=>P0e(e))),e.subscriptions.push(B.commands.registerCommand("remote-containers.installDocker",()=>V0(s.log))),D5(e,Yr.results,await i,s.log),await U5(e,n),e.subscriptions.push(B.commands.registerCommand("remote-containers.installUserCLI",()=>B5(e,n))),(async()=>{await EW(e)||await n8(e,g,await i,s.log)})().catch(console.error),k0e(e);let C=B.env.remoteName,b=!C||["dev-container","attached-container","wsl","ssh-remote","exec","k8s-container"].indexOf(C)!==-1?[{pattern:"**/.devcontainer.json"},{pattern:"**/devcontainer.json"}]:[];e.subscriptions.push(B.commands.registerCommand("remote-containers.addExtensionToConfig",y.addExtensionToConfiguration),B.languages.registerCompletionItemProvider([...b,{pattern:Er.join(B0(e.globalStoragePath),"*.json")},{pattern:Er.join($0(e.globalStoragePath),"*.json")}],y.createCompletionItemProvider()),B.commands.registerCommand("remote-containers.configureContainerFeatures",async()=>{var A;if(jt(Ze.dynamicallyFetchFeaturesFromIndex)||!1){await y.configureContainerFeatures();return}let x=await wt(e,s.log),I=await FT(v,{readDockerComposeConfig:async(O,L)=>{let J=await oq(x.cliHost.cwd,O,x.output);return sq(x,J,L)}});if(I){let O;if(!I.manifest&&I.imageName)try{O=await Ou(x,I.imageName)}catch(L){if(((A=L==null?void 0:L.stdout)==null?void 0:A.toString().replace(/\s/g,""))==="[]")try{await Et(x,"pull",I.imageName),O=await Ou(x,I.imageName)}catch{}}await jT(v,I,(O==null?void 0:O.Config.Labels)||{})}}),B.commands.registerCommand("remote-containers.labelPortAndUpdateConfig",y.addPortLabelToConfiguration)),await Cl()&&B.commands.executeCommand("setContext","isRecoveryContainer",!0),e.subscriptions.push(x9())}var G5="showRecoveryContainerNotification",K5="showReopenInContainerNotificationReset",x0e=5e3;function P0e(e){return e.globalState.update(K5,Date.now())}async function k0e(e){setTimeout(async()=>{let t=e.globalState.get(K5);if(aA(e.globalState.get(G5),t))return;if(await Cl()){let n="This is a recovery container that allows you to edit your Dockerfile. Use 'Reopen in Container' to retry.",i="Reopen in Container",o="Don't Show Again",s=await B.window.showInformationMessage(n,i,o);s===i?B.commands.executeCommand("remote-containers.reopenInContainer"):s===o&&await e.globalState.update(G5,Date.now())}},x0e)}async function I0e(){await Promise.all([...Yr.results.values()].map(e=>Promise.all(e.params.shutdowns.map(t=>{try{t()}catch(r){console.error(r)}}))))}function Y5(){let{name:e,publisher:t}=H5();return`${t}.${e}`}async function J5(e,t,r,n,i){var f;let o=await wt(e,i);if(!await In(e,o,r))return;let s,a=B.workspace.workspaceFolders;if(a&&a[0]){let d=a[0].uri;if(d.scheme==="vscode-remote"){let p=wi(d.authority);if(p&&Rr(p)){let h=at(o.cliHost.path,p.hostPath);s=B.Uri.file(h.rootFolderPath)}else/^(wsl|ssh-remote)\+/.test(d.authority)&&(s=d)}else d.scheme==="file"&&(s=d)}s||(((f=B.env.remoteName)==null?void 0:f.match(/^(wsl|ssh-remote)$/))?s=B.Uri.from({scheme:"vscode-remote",authority:B.env.remoteAuthority,path:await o.cliHost.homedir()}):s=B.Uri.file(V5.homedir()));let c=t?{defaultUri:s,canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,openLabel:"Open"}:{defaultUri:s,canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,filters:{"Code Workspace":["code-workspace"]},openLabel:"Open"},l=await B.window.showOpenDialog(c),u=l&&l[0];if(u){let d=t?u:u.with({path:Er.posix.dirname(u.path)}),p=await wt(e,o.output,d,Fk()==="always"),h=We(u,p.cliHost.platform),m=at(p.cliHost.path,h);await J0(e,m,p,r,n)}}function T0e(){return B.workspace.getConfiguration("window").get("openFoldersInNewWindow",void 0)==="on"?{forceNewWindow:!0}:{forceReuseWindow:!0}}async function J0(e,t,r,n,i,o){var C;let{cliHost:s}=r;if(Ar(t.rootFolderPath)){if(r=await wt(e,r.output,t.rootFolderPath),s=r.cliHost,!await In(e,r,n))return;t=at(s.path,t.isWorkspaceFile?s.path.join(s.cwd,Er.basename(t.workspaceOrFolderPath)):s.cwd)}let a=await fu(s,t);if(a){let b="Continue";if(await B.window.showInformationMessage(`The workspace could fail to open in a container: ${a}`,{modal:!0},b)!==b)return}let c=await So(s,t,No(),!0,r.output),{dockerCLI:l,dockerComposePath:u}=r,f={cliHost:s,dockerPath:l,dockerComposePath:u,appRoot:B.env.appRoot,extensionPath:e.extensionPath,package:await ui(e.extensionPath),output:r.output},d=c&&await zk(f,t.rootFolderPath,c);if(d==="canceled")return;if(!d||!ia(d.configuration)){let b=await Om({fileHost:s,telemetry:n,output:r.output,existingFilesLearnMoreLink:Uh,predefinedDefinitionsLearnMoreLink:Bh,openConfigurationCommandId:$h},t);if(!b||(d=await zk(f,t.rootFolderPath,Ve.file(b).with({scheme:rr.scheme})),!d||d==="canceled"))return}if(!await A0e(r,d.mergedConfiguration))return;let p=d.configuration,h=d.workspace.workspaceFolder;if(Yt(p)){let b=Zr(s,p);if(!p.initializeCommand&&!await mr(s).readDocument(b))return qm(`"${b.fsPath}" does not exist.`,s,p.configFilePath);if(p.workspaceFolder&&!Er.posix.isAbsolute(p.workspaceFolder))return qm("Workspace folder in devcontainer.json must be an absolute path.",s,p.configFilePath)}else if(!("image"in p))if("dockerComposeFile"in p){if(!await S5(r)||!await B0e(t,r,p))return}else{let b=p.configFilePath;return qm(`Configuration "${s.path.relative(t.rootFolderPath,We(b,s.platform))}" not valid.`,s,b)}t.isWorkspaceFile&&(h=Er.posix.join(h,s.path.basename(t.workspaceOrFolderPath)));let m=ca(r.env),g=s.type==="wsl"?(await s.toCommonURI(t.workspaceOrFolderPath)).fsPath:t.workspaceOrFolderPath,v=(s.type==="local"||s.type==="wsl")&&m&&"host"in m&&((C=m.host)==null?void 0:C.startsWith("ssh://")),y=B.Uri.parse($p(g,h,m,v));await X0({uri:y,type:t.isWorkspaceFile?"workspace":"folder",label:`${$U(s.platform,t.workspaceOrFolderPath,await s.homedir())}${$u(m)} [Dev Container]`}),await $k(e,i?y.authority:!1),await Wh(e,i==="rebuildNoCache"?y.authority:!1),await B.commands.executeCommand("vscode.openFolder",y,o)}async function A0e(e,{hostRequirements:t}){let r=t&&D0e(t);if(r&&(r.cpus||r.memory)){let n=await Et(e,"info","--format","{{json .}}"),i=JSON.parse(n.stdout.toString()),o=i.NCPU&&r.cpus&&r.cpus>i.NCPU,s=i.MemTotal&&r.memory&&r.memory>i.MemTotal;if(o||s){let a=[];i.NCPU&&a.push(`CPUs ${i.NCPU}`),i.MemTotal&&a.push(`RAM ${iA(i.MemTotal)}`);let c=[];r.cpus&&c.push(`CPUs ${r.cpus}`),r.memory&&c.push(`RAM ${iA(r.memory)}`),r.storage&&c.push(`disk ${iA(r.storage)}`);let l=`Docker daemon: ${a.join(", ")}
devcontainer.json: ${c.join(", ")}`;if(!await B.window.showInformationMessage("Not all host requirements in devcontainer.json are met by the Docker daemon.",{modal:!0,detail:l},"Continue"))return!1}}return!0}function D0e(e){return{cpus:e.cpus||0,memory:Q5(e.memory||"0"),storage:Q5(e.storage||"0")}}function Q5(e){let t=/^(\d+)([tgmk]b)?$/.exec(e);if(t){let[,r,n]=t,i=parseInt(r,10),o=n&&{t:2**40,g:2**30,m:2**20,k:2**10}[n[0]]||1;return i*o}return 0}function iA(e){let t=Math.min(Math.floor(Math.log2(Math.max(Math.abs(e),1))/10),4),r=e/Math.pow(2,10*t),n=Math.max(Math.pow(10,2-Math.floor(Math.log10(Math.max(Math.abs(r),1)))),1),i=Math.round(r*n)/n,o=[" bytes","kb","mb","gb","tb"][t];return`${i}${o}`}async function ld(e,t,r,n,i){if(!await Kh(e))return;let o=await wt(e,r),s=null;if(!!await In(e,o,t)){if(typeof n=="string")s=n;else{let a=await B.commands.executeCommand("git-base.api.getRemoteSources",{providerLabel:c=>`Clone a repository from ${c.name} in a Container Volume`,urlLabel:"Clone git repository from URL",branch:!0});if(a){s=(typeof a=="string"?a:a.url).trim(),s.split("/").length===2&&s.indexOf(":")===-1&&(s=`https://github.com/${s}`);let c=_o(s);if(await c_(o.cliHost,c.repositoryUrl,o.output)===!1){B.commands.executeCommand(Kn),await B.window.showInformationMessage(`Cannot access the repository '${c.repositoryUrl}'.`,{modal:!0});return}typeof a!="string"&&a.branch&&(s=`${s}/tree/${a.branch}`)}}s&&await X5(e,o,s,i)}}async function X5(e,t,r,n){if(n||(n=await L0e(t)),n){let i=oA(r);n!==Hn&&(i=await M0e(r)),i&&await jm(e,r,n,i,t)}}async function R0e(e,t,r,n,i){if(!await Kh(e))return;let o=await wt(e,r),s=/^(?:(?:https:\/\/)?github.com\/)?([^/]+)\/([^/]+?)(?:\/(?:pull\/([0-9]+)))?(?:\/|$)/i;if(!await In(e,o,t))return;let a={placeHolder:"e.g. https://github.com/microsoft/vscode/pull/123",prompt:"Enter a GitHub pull request url",validateInput:u=>s.test(u)?void 0:"Invalid pull request url"},c;if(n?c=n:c=await B.window.showInputBox(a),!c)return;let l=_o(c);if(l.repository==="unknown"||!l.pullRequestId){await B.window.showInformationMessage(`Invalid pull request URL '${c}'.`,{modal:!0});return}await X5(e,o,c,i)}async function Z5(e,t,r,n,i,o){let s=await wt(e,o);!await In(e,s,i)||(t||(t=await N0e(s)),t&&(r&&n?await $0e(t,r,n,s):await q0e(t,s)))}async function O0e(e,t,r,n){let i=await wt(e,n);!await In(e,i,await r)||t&&t.volumeName&&await Z5(e,t.volumeName,void 0,void 0,r,n)}var Q0=class{get detail(){return""}},e8=class extends Q0{get label(){return"$(plus) Create a new volume..."}get description(){return""}get volumeName(){return""}get detail(){return"Use this volume to store several cloned repositories."}get alwaysShow(){return!0}},t8=class extends Q0{constructor(t){super();this.volume=t}get label(){return`$(folder) ${this.volume.Name}`}get description(){return`created at ${new Date(this.volume.CreatedAt).toDateString()}`}get volumeName(){return this.volume.Name}},r8=class extends Q0{constructor(t){super();this.volume=t}get label(){return`$(folder) ${this.volume.Name}`}get description(){return`created at ${new Date(this.volume.CreatedAt).toDateString()}`}get volumeName(){return this.volume.Name}};async function N0e(e){let t=await Co(e),n=(await vp(e,t)).map(a=>new r8(a)),i="Select the volume to inspect with Visual Studio Code",o=B.window.createQuickPick();o.items=n,o.placeholder=i,o.show();let s=await new Promise(a=>{o.onDidAccept(()=>a(o.activeItems[0])),o.onDidHide(()=>a(void 0))});return o.hide(),s?s.volume.Name:null}async function L0e(e){let t=await Co(e,["vsch.local.repository.unique=false"]),n=(await vp(e,t)).map(u=>new t8(u)),i=new e8,o=[i,...n],s="Select the volume for the cloned repository",a=B.window.createQuickPick();a.items=o,a.placeholder=s,a.ignoreFocusOut=!0,a.show();let c=await new Promise(u=>{a.onDidAccept(()=>u(a.activeItems[0])),a.onDidHide(()=>u(void 0))});if(a.hide(),!c)return null;let l=null;return c===i?l=await F0e(e):l=c.volumeName,l}async function F0e(e){let t="",r="vsc-remote-containers",n=await Co(e);n.find(s=>s===r)||(t=r);let i={prompt:"Enter the volume name.",value:t,ignoreFocusOut:!0,validateInput:s=>/^[a-zA-Z0-9][a-zA-Z0-9_.-]+$/i.test(s)?null:s.length<2?"Volume names should be at least two characters and the first character must be alphanumeric.":"Only [a-zA-Z0-9_.-] are allowed and the first character must be alphanumeric."},o=await B.window.showInputBox(i);return o?n.find(s=>s===o)?(await B.window.showErrorMessage("Volume already exists",{modal:!0}),null):o:null}async function M0e(e){let t={prompt:"Enter the target folder name.",value:oA(e),ignoreFocusOut:!0},r=await B.window.showInputBox(t);return r||null}function oA(e){return hi(e).repositoryName}async function j0e(){return(await B.authentication.getSession("github",["repo"],{createIfNone:!0})).accessToken}async function jm(e,t,r,n,i,o=!1){let s=ca(i.env),a=qu(t),c;try{c=await a.parseUrl(void 0)}catch(u){if(u instanceof yy){B.window.showErrorMessage(u.description);return}let f=await j0e();try{c=await a.parseUrl(f)}catch{B.window.showErrorMessage(`Cannot access '${t}'.`,{modal:!0});return}}let l=B.Uri.parse(Mc(t,r,n,!1,s,c));r===Hn&&(r="a unique volume"),await X0({uri:l,type:"folder",label:`${n} in ${r} [Dev Container]`}),await $k(e,o?l.authority:!1),await Wh(e,o==="rebuildNoCache"?l.authority:!1),await B.commands.executeCommand("vscode.openFolder",l)}async function q0e(e,t){let r=ca(t.env),n=B.Uri.parse(Mc(void 0,e,void 0,!0,r,void 0));await X0({uri:n,type:"folder",label:`Volume ${e} [Dev Container]`}),await B.commands.executeCommand("vscode.openFolder",n)}async function $0e(e,t,r,n){let i=ca(n.env),o=B.Uri.parse(Mc(t,e,r,!0,i,void 0));await X0({uri:o,type:"folder",label:`${r} in ${e} [Inspect Dev Container]`}),await B.commands.executeCommand("vscode.openFolder",o)}async function X0(e){return B.commands.executeCommand("_workbench.addToRecentlyOpened",e)}async function z0(e,t,r,n){if(!await Ia(r))return;let i,o=e.cliHost;if(o.type==="wsl"){let l=await o.toCommonURI(o.cwd);l&&l.scheme==="file"&&(i=l.fsPath)}let s=FU(t.Name,ca(e.env),i),a=await o5(r.globalStoragePath,t),c=r.extensionMode===B.ExtensionMode.Development;if(a&&a.workspaceFolder&&!n){let l=B.Uri.parse(`vscode-remote://${s}${a.workspaceFolder}`),u={};c?u.forceReuseWindow=!0:u.forceNewWindow=!0,await B.commands.executeCommand("vscode.openFolder",l,u)}else{let l={remoteAuthority:s};c&&!n&&(l.reuseWindow=!0),await B.commands.executeCommand("vscode.newWindow",l)}}async function U0e(e,t,r){let n=(async()=>{if(!await t)throw new Error("cancel");let i=await ss(e),o=await oa(e,i),s=[];if(o.forEach(a=>{a.State.Status==="running"&&s.push({label:a.Name,description:`${a.Config.Image} ${a.Id}`,containerInfo:a})}),s.length===0)throw B.window.showErrorMessage("There are no running containers to attach to.",{modal:!0}),new Error("cancel");return s})();try{let i={placeHolder:"Select the container to attach VS Code"},o=await B.window.showQuickPick(n,i);if(!o&&r()){if(!await t)throw new Error("cancel");o=await B.window.showQuickPick(n,i)}return o?o.containerInfo:void 0}catch(i){if(i&&i.message==="cancel")return;throw i}}async function B0e(e,t,r){if(!r.workspaceFolder)return qm("Workspace folder not specified in devcontainer.json.",t.cliHost,r.configFilePath),!1;if(!Er.posix.isAbsolute(r.workspaceFolder))return qm("Workspace folder in devcontainer.json must be an absolute path.",t.cliHost,r.configFilePath),!1;let n=await Sr(t.cliHost,r,t.cliHost.env,t.cliHost.cwd),i=await bp(t,e,n),o=await aq(t,i,r.service);return!(o&&await mn(t,o)&&!await H0e(t.cliHost,n))}async function H0e(e,t){let r=[];for(let n=0;n<t.length;n++)await e.isFile(t[n])||r.push(t[n]);return r.length>0?(B.window.showErrorMessage(`The following referenced docker compose files do not exist: ${r.join(", ")}`,{modal:!0}),!1):!0}async function qm(e,t,r){if(await B.window.showErrorMessage(e,{modal:!0},"Open devcontainer.json")){let i=We(r,t.platform),o=await t.toCommonURI(i);o&&B.window.showTextDocument(B.Uri.parse(o.toString()))}}async function sA(e,t,r,n,i){await r.createConfiguration()&&await n8(e,t,n,i)}async function n8(e,t,r,n){if([void 0,"wsl","ssh-remote"].indexOf(B.env.remoteName)===-1)return;let i=B.workspace.workspaceFile,o=B.workspace.workspaceFolders,s=i||o&&o.length&&o[0].uri||void 0;if(s&&s.scheme!=="vscode-vfs"){let a=We(s,t.platform),c=at(t.path,a),l=await OS(t,c,No());l&&await W0e(e,l,c,t,r,n)}}var Z0="showReopenInContainerNotification",i8="showReopenInContainerNotificationReset";function V0e(e){return e.globalState.update(i8,Date.now())}async function W0e(e,t,r,n,i,o){let s=e.globalState.get(i8);if(aA(e.globalState.get(Z0),s)||aA(e.workspaceState.get(Z0),s))return;let a=mq(n,r,t.uri),c,l="";n.platform!=="linux"&&B.env.remoteName!=="wsl"&&!(n.platform==="win32"&&Ar(r.rootFolderPath));let u;a?r.isWorkspaceFile?u="Workspace contains a Dev Container configuration file.":u="Folder contains a Dev Container configuration file.":u="There is a [Dev Container configuration](command:remote-containers.openDevContainerFile) available for this repository.";let f="Reopen in Container",d="Clone in Volume",p="Don't Show Again...",h=r.isWorkspaceFile?`${u} Reopen workspace to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).${l}`:`${u} Reopen folder to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).${l}`,m=c?[f,d,p]:[f,p];z0e(i,t.location);let g=await B.window.showInformationMessage(h,...m);if(G0e(i,g===f?"reopen":g===d?"openRepository":g===p?"dontShowAgain":"cancel",t.location),g===f){if(!await B.workspace.requestWorkspaceTrust({message:Gh}))return;let C=await wt(e,o);if(!await In(e,C,i))return;if(C.cliHost.type==="wsl"&&n.platform==="win32"){let{cwd:b}=await F_(r.workspaceOrFolderPath,eo(),o);r=at(C.cliHost.path,b)}try{await J0(e,r,C,i,!1,{forceReuseWindow:!0})}catch(b){await ua(b,"ui",i)}}else if(g===d){let y=await wt(e,o),C=await DL(y.cliHost,r,y.output),b="OK",_="Cancel";(!C||b===await B.window.showInformationMessage("Local changes not pushed to the Git remote will not be available in the Docker volume.",b,_))&&await B.window.withProgress({location:B.ProgressLocation.Notification,title:"Clone in Volume"},async(P,S)=>{P.report({message:"Follow the prompts at the top of the window."}),await B.commands.executeCommand(mC,c)})}else if(g===p){let y=r.isWorkspaceFile?"Any Workspace":"Any Folder",C=r.isWorkspaceFile?"Current Workspace":"Current Folder",b=r.isWorkspaceFile?"Don't show again for the current workspace or for any workspace?":"Don't show again for the current folder or for any folder?",_=await B.window.showInformationMessage(b,y,C);_===y?await e.globalState.update(Z0,Date.now()):_===C&&await e.workspaceState.update(Z0,Date.now())}}function z0e(e,t){e.sendTelemetryEvent("reopenNotificationOpen",{location:t})}function G0e(e,t,r){e.sendTelemetryEvent("reopenNotificationResult",{result:t,location:r})}function aA(e,t){return e===!1?e=1:e===void 0&&(e=-1),t===void 0&&(t=0),t<e}async function K0e(e,t){let r=[{label:"C++",detail:"https://github.com/Microsoft/vscode-remote-try-cpp"},{label:"Go",detail:"https://github.com/Microsoft/vscode-remote-try-go"},{label:"Java",detail:"https://github.com/Microsoft/vscode-remote-try-java"},{label:".NET Core",detail:"https://github.com/Microsoft/vscode-remote-try-dotnetcore"},{label:"Node",detail:"https://github.com/Microsoft/vscode-remote-try-node"},{label:"PHP",detail:"https://github.com/Microsoft/vscode-remote-try-php"},{label:"Python",detail:"https://github.com/Microsoft/vscode-remote-try-python"},{label:"Rust",detail:"https://github.com/Microsoft/vscode-remote-try-rust"}],n={placeHolder:"Select a sample repository to clone in a container volume"},i=await B.window.showQuickPick(r,n);if(!i)return;let o=await wt(e,t);i.detail&&await jm(e,i.detail,Hn,oA(i.detail),o)}async function Y0e(e){let t=await Promise.all((await o8(e)).map(async n=>{let i=await(0,nA.promisify)(Y0.stat)(n.path),o=n.time;return{label:n.prefix,description:`${ud(o.getFullYear())}-${ud(o.getMonth()+1)}-${ud(o.getDate())} ${ud(o.getHours())}:${ud(o.getMinutes())}:${ud(o.getSeconds())} - ${i.size} bytes`,path:n.path}}));t.length||t.push({label:"No log files found."});let r=await B.window.showQuickPick(t,{placeHolder:"Choose a log file"});r&&r.path&&await B.window.showTextDocument(B.Uri.file(r.path))}function ud(e,t=2){return e.toString().padStart(t,"0")}async function J0e(e,t,r){let n=(await o8(e)).find(i=>i.name.startsWith(t)&&i.path!==r);n?await B.window.showTextDocument(B.Uri.file(n.path)):await B.window.showInformationMessage("No previous log file found.",{modal:!0})}async function o8(e){let t=[],r=Er.basename(e.logPath),n=Er.dirname(Er.dirname(Er.dirname(e.logPath)));for(let i of(await cA(n)).sort().reverse()){let o=/(\d\d\d\d)(\d\d)(\d\d)T(\d\d)(\d\d)(\d\d)/.exec(i);if(o){let s=Er.join(n,i);for(let a of await cA(s)){let c=Er.join(s,a),l=Er.join(c,r);for(let u of(await cA(l)).sort()){let f=Er.join(l,u),d=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d)[:\-](\d\d)[:\-](\d\d)\.(\d\d\d)Z/.exec(u),p=d?new Date(`${d[1]}-${d[2]}-${d[3]}T${d[4]}:${d[5]}:${d[6]}.${d[7]}Z`):new Date(`${o[1]}-${o[2]}-${o[3]}T${o[4]}:${o[5]}:${o[6]}Z`);t.push({name:u,path:f,time:p,prefix:d?u.substr(0,d.index-1):u.substr(0,u.length-4)})}}}}return t.sort((i,o)=>i.time>o.time?-1:i.time<o.time?1:i.path.localeCompare(o.path)),t}async function cA(e){try{return await(0,nA.promisify)(Y0.readdir)(e)}catch{return[]}}0&&(module.exports={activate,attachToContainer,deactivate});
/*!
 * Microsoft Dynamic Proto Utility, 1.1.6
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
//# sourceMappingURL=extension.js.map
